var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=this.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(r){"use strict";r.__r=o,r[__METRO_GLOBAL_PREFIX__+"__d"]=function(r,i,n){if(null!=e[i])return;var o={dependencyMap:n,factory:r,hasError:!1,importedAll:t,importedDefault:t,isInitialized:!1,publicModule:{exports:{}}};e[i]=o},r.__c=n,r.__registerSegment=function(r,t,i){s[r]=t,i&&i.forEach(function(t){e[t]||v.has(t)||v.set(t,r)})};var e=n(),t={},i={}.hasOwnProperty;function n(){return e=Object.create(null)}function o(r){var t=r,i=e[t];return i&&i.isInitialized?i.publicModule.exports:d(t,i)}function l(r){var i=r;if(e[i]&&e[i].importedDefault!==t)return e[i].importedDefault;var n=o(i),l=n&&n.__esModule?n.default:n;return e[i].importedDefault=l}function u(r){var n=r;if(e[n]&&e[n].importedAll!==t)return e[n].importedAll;var l,u=o(n);if(u&&u.__esModule)l=u;else{if(l={},u)for(var a in u)i.call(u,a)&&(l[a]=u[a]);l.default=u}return e[n].importedAll=l}o.importDefault=l,o.importAll=u;var a=!1;function d(e,t){if(!a&&r.ErrorUtils){var i;a=!0;try{i=h(e,t)}catch(e){r.ErrorUtils.reportFatalError(e)}return a=!1,i}return h(e,t)}var f=16,c=65535;function p(r){return{segmentId:r>>>f,localId:r&c}}o.unpackModuleId=p,o.packModuleId=function(r){return(r.segmentId<<f)+r.localId};var s=[],v=new Map;function h(t,i){if(!i&&s.length>0){var n,a=null!==(n=v.get(t))&&void 0!==n?n:0,d=s[a];null!=d&&(d(t),i=e[t],v.delete(t))}var f=r.nativeRequire;if(!i&&f){var c=p(t),h=c.segmentId;f(c.localId,h),i=e[t]}if(!i)throw Error('Requiring unknown module "'+t+'".');if(i.hasError)throw _(t,i.error);i.isInitialized=!0;var m=i,g=m.factory,I=m.dependencyMap;try{var M=i.publicModule;return M.id=t,g(r,o,l,u,M,M.exports,I),i.factory=void 0,i.dependencyMap=void 0,M.exports}catch(r){throw i.hasError=!0,i.error=r,i.isInitialized=!1,i.publicModule.exports=void 0,r}}function _(r,e){return Error('Requiring module "'+r+'", which threw an exception: '+e)}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,r){e[n]=!0}),e}function r(n,r,u){if(n.formatValueCalls++,n.formatValueCalls>200)return"[TOO BIG formatValueCalls "+n.formatValueCalls+" exceeded limit of 200]";var f=t(n,r);if(f)return f;var c=Object.keys(r),s=e(c);if(d(r)&&(c.indexOf('message')>=0||c.indexOf('description')>=0))return o(r);if(0===c.length){if(v(r)){var g=r.name?': '+r.name:'';return n.stylize('[Function'+g+']','special')}if(p(r))return n.stylize(RegExp.prototype.toString.call(r),'regexp');if(y(r))return n.stylize(Date.prototype.toString.call(r),'date');if(d(r))return o(r)}var h,b,m='',j=!1,O=['{','}'];(h=r,Array.isArray(h)&&(j=!0,O=['[',']']),v(r))&&(m=' [Function'+(r.name?': '+r.name:'')+']');return p(r)&&(m=' '+RegExp.prototype.toString.call(r)),y(r)&&(m=' '+Date.prototype.toUTCString.call(r)),d(r)&&(m=' '+o(r)),0!==c.length||j&&0!=r.length?u<0?p(r)?n.stylize(RegExp.prototype.toString.call(r),'regexp'):n.stylize('[Object]','special'):(n.seen.push(r),b=j?i(n,r,u,s,c):c.map(function(e){return l(n,r,u,s,e,j)}),n.seen.pop(),a(b,m,O)):O[0]+m+O[1]}function t(n,e){if(s(e))return n.stylize('undefined','undefined');if('string'==typeof e){var r="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(r,'string')}return c(e)?n.stylize(''+e,'number'):u(e)?n.stylize(''+e,'boolean'):f(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,r,t,o){for(var i=[],a=0,u=e.length;a<u;++a)b(e,String(a))?i.push(l(n,e,r,t,String(a),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(n,e,r,t,o,!0))}),i}function l(n,e,t,o,i,l){var a,u,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=c.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):c.set&&(u=n.stylize('[Setter]','special')),b(o,i)||(a='['+i+']'),u||(n.seen.indexOf(c.value)<0?(u=f(t)?r(n,c.value,null):r(n,c.value,t-1)).indexOf('\n')>-1&&(u=l?u.split('\n').map(function(n){return'  '+n}).join('\n').substr(2):'\n'+u.split('\n').map(function(n){return'   '+n}).join('\n')):u=n.stylize('[Circular]','special')),s(a)){if(l&&i.match(/^\d+$/))return u;(a=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=n.stylize(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=n.stylize(a,'string'))}return a+': '+u}function a(n,e,r){return n.reduce(function(n,e){return 0,e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?r[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+r[1]:r[0]+e+' '+n.join(', ')+' '+r[1]}function u(n){return'boolean'==typeof n}function f(n){return null===n}function c(n){return'number'==typeof n}function s(n){return void 0===n}function p(n){return g(n)&&'[object RegExp]'===h(n)}function g(n){return'object'==typeof n&&null!==n}function y(n){return g(n)&&'[object Date]'===h(n)}function d(n){return g(n)&&('[object Error]'===h(n)||n instanceof Error)}function v(n){return'function'==typeof n}function h(n){return Object.prototype.toString.call(n)}function b(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,t){return r({seen:[],formatValueCalls:0,stylize:n},e,t.depth)}})(),r='(index)',t={trace:0,info:1,warn:2,error:3},o=[];o[t.trace]='debug',o[t.info]='log',o[t.warn]='warning',o[t.error]='error';var i=1;function l(r){return function(){var l;l=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');var a=arguments[0],u=r;'string'==typeof a&&'Warning: '===a.slice(0,9)&&u>=t.error&&(u=t.warn),n.__inspectorLog&&n.__inspectorLog(o[u],l,[].slice.call(arguments),i),s.length&&(l=p('',l)),n.nativeLoggingHook(l,u)}}function a(n,e){return Array.apply(null,Array(e)).map(function(){return n})}var u="\u2502",f="\u2510",c="\u2518",s=[];function p(n,e){return s.join('')+n+' '+(e||'')}if(n.nativeLoggingHook){n.console;n.console={error:l(t.error),info:l(t.info),log:l(t.info),warn:l(t.warn),trace:l(t.trace),debug:l(t.trace),table:function(e){if(!Array.isArray(e)){var o=e;for(var i in e=[],o)if(o.hasOwnProperty(i)){var l=o[i];l[r]=i,e.push(l)}}if(0!==e.length){var u=Object.keys(e[0]).sort(),f=[],c=[];u.forEach(function(n,r){c[r]=n.length;for(var t=0;t<e.length;t++){var o=(e[t][n]||'?').toString();f[t]=f[t]||[],f[t][r]=o,c[r]=Math.max(c[r],o.length)}});for(var s=y(c.map(function(n){return a('-',n).join('')}),'-'),p=[y(u),s],g=0;g<e.length;g++)p.push(y(f[g]));n.nativeLoggingHook('\n'+p.join('\n'),t.info)}else n.nativeLoggingHook('',t.info);function y(n,e){var r=n.map(function(n,e){return n+a(' ',c[e]-n.length).join('')});return e=e||' ',r.join(e+'|'+e)}},group:function(e){n.nativeLoggingHook(p(f,e),t.info),s.push(u)},groupEnd:function(){s.pop(),n.nativeLoggingHook(p(c),t.info)},groupCollapsed:function(e){n.nativeLoggingHook(p(c,e),t.info),s.push(u)},assert:function(e,r){e||n.nativeLoggingHook('Assertion failed: '+r,t.error)}},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}else if(!n.console){var g=function(){},y=n.print||g;n.console={debug:y,error:y,info:y,log:y,trace:y,warn:y,assert:function(n,e){n||y('Assertion failed: '+e)},clear:g,dir:g,dirxml:g,group:g,groupCollapsed:g,groupEnd:g,profile:g,profileEnd:g,table:g},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var r=0,t=function(n,r){throw n},l={setGlobalHandler:function(n){t=n},getGlobalHandler:function(){return t},reportError:function(n){t&&t(n,!1)},reportFatalError:function(n){t&&t(n,!0)},applyWithGuard:function(n,t,u,o,e){try{return r++,n.apply(t,u)}catch(n){l.reportError(n)}finally{r--}return null},applyWithGuardIfNeeded:function(n,r,t){return l.inGuard()?n.apply(r,t):(l.applyWithGuard(n,r,t),null)},inGuard:function(){return!!r},guard:function(n,r,t){var u;if('function'!=typeof n)return console.warn('A function must be passed to ErrorUtils.guard, got ',n),null;var o=null!=(u=null!=r?r:n.name)?u:'<generated guard>';return function(){for(var r=arguments.length,u=new Array(r),e=0;e<r;e++)u[e]=arguments[e];return l.applyWithGuard(n,null!=t?t:this,u,null,o)}}};n.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window,(function(){'use strict';var e=Object.prototype.hasOwnProperty;'function'!=typeof Object.entries&&(Object.entries=function(n){if(null==n)throw new TypeError('Object.entries called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push([t,n[t]]);return o}),'function'!=typeof Object.values&&(Object.values=function(n){if(null==n)throw new TypeError('Object.values called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push(n[t]);return o})})();
__d(function(g,r,i,a,m,e,d){r(d[0])},0,[1]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);r(d[1]),r(d[2]);r(d[3]),n(r(d[4])),r(d[5]),r(d[6]),n(r(d[7]))},1,[2,3,4,7,55,515,546,798]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){return t&&t.__esModule?t:{default:t}},m.exports.__esModule=!0,m.exports.default=m.exports},2,[]);
__d(function(g,r,i,a,m,e,d){Promise.allSettled=Promise.allSettled||function(t){return Promise.all(t.map(function(t){return t.then(function(t){return{status:'fulfilled',value:t}}).catch(function(t){return{status:'rejected',reason:t}})}))}},3,[]);
__d(function(g,r,i,a,m,e,d){r(d[0]),r(d[1]),r(d[2]),r(d[3])},4,[5,6,469,514]);
__d(function(g,r,i,a,m,e,d){var _;void 0===(_=g||window||this).__filename&&(_.__filename='__filename')},5,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=t(r(d[2]));r(d[3]);var s=t(r(d[4]));function c(t,n){return t===n?t:(o=Object.getPrototypeOf(t))&&(o=c(n,o))||(o=Object.getPrototypeOf(n))&&(o=c(t,o))?o:void 0;var o}function l(t,n){var o=null;return t&&u(t,function(t){return 1===t.nodeType&&t.nodeName===n&&(o=t,!0)}),o}function u(t,n){if(n(t))return!0;if(t=t.firstChild)do{if(u(t,n))return!0}while(t=t.nextSibling);return!1}!(function(t){var u=r(d[5]).DOMParser;if(t.DOMParser=u,void 0===t.addEventListener&&(t.addEventListener=function(){}),void 0===t.removeEventListener&&(t.removeEventListener=function(){}),void 0===t.document){var f=(new u).parseFromString('<html><head></head><body></body></html>','text/xml');void 0===f.addEventListener&&(f.addEventListener=function(){}),void 0===f.cookie&&(f.cookie=''),void 0===f.implementation.createHTMLDocument&&(f.implementation.createHTMLDocument=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'',n=(new u).parseFromString("<html>\n                            <head><title>"+t+"</title></head>\n                            <body></body>\n                        </html>",'text/xml');return Object.defineProperty(n,'body',{get:function(){return n.getElementsByTagName('body')[0]}}),n});var v=Object.getPrototypeOf(f.documentElement);v&&(void 0===v.querySelector&&(v.querySelector=function(t){return l(this,t)}),void 0===v.remove&&(v.remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)}),void 0===v.compareDocumentPosition&&(v.compareDocumentPosition=function(t){return this.contains?(this!=t&&this.contains(t)&&16)+(this!=t&&t.contains(this)&&8)+(this.sourceIndex>=0&&t.sourceIndex>=0?(this.sourceIndex<t.sourceIndex&&4)+(this.sourceIndex>t.sourceIndex&&2):1)+0:0}),v.hasOwnProperty('innerHTML')||Object.defineProperty(v,'innerHTML',{get:function(){return this.childNodes.toString()},set:function(t){this.textContent='';for(var n,o=(new u).parseFromString("<div>"+t+"</div>",'text/xml').documentElement;n=o.firstChild;)this.appendChild(n)}}),v.hasOwnProperty('children')||Object.defineProperty(v,'children',{get:function(){for(var t=this.childNodes,n=[],o=0,s=t[o];s;)1===s.nodeType&&n.push(s),s=t[o+=1];return n}}));var h=c(Object.getPrototypeOf(f),v);if(h&&h!==Object.getPrototypeOf({})){var p=t.console;if(p){var y=r(d[6]).levels;Object.keys(y).forEach(function(t){var n=y[t],o=p[n];'function'==typeof o&&(p[n]=function(){for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];if(p.disableYellowBox&&'error'===n)p.warn.apply(p,s);else{for(var l=s.length,u=0;u<l;++u){var f=s[u];if(f&&'string'!=typeof f&&h.isPrototypeOf(f)){var v=f.toString;v&&(f=v.call(f))}s[u]=f}o.apply(this,s)}})})}}t.document=f}void 0===t.location&&(t.location={href:'',search:''});var O=t.navigator;if(O){var b=O.userAgent||'',x=r(d[7]),P=x.name,w=x.version,S=P||'react-native';w&&(S+="/"+w),-1===b.indexOf(S)&&(b=b?S+" "+b:S);var L="("+n.Platform.OS+" "+n.Platform.Version+")";-1===b.indexOf(L)&&(b=b?b+" "+L:L),O.userAgent=b}if(r(d[8]),r(d[9]),t.callstats=r(d[10]),t.XMLHttpRequest){var T=t.XMLHttpRequest.prototype;T&&!T.hasOwnProperty('responseXML')&&Object.defineProperty(T,'responseXML',{get:function(){var t=this.responseText;return t&&(new u).parseFromString(t,'text/xml')}})}'android'===n.Platform.OS&&(t.clearTimeout=o.default.clearTimeout.bind(o.default),t.clearInterval=o.default.clearInterval.bind(o.default),t.setInterval=o.default.setInterval.bind(o.default),t.setTimeout=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.default.setTimeout(t,n)}),void 0===t.localStorage&&(t.localStorage=new s.default('@jitsi-meet/')),void 0===t.sessionStorage&&(t.sessionStorage=new s.default)})(g||window||this)},6,[2,7,404,405,425,431,435,438,439,465,468]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var t=r(d[1]);m.exports={get AccessibilityInfo(){return r(d[2])},get ActivityIndicator(){return r(d[3])},get Button(){return r(d[4])},get DatePickerIOS(){return t('DatePickerIOS-merged',"DatePickerIOS has been merged with DatePickerAndroid and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-datetimepicker/datetimepicker"),r(d[5])},get DrawerLayoutAndroid(){return r(d[6])},get FlatList(){return r(d[7])},get Image(){return r(d[8])},get ImageBackground(){return r(d[9])},get InputAccessoryView(){return r(d[10])},get KeyboardAvoidingView(){return r(d[11])},get MaskedViewIOS(){return t('maskedviewios-moved',"MaskedViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-masked-view/masked-view' instead of 'react-native'. See https://github.com/react-native-masked-view/react-native-masked-view"),r(d[12])},get Modal(){return r(d[13])},get Picker(){return t('picker-moved',"Picker has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-picker/picker' instead of 'react-native'. See https://github.com/react-native-picker/react-native-picker"),r(d[14])},get PickerIOS(){return t('pickerios-moved',"PickerIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-picker/picker' instead of 'react-native'. See https://github.com/react-native-picker/react-native-picker"),r(d[15])},get Pressable(){return r(d[16]).default},get ProgressBarAndroid(){return t('progress-bar-android-moved',"ProgressBarAndroid has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-bar-android' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-bar-android"),r(d[17])},get ProgressViewIOS(){return t('progress-view-ios-moved',"ProgressViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-view' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-view"),r(d[18])},get RefreshControl(){return r(d[19])},get SafeAreaView(){return r(d[20])},get ScrollView(){return r(d[21])},get SectionList(){return r(d[22])},get SegmentedControlIOS(){return t('segmented-control-ios-moved',"SegmentedControlIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/segmented-control' instead of 'react-native'. See https://github.com/react-native-segmented-control/segmented-control"),r(d[23])},get Slider(){return t('slider-moved',"Slider has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/slider' instead of 'react-native'. See https://github.com/callstack/react-native-slider"),r(d[24])},get StatusBar(){return r(d[25])},get Switch(){return r(d[26])},get Text(){return r(d[27])},get TextInput(){return r(d[28])},get Touchable(){return r(d[29])},get TouchableHighlight(){return r(d[30])},get TouchableNativeFeedback(){return r(d[31])},get TouchableOpacity(){return r(d[32])},get TouchableWithoutFeedback(){return r(d[33])},get View(){return r(d[34])},get VirtualizedList(){return r(d[35])},get VirtualizedSectionList(){return r(d[36])},get ActionSheetIOS(){return r(d[37])},get Alert(){return r(d[38])},get Animated(){return r(d[39])},get Appearance(){return r(d[40])},get AppRegistry(){return r(d[41])},get AppState(){return r(d[42])},get AsyncStorage(){return t('async-storage-moved',"AsyncStorage has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-async-storage/async-storage' instead of 'react-native'. See https://github.com/react-native-async-storage/async-storage"),r(d[43])},get BackHandler(){return r(d[44])},get Clipboard(){return t('clipboard-moved',"Clipboard has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/clipboard' instead of 'react-native'. See https://github.com/react-native-clipboard/clipboard"),r(d[45])},get DatePickerAndroid(){return t('DatePickerAndroid-merged',"DatePickerAndroid has been merged with DatePickerIOS and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-datetimepicker/datetimepicker"),r(d[46])},get DeviceInfo(){return r(d[47])},get DevSettings(){return r(d[48])},get Dimensions(){return r(d[49])},get Easing(){return r(d[50])},get findNodeHandle(){return r(d[51]).findNodeHandle},get I18nManager(){return r(d[52])},get ImagePickerIOS(){return t('imagePickerIOS-moved',"ImagePickerIOS has been extracted from react-native core and will be removed in a future release. Please upgrade to use either '@react-native-community/react-native-image-picker' or 'expo-image-picker'. If you cannot upgrade to a different library, please install the deprecated '@react-native-community/image-picker-ios' package. See https://github.com/rnc-archive/react-native-image-picker-ios"),r(d[53])},get InteractionManager(){return r(d[54])},get Keyboard(){return r(d[55])},get LayoutAnimation(){return r(d[56])},get Linking(){return r(d[57])},get LogBox(){return r(d[58])},get NativeDialogManagerAndroid(){return r(d[59]).default},get NativeEventEmitter(){return r(d[60]).default},get Networking(){return r(d[61])},get PanResponder(){return r(d[62])},get PermissionsAndroid(){return r(d[63])},get PixelRatio(){return r(d[64])},get PushNotificationIOS(){return t('pushNotificationIOS-moved',"PushNotificationIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/push-notification-ios' instead of 'react-native'. See https://github.com/react-native-push-notification-ios/push-notification-ios"),r(d[65])},get Settings(){return r(d[66])},get Share(){return r(d[67])},get StatusBarIOS(){return t('StatusBarIOS-merged','StatusBarIOS has been merged with StatusBar and will be removed in a future release. Use StatusBar for mutating the status bar'),r(d[68])},get StyleSheet(){return r(d[69])},get Systrace(){return r(d[70])},get ToastAndroid(){return r(d[71])},get TurboModuleRegistry(){return r(d[72])},get UIManager(){return r(d[73])},get unstable_batchedUpdates(){return r(d[51]).unstable_batchedUpdates},get useColorScheme(){return r(d[74]).default},get useWindowDimensions(){return r(d[75]).default},get UTFSequence(){return r(d[76])},get Vibration(){return r(d[77])},get YellowBox(){return r(d[78])},get DeviceEventEmitter(){return r(d[79]).default},get DynamicColorIOS(){return r(d[80]).DynamicColorIOS},get NativeAppEventEmitter(){return r(d[81])},get NativeModules(){return r(d[82])},get Platform(){return r(d[83])},get PlatformColor(){return r(d[84]).PlatformColor},get processColor(){return r(d[85])},get requireNativeComponent(){return r(d[86])},get unstable_RootTagContext(){return r(d[87]).RootTagContext},get unstable_enableLogBox(){return function(){return console.warn('LogBox is enabled by default so there is no need to call unstable_enableLogBox() anymore. This is a no op and will be removed in the next version.')}},get ColorPropType(){return r(d[88])},get EdgeInsetsPropType(){return r(d[89])},get PointPropType(){return r(d[90])},get ViewPropTypes(){return r(d[91])}}},7,[8,9,10,50,196,297,299,252,282,301,302,304,305,307,314,316,319,322,323,258,325,261,293,327,329,331,334,197,337,205,343,212,217,341,88,254,294,344,148,218,346,349,362,365,359,368,370,371,372,60,247,91,312,374,228,266,267,376,379,149,131,130,380,382,59,384,386,388,390,58,46,391,30,76,392,397,398,399,401,11,402,159,31,53,67,68,170,311,64,202,403,339]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,o,t,f,s,u,c,l){if(!n){var v;if(void 0===o)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[t,f,s,u,c,l],h=0;(v=new Error(o.replace(/%s/g,function(){return p[h++]}))).name='Invariant Violation'}throw v.framesToPop=1,v}}},8,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={};m.exports=function(o,t){n[o]||(console.warn(t),n[o]=!0)}},9,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),c=n(r(d[2])),u={announcementFinished:'announcementFinished',boldTextChanged:'boldTextChanged',grayscaleChanged:'grayscaleChanged',invertColorsChanged:'invertColorsChanged',reduceMotionChanged:'reduceMotionChanged',reduceTransparencyChanged:'reduceTransparencyChanged',screenReaderChanged:'screenReaderChanged'},o=new Map,s={isBoldTextEnabled:function(){return new Promise(function(n,t){c.default?c.default.getCurrentBoldTextState(n,t):t(t)})},isGrayscaleEnabled:function(){return new Promise(function(n,t){c.default?c.default.getCurrentGrayscaleState(n,t):t(t)})},isInvertColorsEnabled:function(){return new Promise(function(n,t){c.default?c.default.getCurrentInvertColorsState(n,t):t(t)})},isReduceMotionEnabled:function(){return new Promise(function(n,t){c.default?c.default.getCurrentReduceMotionState(n,t):t(t)})},isReduceTransparencyEnabled:function(){return new Promise(function(n,t){c.default?c.default.getCurrentReduceTransparencyState(n,t):t(t)})},isScreenReaderEnabled:function(){return new Promise(function(n,t){c.default?c.default.getCurrentVoiceOverState(n,t):t(t)})},get fetch(){return console.warn('AccessibilityInfo.fetch is deprecated, call AccessibilityInfo.isScreenReaderEnabled instead'),this.isScreenReaderEnabled},addEventListener:function(n,c){var l;return'change'===n?l=t.default.addListener(u.screenReaderChanged,c):u[n]&&(l=t.default.addListener(n,c)),o.set(c,l),{remove:s.removeEventListener.bind(null,n,c)}},setAccessibilityFocus:function(n){c.default&&c.default.setAccessibilityFocus(n)},announceForAccessibility:function(n){c.default&&c.default.announceForAccessibility(n)},removeEventListener:function(n,t){var c=o.get(t);c&&(c.remove(),o.delete(t))}};m.exports=s},10,[2,11,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),v=t(r(d[8]));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=new((function(t){(0,o.default)(b,t);var s,h,y=(s=b,h=p(),function(){var t,u=(0,c.default)(s);if(h){var n=(0,c.default)(this).constructor;t=Reflect.construct(u,arguments,n)}else t=u.apply(this,arguments);return(0,f.default)(this,t)});function b(){var t;(0,u.default)(this,b);var n=new v.default;return(t=y.call(this,n)).sharedSubscriber=n,t}return(0,n.default)(b,[{key:"addListener",value:function(t,u,n){return(0,l.default)((0,c.default)(b.prototype),"addListener",this).call(this,t,u,n)}},{key:"removeAllListeners",value:function(t){(0,l.default)((0,c.default)(b.prototype),"removeAllListeners",this).call(this,t)}},{key:"removeSubscription",value:function(t){t.emitter!==this?t.emitter.removeSubscription(t):(0,l.default)((0,c.default)(b.prototype),"removeSubscription",this).call(this,t)}}]),b})(s.default));e.default=h},11,[2,12,13,17,20,22,19,24,28]);
__d(function(g,r,i,a,m,e,d){m.exports=function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")},m.exports.__esModule=!0,m.exports.default=m.exports},12,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function o(o,n){for(var p=0;p<n.length;p++){var u=n[p];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,t(u.key),u)}}m.exports=function(t,n,p){return n&&o(t.prototype,n),p&&o(t,p),Object.defineProperty(t,"prototype",{writable:!1}),t},m.exports.__esModule=!0,m.exports.default=m.exports},13,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]).default,o=r(d[1]);m.exports=function(n){var s=o(n,"string");return"symbol"===t(s)?s:String(s)},m.exports.__esModule=!0,m.exports.default=m.exports},14,[15,16]);
__d(function(g,r,i,a,m,e,d){function o(t){"@babel/helpers - typeof";return m.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},m.exports.__esModule=!0,m.exports.default=m.exports,o(t)}m.exports=o,m.exports.__esModule=!0,m.exports.default=m.exports},15,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]).default;m.exports=function(o,u){if("object"!==t(o)||null===o)return o;var n=o[Symbol.toPrimitive];if(void 0!==n){var l=n.call(o,u||"default");if("object"!==t(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)},m.exports.__esModule=!0,m.exports.default=m.exports},16,[15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(m.exports=o=Reflect.get.bind(),m.exports.__esModule=!0,m.exports.default=m.exports):(m.exports=o=function(o,p,s){var l=t(o,p);if(l){var n=Object.getOwnPropertyDescriptor(l,p);return n.get?n.get.call(arguments.length<3?o:s):n.value}},m.exports.__esModule=!0,m.exports.default=m.exports),o.apply(this,arguments)}m.exports=o,m.exports.__esModule=!0,m.exports.default=m.exports},17,[18]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o,n){for(;!Object.prototype.hasOwnProperty.call(o,n)&&null!==(o=t(o)););return o},m.exports.__esModule=!0,m.exports.default=m.exports},18,[19]);
__d(function(g,r,i,a,m,e,d){function t(o){return m.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m.exports.__esModule=!0,m.exports.default=m.exports,t(o)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},19,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),n&&t(o,n)},m.exports.__esModule=!0,m.exports.default=m.exports},20,[21]);
__d(function(g,r,i,a,m,e,d){function t(o,s){return m.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},m.exports.__esModule=!0,m.exports.default=m.exports,t(o,s)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},21,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]).default,t=r(d[1]);m.exports=function(n,u){if(u&&("object"===o(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return t(n)},m.exports.__esModule=!0,m.exports.default=m.exports},22,[15,23]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},m.exports.__esModule=!0,m.exports.default=m.exports},23,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);e.default=t},24,[25]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),c=r(d[5]),l=function(){return!0},b=(function(){function t(n){(0,s.default)(this,t),this._subscriber=n||new o.default}return(0,n.default)(t,[{key:"addListener",value:function(t,s,n){return this._subscriber.addSubscription(t,new u.default(this,this._subscriber,s,n))}},{key:"removeAllListeners",value:function(t){this._subscriber.removeAllSubscriptions(t)}},{key:"removeSubscription",value:function(t){c(t.emitter===this,'Subscription does not belong to this emitter.'),this._subscriber.removeSubscription(t)}},{key:"listenerCount",value:function(t){var s=this._subscriber.getSubscriptionsForType(t);return s?s.filter(l).length:0}},{key:"emit",value:function(t){var s=this._subscriber.getSubscriptionsForType(t);if(s)for(var n=0,u=s.length;n<u;n++){var o=s[n];o&&o.listener&&o.listener.apply(o.context,Array.prototype.slice.call(arguments,1))}}},{key:"removeListener",value:function(t,s){var n=this._subscriber.getSubscriptionsForType(t);if(n)for(var u=0,o=n.length;u<o;u++){var c=n[u];c&&c.listener===s&&c.remove()}}}]),t})();m.exports=b},25,[2,12,13,26,28,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),c=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5]));function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var s=(function(t){(0,c.default)(p,t);var s,v,h=(s=p,v=l(),function(){var t,n=(0,o.default)(s);if(v){var u=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function p(t,u,c,f){var o;return(0,n.default)(this,p),(o=h.call(this,u)).emitter=t,o.listener=c,o.context=f,o}return(0,u.default)(p,[{key:"remove",value:function(){this.emitter.removeSubscription(this)}}]),p})(t(r(d[6])).default);m.exports=s},26,[2,12,13,20,22,19,27]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=(function(){function n(s){t(this,n),this.subscriber=s}return s(n,[{key:"remove",value:function(){this.subscriber.removeSubscription(this)}}]),n})();m.exports=n},27,[12,13]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]),n=r(d[2]),o=(function(){function o(){s(this,o),this._subscriptionsForType={},this._currentSubscription=null}return t(o,[{key:"addSubscription",value:function(s,t){n(t.subscriber===this,'The subscriber of the subscription is incorrectly set.'),this._subscriptionsForType[s]||(this._subscriptionsForType[s]=[]);var o=this._subscriptionsForType[s].length;return this._subscriptionsForType[s].push(t),t.eventType=s,t.key=o,t}},{key:"removeAllSubscriptions",value:function(s){void 0===s?this._subscriptionsForType={}:delete this._subscriptionsForType[s]}},{key:"removeSubscription",value:function(s){var t=s.eventType,n=s.key,o=this._subscriptionsForType[t];o&&delete o[n]}},{key:"getSubscriptionsForType",value:function(s){return this._subscriptionsForType[s]}}]),o})();m.exports=o},28,[12,13,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('AccessibilityManager');e.default=n},29,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(n){var t=2===arguments.length?arguments[1]:void 0;return o(n,t)},e.getEnforcing=function(n){var u=2===arguments.length?arguments[1]:void 0,l=o(n,u);return(0,t.default)(null!=l,"TurboModuleRegistry.getEnforcing(...): '"+n+"' could not be found. Verify that a module by this name is registered in the native binary."),l};var t=n(r(d[1])),u=r(d[2]),l=g.__turboModuleProxy;function o(n,t){if(!g.RN$Bridgeless){var o=u[n];if(null!=o)return o}return null!=l?null!=t?l(n,t):l(n):null}},30,[2,8,31]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);function l(o,l){if(!o)return null;var f=t(o,5),v=f[0],h=f[1],y=f[2],C=f[3],M=f[4];if(u(!v.startsWith('RCT')&&!v.startsWith('RK'),"Module name prefixes should've been stripped by the native side but wasn't for "+v),!h&&!y)return{name:v};var b={};return y&&y.forEach(function(n,t){var o=C&&c(C,t)||!1,f=M&&c(M,t)||!1;u(!o||!f,'Cannot have a method that is both async and a sync hook');var v=o?'promise':f?'sync':'async';b[n]=s(l,t,v)}),n(b,h),null==b.getConstants?b.getConstants=function(){return h||Object.freeze({})}:console.warn("Unable to define method 'getConstants()' on NativeModule '"+v+"'. NativeModule '"+v+"' already has a constant or method called 'getConstants'. Please remove it."),{name:v,module:b}}function f(n,t){u(g.nativeRequireModuleConfig,"Can't lazily create module without nativeRequireModuleConfig");var o=l(g.nativeRequireModuleConfig(n),t);return o&&o.module}function s(n,t,l){var f=null;return(f='promise'===l?function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var s=new Error;return new Promise(function(u,f){o.enqueueNativeCall(n,t,l,function(n){return u(n)},function(n){return f(v(n,s))})})}:function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];var v=s.length>0?s[s.length-1]:null,h=s.length>1?s[s.length-2]:null,y='function'==typeof v,C='function'==typeof h;C&&u(y,'Cannot have a non-function arg after a function arg.');var M=y?v:null,b=C?h:null,p=y+C,_=s.slice(0,s.length-p);if('sync'===l)return o.callNativeSyncHook(n,t,_,b,M);o.enqueueNativeCall(n,t,_,b,M)}).type=l,f}function c(n,t){return-1!==n.indexOf(t)}function v(t,o){return n(o,t||{})}g.__fbGenNativeModule=l;var h={};if(g.nativeModuleProxy)h=g.nativeModuleProxy;else if(!g.nativeExtensions){var y=g.__fbBatchedBridgeConfig;u(y,'__fbBatchedBridgeConfig is not set, cannot invoke native modules');var C=r(d[4]);(y.remoteModuleConfig||[]).forEach(function(n,t){var o=l(n,t);o&&(o.module?h[o.name]=o.module:C(h,o.name,{get:function(){return f(o.name,t)}}))})}m.exports=h},31,[32,33,39,8,49]);
__d(function(g,r,i,a,m,e,d){function t(){return m.exports=t=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},m.exports.__esModule=!0,m.exports.default=m.exports,t.apply(this,arguments)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},32,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]);m.exports=function(u,p){return t(u)||o(u,p)||n(u,p)||s()},m.exports.__esModule=!0,m.exports.default=m.exports},33,[34,35,36,38]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){if(Array.isArray(t))return t},m.exports.__esModule=!0,m.exports.default=m.exports},34,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,l){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var u,o,f,c,s=[],y=!0,p=!1;try{if(f=(n=n.call(t)).next,0===l){if(Object(n)!==n)return;y=!1}else for(;!(y=(u=f.call(n)).done)&&(s.push(u.value),s.length!==l);y=!0);}catch(t){p=!0,o=t}finally{try{if(!y&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(p)throw o}}return s}},m.exports.__esModule=!0,m.exports.default=m.exports},35,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o,n){if(o){if("string"==typeof o)return t(o,n);var s=Object.prototype.toString.call(o).slice(8,-1);return"Object"===s&&o.constructor&&(s=o.constructor.name),"Map"===s||"Set"===s?Array.from(o):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?t(o,n):void 0}},m.exports.__esModule=!0,m.exports.default=m.exports},36,[37]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=t[o];return l},m.exports.__esModule=!0,m.exports.default=m.exports},37,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},38,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=new(r(d[0]));Object.defineProperty(g,'__fbBatchedBridge',{configurable:!0,value:t}),m.exports=t},39,[40]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=r(d[1]),u=r(d[2]),s=r(d[3]),n=r(d[4]),h=(r(d[5]),r(d[6])),o=r(d[7]).default,c=(r(d[8]),(function(){function c(){l(this,c),this._lazyCallableModules={},this._queue=[[],[],[],0],this._successCallbacks=new Map,this._failureCallbacks=new Map,this._callID=0,this._lastFlush=0,this._eventLoopStartTime=Date.now(),this._immediatesCallback=null,this.callFunctionReturnFlushedQueue=this.callFunctionReturnFlushedQueue.bind(this),this.flushedQueue=this.flushedQueue.bind(this),this.invokeCallbackAndReturnFlushedQueue=this.invokeCallbackAndReturnFlushedQueue.bind(this)}return u(c,[{key:"callFunctionReturnFlushedQueue",value:function(t,l,u){var s=this;return this.__guard(function(){s.__callFunction(t,l,u)}),this.flushedQueue()}},{key:"invokeCallbackAndReturnFlushedQueue",value:function(t,l){var u=this;return this.__guard(function(){u.__invokeCallback(t,l)}),this.flushedQueue()}},{key:"flushedQueue",value:function(){var t=this;this.__guard(function(){t.__callImmediates()});var l=this._queue;return this._queue=[[],[],[],this._callID],l[0].length?l:null}},{key:"getEventLoopRunningTime",value:function(){return Date.now()-this._eventLoopStartTime}},{key:"registerCallableModule",value:function(t,l){this._lazyCallableModules[t]=function(){return l}}},{key:"registerLazyCallableModule",value:function(t,l){var u,s=l;this._lazyCallableModules[t]=function(){return s&&(u=s(),s=null),u}}},{key:"getCallableModule",value:function(t){var l=this._lazyCallableModules[t];return l?l():null}},{key:"callNativeSyncHook",value:function(t,l,u,s,n){return this.processCallbacks(t,l,u,s,n),g.nativeCallSyncHook(t,l,u)}},{key:"processCallbacks",value:function(t,l,u,s,n){(s||n)&&(s&&u.push(this._callID<<1),n&&u.push(this._callID<<1|1),this._successCallbacks.set(this._callID,n),this._failureCallbacks.set(this._callID,s)),this._callID++}},{key:"enqueueNativeCall",value:function(t,l,u,s,h){this.processCallbacks(t,l,u,s,h),this._queue[0].push(t),this._queue[1].push(l),this._queue[2].push(u);var o=Date.now();if(g.nativeFlushQueueImmediate&&o-this._lastFlush>=5){var c=this._queue;this._queue=[[],[],[],this._callID],this._lastFlush=o,g.nativeFlushQueueImmediate(c)}n.counterEvent('pending_js_to_native_queue',this._queue[0].length),this.__spy&&this.__spy({type:1,module:t+'',method:l,args:u})}},{key:"createDebugLookup",value:function(t,l,u){}},{key:"setImmediatesCallback",value:function(t){this._immediatesCallback=t}},{key:"__guard",value:function(t){if(this.__shouldPauseOnThrow())t();else try{t()}catch(t){s.reportFatalError(t)}}},{key:"__shouldPauseOnThrow",value:function(){return'undefined'!=typeof DebuggerInternal&&!0===DebuggerInternal.shouldPauseOnThrow}},{key:"__callImmediates",value:function(){n.beginEvent('JSTimers.callImmediates()'),null!=this._immediatesCallback&&this._immediatesCallback(),n.endEvent()}},{key:"__callFunction",value:function(t,l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush,this.__spy?n.beginEvent(t+"."+l+"("+o(u)+")"):n.beginEvent(t+"."+l+"(...)"),this.__spy&&this.__spy({type:0,module:t,method:l,args:u});var s=this.getCallableModule(t);h(!!s,"Module "+t+" is not a registered callable module (calling "+l+"). A frequent cause of the error is that the application entry file path is incorrect. \n      This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native."),h(!!s[l],"Method "+l+" does not exist on module "+t),s[l].apply(s,u),n.endEvent()}},{key:"__invokeCallback",value:function(l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush;var s=l>>>1,n=1&l?this._successCallbacks.get(s):this._failureCallbacks.get(s);n&&(this._successCallbacks.delete(s),this._failureCallbacks.delete(s),n.apply(void 0,t(u)))}}],[{key:"spy",value:function(t){c.prototype.__spy=!0===t?function(t){console.log((0===t.type?'N->JS':'JS->N')+" : "+(null!=t.module?t.module+'.':'')+t.method+"("+JSON.stringify(t.args)+")")}:!1===t?null:t}}]),c})());m.exports=c},40,[41,12,13,45,46,47,8,48,9]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]);m.exports=function(u){return t(u)||o(u)||n(u)||s()},m.exports.__esModule=!0,m.exports.default=m.exports},41,[42,43,36,44]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o){if(Array.isArray(o))return t(o)},m.exports.__esModule=!0,m.exports.default=m.exports},42,[37]);
__d(function(g,r,i,a,m,e,d){m.exports=function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)},m.exports.__esModule=!0,m.exports.default=m.exports},43,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},44,[]);
__d(function(g,r,i,a,m,e,d){m.exports=g.ErrorUtils},45,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=!1,t=0,c={installReactHook:function(){!0},setEnabled:function(t){n!==t&&(n=t)},isEnabled:function(){return n},beginEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceBeginSection(131072,o,c)}},endEvent:function(){n&&g.nativeTraceEndSection(131072)},beginAsyncEvent:function(c){var o=t;if(n){t++;var f='function'==typeof c?c():c;g.nativeTraceBeginAsyncSection(131072,f,o)}return o},endAsyncEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceEndAsyncSection(131072,o,c)}},counterEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceCounter&&g.nativeTraceCounter(131072,o,c)}}};m.exports=c},46,[8]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return t}},47,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createStringifySafeWithLimits=l,e.default=void 0;var n=t(r(d[1]));function o(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var f=0;return function(){return f>=t.length?{done:!0}:{done:!1,value:t[f++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"==typeof t)return f(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(t,n):void 0}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}function l(t){var u=t.maxDepth,f=void 0===u?Number.POSITIVE_INFINITY:u,l=t.maxStringLimit,c=void 0===l?Number.POSITIVE_INFINITY:l,s=t.maxArrayLimit,y=void 0===s?Number.POSITIVE_INFINITY:s,h=t.maxObjectKeysLimit,v=void 0===h?Number.POSITIVE_INFINITY:h,b=[];function I(t,u){for(;b.length&&this!==b[0];)b.shift();if('string'==typeof u){return u.length>c+"...(truncated)...".length?u.substring(0,c)+"...(truncated)...":u}if('object'!=typeof u||null===u)return u;var l=u;if(Array.isArray(u))b.length>=f?l="[ ... array with "+u.length+" values ... ]":u.length>y&&(l=u.slice(0,y).concat(["... extra "+(u.length-y)+" values truncated ..."]));else{(0,n.default)('object'==typeof u,'This was already found earlier');var s=Object.keys(u);if(b.length>=f)l="{ ... object with "+s.length+" keys ... }";else if(s.length>v){l={};for(var h,I=o(s.slice(0,v));!(h=I()).done;){var p=h.value;l[p]=u[p]}l['...(truncated keys)...']=s.length-v}}return b.unshift(l),l}return function(t){if(void 0===t)return'undefined';if(null===t)return'null';if('function'==typeof t)try{return t.toString()}catch(t){return'[function unknown]'}else{if(t instanceof Error)return t.name+': '+t.message;try{var n=JSON.stringify(t,I);return void 0===n?'["'+typeof t+'" failed to stringify]':n}catch(n){if('function'==typeof t.toString)try{return t.toString()}catch(t){}}}return'["'+typeof t+'" failed to stringify]'}}var c=l({maxDepth:10,maxStringLimit:100,maxArrayLimit:50,maxObjectKeysLimit:50});e.default=c},48,[2,8]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){var b,c=u.get,o=!1!==u.enumerable,f=!1!==u.writable,l=!1;function s(u){b=u,l=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:f})}Object.defineProperty(t,n,{get:function(){return l||(l=!0,s(c())),b},set:s,configurable:!0,enumerable:o})}},49,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),l=["onLayout","style","size"],n=(r(d[2]),r(d[3])),o=r(d[4]),c=r(d[5]),h=r(d[6]).default,u=n.forwardRef(function(u,z){var f,p,v=u.onLayout,w=u.style,L=u.size,S=s(u,l);switch(L){case'small':f=y.sizeSmall,p='small';break;case'large':f=y.sizeLarge,p='large';break;default:f={height:u.size,width:u.size}}var b=t({},S,{ref:z,style:f,size:p});return n.createElement(c,{onLayout:v,style:o.compose(y.container,w)},n.createElement(h,b))});u.displayName='ActivityIndicator',u.defaultProps={animating:!0,color:'#999999',hidesWhenStopped:!0,size:'small'};var y=o.create({container:{alignItems:'center',justifyContent:'center'},sizeSmall:{width:20,height:20},sizeLarge:{width:36,height:36}});m.exports=u},50,[32,51,53,55,58,88,194]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o,n){if(null==o)return{};var l,p,s=t(o,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(p=0;p<u.length;p++)l=u[p],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(o,l)&&(s[l]=o[l])}return s},m.exports.__esModule=!0,m.exports.default=m.exports},51,[52]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,n){if(null==t)return{};var o,u,f={},s=Object.keys(t);for(u=0;u<s.length;u++)o=s[u],n.indexOf(o)>=0||(f[o]=t[o]);return f},m.exports.__esModule=!0,m.exports.default=m.exports},52,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n={__constants:null,OS:'ios',get Version(){return this.constants.osVersion},get constants(){return null==this.__constants&&(this.__constants=t.default.getConstants()),this.__constants},get isPad(){return'pad'===this.constants.interfaceIdiom},get isTVOS(){return n.isTV},get isTV(){return'tv'===this.constants.interfaceIdiom},get isTesting(){return!1},select:function(t){return'ios'in t?t.ios:'native'in t?t.native:t.default}};m.exports=n},53,[2,54]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('PlatformConstants');e.default=n},54,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},55,[56]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var u=60109,f=60110,c=60112;e.Suspense=60113;var l=60115,s=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;n=p("react.element"),o=p("react.portal"),e.Fragment=p("react.fragment"),e.StrictMode=p("react.strict_mode"),e.Profiler=p("react.profiler"),u=p("react.provider"),f=p("react.context"),c=p("react.forward_ref"),e.Suspense=p("react.suspense"),l=p("react.memo"),s=p("react.lazy")}var y="function"==typeof Symbol&&Symbol.iterator;function v(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,n,o){this.props=t,this.context=n,this.refs=_,this.updater=o||h}function S(){}function $(t,n,o){this.props=t,this.context=n,this.refs=_,this.updater=o||h}b.prototype.isReactComponent={},b.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,n,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},S.prototype=b.prototype;var w=$.prototype=new S;w.constructor=$,t(w,b.prototype),w.isPureReactComponent=!0;var k={current:null},C=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function R(t,o,u){var f,c={},l=null,s=null;if(null!=o)for(f in void 0!==o.ref&&(s=o.ref),void 0!==o.key&&(l=""+o.key),o)C.call(o,f)&&!E.hasOwnProperty(f)&&(c[f]=o[f]);var p=arguments.length-2;if(1===p)c.children=u;else if(1<p){for(var y=Array(p),v=0;v<p;v++)y[v]=arguments[v+2];c.children=y}if(t&&t.defaultProps)for(f in p=t.defaultProps)void 0===c[f]&&(c[f]=p[f]);return{$$typeof:n,type:t,key:l,ref:s,props:c,_owner:k.current}}function j(t,o){return{$$typeof:n,type:t.type,key:o,ref:t.ref,props:t.props,_owner:t._owner}}function P(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}function O(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return n[t]})}var A=/\/+/g;function x(t,n){return"object"==typeof t&&null!==t&&null!=t.key?O(""+t.key):n.toString(36)}function I(t,u,f,c,l){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var p,h=!1;if(null===t)h=!0;else switch(s){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case n:case o:h=!0}}if(h)return l=l(h=t),t=""===c?"."+x(h,0):c,Array.isArray(l)?(f="",null!=t&&(f=t.replace(A,"$&/")+"/"),I(l,u,f,"",function(t){return t})):null!=l&&(P(l)&&(l=j(l,f+(!l.key||h&&h.key===l.key?"":(""+l.key).replace(A,"$&/")+"/")+t)),u.push(l)),1;if(h=0,c=""===c?".":c+":",Array.isArray(t))for(var _=0;_<t.length;_++){var b=c+x(s=t[_],_);h+=I(s,u,f,b,l)}else if("function"==typeof(b=null===(p=t)||"object"!=typeof p?null:"function"==typeof(p=y&&p[y]||p["@@iterator"])?p:null))for(t=b.call(t),_=0;!(s=t.next()).done;)h+=I(s=s.value,u,f,b=c+x(s,_++),l);else if("object"===s)throw u=""+t,Error(v(31,"[object Object]"===u?"object with keys {"+Object.keys(t).join(", ")+"}":u));return h}function U(t,n,o){if(null==t)return t;var u=[],f=0;return I(t,u,"","",function(t){return n.call(o,t,f++)}),u}function F(t){if(-1===t._status){var n=t._result;n=n(),t._status=0,t._result=n,n.then(function(n){0===t._status&&(n=n.default,t._status=1,t._result=n)},function(n){0===t._status&&(t._status=2,t._result=n)})}if(1===t._status)return t._result;throw t._result}var M={current:null};function q(){var t=M.current;if(null===t)throw Error(v(321));return t}var L={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:U,forEach:function(t,n,o){U(t,function(){n.apply(this,arguments)},o)},count:function(t){var n=0;return U(t,function(){n++}),n},toArray:function(t){return U(t,function(t){return t})||[]},only:function(t){if(!P(t))throw Error(v(143));return t}},e.Component=b,e.PureComponent=$,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.cloneElement=function(o,u,f){if(null===o||void 0===o)throw Error(v(267,o));var c=t({},o.props),l=o.key,s=o.ref,p=o._owner;if(null!=u){if(void 0!==u.ref&&(s=u.ref,p=k.current),void 0!==u.key&&(l=""+u.key),o.type&&o.type.defaultProps)var y=o.type.defaultProps;for(h in u)C.call(u,h)&&!E.hasOwnProperty(h)&&(c[h]=void 0===u[h]&&void 0!==y?y[h]:u[h])}var h=arguments.length-2;if(1===h)c.children=f;else if(1<h){y=Array(h);for(var _=0;_<h;_++)y[_]=arguments[_+2];c.children=y}return{$$typeof:n,type:o.type,key:l,ref:s,props:c,_owner:p}},e.createContext=function(t,n){return void 0===n&&(n=null),(t={$$typeof:f,_calculateChangedBits:n,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=R,e.createFactory=function(t){var n=R.bind(null,t);return n.type=t,n},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=P,e.lazy=function(t){return{$$typeof:s,_payload:{_status:-1,_result:t},_init:F}},e.memo=function(t,n){return{$$typeof:l,type:t,compare:void 0===n?null:n}},e.useCallback=function(t,n){return q().useCallback(t,n)},e.useContext=function(t,n){return q().useContext(t,n)},e.useDebugValue=function(){},e.useEffect=function(t,n){return q().useEffect(t,n)},e.useImperativeHandle=function(t,n,o){return q().useImperativeHandle(t,n,o)},e.useLayoutEffect=function(t,n){return q().useLayoutEffect(t,n)},e.useMemo=function(t,n){return q().useMemo(t,n)},e.useReducer=function(t,n,o){return q().useReducer(t,n,o)},e.useRef=function(t){return q().useRef(t)},e.useState=function(t){return q().useState(t)},e.version="17.0.2"},56,[57]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function f(t){if(null===t||void 0===t)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(t)}m.exports=(function(){try{if(!Object.assign)return!1;var n=new String('abc');if(n[5]='de','5'===Object.getOwnPropertyNames(n)[0])return!1;for(var o={},c=0;c<10;c++)o['_'+String.fromCharCode(c)]=c;if('0123456789'!==Object.getOwnPropertyNames(o).map(function(t){return o[t]}).join(''))return!1;var f={};return'abcdefghijklmnopqrst'.split('').forEach(function(t){f[t]=t}),'abcdefghijklmnopqrst'===Object.keys(t({},f)).join('')}catch(t){return!1}})()?Object.assign:function(t,u){for(var s,b,l=f(t),p=1;p<arguments.length;p++){for(var j in s=Object(arguments[p]))o.call(s,j)&&(l[j]=s[j]);if(n){b=n(s);for(var O=0;O<b.length;O++)c.call(s,b[O])&&(l[b[O]]=s[b[O]])}}return l}},57,[32]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),l=r(d[2]),n=(r(d[3]),r(d[4])),s=o.roundToNearestPixel(.4);0===s&&(s=1/o.get());var u={position:'absolute',left:0,right:0,top:0,bottom:0};m.exports={hairlineWidth:s,absoluteFill:u,absoluteFillObject:u,compose:function(t,o){return null!=t&&null!=o?[t,o]:null!=t?t:o},flatten:n,setStyleAttributePreprocessor:function(o,n){var s;if(!0===l[o])s={};else{if('object'!=typeof l[o])return void console.error(o+" is not a valid style attribute");s=l[o]}l[o]=t({},s,{process:n})},create:function(t){return t}}},58,[32,59,62,86,87]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=(function(){function o(){t(this,o)}return n(o,null,[{key:"get",value:function(){return u.get('window').scale}},{key:"getFontScale",value:function(){return u.get('window').fontScale||o.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*o.get())}},{key:"roundToNearestPixel",value:function(t){var n=o.get();return Math.round(t*n)/n}},{key:"startDetecting",value:function(){}}]),o})();m.exports=o},59,[12,13,60]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),f=t(r(d[6])),v=new l.default,h=!1,w=(function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,null,[{key:"get",value:function(t){return(0,f.default)(n[t],'No dimension set for key '+t),n[t]}},{key:"set",value:function(t){var s=t.screen,o=t.window,l=t.windowPhysicalPixels;l&&(o={width:l.width/l.scale,height:l.height/l.scale,scale:l.scale,fontScale:l.fontScale});var c=t.screenPhysicalPixels;c?s={width:c.width/c.scale,height:c.height/c.scale,scale:c.scale,fontScale:c.fontScale}:null==s&&(s=o),n={window:o,screen:s},h?v.emit('change',n):h=!0}},{key:"addEventListener",value:function(n,t){(0,f.default)('change'===n,'Trying to subscribe to unknown event: "%s"',n),v.addListener(n,t)}},{key:"removeEventListener",value:function(n,t){(0,f.default)('change'===n,'Trying to remove listener for unknown event: "%s"',n),v.removeListener(n,t)}}]),t})(),y=g.nativeExtensions&&g.nativeExtensions.DeviceInfo&&g.nativeExtensions.DeviceInfo.Dimensions;y||(c.default.addListener('didUpdateDimensions',function(n){w.set(n)}),y=u.default.getConstants().Dimensions),w.set(y),m.exports=w},60,[2,12,13,24,11,61,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('DeviceInfo'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o}};e.default=u},61,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';for(var o=r(d[0]),t=r(d[1]),l=r(d[2]),C=r(d[3]),s=r(d[4]),b=r(d[5]),c=r(d[6]),f={},n=0,h=Object.keys(o({},C,l,t));n<h.length;n++){f[h[n]]=!0}f.transform={process:b},f.shadowOffset={diff:c};var p={process:s};f.backgroundColor=p,f.borderBottomColor=p,f.borderColor=p,f.borderLeftColor=p,f.borderRightColor=p,f.borderTopColor=p,f.borderStartColor=p,f.borderEndColor=p,f.color=p,f.shadowColor=p,f.textDecorationColor=p,f.tintColor=p,f.textShadowColor=p,f.overlayColor=p,m.exports=f},62,[32,63,81,82,68,83,85]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t=r(d[1]),n=r(d[2]),b=r(d[3]),u=r(d[4]),s=r(d[5]),c=o({},n,b,u,{resizeMode:s.oneOf(['center','contain','cover','repeat','stretch']),backfaceVisibility:s.oneOf(['visible','hidden']),backgroundColor:t,borderColor:t,borderWidth:s.number,borderRadius:s.number,overflow:s.oneOf(['visible','hidden']),tintColor:t,opacity:s.number,overlayColor:s.string,borderTopLeftRadius:s.number,borderTopRightRadius:s.number,borderBottomLeftRadius:s.number,borderBottomRightRadius:s.number});m.exports=c},63,[32,64,69,73,74,70]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),f=function(f,l,o,b,t,u){var s=l[o];return void 0===s||null===s?f?new Error('Required '+t+' `'+(u||o)+'` was not specified in `'+b+'`.'):void 0:'number'!=typeof s&&null===n(s)?new Error('Invalid '+t+' `'+(u||o)+'` supplied to `'+b+'`: '+s+"\nValid color formats are\n  - '#f0f' (#rgb)\n  - '#f0fc' (#rgba)\n  - '#ff00ff' (#rrggbb)\n  - '#ff00ff00' (#rrggbbaa)\n  - 'rgb(255, 255, 255)'\n  - 'rgba(255, 255, 255, 1.0)'\n  - 'hsl(360, 100%, 100%)'\n  - 'hsla(360, 100%, 100%, 1.0)'\n  - 'transparent'\n  - 'red'\n  - 0xff00ff00 (0xrrggbbaa)\n"):void 0},l=f.bind(null,!1);l.isRequired=f.bind(null,!0),m.exports=l},64,[65]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports=function(n){if('object'==typeof n&&null!=n&&null!=(0,r(d[2]).normalizeColorObject)(n))return n;if('string'==typeof n||'number'==typeof n)return(0,t.default)(n)}},65,[2,66,67]);
__d(function(g,r,i,a,m,e,d){'use strict';function l(l,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?l+6*(n-l)*t:t<.5?n:t<.6666666666666666?l+(n-l)*(.6666666666666666-t)*6:l}function n(n,t,o){var u=o<.5?o*(1+t):o+t-o*t,s=2*o-u,h=l(s,u,n+.3333333333333333),c=l(s,u,n),p=l(s,u,n-.3333333333333333);return Math.round(255*h)<<24|Math.round(255*c)<<16|Math.round(255*p)<<8}var t,o='[-+]?\\d*\\.?\\d+',u="[-+]?\\d*\\.?\\d+%";function s(){for(var l=arguments.length,n=new Array(l),t=0;t<l;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*,\\s*(')+')\\s*\\)'}function h(l){var n=parseInt(l,10);return n<0?0:n>255?255:n}function c(l){return(parseFloat(l)%360+360)%360/360}function p(l){var n=parseFloat(l);return n<0?0:n>1?255:Math.round(255*n)}function b(l){var n=parseFloat(l);return n<0?0:n>100?1:n/100}var y={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};m.exports=function(l){var f,k=(void 0===t&&(t={rgb:new RegExp('rgb'+s(o,o,o)),rgba:new RegExp('rgba'+s(o,o,o,o)),hsl:new RegExp('hsl'+s(o,u,u)),hsla:new RegExp('hsla'+s(o,u,u,o)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),t);return'number'==typeof l?l>>>0===l&&l>=0&&l<=4294967295?l:null:'string'!=typeof l?null:(f=k.hex6.exec(l))?parseInt(f[1]+'ff',16)>>>0:y.hasOwnProperty(l)?y[l]:(f=k.rgb.exec(l))?(h(f[1])<<24|h(f[2])<<16|h(f[3])<<8|255)>>>0:(f=k.rgba.exec(l))?(h(f[1])<<24|h(f[2])<<16|h(f[3])<<8|p(f[4]))>>>0:(f=k.hex3.exec(l))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+'ff',16)>>>0:(f=k.hex8.exec(l))?parseInt(f[1],16)>>>0:(f=k.hex4.exec(l))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+f[4]+f[4],16)>>>0:(f=k.hsl.exec(l))?(255|n(c(f[1]),b(f[2]),b(f[3])))>>>0:(f=k.hsla.exec(l))?(n(c(f[1]),b(f[2]),b(f[3]))|p(f[4]))>>>0:null}},66,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.processColorObject=e.normalizeColorObject=e.PlatformColor=e.DynamicColorIOSPrivate=void 0;e.PlatformColor=function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return{semantic:t}};e.DynamicColorIOSPrivate=function(n){return{dynamic:{light:n.light,dark:n.dark}}};e.normalizeColorObject=function(n){if('semantic'in n)return n;if('dynamic'in n&&void 0!==n.dynamic){var t=r(d[0]),o=n.dynamic;return{dynamic:{light:t(o.light),dark:t(o.dark)}}}return null};e.processColorObject=function(n){if('dynamic'in n&&null!=n.dynamic){var t=r(d[1]),o=n.dynamic;return{dynamic:{light:t(o.light),dark:t(o.dark)}}}return n}},67,[65,68]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=r(d[1]);m.exports=function(t){if(void 0===t||null===t)return t;var o=n(t);if(null!==o&&void 0!==o){if('object'==typeof o){var u=(0,r(d[2]).processColorObject)(o);if(null!=u)return u}return'number'!=typeof o?null:o=(o<<24|o>>>8)>>>0}}},68,[53,65,67]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t={display:n.oneOf(['none','flex']),width:n.oneOfType([n.number,n.string]),height:n.oneOfType([n.number,n.string]),start:n.oneOfType([n.number,n.string]),end:n.oneOfType([n.number,n.string]),top:n.oneOfType([n.number,n.string]),left:n.oneOfType([n.number,n.string]),right:n.oneOfType([n.number,n.string]),bottom:n.oneOfType([n.number,n.string]),minWidth:n.oneOfType([n.number,n.string]),maxWidth:n.oneOfType([n.number,n.string]),minHeight:n.oneOfType([n.number,n.string]),maxHeight:n.oneOfType([n.number,n.string]),margin:n.oneOfType([n.number,n.string]),marginVertical:n.oneOfType([n.number,n.string]),marginHorizontal:n.oneOfType([n.number,n.string]),marginTop:n.oneOfType([n.number,n.string]),marginBottom:n.oneOfType([n.number,n.string]),marginLeft:n.oneOfType([n.number,n.string]),marginRight:n.oneOfType([n.number,n.string]),marginStart:n.oneOfType([n.number,n.string]),marginEnd:n.oneOfType([n.number,n.string]),padding:n.oneOfType([n.number,n.string]),paddingVertical:n.oneOfType([n.number,n.string]),paddingHorizontal:n.oneOfType([n.number,n.string]),paddingTop:n.oneOfType([n.number,n.string]),paddingBottom:n.oneOfType([n.number,n.string]),paddingLeft:n.oneOfType([n.number,n.string]),paddingRight:n.oneOfType([n.number,n.string]),paddingStart:n.oneOfType([n.number,n.string]),paddingEnd:n.oneOfType([n.number,n.string]),borderWidth:n.number,borderTopWidth:n.number,borderStartWidth:n.number,borderEndWidth:n.number,borderRightWidth:n.number,borderBottomWidth:n.number,borderLeftWidth:n.number,position:n.oneOf(['absolute','relative']),flexDirection:n.oneOf(['row','row-reverse','column','column-reverse']),flexWrap:n.oneOf(['wrap','nowrap','wrap-reverse']),justifyContent:n.oneOf(['flex-start','flex-end','center','space-between','space-around','space-evenly']),alignItems:n.oneOf(['flex-start','flex-end','center','stretch','baseline']),alignSelf:n.oneOf(['auto','flex-start','flex-end','center','stretch','baseline']),alignContent:n.oneOf(['flex-start','flex-end','center','stretch','space-between','space-around']),overflow:n.oneOf(['visible','hidden','scroll']),flex:n.number,flexGrow:n.number,flexShrink:n.number,flexBasis:n.oneOfType([n.number,n.string]),aspectRatio:n.number,zIndex:n.number,direction:n.oneOf(['inherit','ltr','rtl'])};m.exports=t},69,[70]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])()},70,[71]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function t(){}function o(){}o.resetWarningCache=t,m.exports=function(){function p(t,o,p,c,s,y){if(y!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name='Invariant Violation',f}}function c(){return p}p.isRequired=p;var s={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:c,element:p,elementType:p,instanceOf:c,node:p,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:t};return s.PropTypes=s,s}},71,[72]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'},72,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),h=r(d[1]),o={shadowColor:s,shadowOffset:h.shape({width:h.number,height:h.number}),shadowOpacity:h.number,shadowRadius:h.number};m.exports=o},73,[64,70]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n={transform:t.arrayOf(t.oneOfType([t.shape({perspective:t.number}),t.shape({rotate:t.string}),t.shape({rotateX:t.string}),t.shape({rotateY:t.string}),t.shape({rotateZ:t.string}),t.shape({scale:t.number}),t.shape({scaleX:t.number}),t.shape({scaleY:t.number}),t.shape({translateX:t.number}),t.shape({translateY:t.number}),t.shape({skewX:t.string}),t.shape({skewY:t.string})])),transformMatrix:function(t,s,n){if(t[s])return new Error("The transformMatrix style property is deprecated. Use `transform: [{ matrix: ... }]` instead.")},decomposedMatrix:function(t,s,n){if(t[s])return new Error("The decomposedMatrix style property is deprecated. Use `transform: [...]` instead.")},scaleX:s(t.number,'Use the transform prop instead.'),scaleY:s(t.number,'Use the transform prop instead.'),rotation:s(t.number,'Use the transform prop instead.'),translateX:s(t.number,'Use the transform prop instead.'),translateY:s(t.number,'Use the transform prop instead.')};m.exports=n},74,[70,75]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t,o){return function(c,s,u){g.RN$Bridgeless||n.getViewManagerConfig(u)||void 0===c[s]||console.warn("`"+s+"` supplied to `"+u+"` has been deprecated. "+o);for(var p=arguments.length,f=new Array(p>3?p-3:0),l=3;l<p;l++)f[l-3]=arguments[l];return t.apply(void 0,[c,s,u].concat(f))}}},75,[76]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=!0===g.RN$Bridgeless?r(d[0]):r(d[1]);m.exports=s},76,[77,78]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getViewManagerConfig:function(n){return console.warn('Attempting to get config for view manager: '+n),'RCTVirtualText'===n?{}:null},getConstants:function(){return{}},getConstantsForViewManager:function(n){},getDefaultEventTypes:function(){return[]},lazilyLoadView:function(n){},createView:function(n,t,o,u){},updateView:function(n,t,o){},focus:function(n){},blur:function(n){},findSubviewIn:function(n,t,o){},dispatchViewManagerCommand:function(n,t,o){},measure:function(n,t){},measureInWindow:function(n,t){},viewIsDescendantOf:function(n,t,o){},measureLayout:function(n,t,o,u){},measureLayoutRelativeToParent:function(n,t,o){},setJSResponder:function(n,t){},clearJSResponder:function(){},configureNextLayoutAnimation:function(n,t,o){},removeSubviewsFromContainerWithID:function(n){},replaceExistingNonRootView:function(n,t){},setChildren:function(n,t){},manageChildren:function(n,t,o,u,c,f){},setLayoutAnimationEnabledExperimental:function(n){},sendAccessibilityEvent:function(n,t){},showPopupMenu:function(n,t,o,u){},dismissPopupMenu:function(){}}},77,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),o=n(r(d[2])),f=r(d[3]),u=(r(d[4]),r(d[5])),c=r(d[6]),s={},l=new Set,v={},C=!1;function w(){return C||(v=o.default.getConstants(),C=!0),v}var M=(0,t.default)({},o.default,{getConstants:function(){return w()},getViewManagerConfig:function(n){if(void 0===s[n]&&o.default.getConstantsForViewManager)try{s[n]=o.default.getConstantsForViewManager(n)}catch(t){s[n]=null}var t=s[n];if(t)return t;if(!g.nativeCallSyncHook)return t;if(o.default.lazilyLoadView&&!l.has(n)){var f=o.default.lazilyLoadView(n);l.add(n),f.viewConfig&&(w()[n]=f.viewConfig,y(n))}return s[n]}});function y(n){var t=w()[n];s[n]=t,t.Manager&&(c(t,'Constants',{get:function(){var n=f[t.Manager],o={};return n&&Object.keys(n).forEach(function(t){var f=n[t];'function'!=typeof f&&(o[t]=f)}),o}}),c(t,'Commands',{get:function(){var n=f[t.Manager],o={},u=0;return n&&Object.keys(n).forEach(function(t){'function'==typeof n[t]&&(o[t]=u++)}),o}}))}o.default.getViewManagerConfig=M.getViewManagerConfig,Object.keys(w()).forEach(function(n){y(n)}),g.nativeCallSyncHook||Object.keys(w()).forEach(function(n){u.includes(n)||(s[n]||(s[n]=w()[n]),c(o.default,n,{get:function(){return console.warn("Accessing view manager configs directly off UIManager via UIManager['"+n+"'] is no longer supported. Use UIManager.getViewManagerConfig('"+n+"') instead."),M.getViewManagerConfig(n)}}))}),m.exports=M},78,[2,32,79,31,53,80,49]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('UIManager');e.default=n},79,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=['clearJSResponder','configureNextLayoutAnimation','createView','dismissPopupMenu','dispatchViewManagerCommand','findSubviewIn','getConstantsForViewManager','getDefaultEventTypes','manageChildren','measure','measureInWindow','measureLayout','measureLayoutRelativeToParent','removeRootView','removeSubviewsFromContainerWithID','replaceExistingNonRootView','sendAccessibilityEvent','setChildren','setJSResponder','setLayoutAnimationEnabledExperimental','showPopupMenu','updateView','viewIsDescendantOf','PopupMenu','LazyViewManagersEnabled','ViewManagerNames','StyleConstants','AccessibilityEventTypes','UIView','getViewManagerConfig','blur','focus','genericBubblingEventTypes','genericDirectEventTypes','lazilyLoadView']},80,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),u=t({},o,{color:n,fontFamily:l.string,fontSize:l.number,fontStyle:l.oneOf(['normal','italic']),fontWeight:l.oneOf(['normal','bold','100','200','300','400','500','600','700','800','900']),fontVariant:l.arrayOf(l.oneOf(['small-caps','oldstyle-nums','lining-nums','tabular-nums','proportional-nums'])),textShadowOffset:l.shape({width:l.number,height:l.number}),textShadowRadius:l.number,textShadowColor:n,letterSpacing:l.number,lineHeight:l.number,textAlign:l.oneOf(['auto','left','right','center','justify']),textAlignVertical:l.oneOf(['auto','top','bottom','center']),includeFontPadding:l.bool,textDecorationLine:l.oneOf(['none','underline','line-through','underline line-through']),textDecorationStyle:l.oneOf(['solid','double','dotted','dashed']),textDecorationColor:n,textTransform:l.oneOf(['none','capitalize','uppercase','lowercase']),writingDirection:l.oneOf(['auto','ltr','rtl'])});m.exports=u},81,[32,64,82,70]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),b=r(d[1]),t=r(d[2]),u=r(d[3]),n=r(d[4]),s=r(d[5]),l=o({},t,u,n,{backfaceVisibility:s.oneOf(['visible','hidden']),backgroundColor:b,borderColor:b,borderTopColor:b,borderRightColor:b,borderBottomColor:b,borderLeftColor:b,borderStartColor:b,borderEndColor:b,borderRadius:s.number,borderTopLeftRadius:s.number,borderTopRightRadius:s.number,borderTopStartRadius:s.number,borderTopEndRadius:s.number,borderBottomLeftRadius:s.number,borderBottomRightRadius:s.number,borderBottomStartRadius:s.number,borderBottomEndRadius:s.number,borderStyle:s.oneOf(['solid','dotted','dashed']),borderWidth:s.number,borderTopWidth:s.number,borderRightWidth:s.number,borderBottomWidth:s.number,borderLeftWidth:s.number,opacity:s.number,elevation:s.number});m.exports=l},82,[32,64,69,73,74,70]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),r(d[1]),r(d[2]),r(d[3]).default;m.exports=function(t){return t}},83,[84,53,8,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o={createIdentityMatrix:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},createCopy:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},createOrthographic:function(t,n,o,u,s,c){return[2/(n-t),0,0,0,0,2/(u-o),0,0,0,0,-2/(c-s),0,-(n+t)/(n-t),-(u+o)/(u-o),-(c+s)/(c-s),1]},createFrustum:function(t,n,o,u,s,c){var v=1/(n-t),f=1/(u-o),h=1/(s-c);return[s*v*2,0,0,0,0,s*f*2,0,0,(n+t)*v,(u+o)*f,(c+s)*h,-1,0,0,c*s*h*2,0]},createPerspective:function(t,n,o,u){var s=1/Math.tan(t/2),c=1/(o-u);return[s/n,0,0,0,0,s,0,0,0,0,(u+o)*c,-1,0,0,u*o*c*2,0]},createTranslate2d:function(t,n){var u=o.createIdentityMatrix();return o.reuseTranslate2dCommand(u,t,n),u},reuseTranslate2dCommand:function(t,n,o){t[12]=n,t[13]=o},reuseTranslate3dCommand:function(t,n,o,u){t[12]=n,t[13]=o,t[14]=u},createScale:function(t){var n=o.createIdentityMatrix();return o.reuseScaleCommand(n,t),n},reuseScaleCommand:function(t,n){t[0]=n,t[5]=n},reuseScale3dCommand:function(t,n,o,u){t[0]=n,t[5]=o,t[10]=u},reusePerspectiveCommand:function(t,n){t[11]=-1/n},reuseScaleXCommand:function(t,n){t[0]=n},reuseScaleYCommand:function(t,n){t[5]=n},reuseScaleZCommand:function(t,n){t[10]=n},reuseRotateXCommand:function(t,n){t[5]=Math.cos(n),t[6]=Math.sin(n),t[9]=-Math.sin(n),t[10]=Math.cos(n)},reuseRotateYCommand:function(t,n){t[0]=Math.cos(n),t[2]=-Math.sin(n),t[8]=Math.sin(n),t[10]=Math.cos(n)},reuseRotateZCommand:function(t,n){t[0]=Math.cos(n),t[1]=Math.sin(n),t[4]=-Math.sin(n),t[5]=Math.cos(n)},createRotateZ:function(t){var n=o.createIdentityMatrix();return o.reuseRotateZCommand(n,t),n},reuseSkewXCommand:function(t,n){t[4]=Math.tan(n)},reuseSkewYCommand:function(t,n){t[1]=Math.tan(n)},multiplyInto:function(t,n,o){var u=n[0],s=n[1],c=n[2],v=n[3],f=n[4],h=n[5],M=n[6],l=n[7],C=n[8],p=n[9],x=n[10],T=n[11],y=n[12],S=n[13],P=n[14],q=n[15],D=o[0],X=o[1],Y=o[2],I=o[3];t[0]=D*u+X*f+Y*C+I*y,t[1]=D*s+X*h+Y*p+I*S,t[2]=D*c+X*M+Y*x+I*P,t[3]=D*v+X*l+Y*T+I*q,D=o[4],X=o[5],Y=o[6],I=o[7],t[4]=D*u+X*f+Y*C+I*y,t[5]=D*s+X*h+Y*p+I*S,t[6]=D*c+X*M+Y*x+I*P,t[7]=D*v+X*l+Y*T+I*q,D=o[8],X=o[9],Y=o[10],I=o[11],t[8]=D*u+X*f+Y*C+I*y,t[9]=D*s+X*h+Y*p+I*S,t[10]=D*c+X*M+Y*x+I*P,t[11]=D*v+X*l+Y*T+I*q,D=o[12],X=o[13],Y=o[14],I=o[15],t[12]=D*u+X*f+Y*C+I*y,t[13]=D*s+X*h+Y*p+I*S,t[14]=D*c+X*M+Y*x+I*P,t[15]=D*v+X*l+Y*T+I*q},determinant:function(n){var o=t(n,16),u=o[0],s=o[1],c=o[2],v=o[3],f=o[4],h=o[5],M=o[6],l=o[7],C=o[8],p=o[9],x=o[10],T=o[11],y=o[12],S=o[13],P=o[14],q=o[15];return v*M*p*y-c*l*p*y-v*h*x*y+s*l*x*y+c*h*T*y-s*M*T*y-v*M*C*S+c*l*C*S+v*f*x*S-u*l*x*S-c*f*T*S+u*M*T*S+v*h*C*P-s*l*C*P-v*f*p*P+u*l*p*P+s*f*T*P-u*h*T*P-c*h*C*q+s*M*C*q+c*f*p*q-u*M*p*q-s*f*x*q+u*h*x*q},inverse:function(n){var u=o.determinant(n);if(!u)return n;var s=t(n,16),c=s[0],v=s[1],f=s[2],h=s[3],M=s[4],l=s[5],C=s[6],p=s[7],x=s[8],T=s[9],y=s[10],S=s[11],P=s[12],q=s[13],D=s[14],X=s[15];return[(C*S*q-p*y*q+p*T*D-l*S*D-C*T*X+l*y*X)/u,(h*y*q-f*S*q-h*T*D+v*S*D+f*T*X-v*y*X)/u,(f*p*q-h*C*q+h*l*D-v*p*D-f*l*X+v*C*X)/u,(h*C*T-f*p*T-h*l*y+v*p*y+f*l*S-v*C*S)/u,(p*y*P-C*S*P-p*x*D+M*S*D+C*x*X-M*y*X)/u,(f*S*P-h*y*P+h*x*D-c*S*D-f*x*X+c*y*X)/u,(h*C*P-f*p*P-h*M*D+c*p*D+f*M*X-c*C*X)/u,(f*p*x-h*C*x+h*M*y-c*p*y-f*M*S+c*C*S)/u,(l*S*P-p*T*P+p*x*q-M*S*q-l*x*X+M*T*X)/u,(h*T*P-v*S*P-h*x*q+c*S*q+v*x*X-c*T*X)/u,(v*p*P-h*l*P+h*M*q-c*p*q-v*M*X+c*l*X)/u,(h*l*x-v*p*x-h*M*T+c*p*T+v*M*S-c*l*S)/u,(C*T*P-l*y*P-C*x*q+M*y*q+l*x*D-M*T*D)/u,(v*y*P-f*T*P+f*x*q-c*y*q-v*x*D+c*T*D)/u,(f*l*P-v*C*P-f*M*q+c*C*q+v*M*D-c*l*D)/u,(v*C*x-f*l*x+f*M*T-c*C*T-v*M*y+c*l*y)/u]},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},multiplyVectorByMatrix:function(n,o){var u=t(n,4),s=u[0],c=u[1],v=u[2],f=u[3];return[s*o[0]+c*o[4]+v*o[8]+f*o[12],s*o[1]+c*o[5]+v*o[9]+f*o[13],s*o[2]+c*o[6]+v*o[10]+f*o[14],s*o[3]+c*o[7]+v*o[11]+f*o[15]]},v3Length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},v3Normalize:function(t,n){var u=1/(n||o.v3Length(t));return[t[0]*u,t[1]*u,t[2]*u]},v3Dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},v3Combine:function(t,n,o,u){return[o*t[0]+u*n[0],o*t[1]+u*n[1],o*t[2]+u*n[2]]},v3Cross:function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]},quaternionToDegreesXYZ:function(n,u,s){var c=t(n,4),v=c[0],f=c[1],h=c[2],M=c[3],l=v*v,C=f*f,p=h*h,x=v*f+h*M,T=M*M+l+C+p,y=180/Math.PI;return x>.49999*T?[0,2*Math.atan2(v,M)*y,90]:x<-.49999*T?[0,-2*Math.atan2(v,M)*y,-90]:[o.roundTo3Places(Math.atan2(2*v*M-2*f*h,1-2*l-2*p)*y),o.roundTo3Places(Math.atan2(2*f*M-2*v*h,1-2*C-2*p)*y),o.roundTo3Places(Math.asin(2*v*f+2*h*M)*y)]},roundTo3Places:function(t){var n=t.toString().split('e');return.001*Math.round(n[0]+'e'+(n[1]?+n[1]-3:3))},decomposeMatrix:function(t){n(16===t.length,'Matrix decomposition needs a list of 3d matrix values, received %s',t);var u=[],s=[],c=[],v=[],f=[];if(t[15]){for(var h=[],M=[],l=0;l<4;l++){h.push([]);for(var C=0;C<4;C++){var p=t[4*l+C]/t[15];h[l].push(p),M.push(3===C?0:p)}}if(M[15]=1,o.determinant(M)){if(0!==h[0][3]||0!==h[1][3]||0!==h[2][3]){var x=[h[0][3],h[1][3],h[2][3],h[3][3]],T=o.inverse(M),y=o.transpose(T);u=o.multiplyVectorByMatrix(x,y)}else u[0]=u[1]=u[2]=0,u[3]=1;for(var S=0;S<3;S++)f[S]=h[3][S];for(var P=[],q=0;q<3;q++)P[q]=[h[q][0],h[q][1],h[q][2]];c[0]=o.v3Length(P[0]),P[0]=o.v3Normalize(P[0],c[0]),v[0]=o.v3Dot(P[0],P[1]),P[1]=o.v3Combine(P[1],P[0],1,-v[0]),c[1]=o.v3Length(P[1]),P[1]=o.v3Normalize(P[1],c[1]),v[0]/=c[1],v[1]=o.v3Dot(P[0],P[2]),P[2]=o.v3Combine(P[2],P[0],1,-v[1]),v[2]=o.v3Dot(P[1],P[2]),P[2]=o.v3Combine(P[2],P[1],1,-v[2]),c[2]=o.v3Length(P[2]),P[2]=o.v3Normalize(P[2],c[2]),v[1]/=c[2],v[2]/=c[2];var D,X=o.v3Cross(P[1],P[2]);if(o.v3Dot(P[0],X)<0)for(var Y=0;Y<3;Y++)c[Y]*=-1,P[Y][0]*=-1,P[Y][1]*=-1,P[Y][2]*=-1;return s[0]=.5*Math.sqrt(Math.max(1+P[0][0]-P[1][1]-P[2][2],0)),s[1]=.5*Math.sqrt(Math.max(1-P[0][0]+P[1][1]-P[2][2],0)),s[2]=.5*Math.sqrt(Math.max(1-P[0][0]-P[1][1]+P[2][2],0)),s[3]=.5*Math.sqrt(Math.max(1+P[0][0]+P[1][1]+P[2][2],0)),P[2][1]>P[1][2]&&(s[0]=-s[0]),P[0][2]>P[2][0]&&(s[1]=-s[1]),P[1][0]>P[0][1]&&(s[2]=-s[2]),{rotationDegrees:D=s[0]<.001&&s[0]>=0&&s[1]<.001&&s[1]>=0?[0,0,o.roundTo3Places(180*Math.atan2(P[0][1],P[0][0])/Math.PI)]:o.quaternionToDegreesXYZ(s,h,P),perspective:u,quaternion:s,scale:c,skew:v,translation:f,rotate:D[2],rotateX:D[0],rotateY:D[1],scaleX:c[0],scaleY:c[1],translateX:f[0],translateY:f[1]}}}}};m.exports=o},84,[33,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={width:void 0,height:void 0};m.exports=function(h,n){return(h=h||t)!==(n=n||t)&&(h.width!==n.width||h.height!==n.height)}},85,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=(r(d[2]),r(d[3]),r(d[4]),r(d[5]),(function(){function u(){t(this,u)}return n(u,null,[{key:"validateStyleProp",value:function(t,n,u){}},{key:"validateStyle",value:function(t,n){}},{key:"addValidStylePropTypes",value:function(t){}}]),u})());m.exports=u},86,[12,13,63,81,82,8]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function t(n){if(null!==n&&'object'==typeof n){if(!Array.isArray(n))return n;for(var f={},o=0,u=n.length;o<u;++o){var c=t(n[o]);if(c)for(var s in c)f[s]=c[s]}return f}}},87,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),f=t(r(d[1])),n=t(r(d[2])),u=r(d[3]),l=r(d[4]),c=u.forwardRef(function(t,c){return u.createElement(l.Provider,{value:!1},u.createElement(n.default,(0,f.default)({},t,{ref:c})))});c.displayName='View',m.exports=c},88,[2,32,89,55,193]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=o(n);if(u&&u.has(t))return u.get(t);var f={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var l=s?Object.getOwnPropertyDescriptor(t,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=t[p]}f.default=t,u&&u.set(t,f)})(r(d[1]));var n=t(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(o=function(t){return t?u:n})(t)}r(d[3]),r(d[4]);var u,f,s=r(d[5]),p=r(d[6]);g.RN$Bridgeless?(f={},s('RCTView',{uiViewClassName:'RCTView'}),u='RCTView'):u=p('RCTView');var l=f;e.__INTERNAL_VIEW_CONFIG=l;var c=(0,n.default)({supportedCommands:['hotspotUpdate','setPressed']});e.Commands=c;var _=u;e.default=_},89,[2,55,90,53,184,191,170]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]);var t=function(t){var o={};return t.supportedCommands.forEach(function(t){o[t]=function(o){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];(0,n.dispatchCommand)(o,t,f)}}),o};e.default=t},90,[91]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;t=r(d[0]),m.exports=t},91,[92]);
__d(function(e,n,t,r,l,a,i){"use strict";var u=n(i[0]);n(i[1]);var o=n(i[2]),s=n(i[3]),c=n(i[4]);function f(e,n,t,r,l,a,i,u,o){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}var d=!1,p=null,h=!1,g=null,m={onError:function(e){d=!0,p=e}};function v(e,n,t,r,l,a,i,u,o){d=!1,p=null,f.apply(m,arguments)}function y(e,n,t,r,l,a,i,u,o){if(v.apply(this,arguments),d){if(!d)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var s=p;d=!1,p=null,h||(h=!0,g=s)}}var b=null,S=null,w=null;function k(e,n,t){var r=e.type||"unknown-event";e.currentTarget=w(t),y(r,n,void 0,e),e.currentTarget=null}function E(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=n?w(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function T(){return!0}function x(){return!1}function _(e,n,t,r){for(var l in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(l)&&((n=e[l])?this[l]=n(t):"target"===l?this.target=r:this[l]=t[l]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?T:x,this.isPropagationStopped=x,this}function R(e,n,t,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,n,t,r),l}return new this(e,n,t,r)}function P(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function C(e){e.getPooled=R,e.eventPool=[],e.release=P}u(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=T)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=T)},persist:function(){this.isPersistent=T},isPersistent:x,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=x,this._dispatchInstances=this._dispatchListeners=null}}),_.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},_.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var l=new n;return u(l,t.prototype),t.prototype=l,t.prototype.constructor=t,t.Interface=u({},r.Interface,e),t.extend=r.extend,C(t),t},C(_);var N=_.extend({touchHistory:function(){return null}});function z(e){return"topTouchStart"===e}function I(e){return"topTouchMove"===e}var L=["topTouchStart"],U=["topTouchMove"],M=["topTouchCancel","topTouchEnd"],A=[],D={touchBank:A,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function Q(e){return e.timeStamp||e.timestamp}function B(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function F(e){var n=B(e),t=A[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=Q(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=Q(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=Q(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:Q(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:Q(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:Q(e)},A[n]=t),D.mostRecentTimeStamp=Q(e)}function j(e){var n=A[B(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=Q(e),D.mostRecentTimeStamp=Q(e))}function O(e){var n=A[B(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=Q(e),D.mostRecentTimeStamp=Q(e))}var H={recordTouchTrack:function(e,n){if(I(e))n.changedTouches.forEach(j);else if(z(e))n.changedTouches.forEach(F),D.numberActiveTouches=n.touches.length,1===D.numberActiveTouches&&(D.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(O),D.numberActiveTouches=n.touches.length,1===D.numberActiveTouches))for(e=0;e<A.length;e++)if(null!=(n=A[e])&&n.touchActive){D.indexOfSingleActiveTouch=e;break}},touchHistory:D};function V(e,n){if(null==n)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?n:Array.isArray(e)?e.concat(n):Array.isArray(n)?[e].concat(n):[e,n]}function W(e,n){if(null==n)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}function Y(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var q=null,X=0;function $(e,n){var t=q;q=e,null!==le.GlobalResponderHandler&&le.GlobalResponderHandler.onChange(t,e,n)}var G={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:L},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:U},responderStart:{registrationName:"onResponderStart",dependencies:L},responderMove:{registrationName:"onResponderMove",dependencies:U},responderEnd:{registrationName:"onResponderEnd",dependencies:M},responderRelease:{registrationName:"onResponderRelease",dependencies:M},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function K(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function J(e,n,t){for(var r=[];e;)r.push(e),e=K(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function Z(e,n){if(null===(e=e.stateNode))return null;if(null===(e=b(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function ee(e,n,t){(n=Z(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=W(t._dispatchListeners,n),t._dispatchInstances=W(t._dispatchInstances,e))}function ne(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Z(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=W(e._dispatchListeners,t),e._dispatchInstances=W(e._dispatchInstances,n))}}}function te(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;J(n=n?K(n):null,ee,e)}}function re(e){e&&e.dispatchConfig.phasedRegistrationNames&&J(e._targetInst,ee,e)}var le={_getResponder:function(){return q},eventTypes:G,extractEvents:function(e,n,t,r){if(z(e))X+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=X))return null;--X}if(H.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<X&&"topSelectionChange"===e||z(e)||I(e))){var l=z(e)?G.startShouldSetResponder:I(e)?G.moveShouldSetResponder:"topSelectionChange"===e?G.selectionChangeShouldSetResponder:G.scrollShouldSetResponder;if(q)e:{for(var a=q,i=0,u=a;u;u=K(u))i++;u=0;for(var o=n;o;o=K(o))u++;for(;0<i-u;)a=K(a),i--;for(;0<u-i;)n=K(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=K(a),n=K(n)}a=null}else a=n;a=(n=a)===q,(l=N.getPooled(l,n,t,r)).touchHistory=H.touchHistory,Y(l,a?te:re);e:{if(a=l._dispatchListeners,n=l._dispatchInstances,Array.isArray(a)){for(i=0;i<a.length&&!l.isPropagationStopped();i++)if(a[i](l,n[i])){a=n[i];break e}}else if(a&&a(l,n)){a=n;break e}a=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),a&&a!==q)if((l=N.getPooled(G.responderGrant,a,t,r)).touchHistory=H.touchHistory,Y(l,ne),n=!0===E(l),q)if((i=N.getPooled(G.responderTerminationRequest,q,t,r)).touchHistory=H.touchHistory,Y(i,ne),u=!i._dispatchListeners||E(i),i.isPersistent()||i.constructor.release(i),u){(i=N.getPooled(G.responderTerminate,q,t,r)).touchHistory=H.touchHistory,Y(i,ne);var s=V(s,[l,i]);$(a,n)}else(l=N.getPooled(G.responderReject,a,t,r)).touchHistory=H.touchHistory,Y(l,ne),s=V(s,l);else s=V(s,l),$(a,n);else s=null}else s=null;if(l=q&&z(e),a=q&&I(e),n=q&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?G.responderStart:a?G.responderMove:n?G.responderEnd:null)&&((l=N.getPooled(l,q,t,r)).touchHistory=H.touchHistory,Y(l,ne),s=V(s,l)),l=q&&"topTouchCancel"===e,e=q&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!==(n=e[a].target)&&void 0!==n&&0!==n){i=S(n);n:{for(n=q;i;){if(n===i||n===i.alternate){n=!0;break n}i=K(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=l?G.responderTerminate:e?G.responderRelease:null)&&((t=N.getPooled(e,q,t,r)).touchHistory=H.touchHistory,Y(t,ne),s=V(s,t),$(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){le.GlobalResponderHandler=e}}},ae=null,ie={};function ue(){if(ae)for(var e in ie){var n=ie[e],t=ae.indexOf(e);if(!(-1<t))throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!se[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in se[t]=n,t=n.eventTypes){var l=void 0,a=t[r],i=r;if(ce.hasOwnProperty(i))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+i+"`.");ce[i]=a;var u=a.phasedRegistrationNames;if(u){for(l in u)u.hasOwnProperty(l)&&oe(u[l],n);l=!0}else a.registrationName?(oe(a.registrationName,n),l=!0):l=!1;if(!l)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function oe(e,n){if(fe[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");fe[e]=n}var se=[],ce={},fe={};function de(e,n){if(null===(e=e.stateNode))return null;if(null===(e=b(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var pe=o.ReactNativeViewConfigRegistry.customBubblingEventTypes,he=o.ReactNativeViewConfigRegistry.customDirectEventTypes;function ge(e,n,t){(n=de(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=W(t._dispatchListeners,n),t._dispatchInstances=W(t._dispatchInstances,e))}function me(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var n=e._targetInst,t=[];n;){t.push(n);do{n=n.return}while(n&&5!==n.tag);n=n||null}for(n=t.length;0<n--;)ge(t[n],"captured",e);for(n=0;n<t.length;n++)ge(t[n],"bubbled",e)}}function ve(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=de(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=W(e._dispatchListeners,t),e._dispatchInstances=W(e._dispatchInstances,n))}}}if(ae)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ae=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),ue();var ye,be={ResponderEventPlugin:le,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var l=pe[e],a=he[e];if(!l&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=_.getPooled(l||a,n,t,r),l)Y(e,me);else{if(!a)return null;Y(e,ve)}return e}}},Se=!1;for(ye in be)if(be.hasOwnProperty(ye)){var we=be[ye];if(!ie.hasOwnProperty(ye)||ie[ye]!==we){if(ie[ye])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+ye+"`.");ie[ye]=we,Se=!0}}Se&&ue();var ke=new Map,Ee=new Map;function Te(e){return ke.get(e)||null}function xe(e,n){return e(n)}var _e=!1;function Re(e,n){if(_e)return e(n);_e=!0;try{return xe(e,n)}finally{_e=!1}}var Pe=null;function Ce(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)k(e,n[r],t[r]);else n&&k(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var Ne={};function ze(e,n,t){var r=t||Ne,l=Te(e),a=null;null!=l&&(a=l.stateNode),Re(function(){for(var e=a,t=null,i=se,u=0;u<i.length;u++){var o=i[u];o&&(o=o.extractEvents(n,l,r,e))&&(t=W(t,o))}if(null!==(e=t)&&(Pe=W(Pe,e)),e=Pe,Pe=null,e){if(Y(e,Ce),Pe)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(h)throw e=g,h=!1,g=null,e}})}o.RCTEventEmitter.register({receiveEvent:function(e,n,t){ze(e,n,t)},receiveTouches:function(e,n,t){if("topTouchEnd"===e||"topTouchCancel"===e){for(var r=[],l=0;l<t.length;l++){var a=t[l];r.push(n[a]),n[a]=null}for(l=t=0;l<n.length;l++)null!==(a=n[l])&&(n[t++]=a);n.length=t}else for(r=[],l=0;l<t.length;l++)r.push(n[t[l]]);for(t=0;t<r.length;t++){(l=r[t]).changedTouches=r,l.touches=n,a=null;var i=l.target;null===i||void 0===i||1>i||(a=i),ze(a,e,l)}}}),b=function(e){return Ee.get(e._nativeTag)||null},S=Te,w=function(e){var n=(e=e.stateNode)._nativeTag;if(void 0===n&&(n=(e=e.canonical)._nativeTag),!n)throw Error("All native instances should have a tag.");return e},le.injection.injectGlobalResponderHandler({onChange:function(e,n,t){null!==n?o.UIManager.setJSResponder(n.stateNode._nativeTag,t):o.UIManager.clearJSResponder()}});var Ie=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Le=60103,Ue=60106,Me=60107,Ae=60108,De=60114,Qe=60109,Be=60110,Fe=60112,je=60113,Oe=60120,He=60115,Ve=60116,We=60121,Ye=60129,qe=60130,Xe=60131;if("function"==typeof Symbol&&Symbol.for){var $e=Symbol.for;Le=$e("react.element"),Ue=$e("react.portal"),Me=$e("react.fragment"),Ae=$e("react.strict_mode"),De=$e("react.profiler"),Qe=$e("react.provider"),Be=$e("react.context"),Fe=$e("react.forward_ref"),je=$e("react.suspense"),Oe=$e("react.suspense_list"),He=$e("react.memo"),Ve=$e("react.lazy"),We=$e("react.block"),$e("react.scope"),Ye=$e("react.debug_trace_mode"),qe=$e("react.offscreen"),Xe=$e("react.legacy_hidden")}var Ge="function"==typeof Symbol&&Symbol.iterator;function Ke(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ge&&e[Ge]||e["@@iterator"])?e:null}function Je(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Me:return"Fragment";case Ue:return"Portal";case De:return"Profiler";case Ae:return"StrictMode";case je:return"Suspense";case Oe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Be:return(e.displayName||"Context")+".Consumer";case Qe:return(e._context.displayName||"Context")+".Provider";case Fe:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case He:return Je(e.type);case We:return Je(e._render);case Ve:n=e._payload,e=e._init;try{return Je(e(n))}catch(e){}}return null}function Ze(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(1026&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function en(e){if(Ze(e)!==e)throw Error("Unable to find node on an unmounted component.")}function nn(e){var n=e.alternate;if(!n){if(null===(n=Ze(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return en(l),e;if(a===r)return en(l),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=l,r=a;else{for(var i=!1,u=l.child;u;){if(u===t){i=!0,t=l,r=a;break}if(u===r){i=!0,r=l,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,r=l;break}if(u===r){i=!0,r=a,t=l;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function tn(e){if(!(e=nn(e)))return null;for(var n=e;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function rn(e,n){for(var t=e.alternate;null!==n;){if(n===e||n===t)return!0;n=n.return}return!1}var ln={},an=null,un=0,on={unsafelyIgnoreFunctions:!0};function sn(e,n){return"object"!=typeof n||null===n||o.deepDiffer(e,n,on)}function cn(e,n,t){if(Array.isArray(n))for(var r=n.length;r--&&0<un;)cn(e,n[r],t);else if(n&&0<un)for(r in an)if(an[r]){var l=n[r];if(void 0!==l){var a=t[r];a&&("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof a?e[r]=l:"function"!=typeof a.diff&&"function"!=typeof a.process||(l="function"==typeof a.process?a.process(l):l,e[r]=l),an[r]=!1,un--)}}}function fn(e,n,t,r){if(!e&&n===t)return e;if(!n||!t)return t?dn(e,t,r):n?pn(e,n,r):e;if(!Array.isArray(n)&&!Array.isArray(t))return hn(e,n,t,r);if(Array.isArray(n)&&Array.isArray(t)){var l,a=n.length<t.length?n.length:t.length;for(l=0;l<a;l++)e=fn(e,n[l],t[l],r);for(;l<n.length;l++)e=pn(e,n[l],r);for(;l<t.length;l++)e=dn(e,t[l],r);return e}return Array.isArray(n)?hn(e,o.flattenStyle(n),t,r):hn(e,n,o.flattenStyle(t),r)}function dn(e,n,t){if(!n)return e;if(!Array.isArray(n))return hn(e,ln,n,t);for(var r=0;r<n.length;r++)e=dn(e,n[r],t);return e}function pn(e,n,t){if(!n)return e;if(!Array.isArray(n))return hn(e,n,ln,t);for(var r=0;r<n.length;r++)e=pn(e,n[r],t);return e}function hn(e,n,t,r){var l,a;for(a in t)if(l=r[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),an&&(an[a]=!1),e&&void 0!==e[a]?"object"!=typeof l?e[a]=u:"function"!=typeof l.diff&&"function"!=typeof l.process||(l="function"==typeof l.process?l.process(u):u,e[a]=l):i!==u&&("object"!=typeof l?sn(i,u)&&((e||(e={}))[a]=u):"function"==typeof l.diff||"function"==typeof l.process?(void 0===i||("function"==typeof l.diff?l.diff(i,u):sn(i,u)))&&(l="function"==typeof l.process?l.process(u):u,(e||(e={}))[a]=l):(an=null,un=0,e=fn(e,i,u,l),0<un&&e&&(cn(e,u,l),an=null)))}for(var o in n)void 0===t[o]&&(!(l=r[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof l||"function"==typeof l.diff||"function"==typeof l.process?((e||(e={}))[o]=null,an||(an={}),an[o]||(an[o]=!0,un++)):e=pn(e,i,l)));return e}function gn(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var mn=(function(){function e(e,n){this._nativeTag=e,this._children=[],this.viewConfig=n}var n=e.prototype;return n.blur=function(){o.TextInputState.blurTextInput(this)},n.focus=function(){o.TextInputState.focusTextInput(this)},n.measure=function(e){o.UIManager.measure(this._nativeTag,gn(this,e))},n.measureInWindow=function(e){o.UIManager.measureInWindow(this._nativeTag,gn(this,e))},n.measureLayout=function(e,n,t){if("number"==typeof e)var r=e;else e._nativeTag&&(r=e._nativeTag);null!=r&&o.UIManager.measureLayout(this._nativeTag,r,gn(this,t),gn(this,n))},n.setNativeProps=function(e){null!=(e=hn(null,ln,e,this.viewConfig.validAttributes))&&o.UIManager.updateView(this._nativeTag,this.viewConfig.uiViewClassName,e)},e})();function vn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var yn=o.ReactNativeViewConfigRegistry.get,bn={},Sn=3;function wn(){var e=Sn;return 1==e%10&&(e+=2),Sn=e+2,e}function kn(e){if("number"==typeof e)ke.delete(e),Ee.delete(e);else{var n=e._nativeTag;ke.delete(n),Ee.delete(n),e._children.forEach(kn)}}function En(e){if(0===e._children.length)return!1;var n=e._children.map(function(e){return"number"==typeof e?e:e._nativeTag});return o.UIManager.setChildren(e._nativeTag,n),!1}var Tn=setTimeout,xn=clearTimeout;function _n(e,n,t){return n="",t&&(n=" (created by "+t+")"),"\n    in "+(e||"Unknown")+n}function Rn(e,n){return e?_n(e.displayName||e.name||null,n,null):""}var Pn=[],Cn=-1;function Nn(e){return{current:e}}function zn(e){0>Cn||(e.current=Pn[Cn],Pn[Cn]=null,Cn--)}function In(e,n){Pn[++Cn]=e.current,e.current=n}var Ln={},Un=Nn(Ln),Mn=Nn(!1),An=Ln;function Dn(e,n){var t=e.type.contextTypes;if(!t)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in t)a[l]=n[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bn(){zn(Mn),zn(Un)}function Fn(e,n,t){if(Un.current!==Ln)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");In(Un,n),In(Mn,t)}function jn(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var l in r=r.getChildContext())if(!(l in e))throw Error((Je(n)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return u({},t,r)}function On(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,An=Un.current,In(Un,e),In(Mn,Mn.current),!0}function Hn(e,n,t){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");t?(e=jn(e,n,An),r.__reactInternalMemoizedMergedChildContext=e,zn(Mn),zn(Un),In(Un,e)):zn(Mn),In(Mn,t)}var Vn=null,Wn=null;(0,c.unstable_now)();var Yn=8;function qn(e){if(0!=(1&e))return Yn=15,1;if(0!=(2&e))return Yn=14,2;if(0!=(4&e))return Yn=13,4;var n=24&e;return 0!==n?(Yn=12,n):0!=(32&e)?(Yn=11,32):0!==(n=192&e)?(Yn=10,n):0!=(256&e)?(Yn=9,256):0!==(n=3584&e)?(Yn=8,n):0!=(4096&e)?(Yn=7,4096):0!==(n=4186112&e)?(Yn=6,n):0!==(n=62914560&e)?(Yn=5,n):67108864&e?(Yn=4,67108864):0!=(134217728&e)?(Yn=3,134217728):0!==(n=805306368&e)?(Yn=2,n):0!=(1073741824&e)?(Yn=1,1073741824):(Yn=8,e)}function Xn(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function $n(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error("Invalid update priority: "+e+". This is a bug in React.")}}function Gn(e,n){var t=e.pendingLanes;if(0===t)return Yn=0;var r=0,l=0,a=e.expiredLanes,i=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,l=Yn=15;else if(0!==(a=134217727&t)){var o=a&~i;0!==o?(r=qn(o),l=Yn):0!==(u&=a)&&(r=qn(u),l=Yn)}else 0!==(a=t&~i)?(r=qn(a),l=Yn):0!==u&&(r=qn(u),l=Yn);if(0===r)return 0;if(r=t&((0>(r=31-tt(r))?0:1<<r)<<1)-1,0!==n&&n!==r&&0==(n&i)){if(qn(n),l<=Yn)return n;Yn=l}if(0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)l=1<<(t=31-tt(n)),r|=e[t],n&=~l;return r}function Kn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Jn(e,n){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Zn(24&~n))?Jn(10,n):e;case 10:return 0===(e=Zn(192&~n))?Jn(8,n):e;case 8:return 0===(e=Zn(3584&~n))&&(0===(e=Zn(4186112&~n))&&(e=512)),e;case 2:return 0===(n=Zn(805306368&~n))&&(n=268435456),n}throw Error("Invalid update priority: "+e+". This is a bug in React.")}function Zn(e){return e&-e}function et(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function nt(e,n,t){e.pendingLanes|=n;var r=n-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[n=31-tt(n)]=t}var tt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(rt(e)/lt|0)|0},rt=Math.log,lt=Math.LN2;var at=c.unstable_runWithPriority,it=c.unstable_scheduleCallback,ut=c.unstable_cancelCallback,ot=c.unstable_shouldYield,st=c.unstable_requestPaint,ct=c.unstable_now,ft=c.unstable_getCurrentPriorityLevel,dt=c.unstable_ImmediatePriority,pt=c.unstable_UserBlockingPriority,ht=c.unstable_NormalPriority,gt=c.unstable_LowPriority,mt=c.unstable_IdlePriority,vt={},yt=void 0!==st?st:function(){},bt=null,St=null,wt=!1,kt=ct(),Et=1e4>kt?ct:function(){return ct()-kt};function Tt(){switch(ft()){case dt:return 99;case pt:return 98;case ht:return 97;case gt:return 96;case mt:return 95;default:throw Error("Unknown priority level.")}}function xt(e){switch(e){case 99:return dt;case 98:return pt;case 97:return ht;case 96:return gt;case 95:return mt;default:throw Error("Unknown priority level.")}}function _t(e,n){return e=xt(e),at(e,n)}function Rt(e,n,t){return e=xt(e),it(e,n,t)}function Pt(){if(null!==St){var e=St;St=null,ut(e)}Ct()}function Ct(){if(!wt&&null!==bt){wt=!0;var e=0;try{var n=bt;_t(99,function(){for(;e<n.length;e++){var t=n[e];do{t=t(!0)}while(null!==t)}}),bt=null}catch(n){throw null!==bt&&(bt=bt.slice(e+1)),it(dt,Pt),n}finally{wt=!1}}}var Nt=Ie.ReactCurrentBatchConfig;var zt="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},It=Object.prototype.hasOwnProperty;function Lt(e,n){if(zt(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!It.call(n,t[r])||!zt(e[t[r]],n[t[r]]))return!1;return!0}function Ut(e){switch(e.tag){case 5:return _n(e.type,null,null);case 16:return _n("Lazy",null,null);case 13:return _n("Suspense",null,null);case 19:return _n("SuspenseList",null,null);case 0:case 2:case 15:return Rn(e.type,null);case 11:return Rn(e.type.render,null);case 22:return Rn(e.type._render,null);case 1:return e=Rn(e.type,null);default:return""}}function Mt(e){try{var n="";do{n+=Ut(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function At(e,n){if(e&&e.defaultProps){for(var t in n=u({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var Dt=Nn(null),Qt=null,Bt=null,Ft=null;function jt(){Ft=Bt=Qt=null}function Ot(e){var n=Dt.current;zn(Dt),e.type._context._currentValue=n}function Ht(e,n){for(;null!==e;){var t=e.alternate;if((e.childLanes&n)===n){if(null===t||(t.childLanes&n)===n)break;t.childLanes|=n}else e.childLanes|=n,null!==t&&(t.childLanes|=n);e=e.return}}function Vt(e,n){Qt=e,Ft=Bt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(fl=!0),e.firstContext=null)}function Wt(e,n){if(Ft!==e&&!1!==n&&0!==n)if("number"==typeof n&&1073741823!==n||(Ft=e,n=1073741823),n={context:e,observedBits:n,next:null},null===Bt){if(null===Qt)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Bt=n,Qt.dependencies={lanes:0,firstContext:n,responders:null}}else Bt=Bt.next=n;return e._currentValue}var Yt=!1;function qt(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Xt(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Gt(e,n){if(null!==(e=e.updateQueue)){var t=(e=e.shared).pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function Kt(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?l=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Jt(e,n,t,r){var l=e.updateQueue;Yt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(null!==o){l.shared.pending=null;var s=o,c=s.next;s.next=null,null===i?a=c:i.next=c,i=s;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==i&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=s)}}if(null!==a){for(d=l.baseState,i=0,f=c=s=null;;){o=a.lane;var p=a.eventTime;if((r&o)===o){null!==f&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(o=n,p=t,g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(p,d,o);break e}d=h;break e;case 3:h.flags=-8193&h.flags|64;case 0:if(null===(o="function"==typeof(h=g.payload)?h.call(p,d,o):h)||void 0===o)break e;d=u({},d,o);break e;case 2:Yt=!0}}null!==a.callback&&(e.flags|=32,null===(o=l.effects)?l.effects=[a]:o.push(a))}else p={eventTime:p,lane:o,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=p,s=d):f=f.next=p,i|=o;if(null===(a=a.next)){if(null===(o=l.shared.pending))break;a=o.next,o.next=null,l.lastBaseUpdate=o,l.shared.pending=null}}null===f&&(s=d),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=f,va|=i,e.lanes=i,e.memoizedState=d}}function Zt(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],l=r.callback;if(null!==l){if(r.callback=null,"function"!=typeof l)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+l);l.call(t)}}}var er=(new s.Component).refs;function nr(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:u({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var tr={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Fa(),l=ja(e),a=$t(r,l);a.payload=n,void 0!==t&&null!==t&&(a.callback=t),Gt(e,a),Oa(e,l,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Fa(),l=ja(e),a=$t(r,l);a.tag=1,a.payload=n,void 0!==t&&null!==t&&(a.callback=t),Gt(e,a),Oa(e,l,r)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Fa(),r=ja(e),l=$t(t,r);l.tag=2,void 0!==n&&null!==n&&(l.callback=n),Gt(e,l),Oa(e,r,t)}};function rr(e,n,t,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!Lt(t,r)||!Lt(l,a))}function lr(e,n,t){var r=!1,l=Ln,a=n.contextType;return"object"==typeof a&&null!==a?a=Wt(a):(l=Qn(n)?An:Un.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?Dn(e,l):Ln),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=tr,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),n}function ar(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&tr.enqueueReplaceState(n,n.state,null)}function ir(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs=er,qt(e);var a=n.contextType;"object"==typeof a&&null!==a?l.context=Wt(a):(a=Qn(n)?An:Un.current,l.context=Dn(e,a)),Jt(e,t,l,r),l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(nr(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&tr.enqueueReplaceState(l,l.state,null),Jt(e,t,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}var ur=Array.isArray;function or(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");var r=t.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var l=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===l?n.ref:((n=function(e){var n=r.refs;n===er&&(n=r.refs={}),null===e?delete n[l]:n[l]=e})._stringRef=l,n)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!t._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return e}function sr(e,n){if("textarea"!==e.type)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}function cr(e){function n(n,t){if(e){var r=n.lastEffect;null!==r?(r.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t,t.nextEffect=null,t.flags=8}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function l(e,n){return(e=bi(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags=2,t):r:(n.flags=2,t):t}function i(n){return e&&null===n.alternate&&(n.flags=2),n}function u(e,n,t,r){return null===n||6!==n.tag?((n=Ei(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function o(e,n,t,r){return null!==n&&n.elementType===t.type?((r=l(n,t.props)).ref=or(e,n,t),r.return=e,r):((r=Si(t.type,t.key,t.props,null,e.mode,r)).ref=or(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Ti(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function c(e,n,t,r,a){return null===n||7!==n.tag?((n=wi(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function f(e,n,t){if("string"==typeof n||"number"==typeof n)return(n=Ei(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case Le:return(t=Si(n.type,n.key,n.props,null,e.mode,t)).ref=or(e,null,n),t.return=e,t;case Ue:return(n=Ti(n,e.mode,t)).return=e,n}if(ur(n)||Ke(n))return(n=wi(n,e.mode,t,null)).return=e,n;sr(e,n)}return null}function d(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t||"number"==typeof t)return null!==l?null:u(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case Le:return t.key===l?t.type===Me?c(e,n,t.props.children,r,l):o(e,n,t,r):null;case Ue:return t.key===l?s(e,n,t,r):null}if(ur(t)||Ke(t))return null!==l?null:c(e,n,t,r,null);sr(e,t)}return null}function p(e,n,t,r,l){if("string"==typeof r||"number"==typeof r)return u(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Le:return e=e.get(null===r.key?t:r.key)||null,r.type===Me?c(n,e,r.props.children,l,r.key):o(n,e,r,l);case Ue:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l)}if(ur(r)||Ke(r))return c(n,e=e.get(t)||null,r,l,null);sr(n,r)}return null}function h(l,i,u,o){for(var s=null,c=null,h=i,g=i=0,m=null;null!==h&&g<u.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(l,h,u[g],o);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&n(l,h),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v,h=m}if(g===u.length)return t(l,h),s;if(null===h){for(;g<u.length;g++)null!==(h=f(l,u[g],o))&&(i=a(h,i,g),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(l,h);g<u.length;g++)null!==(m=p(h,l,g,u[g],o))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=a(m,i,g),null===c?s=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return n(l,e)}),s}function g(l,i,u,o){var s=Ke(u);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(u=s.call(u)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=i,g=i=0,m=null,v=u.next();null!==h&&!v.done;g++,v=u.next()){h.index>g?(m=h,h=null):m=h.sibling;var y=d(l,h,v.value,o);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&n(l,h),i=a(y,i,g),null===c?s=y:c.sibling=y,c=y,h=m}if(v.done)return t(l,h),s;if(null===h){for(;!v.done;g++,v=u.next())null!==(v=f(l,v.value,o))&&(i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(l,h);!v.done;g++,v=u.next())null!==(v=p(h,l,g,v.value,o))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return n(l,e)}),s}return function(e,r,a,u){var o="object"==typeof a&&null!==a&&a.type===Me&&null===a.key;o&&(a=a.props.children);var s="object"==typeof a&&null!==a;if(s)switch(a.$$typeof){case Le:e:{for(s=a.key,o=r;null!==o;){if(o.key===s){switch(o.tag){case 7:if(a.type===Me){t(e,o.sibling),(r=l(o,a.props.children)).return=e,e=r;break e}break;default:if(o.elementType===a.type){t(e,o.sibling),(r=l(o,a.props)).ref=or(e,o,a),r.return=e,e=r;break e}}t(e,o);break}n(e,o),o=o.sibling}a.type===Me?((r=wi(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Si(a.type,a.key,a.props,null,e.mode,u)).ref=or(e,r,a),u.return=e,e=u)}return i(e);case Ue:e:{for(o=a.key;null!==r;){if(r.key===o){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(r=l(r,a.children||[])).return=e,e=r;break e}t(e,r);break}n(e,r),r=r.sibling}(r=Ti(a,e.mode,u)).return=e,e=r}return i(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(r=l(r,a)).return=e,e=r):(t(e,r),(r=Ei(a,e.mode,u)).return=e,e=r),i(e);if(ur(a))return h(e,r,a,u);if(Ke(a))return g(e,r,a,u);if(s&&sr(e,a),void 0===a&&!o)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error((Je(e.type)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return t(e,r)}}var fr=cr(!0),dr=cr(!1),pr={},hr=Nn(pr),gr=Nn(pr),mr=Nn(pr);function vr(e){if(e===pr)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function yr(e,n){In(mr,n),In(gr,e),In(hr,pr),zn(hr),In(hr,{isInAParentText:!1})}function br(){zn(hr),zn(gr),zn(mr)}function Sr(e){vr(mr.current);var n=vr(hr.current),t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(In(gr,e),In(hr,t))}function wr(e){gr.current===e&&(zn(hr),zn(gr))}var kr=Nn(0);function Er(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||vn()||vn()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(64&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tr=[];function xr(){for(var e=0;e<Tr.length;e++)Tr[e]._workInProgressVersionPrimary=null;Tr.length=0}var _r=Ie.ReactCurrentDispatcher,Rr=Ie.ReactCurrentBatchConfig,Pr=0,Cr=null,Nr=null,zr=null,Ir=!1,Lr=!1;function Ur(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Mr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!zt(e[t],n[t]))return!1;return!0}function Ar(e,n,t,r,l,a){if(Pr=a,Cr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,_r.current=null===e||null===e.memoizedState?ul:ol,e=t(r,l),Lr){a=0;do{if(Lr=!1,!(25>a))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");a+=1,zr=Nr=null,n.updateQueue=null,_r.current=sl,e=t(r,l)}while(Lr)}if(_r.current=il,n=null!==Nr&&null!==Nr.next,Pr=0,zr=Nr=Cr=null,Ir=!1,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zr?Cr.memoizedState=zr=e:zr=zr.next=e,zr}function Qr(){if(null===Nr){var e=Cr.alternate;e=null!==e?e.memoizedState:null}else e=Nr.next;var n=null===zr?Cr.memoizedState:zr.next;if(null!==n)zr=n,Nr=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(Nr=e).memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},null===zr?Cr.memoizedState=zr=e:zr=zr.next=e}return zr}function Br(e,n){return"function"==typeof n?n(e):n}function Fr(e){var n=Qr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=Nr,l=r.baseQueue,a=t.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,t.pending=null}if(null!==l){l=l.next,r=r.baseState;var u=i=a=null,o=l;do{var s=o.lane;if((Pr&s)===s)null!==u&&(u=u.next={lane:0,action:o.action,eagerReducer:o.eagerReducer,eagerState:o.eagerState,next:null}),r=o.eagerReducer===e?o.eagerState:e(r,o.action);else{var c={lane:s,action:o.action,eagerReducer:o.eagerReducer,eagerState:o.eagerState,next:null};null===u?(i=u=c,a=r):u=u.next=c,Cr.lanes|=s,va|=s}o=o.next}while(null!==o&&o!==l);null===u?a=r:u.next=i,zt(r,n.memoizedState)||(fl=!0),n.memoizedState=r,n.baseState=a,n.baseQueue=u,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function jr(e){var n=Qr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);zt(a,n.memoizedState)||(fl=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function Or(e,n,t){var r=n._getVersion;r=r(n._source);var l=n._workInProgressVersionPrimary;if(null!==l?e=l===r:(e=e.mutableReadLanes,(e=(Pr&e)===e)&&(n._workInProgressVersionPrimary=r,Tr.push(n))),e)return t(n._source);throw Tr.push(n),Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.")}function Hr(e,n,t,r){var l=sa;if(null===l)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var a=n._getVersion,i=a(n._source),u=_r.current,o=u.useState(function(){return Or(l,n,t)}),s=o[1],c=o[0];o=zr;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,h=f.source;f=f.subscribe;var g=Cr;return e.memoizedState={refs:d,source:n,subscribe:r},u.useEffect(function(){d.getSnapshot=t,d.setSnapshot=s;var e=a(n._source);if(!zt(i,e)){e=t(n._source),zt(c,e)||(s(e),e=ja(g),l.mutableReadLanes|=e&l.pendingLanes),e=l.mutableReadLanes,l.entangledLanes|=e;for(var r=l.entanglements,u=e;0<u;){var o=31-tt(u),f=1<<o;r[o]|=e,u&=~f}}},[t,n,r]),u.useEffect(function(){return r(n._source,function(){var e=d.getSnapshot,t=d.setSnapshot;try{t(e(n._source));var r=ja(g);l.mutableReadLanes|=r&l.pendingLanes}catch(e){t(function(){throw e})}})},[n,r]),zt(p,t)&&zt(h,n)&&zt(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Br,lastRenderedState:c}).dispatch=s=al.bind(null,Cr,e),o.queue=e,o.baseQueue=null,c=Or(l,n,t),o.memoizedState=o.baseState=c),c}function Vr(e,n,t){return Hr(Qr(),e,n,t)}function Wr(e){var n=Dr();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e}).dispatch=al.bind(null,Cr,e),[n.memoizedState,e]}function Yr(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=Cr.updateQueue)?(n={lastEffect:null},Cr.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function qr(){return Qr().memoizedState}function Xr(e,n,t,r){var l=Dr();Cr.flags|=e,l.memoizedState=Yr(1|n,t,void 0,void 0===r?null:r)}function $r(e,n,t,r){var l=Qr();r=void 0===r?null:r;var a=void 0;if(null!==Nr){var i=Nr.memoizedState;if(a=i.destroy,null!==r&&Mr(r,i.deps))return void Yr(n,t,a,r)}Cr.flags|=e,l.memoizedState=Yr(1|n,t,a,r)}function Gr(e,n){return Xr(516,4,e,n)}function Kr(e,n){return $r(516,4,e,n)}function Jr(e,n){return $r(4,2,e,n)}function Zr(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function el(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,$r(4,2,Zr.bind(null,n,e),t)}function nl(){}function tl(e,n){var t=Qr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Mr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function rl(e,n){var t=Qr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Mr(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function ll(e,n){var t=Tt();_t(98>t?98:t,function(){e(!0)}),_t(97<t?97:t,function(){var t=Rr.transition;Rr.transition=1;try{e(!1),n()}finally{Rr.transition=t}})}function al(e,n,t){var r=Fa(),l=ja(e),a={lane:l,action:t,eagerReducer:null,eagerState:null,next:null},i=n.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),n.pending=a,i=e.alternate,e===Cr||null!==i&&i===Cr)Lr=Ir=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=n.lastRenderedReducer))try{var u=n.lastRenderedState,o=i(u,t);if(a.eagerReducer=i,a.eagerState=o,zt(o,u))return}catch(e){}Oa(e,l,r)}}var il={readContext:Wt,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useOpaqueIdentifier:Ur,unstable_isNewReconciler:!1},ul={readContext:Wt,useCallback:function(e,n){return Dr().memoizedState=[e,void 0===n?null:n],e},useContext:Wt,useEffect:Gr,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Xr(4,2,Zr.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Xr(4,2,e,n)},useMemo:function(e,n){var t=Dr();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Dr();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}).dispatch=al.bind(null,Cr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Dr().memoizedState=e},useState:Wr,useDebugValue:nl,useDeferredValue:function(e){var n=Wr(e),t=n[0],r=n[1];return Gr(function(){var n=Rr.transition;Rr.transition=1;try{r(e)}finally{Rr.transition=n}},[e]),t},useTransition:function(){var e=Wr(!1),n=e[0];return e=ll.bind(null,e[1]),Dr().memoizedState=e,[e,n]},useMutableSource:function(e,n,t){var r=Dr();return r.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:e,subscribe:t},Hr(r,e,n,t)},useOpaqueIdentifier:function(){throw Error("Not yet implemented")},unstable_isNewReconciler:!1},ol={readContext:Wt,useCallback:tl,useContext:Wt,useEffect:Kr,useImperativeHandle:el,useLayoutEffect:Jr,useMemo:rl,useReducer:Fr,useRef:qr,useState:function(){return Fr(Br)},useDebugValue:nl,useDeferredValue:function(e){var n=Fr(Br),t=n[0],r=n[1];return Kr(function(){var n=Rr.transition;Rr.transition=1;try{r(e)}finally{Rr.transition=n}},[e]),t},useTransition:function(){var e=Fr(Br)[0];return[Qr().memoizedState,e]},useMutableSource:Vr,useOpaqueIdentifier:function(){return Fr(Br)[0]},unstable_isNewReconciler:!1},sl={readContext:Wt,useCallback:tl,useContext:Wt,useEffect:Kr,useImperativeHandle:el,useLayoutEffect:Jr,useMemo:rl,useReducer:jr,useRef:qr,useState:function(){return jr(Br)},useDebugValue:nl,useDeferredValue:function(e){var n=jr(Br),t=n[0],r=n[1];return Kr(function(){var n=Rr.transition;Rr.transition=1;try{r(e)}finally{Rr.transition=n}},[e]),t},useTransition:function(){var e=jr(Br)[0];return[Qr().memoizedState,e]},useMutableSource:Vr,useOpaqueIdentifier:function(){return jr(Br)[0]},unstable_isNewReconciler:!1},cl=Ie.ReactCurrentOwner,fl=!1;function dl(e,n,t,r){n.child=null===e?dr(n,null,t,r):fr(n,e.child,t,r)}function pl(e,n,t,r,l){t=t.render;var a=n.ref;return Vt(n,l),r=Ar(e,n,t,r,a,l),null===e||fl?(n.flags|=1,dl(e,n,r,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~l,Ul(e,n,l))}function hl(e,n,t,r,l,a){if(null===e){var i=t.type;return"function"!=typeof i||vi(i)||void 0!==i.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Si(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=i,gl(e,n,i,r,l,a))}return i=e.child,0==(l&a)&&(l=i.memoizedProps,(t=null!==(t=t.compare)?t:Lt)(l,r)&&e.ref===n.ref)?Ul(e,n,a):(n.flags|=1,(e=bi(i,r)).ref=n.ref,e.return=n,n.child=e)}function gl(e,n,t,r,l,a){if(null!==e&&Lt(e.memoizedProps,r)&&e.ref===n.ref){if(fl=!1,0==(a&l))return n.lanes=e.lanes,Ul(e,n,a);0!=(32768&e.flags)&&(fl=!0)}return yl(e,n,t,r,a)}function ml(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&n.mode))n.memoizedState={baseLanes:0},Xa(n,t);else{if(0==(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e},Xa(n,e),null;n.memoizedState={baseLanes:0},Xa(n,null!==a?a.baseLanes:t)}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,Xa(n,r);return dl(e,n,l,t),n.child}function vl(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=128)}function yl(e,n,t,r,l){var a=Qn(t)?An:Un.current;return a=Dn(n,a),Vt(n,l),t=Ar(e,n,t,r,a,l),null===e||fl?(n.flags|=1,dl(e,n,t,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~l,Ul(e,n,l))}function bl(e,n,t,r,l){if(Qn(t)){var a=!0;On(n)}else a=!1;if(Vt(n,l),null===n.stateNode)null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),lr(n,t,r),ir(n,t,r,l),r=!0;else if(null===e){var i=n.stateNode,u=n.memoizedProps;i.props=u;var o=i.context,s=t.contextType;"object"==typeof s&&null!==s?s=Wt(s):s=Dn(n,s=Qn(t)?An:Un.current);var c=t.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==r||o!==s)&&ar(n,i,r,s),Yt=!1;var d=n.memoizedState;i.state=d,Jt(n,r,i,l),o=n.memoizedState,u!==r||d!==o||Mn.current||Yt?("function"==typeof c&&(nr(n,t,c,r),o=n.memoizedState),(u=Yt||rr(n,t,u,r,d,o,s))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4)):("function"==typeof i.componentDidMount&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=o),i.props=r,i.state=o,i.context=s,r=u):("function"==typeof i.componentDidMount&&(n.flags|=4),r=!1)}else{i=n.stateNode,Xt(e,n),u=n.memoizedProps,s=n.type===n.elementType?u:At(n.type,u),i.props=s,f=n.pendingProps,d=i.context,"object"==typeof(o=t.contextType)&&null!==o?o=Wt(o):o=Dn(n,o=Qn(t)?An:Un.current);var p=t.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==f||d!==o)&&ar(n,i,r,o),Yt=!1,d=n.memoizedState,i.state=d,Jt(n,r,i,l);var h=n.memoizedState;u!==f||d!==h||Mn.current||Yt?("function"==typeof p&&(nr(n,t,p,r),h=n.memoizedState),(s=Yt||rr(n,t,s,r,d,h,o))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,o),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,o)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=256)):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=256),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=o,r=s):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=256),r=!1)}return Sl(e,n,t,r,a,l)}function Sl(e,n,t,r,l,a){vl(e,n);var i=0!=(64&n.flags);if(!r&&!i)return l&&Hn(n,t,!1),Ul(e,n,a);r=n.stateNode,cl.current=n;var u=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=fr(n,e.child,null,a),n.child=fr(n,null,u,a)):dl(e,n,u,a),n.memoizedState=r.state,l&&Hn(n,t,!0),n.child}function wl(e){var n=e.stateNode;n.pendingContext?Fn(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Fn(0,n.context,!1),yr(e,n.containerInfo)}var kl,El,Tl,xl,_l={dehydrated:null,retryLane:0};function Rl(e,n,t){var r,l=n.pendingProps,a=kr.current,i=!1;return(r=0!=(64&n.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,n.flags&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),In(kr,1&a),null===e?(e=l.children,a=l.fallback,i?(e=Pl(n,e,a,t),n.child.memoizedState={baseLanes:t},n.memoizedState=_l,e):"number"==typeof l.unstable_expectedLoadTime?(e=Pl(n,e,a,t),n.child.memoizedState={baseLanes:t},n.memoizedState=_l,n.lanes=33554432,e):((t=ki({mode:"visible",children:e},n.mode,t,null)).return=n,n.child=t)):(e.memoizedState,i?(l=Nl(e,n,l.children,l.fallback,t),i=n.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:t}:{baseLanes:a.baseLanes|t},i.childLanes=e.childLanes&~t,n.memoizedState=_l,l):(t=Cl(e,n,l.children,t),n.memoizedState=null,t))}function Pl(e,n,t,r){var l=e.mode,a=e.child;return n={mode:"hidden",children:n},0==(2&l)&&null!==a?(a.childLanes=0,a.pendingProps=n):a=ki(n,l,0,null),t=wi(t,l,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,t}function Cl(e,n,t,r){var l=e.child;return e=l.sibling,t=bi(l,{mode:"visible",children:t}),0==(2&n.mode)&&(t.lanes=r),t.return=n,t.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,n.firstEffect=n.lastEffect=e),n.child=t}function Nl(e,n,t,r,l){var a=n.mode,i=e.child;e=i.sibling;var u={mode:"hidden",children:t};return 0==(2&a)&&n.child!==i?((t=n.child).childLanes=0,t.pendingProps=u,null!==(i=t.lastEffect)?(n.firstEffect=t.firstEffect,n.lastEffect=i,i.nextEffect=null):n.firstEffect=n.lastEffect=null):t=bi(i,u),null!==e?r=bi(e,r):(r=wi(r,a,l,null)).flags|=2,r.return=n,t.return=n,t.sibling=r,n.child=t,r}function zl(e,n){e.lanes|=n;var t=e.alternate;null!==t&&(t.lanes|=n),Ht(e.return,n)}function Il(e,n,t,r,l,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l,lastEffect:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=l,i.lastEffect=a)}function Ll(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(dl(e,n,r.children,t),0!=(2&(r=kr.current)))r=1&r|2,n.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zl(e,t);else if(19===e.tag)zl(e,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(In(kr,r),0==(2&n.mode))n.memoizedState=null;else switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===Er(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Il(n,!1,l,t,a,n.lastEffect);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===Er(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Il(n,!0,t,null,a,n.lastEffect);break;case"together":Il(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function Ul(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),va|=n.lanes,0!=(t&n.childLanes)){if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=bi(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=bi(e,e.pendingProps)).return=n;t.sibling=null}return n.child}return null}function Ml(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Al(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Qn(n.type)&&Bn(),null;case 3:return br(),zn(Mn),zn(Un),xr(),(r=n.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||r.hydrate||(n.flags|=256),El(n),null;case 5:wr(n);var l=vr(mr.current);if(t=n.type,null!==e&&null!=n.stateNode)Tl(e,n,t,r,l),e.ref!==n.ref&&(n.flags|=128);else{if(!r){if(null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}vr(hr.current),e=wn(),t=yn(t);var a=hn(null,ln,r,t.validAttributes);o.UIManager.createView(e,t.uiViewClassName,l,a),l=new mn(e,t,n),ke.set(e,n),Ee.set(e,r),kl(l,n,!1,!1),n.stateNode=l,En(l)&&(n.flags|=4),null!==n.ref&&(n.flags|=128)}return null;case 6:if(e&&null!=n.stateNode)xl(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=vr(mr.current),!vr(hr.current).isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");l=wn(),o.UIManager.createView(l,"RCTRawText",e,{text:r}),ke.set(l,n),n.stateNode=l}return null;case 13:return zn(kr),r=n.memoizedState,0!=(64&n.flags)?(n.lanes=t,n):(r=null!==r,l=!1,null!==e&&(l=null!==e.memoizedState),r&&!l&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&kr.current)?0===ha&&(ha=3):(0!==ha&&3!==ha||(ha=4),null===sa||0==(134217727&va)&&0==(134217727&ya)||Ya(sa,fa))),(r||l)&&(n.flags|=4),null);case 4:return br(),El(n),null;case 10:return Ot(n),null;case 17:return Qn(n.type)&&Bn(),null;case 19:if(zn(kr),null===(r=n.memoizedState))return null;if(l=0!=(64&n.flags),null===(a=r.rendering))if(l)Ml(r,!1);else{if(0!==ha||null!==e&&0!=(64&e.flags))for(e=n.child;null!==e;){if(null!==(a=Er(e))){for(n.flags|=64,Ml(r,!1),null!==(e=a.updateQueue)&&(n.updateQueue=e,n.flags|=4),null===r.lastEffect&&(n.firstEffect=null),n.lastEffect=r.lastEffect,e=t,r=n.child;null!==r;)t=e,(l=r).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(a=l.alternate)?(l.childLanes=0,l.lanes=t,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,t=a.dependencies,l.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return In(kr,1&kr.current|2),n.child}e=e.sibling}null!==r.tail&&Et()>ka&&(n.flags|=64,l=!0,Ml(r,!1),n.lanes=33554432)}else{if(!l)if(null!==(e=Er(a))){if(n.flags|=64,l=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.flags|=4),Ml(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(n=n.lastEffect=r.lastEffect)&&(n.nextEffect=null),null}else 2*Et()-r.renderingStartTime>ka&&1073741824!==t&&(n.flags|=64,l=!0,Ml(r,!1),n.lanes=33554432);r.isBackwards?(a.sibling=n.child,n.child=a):(null!==(e=r.last)?e.sibling=a:n.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=Et(),e.sibling=null,n=kr.current,In(kr,l?1&n|2:1&n),e):null;case 23:case 24:return $a(),null!==e&&null!==e.memoizedState!=(null!==n.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(n.flags|=4),null}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Dl(e){switch(e.tag){case 1:Qn(e.type)&&Bn();var n=e.flags;return 8192&n?(e.flags=-8193&n|64,e):null;case 3:if(br(),zn(Mn),zn(Un),xr(),0!=(64&(n=e.flags)))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.flags=-8193&n|64,e;case 5:return wr(e),null;case 13:return zn(kr),8192&(n=e.flags)?(e.flags=-8193&n|64,e):null;case 19:return zn(kr),null;case 4:return br(),null;case 10:return Ot(e),null;case 23:case 24:return $a(),null;default:return null}}function Ql(e,n){return{value:e,source:n,stack:Mt(n)}}if(kl=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e._children.push(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},El=function(){},Tl=function(e,n,t,r){e.memoizedProps!==r&&(vr(hr.current),n.updateQueue=bn)&&(n.flags|=4)},xl=function(e,n,t,r){t!==r&&(n.flags|=4)},"function"!=typeof o.ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function Bl(e,n){try{!1!==o.ReactFiberErrorDialog.showErrorDialog({componentStack:null!==n.stack?n.stack:"",error:n.value,errorBoundary:null!==e&&1===e.tag?e.stateNode:null})&&console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var Fl="function"==typeof WeakMap?WeakMap:Map;function jl(e,n,t){(t=$t(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ta||(Ta=!0,xa=r),Bl(e,n)},t}function Ol(e,n,t){(t=$t(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=n.value;t.payload=function(){return Bl(e,n),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){"function"!=typeof r&&(null===_a?_a=new Set([this]):_a.add(this),Bl(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var Hl="function"==typeof WeakSet?WeakSet:Set;function Vl(e){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){di(e,n)}else n.current=null}function Wl(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&n.flags&&null!==e){var t=e.memoizedProps,r=e.memoizedState;n=(e=n.stateNode).getSnapshotBeforeUpdate(n.elementType===n.type?t:At(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:return;case 5:case 6:case 4:case 17:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function Yl(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:if(null!==(n=null!==(n=t.updateQueue)?n.lastEffect:null)){e=n=n.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==n)}if(null!==(n=null!==(n=t.updateQueue)?n.lastEffect:null)){e=n=n.next;do{var l=e;r=l.next,0!=(4&(l=l.tag))&&0!=(1&l)&&(si(t,e),oi(t,e)),e=r}while(e!==n)}return;case 1:return e=t.stateNode,4&t.flags&&(null===n?e.componentDidMount():(r=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps),e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(n=t.updateQueue)&&Zt(t,n,e));case 3:if(null!==(n=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Zt(t,n,e)}return;case 5:case 6:case 4:case 12:case 13:return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function ql(e,n){for(var t=e;;){if(5===t.tag){var r=t.stateNode;if(n){var l=r.viewConfig,a=hn(null,ln,{style:{display:"none"}},l.validAttributes);o.UIManager.updateView(r._nativeTag,l.uiViewClassName,a)}else{r=t.stateNode,a=t.memoizedProps,l=r.viewConfig,a=hn(null,u({},a,{style:[a.style,{display:"none"}]}),a,l.validAttributes),o.UIManager.updateView(r._nativeTag,l.uiViewClassName,a)}}else{if(6===t.tag)throw Error("Not yet implemented.");if((23!==t.tag&&24!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function Xl(e,n){if(Wn&&"function"==typeof Wn.onCommitFiberUnmount)try{Wn.onCommitFiberUnmount(Vn,n)}catch(e){}switch(n.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=n.updateQueue)&&null!==(e=e.lastEffect)){var t=e=e.next;do{var r=t,l=r.destroy;if(r=r.tag,void 0!==l)if(0!=(4&r))si(n,t);else{r=n;try{l()}catch(e){di(r,e)}}t=t.next}while(t!==e)}break;case 1:if(Vl(n),"function"==typeof(e=n.stateNode).componentWillUnmount)try{e.props=n.memoizedProps,e.state=n.memoizedState,e.componentWillUnmount()}catch(e){di(n,e)}break;case 5:Vl(n);break;case 4:ea(e,n)}}function $l(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Gl(e){return 5===e.tag||3===e.tag||4===e.tag}function Kl(e){e:{for(var n=e.return;null!==n;){if(Gl(n))break e;n=n.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}var t=n;switch(n=t.stateNode,t.tag){case 5:var r=!1;break;case 3:case 4:n=n.containerInfo,r=!0;break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}16&t.flags&&(t.flags&=-17);e:n:for(t=e;;){for(;null===t.sibling;){if(null===t.return||Gl(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue n;if(null===t.child||4===t.tag)continue n;t.child.return=t,t=t.child}if(!(2&t.flags)){t=t.stateNode;break e}}r?Jl(e,t,n):Zl(e,t,n)}function Jl(e,n,t){var r=e.tag,l=5===r||6===r;if(l)if(e=l?e.stateNode:e.stateNode.instance,n){if("number"==typeof t)throw Error("Container does not support insertBefore operation")}else o.UIManager.setChildren(t,["number"==typeof e?e:e._nativeTag]);else if(4!==r&&null!==(e=e.child))for(Jl(e,n,t),e=e.sibling;null!==e;)Jl(e,n,t),e=e.sibling}function Zl(e,n,t){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,n?0<=(l=(r=t._children).indexOf(e))?(r.splice(l,1),n=r.indexOf(n),r.splice(n,0,e),o.UIManager.manageChildren(t._nativeTag,[l],[n],[],[],[])):(n=r.indexOf(n),r.splice(n,0,e),o.UIManager.manageChildren(t._nativeTag,[],[],["number"==typeof e?e:e._nativeTag],[n],[])):(n="number"==typeof e?e:e._nativeTag,0<=(l=(r=t._children).indexOf(e))?(r.splice(l,1),r.push(e),o.UIManager.manageChildren(t._nativeTag,[l],[r.length-1],[],[],[])):(r.push(e),o.UIManager.manageChildren(t._nativeTag,[],[],[n],[r.length-1],[])));else if(4!==r&&null!==(e=e.child))for(Zl(e,n,t),e=e.sibling;null!==e;)Zl(e,n,t),e=e.sibling}function ea(e,n){for(var t,r,l=n,a=!1;;){if(!a){a=l.return;e:for(;;){if(null===a)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(t=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:t=t.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===l.tag||6===l.tag){e:for(var i=e,u=l,s=u;;)if(Xl(i,s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===u)break e;for(;null===s.sibling;){if(null===s.return||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(i=t,kn(l.stateNode),o.UIManager.manageChildren(i,[],[],[],[],[0])):(i=t,kn(s=l.stateNode),s=(u=i._children).indexOf(s),u.splice(s,1),o.UIManager.manageChildren(i._nativeTag,[],[],[],[],[s]))}else if(4===l.tag){if(null!==l.child){t=l.stateNode.containerInfo,r=!0,l.child.return=l,l=l.child;continue}}else if(Xl(e,l),null!==l.child){l.child.return=l,l=l.child;continue}if(l===n)break;for(;null===l.sibling;){if(null===l.return||l.return===n)return;4===(l=l.return).tag&&(a=!1)}l.sibling.return=l.return,l=l.sibling}}function na(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:var t=n.updateQueue;if(null!==(t=null!==t?t.lastEffect:null)){var r=t=t.next;do{3==(3&r.tag)&&(n=r.destroy,r.destroy=void 0,void 0!==n&&n()),r=r.next}while(r!==t)}return;case 1:return;case 5:if(null!=(t=n.stateNode)){r=n.memoizedProps,e=null!==e?e.memoizedProps:r;var l=n.updateQueue;n.updateQueue=null,null!==l&&(n=t.viewConfig,Ee.set(t._nativeTag,r),null!=(r=hn(null,e,r,n.validAttributes))&&o.UIManager.updateView(t._nativeTag,n.uiViewClassName,r))}return;case 6:if(null===n.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");return void o.UIManager.updateView(n.stateNode,"RCTRawText",{text:n.memoizedProps});case 3:case 12:return;case 13:return null!==n.memoizedState&&(wa=Et(),ql(n.child,!0)),void ta(n);case 19:return void ta(n);case 17:return;case 23:case 24:return void ql(n,null!==n.memoizedState)}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function ta(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Hl),n.forEach(function(n){var r=hi.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function ra(e,n){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(n=n.memoizedState)&&null===n.dehydrated)}var la,aa=Math.ceil,ia=Ie.ReactCurrentDispatcher,ua=Ie.ReactCurrentOwner,oa=0,sa=null,ca=null,fa=0,da=0,pa=Nn(0),ha=0,ga=null,ma=0,va=0,ya=0,ba=0,Sa=null,wa=0,ka=1/0,Ea=null,Ta=!1,xa=null,_a=null,Ra=!1,Pa=null,Ca=90,Na=[],za=[],Ia=null,La=0,Ua=null,Ma=-1,Aa=0,Da=0,Qa=null,Ba=!1;function Fa(){return 0!=(48&oa)?Et():-1!==Ma?Ma:Ma=Et()}function ja(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Tt()?1:2;if(0===Aa&&(Aa=ma),0!==Nt.transition){0!==Da&&(Da=null!==Sa?Sa.pendingLanes:0),e=Aa;var n=4186112&~Da;return 0===(n&=-n)&&(0===(n=(e=4186112&~e)&-e)&&(n=8192)),n}return e=Tt(),0!=(4&oa)&&98===e?e=Jn(12,Aa):e=Jn(e=Xn(e),Aa),e}function Oa(e,n,t){if(50<La)throw La=0,Ua=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");if(null===(e=Ha(e,n)))return null;nt(e,n,t),e===sa&&(ya|=n,4===ha&&Ya(e,fa));var r=Tt();1===n?0!=(8&oa)&&0==(48&oa)?qa(e):(Va(e,t),0===oa&&(ka=Et()+500,Pt())):(0==(4&oa)||98!==r&&99!==r||(null===Ia?Ia=new Set([e]):Ia.add(e)),Va(e,t)),Sa=e}function Ha(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}function Va(e,n){for(var t=e.callbackNode,r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var u=31-tt(i),o=1<<u,s=a[u];if(-1===s){if(0==(o&r)||0!=(o&l)){s=n,qn(o);var c=Yn;a[u]=10<=c?s+250:6<=c?s+5e3:-1}}else s<=n&&(e.expiredLanes|=o);i&=~o}if(r=Gn(e,e===sa?fa:0),n=Yn,0===r)null!==t&&(t!==vt&&ut(t),e.callbackNode=null,e.callbackPriority=0);else{if(null!==t){if(e.callbackPriority===n)return;t!==vt&&ut(t)}15===n?(t=qa.bind(null,e),null===bt?(bt=[t],St=it(dt,Ct)):bt.push(t),t=vt):14===n?t=Rt(99,qa.bind(null,e)):t=Rt(t=$n(n),Wa.bind(null,e)),e.callbackPriority=n,e.callbackNode=t}}function Wa(e){if(Ma=-1,Da=Aa=0,0!=(48&oa))throw Error("Should not already be working.");var n=e.callbackNode;if(ui()&&e.callbackNode!==n)return null;var t=Gn(e,e===sa?fa:0);if(0===t)return null;var r=t,l=oa;oa|=16;var a=Ja();for(sa===e&&fa===r||(ka=Et()+500,Ga(e,r));;)try{ni();break}catch(n){Ka(e,n)}if(jt(),ia.current=a,oa=l,null!==ca?r=0:(sa=null,fa=0,r=ha),0!=(ma&ya))Ga(e,0);else if(0!==r){if(2===r&&(oa|=64,e.hydrate&&(e.hydrate=!1),0!==(t=Kn(e))&&(r=Za(e,t))),1===r)throw n=ga,Ga(e,0),Ya(e,t),Va(e,Et()),n;switch(e.finishedWork=e.current.alternate,e.finishedLanes=t,r){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:li(e);break;case 3:if(Ya(e,t),(62914560&t)===t&&10<(r=wa+500-Et())){if(0!==Gn(e,0))break;if(((l=e.suspendedLanes)&t)!==t){Fa(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Tn(li.bind(null,e),r);break}li(e);break;case 4:if(Ya(e,t),(4186112&t)===t)break;for(r=e.eventTimes,l=-1;0<t;){var i=31-tt(t);a=1<<i,(i=r[i])>l&&(l=i),t&=~a}if(t=l,10<(t=(120>(t=Et()-t)?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*aa(t/1960))-t)){e.timeoutHandle=Tn(li.bind(null,e),t);break}li(e);break;case 5:li(e);break;default:throw Error("Unknown root exit status.")}}return Va(e,Et()),e.callbackNode===n?Wa.bind(null,e):null}function Ya(e,n){for(n&=~ba,n&=~ya,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-tt(n),r=1<<t;e[t]=-1,n&=~r}}function qa(e){if(0!=(48&oa))throw Error("Should not already be working.");if(ui(),e===sa&&0!=(e.expiredLanes&fa)){var n=fa,t=Za(e,n);0!=(ma&ya)&&(t=Za(e,n=Gn(e,n)))}else t=Za(e,n=Gn(e,0));if(0!==e.tag&&2===t&&(oa|=64,e.hydrate&&(e.hydrate=!1),0!==(n=Kn(e))&&(t=Za(e,n))),1===t)throw t=ga,Ga(e,0),Ya(e,n),Va(e,Et()),t;return e.finishedWork=e.current.alternate,e.finishedLanes=n,li(e),Va(e,Et()),null}function Xa(e,n){In(pa,da),da|=n,ma|=n}function $a(){da=pa.current,zn(pa)}function Ga(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,xn(t)),null!==ca)for(t=ca.return;null!==t;){var r=t;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bn();break;case 3:br(),zn(Mn),zn(Un),xr();break;case 5:wr(r);break;case 4:br();break;case 13:case 19:zn(kr);break;case 10:Ot(r);break;case 23:case 24:$a()}t=t.return}sa=e,ca=bi(e.current,null),fa=da=ma=n,ha=0,ga=null,ba=ya=va=0}function Ka(e,n){for(;;){var t=ca;try{if(jt(),_r.current=il,Ir){for(var r=Cr.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}Ir=!1}if(Pr=0,zr=Nr=Cr=null,Lr=!1,ua.current=null,null===t||null===t.return){ha=1,ga=n,ca=null;break}e:{var a=e,i=t.return,u=t,o=n;if(n=fa,u.flags|=4096,u.firstEffect=u.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s=o;if(0==(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!=(1&kr.current),d=i;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var g=d.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(p){var m=d.updateQueue;if(null===m){var v=new Set;v.add(s),d.updateQueue=v}else m.add(s);if(0==(2&d.mode)){if(d.flags|=64,u.flags|=32768,u.flags&=-5029,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=$t(-1,1);y.tag=2,Gt(u,y)}u.lanes|=1;break e}o=void 0,u=n;var b=a.pingCache;if(null===b?(b=a.pingCache=new Fl,o=new Set,b.set(s,o)):void 0===(o=b.get(s))&&(o=new Set,b.set(s,o)),!o.has(u)){o.add(u);var S=pi.bind(null,a,s,u);s.then(S,S)}d.flags|=8192,d.lanes=n;break e}d=d.return}while(null!==d);o=Error((Je(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ha&&(ha=2),o=Ql(o,u),d=i;do{switch(d.tag){case 3:a=o,d.flags|=8192,n&=-n,d.lanes|=n,Kt(d,jl(d,a,n));break e;case 1:a=o;var w=d.type,k=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===_a||!_a.has(k)))){d.flags|=8192,n&=-n,d.lanes|=n,Kt(d,Ol(d,a,n));break e}}d=d.return}while(null!==d)}ri(t)}catch(e){n=e,ca===t&&null!==t&&(ca=t=t.return);continue}break}}function Ja(){var e=ia.current;return ia.current=il,null===e?il:e}function Za(e,n){var t=oa;oa|=16;var r=Ja();for(sa===e&&fa===n||Ga(e,n);;)try{ei();break}catch(n){Ka(e,n)}if(jt(),oa=t,ia.current=r,null!==ca)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return sa=null,fa=0,ha}function ei(){for(;null!==ca;)ti(ca)}function ni(){for(;null!==ca&&!ot();)ti(ca)}function ti(e){var n=la(e.alternate,e,da);e.memoizedProps=e.pendingProps,null===n?ri(e):ca=n,ua.current=null}function ri(e){var n=e;do{var t=n.alternate;if(e=n.return,0==(4096&n.flags)){if(null!==(t=Al(t,n,da)))return void(ca=t);if(24!==(t=n).tag&&23!==t.tag||null===t.memoizedState||0!=(1073741824&da)||0==(4&t.mode)){for(var r=0,l=t.child;null!==l;)r|=l.lanes|l.childLanes,l=l.sibling;t.childLanes=r}null!==e&&0==(4096&e.flags)&&(null===e.firstEffect&&(e.firstEffect=n.firstEffect),null!==n.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=n.firstEffect),e.lastEffect=n.lastEffect),1<n.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=n:e.firstEffect=n,e.lastEffect=n))}else{if(null!==(t=Dl(n)))return t.flags&=4095,void(ca=t);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=4096)}if(null!==(n=n.sibling))return void(ca=n);ca=n=e}while(null!==n);0===ha&&(ha=5)}function li(e){var n=Tt();return _t(99,ai.bind(null,e,n)),null}function ai(e,n){do{ui()}while(null!==Pa);if(0!=(48&oa))throw Error("Should not already be working.");var t=e.finishedWork;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null;var r=t.lanes|t.childLanes,l=r,a=e.pendingLanes&~l;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=l,e.mutableReadLanes&=l,e.entangledLanes&=l,l=e.entanglements;for(var i=e.eventTimes,u=e.expirationTimes;0<a;){var o=31-tt(a),s=1<<o;l[o]=0,i[o]=-1,u[o]=-1,a&=~s}if(null!==Ia&&0==(24&r)&&Ia.has(e)&&Ia.delete(e),e===sa&&(ca=sa=null,fa=0),1<t.flags?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,null!==r){l=oa,oa|=32,Qa=ua.current=null,Ba=!1,Ea=r;do{try{ii()}catch(e){if(null===Ea)throw Error("Should be working on an effect.");di(Ea,e),Ea=Ea.nextEffect}}while(null!==Ea);Qa=null,Ea=r;do{try{for(i=e;null!==Ea;){var c=Ea.flags;if(128&c){var f=Ea.alternate;if(null!==f){var d=f.ref;null!==d&&("function"==typeof d?d(null):d.current=null)}}switch(1038&c){case 2:Kl(Ea),Ea.flags&=-3;break;case 6:Kl(Ea),Ea.flags&=-3,na(Ea.alternate,Ea);break;case 1024:Ea.flags&=-1025;break;case 1028:Ea.flags&=-1025,na(Ea.alternate,Ea);break;case 4:na(Ea.alternate,Ea);break;case 8:ea(i,u=Ea);var p=u.alternate;$l(u),null!==p&&$l(p)}Ea=Ea.nextEffect}}catch(e){if(null===Ea)throw Error("Should be working on an effect.");di(Ea,e),Ea=Ea.nextEffect}}while(null!==Ea);e.current=t,Ea=r;do{try{for(c=e;null!==Ea;){var h=Ea.flags;if(36&h&&Yl(c,Ea.alternate,Ea),128&h){f=void 0;var g=Ea.ref;if(null!==g){var m=Ea.stateNode;switch(Ea.tag){case 5:f=m;break;default:f=m}"function"==typeof g?g(f):g.current=f}}Ea=Ea.nextEffect}}catch(e){if(null===Ea)throw Error("Should be working on an effect.");di(Ea,e),Ea=Ea.nextEffect}}while(null!==Ea);Ea=null,yt(),oa=l}else e.current=t;if(Ra)Ra=!1,Pa=e,Ca=n;else for(Ea=r;null!==Ea;)n=Ea.nextEffect,Ea.nextEffect=null,8&Ea.flags&&((h=Ea).sibling=null,h.stateNode=null),Ea=n;if(0===(r=e.pendingLanes)&&(_a=null),1===r?e===Ua?La++:(La=0,Ua=e):La=0,t=t.stateNode,Wn&&"function"==typeof Wn.onCommitFiberRoot)try{Wn.onCommitFiberRoot(Vn,t,void 0,64==(64&t.current.flags))}catch(e){}if(Va(e,Et()),Ta)throw Ta=!1,e=xa,xa=null,e;return 0!=(8&oa)?null:(Pt(),null)}function ii(){for(;null!==Ea;){var e=Ea.alternate;Ba||null===Qa||(0!=(8&Ea.flags)?rn(Ea,Qa)&&(Ba=!0):13===Ea.tag&&ra(e,Ea)&&rn(Ea,Qa)&&(Ba=!0));var n=Ea.flags;0!=(256&n)&&Wl(e,Ea),0==(512&n)||Ra||(Ra=!0,Rt(97,function(){return ui(),null})),Ea=Ea.nextEffect}}function ui(){if(90!==Ca){var e=97<Ca?97:Ca;return Ca=90,_t(e,ci)}return!1}function oi(e,n){Na.push(n,e),Ra||(Ra=!0,Rt(97,function(){return ui(),null}))}function si(e,n){za.push(n,e),Ra||(Ra=!0,Rt(97,function(){return ui(),null}))}function ci(){if(null===Pa)return!1;var e=Pa;if(Pa=null,0!=(48&oa))throw Error("Cannot flush passive effects while already rendering.");var n=oa;oa|=32;var t=za;za=[];for(var r=0;r<t.length;r+=2){var l=t[r],a=t[r+1],i=l.destroy;if(l.destroy=void 0,"function"==typeof i)try{i()}catch(e){if(null===a)throw Error("Should be working on an effect.");di(a,e)}}for(t=Na,Na=[],r=0;r<t.length;r+=2){l=t[r],a=t[r+1];try{var u=l.create;l.destroy=u()}catch(e){if(null===a)throw Error("Should be working on an effect.");di(a,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return oa=n,Pt(),!0}function fi(e,n,t){Gt(e,n=jl(e,n=Ql(t,n),1)),n=Fa(),null!==(e=Ha(e,1))&&(nt(e,1,n),Va(e,n))}function di(e,n){if(3===e.tag)fi(e,e,n);else for(var t=e.return;null!==t;){if(3===t.tag){fi(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===_a||!_a.has(r))){var l=Ol(t,e=Ql(n,e),1);if(Gt(t,l),l=Fa(),null!==(t=Ha(t,1)))nt(t,1,l),Va(t,l);else if("function"==typeof r.componentDidCatch&&(null===_a||!_a.has(r)))try{r.componentDidCatch(n,e)}catch(e){}break}}t=t.return}}function pi(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=Fa(),e.pingedLanes|=e.suspendedLanes&t,sa===e&&(fa&t)===t&&(4===ha||3===ha&&(62914560&fa)===fa&&500>Et()-wa?Ga(e,0):ba|=t),Va(e,n)}function hi(e,n){var t=e.stateNode;null!==t&&t.delete(n),0===(n=0)&&(0==(2&(n=e.mode))?n=1:0==(4&n)?n=99===Tt()?1:2:(0===Aa&&(Aa=ma),0===(n=Zn(62914560&~Aa))&&(n=4194304))),t=Fa(),null!==(e=Ha(e,n))&&(nt(e,n,t),Va(e,t))}function gi(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(e,n,t,r){return new gi(e,n,t,r)}function vi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yi(e){if("function"==typeof e)return vi(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Fe)return 11;if(e===He)return 14}return 2}function bi(e,n){var t=e.alternate;return null===t?((t=mi(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Si(e,n,t,r,l,a){var i=2;if(r=e,"function"==typeof e)vi(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Me:return wi(t.children,l,a,n);case Ye:i=8,l|=16;break;case Ae:i=8,l|=1;break;case De:return(e=mi(12,t,n,8|l)).elementType=De,e.type=De,e.lanes=a,e;case je:return(e=mi(13,t,n,l)).type=je,e.elementType=je,e.lanes=a,e;case Oe:return(e=mi(19,t,n,l)).elementType=Oe,e.lanes=a,e;case qe:return ki(t,l,a,n);case Xe:return(e=mi(24,t,n,l)).elementType=Xe,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Qe:i=10;break e;case Be:i=9;break e;case Fe:i=11;break e;case He:i=14;break e;case Ve:i=16,r=null;break e;case We:i=22;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(n=mi(i,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function wi(e,n,t,r){return(e=mi(7,e,r,n)).lanes=t,e}function ki(e,n,t,r){return(e=mi(23,e,r,n)).elementType=qe,e.lanes=t,e}function Ei(e,n,t){return(e=mi(6,e,null,n)).lanes=t,e}function Ti(e,n,t){return(n=mi(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function xi(e,n,t){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=et(0),this.expirationTimes=et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=et(0)}function _i(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ue,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Ri(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e))}return null===(e=tn(n))?null:e.stateNode}function Pi(e,n,t,r){var l=n.current,a=Fa(),i=ja(l);e:if(t){t=t._reactInternals;n:{if(Ze(t)!==t||1!==t.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var u=t;do{switch(u.tag){case 3:u=u.stateNode.context;break n;case 1:if(Qn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break n}}u=u.return}while(null!==u);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===t.tag){var o=t.type;if(Qn(o)){t=jn(t,o,u);break e}}t=u}else t=Ln;return null===n.context?n.context=t:n.pendingContext=t,(n=$t(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),Gt(l,n),Oa(l,i,a),i}function Ci(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=Ri(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}function Ni(e){var n=zi.get(e);n&&Pi(null,n,null,function(){zi.delete(e)})}la=function(e,n,t){var r=n.lanes;if(null!==e)if(e.memoizedProps!==n.pendingProps||Mn.current)fl=!0;else{if(0==(t&r)){switch(fl=!1,n.tag){case 3:wl(n);break;case 5:Sr(n);break;case 1:Qn(n.type)&&On(n);break;case 4:yr(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value;var l=n.type._context;In(Dt,l._currentValue),l._currentValue=r;break;case 13:if(null!==n.memoizedState)return 0!=(t&n.child.childLanes)?Rl(e,n,t):(In(kr,1&kr.current),null!==(n=Ul(e,n,t))?n.sibling:null);In(kr,1&kr.current);break;case 19:if(r=0!=(t&n.childLanes),0!=(64&e.flags)){if(r)return Ll(e,n,t);n.flags|=64}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),In(kr,kr.current),r)break;return null;case 23:case 24:return n.lanes=0,ml(e,n,t)}return Ul(e,n,t)}fl=0!=(32768&e.flags)}else fl=!1;switch(n.lanes=0,n.tag){case 2:if(r=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=Dn(n,Un.current),Vt(n,t),l=Ar(null,n,r,e,l,t),n.flags|=1,"object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,Qn(r)){var a=!0;On(n)}else a=!1;n.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,qt(n);var i=r.getDerivedStateFromProps;"function"==typeof i&&nr(n,r,i,e),l.updater=tr,n.stateNode=l,l._reactInternals=n,ir(n,r,e,t),n=Sl(null,n,r,!0,a,t)}else n.tag=0,dl(null,n,l,t),n=n.child;return n;case 16:l=n.elementType;e:{switch(null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=(a=l._init)(l._payload),n.type=l,a=n.tag=yi(l),e=At(l,e),a){case 0:n=yl(null,n,l,e,t);break e;case 1:n=bl(null,n,l,e,t);break e;case 11:n=pl(null,n,l,e,t);break e;case 14:n=hl(null,n,l,At(l.type,e),r,t);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+l+". Lazy element type must resolve to a class or function.")}return n;case 0:return r=n.type,l=n.pendingProps,yl(e,n,r,l=n.elementType===r?l:At(r,l),t);case 1:return r=n.type,l=n.pendingProps,bl(e,n,r,l=n.elementType===r?l:At(r,l),t);case 3:if(wl(n),r=n.updateQueue,null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");return r=n.pendingProps,l=null!==(l=n.memoizedState)?l.element:null,Xt(e,n),Jt(n,r,null,t),(r=n.memoizedState.element)===l?n=Ul(e,n,t):(dl(e,n,r,t),n=n.child),n;case 5:return Sr(n),r=n.pendingProps.children,vl(e,n),dl(e,n,r,t),n.child;case 6:return null;case 13:return Rl(e,n,t);case 4:return yr(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=fr(n,null,r,t):dl(e,n,r,t),n.child;case 11:return r=n.type,l=n.pendingProps,pl(e,n,r,l=n.elementType===r?l:At(r,l),t);case 7:return dl(e,n,n.pendingProps,t),n.child;case 8:case 12:return dl(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,l=n.pendingProps,i=n.memoizedProps,a=l.value;var u=n.type._context;if(In(Dt,u._currentValue),u._currentValue=a,null!==i)if(u=i.value,0===(a=zt(u,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(i.children===l.children&&!Mn.current){n=Ul(e,n,t);break e}}else for(null!==(u=n.child)&&(u.return=n);null!==u;){var o=u.dependencies;if(null!==o){i=u.child;for(var s=o.firstContext;null!==s;){if(s.context===r&&0!=(s.observedBits&a)){1===u.tag&&((s=$t(-1,t&-t)).tag=2,Gt(u,s)),u.lanes|=t,null!==(s=u.alternate)&&(s.lanes|=t),Ht(u.return,t),o.lanes|=t;break}s=s.next}}else i=10===u.tag&&u.type===n.type?null:u.child;if(null!==i)i.return=u;else for(i=u;null!==i;){if(i===n){i=null;break}if(null!==(u=i.sibling)){u.return=i.return,i=u;break}i=i.return}u=i}dl(e,n,l.children,t),n=n.child}return n;case 9:return l=n.type,r=(a=n.pendingProps).children,Vt(n,t),r=r(l=Wt(l,a.unstable_observedBits)),n.flags|=1,dl(e,n,r,t),n.child;case 14:return a=At(l=n.type,n.pendingProps),hl(e,n,l,a=At(l.type,a),r,t);case 15:return gl(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:At(r,l),null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,Qn(r)?(e=!0,On(n)):e=!1,Vt(n,t),lr(n,r,l),ir(n,r,l,t),Sl(null,n,r,!0,e,t);case 19:return Ll(e,n,t);case 23:case 24:return ml(e,n,t)}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")},xe=function(e,n){var t=oa;oa|=1;try{return e(n)}finally{0===(oa=t)&&(ka=Et()+500,Pt())}};var zi=new Map,Ii={findFiberByHostInstance:Te,bundleType:0,version:"17.0.1-4e5d7faf5",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,Ci)}},Li={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tn(e))?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{Vn=Ui.inject(Li),Wn=Ui}catch(e){}}a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={computeComponentStackForErrorReporting:function(e){return(e=Te(e))?Mt(e):""}},a.createPortal=function(e,n){return _i(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,n,t){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.dispatchCommand(e._internalInstanceHandle.stateNode.node,n,t):o.UIManager.dispatchViewManagerCommand(e._nativeTag,n,t))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=Ri(e))?e:e.canonical?e.canonical:e},a.findNodeHandle=Ci,a.render=function(e,n,t){var r=zi.get(n);if(!r){r=new xi(n,0,!1);var l=mi(3,null,null,0);r.current=l,l.stateNode=r,qt(l),zi.set(n,r)}Pi(e,r,null,t);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode;break e;default:e=e.child.stateNode}else e=null;return e},a.unmountComponentAtNode=Ni,a.unmountComponentAtNodeAndRemoveContainer=function(e){Ni(e),o.UIManager.removeRootView(e)},a.unstable_batchedUpdates=Re},92,[32,93,165,55,189]);
__d(function(g,r,i,a,m,e,d){r(d[0])},93,[94]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Date.now();r(d[0]),r(d[1]),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]),r(d[11]);var n=r(d[12]);n.markPoint('initializeCore_start',n.currentTimestamp()-(Date.now()-t)),n.markPoint('initializeCore_end')},94,[95,96,97,98,108,115,117,120,147,152,153,163,127]);
__d(function(g,r,i,a,m,e,d){'use strict';void 0===g.GLOBAL&&(g.GLOBAL=g),void 0===g.window&&(g.window=g),void 0===g.self&&(g.self=g),g.process=g.process||{},g.process.env=g.process.env||{},g.process.env.NODE_ENV||(g.process.env.NODE_ENV='production')},95,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.performance||(g.performance={}),'function'!=typeof g.performance.now&&(g.performance.now=function(){return(g.nativePerformanceNow||Date.now)()})},96,[]);
__d(function(g,r,i,a,m,e,d){'use strict';if(g.__RCTProfileIsProfiling){var t=r(d[0]);t.installReactHook(),t.setEnabled(!0)}},97,[46]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);if(o.installConsoleErrorReporter(),!g.__fbDisableExceptionsManager){r(d[1]).setGlobalHandler(function(t,n){try{o.handleException(t,n)}catch(o){throw console.log('Failed to print error: ',o.message),t}})}},98,[99,45]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=r(d[1]),o=r(d[2]),t=r(d[3]),c=r(d[4]),s=r(d[5]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}var u,f=(function(u){t(y,u);var f,p,v=(f=y,p=l(),function(){var n,o=s(f);if(p){var t=s(this).constructor;n=Reflect.construct(o,arguments,t)}else n=o.apply(this,arguments);return c(this,n)});function y(){var n;o(this,y);for(var t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return(n=v.call.apply(v,[this].concat(c))).name='',n}return n(y)})(r(d[6])(Error)),p=!1;function v(n){if(u&&!p){p=!0;try{return u(n)}catch(n){}finally{p=!1}}return n}var y=0;function E(n,o,t){var c=r(d[7]).default;if(c){var s=r(d[8])(null==n?void 0:n.stack),l=++y,u=n.message||'',f=u;null!=n.componentStack&&(f+="\n\nThis error is located at:"+n.componentStack);var p=null==n.name||''===n.name?'':n.name+": ";f.startsWith(p)||(f=p+f),f=null==n.jsEngine?f:f+", js engine: "+n.jsEngine;var E=!0!==n.forceRedbox&&!g.RN$Bridgeless&&!g.RN$Express,h=v({message:f,originalMessage:f===u?null:u,name:null==n.name||''===n.name?null:n.name,componentStack:'string'==typeof n.componentStack?n.componentStack:null,stack:s,id:l,isFatal:o,extraData:{jsEngine:n.jsEngine,rawStack:n.stack,suppressRedBox:E}});t&&console.error(h.message),c.reportException(h)}else t&&console.error(n)}var h=!1;function x(){if(console._errorOriginal.apply(console,arguments),console.reportErrorsAsExceptions&&!h)if(arguments[0]&&arguments[0].stack)E(arguments[0],!1,!1);else{var n=r(d[9]).default,o=Array.prototype.map.call(arguments,function(o){return'string'==typeof o?o:n(o)}).join(' ');if('Warning: '===o.slice(0,9))return;var t=new f(o);t.name='console.error',E(t,!1,!1)}}m.exports={handleException:function(n,o){var t;t=n instanceof Error?n:new f(n);try{h=!0,E(t,o,!0)}finally{h=!1}},installConsoleErrorReporter:function(){console._errorOriginal||(console._errorOriginal=console.error.bind(console),console.error=x,void 0===console.reportErrorsAsExceptions&&(console.reportErrorsAsExceptions=!0))},SyntheticError:f,unstable_setExceptionDecorator:function(n){u=n}}},99,[32,13,12,20,22,19,100,104,105,48]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]),n=r(d[2]),u=r(d[3]);function p(s){var f="function"==typeof Map?new Map:void 0;return m.exports=p=function(p){if(null===p||!n(p))return p;if("function"!=typeof p)throw new TypeError("Super expression must either be null or a function");if(void 0!==f){if(f.has(p))return f.get(p);f.set(p,s)}function s(){return u(p,arguments,t(this).constructor)}return s.prototype=Object.create(p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o(s,p)},m.exports.__esModule=!0,m.exports.default=m.exports,p(s)}m.exports=p,m.exports.__esModule=!0,m.exports.default=m.exports},100,[19,21,101,102]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},m.exports.__esModule=!0,m.exports.default=m.exports},101,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);function p(s,n,u){return o()?(m.exports=p=Reflect.construct.bind(),m.exports.__esModule=!0,m.exports.default=m.exports):(m.exports=p=function(o,p,s){var n=[null];n.push.apply(n,p);var u=new(Function.bind.apply(o,n));return s&&t(u,s.prototype),u},m.exports.__esModule=!0,m.exports.default=m.exports),p.apply(null,arguments)}m.exports=p,m.exports.__esModule=!0,m.exports.default=m.exports},102,[21,103]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},m.exports.__esModule=!0,m.exports.default=m.exports},103,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var p=n(o);if(p&&p.has(t))return p.get(t);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=f?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(c,u,s):c[u]=t[u]}c.default=t,p&&p.set(t,c);return c})(r(d[0]));function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,p=new WeakMap;return(n=function(t){return t?p:o})(t)}r(d[1]);var o=t.getEnforcing('ExceptionsManager'),p={reportFatalException:function(t,n,p){o.reportFatalException(t,n,p)},reportSoftException:function(t,n,p){o.reportSoftException(t,n,p)},updateExceptionMessage:function(t,n,p){o.updateExceptionMessage(t,n,p)},dismissRedbox:function(){},reportException:function(t){o.reportException?o.reportException(t):t.isFatal?p.reportFatalException(t.message,t.stack,t.id):p.reportSoftException(t.message,t.stack,t.id)}},c=p;e.default=c},104,[30,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(u)return(u=u.call(t)).next.bind(u);if(Array.isArray(t)||(u=o(t))||n&&t&&"number"==typeof t.length){u&&(t=u);var l=0;return function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,n){if(t){if("string"==typeof t)return u(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(t,n):void 0}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var l=r(d[1]);function c(t){for(var o,u=[],l=n(t.entries);!(o=l()).done;){var c=o.value;if('FRAME'===c.type){var f=c.location,s=c.functionName;'NATIVE'!==f.type&&u.push({methodName:s,file:f.sourceUrl,lineNumber:f.line1Based,column:'SOURCE'===f.type?f.column1Based-1:f.virtualOffset0Based})}}return u}m.exports=function(n){if(null==n)return[];var o=r(d[2]);return Array.isArray(n)?n:g.HermesInternal?c(l(n)):o.parse(n).map(function(n){return t({},n,{column:null!=n.column?n.column-1:null})})}},105,[32,106,107]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.+?):(\d+):(\d+)\))$/,n=/^ {4}... skipping (\d+) frames$/;function s(s){var u=s.match(t);if(u)return{type:'FRAME',functionName:u[1],location:'native'===u[2]?{type:'NATIVE'}:'address at '===u[3]?{type:'BYTECODE',sourceUrl:u[4],line1Based:Number.parseInt(u[5],10),virtualOffset0Based:Number.parseInt(u[6],10)}:{type:'SOURCE',sourceUrl:u[4],line1Based:Number.parseInt(u[5],10),column1Based:Number.parseInt(u[6],10)}};var p=s.match(n);return p?{type:'SKIPPED',count:Number.parseInt(p[1],10)}:void 0}m.exports=function(t){for(var n=t.split(/\n/),u=[],p=-1,o=0;o<n.length;++o){var c=n[o];if(c){var f=s(c);f?u.push(f):(p=o,u=[])}}return{message:n.slice(0,p+1).join('\n'),entries:u}}},106,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n='<unknown>';var l=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/;function t(t){var o=l.exec(t);if(!o)return null;var c=o[2]&&0===o[2].indexOf('native'),s=o[2]&&0===o[2].indexOf('eval'),v=u.exec(o[2]);return s&&null!=v&&(o[2]=v[1],o[3]=v[2],o[4]=v[3]),{file:c?null:o[2],methodName:o[1]||n,arguments:c?[o[2]]:[],lineNumber:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}var o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function c(l){var u=o.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function f(l){var u=s.exec(l);if(!u)return null;var t=u[3]&&u[3].indexOf(' > eval')>-1,o=v.exec(u[3]);return t&&null!=o&&(u[3]=o[1],u[4]=o[2],u[5]=null),{file:u[3],methodName:u[1]||n,arguments:u[2]?u[2].split(','):[],lineNumber:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}var b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function p(l){var u=b.exec(l);return u?{file:u[3],methodName:u[1]||n,arguments:[],lineNumber:+u[4],column:u[5]?+u[5]:null}:null}var x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function h(l){var u=x.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}e.parse=function(n){return n.split('\n').reduce(function(n,l){var u=t(l)||c(l)||f(l)||h(l)||p(l);return u&&n.push(u),n},[])}},107,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var l,n,s=r(d[0]).polyfillGlobal;if(null!=(l=g)&&null!=(n=l.HermesInternal)&&null!=n.hasPromise&&n.hasPromise())g.Promise;else s('Promise',function(){return r(d[1])})},108,[109,110]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);function o(o,t,n){var c=Object.getOwnPropertyDescriptor(o,t),b=c||{},f=b.enumerable,u=b.writable,p=b.configurable;!c||void 0!==p&&p?l(o,t,{get:n,enumerable:!1!==f,writable:!1!==u}):console.error('Failed to set polyfill. '+t+' is not configurable.')}m.exports={polyfillObjectProperty:o,polyfillGlobal:function(l,t){o(g,l,t)}}},109,[49]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);r(d[1]),r(d[2]),m.exports=t},110,[111,113,114]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n;var t=y(!0),o=y(!1),f=y(null),u=y(void 0),c=y(0),l=y('');function y(t){var o=new n(n._D);return o._y=1,o._z=t,o}n.resolve=function(h){if(h instanceof n)return h;if(null===h)return f;if(void 0===h)return u;if(!0===h)return t;if(!1===h)return o;if(0===h)return c;if(''===h)return l;if('object'==typeof h||'function'==typeof h)try{var p=h.then;if('function'==typeof p)return new n(p.bind(h))}catch(t){return new n(function(n,o){o(t)})}return y(h)};var h=function(n){return'function'==typeof Array.from?(h=Array.from,Array.from(n)):(h=function(n){return Array.prototype.slice.call(n)},Array.prototype.slice.call(n))};function p(n){return{status:'fulfilled',value:n}}function s(n){return{status:'rejected',reason:n}}function v(t){if(t&&('object'==typeof t||'function'==typeof t)){if(t instanceof n&&t.then===n.prototype.then)return t.then(p,s);var o=t.then;if('function'==typeof o)return new n(o.bind(t)).then(p,s)}return p(t)}function w(n){if('function'==typeof AggregateError)return new AggregateError(n,'All promises were rejected');var t=new Error('All promises were rejected');return t.name='AggregateError',t.errors=n,t}n.all=function(t){var o=h(t);return new n(function(t,f){if(0===o.length)return t([]);var u=o.length;function c(l,y){if(y&&('object'==typeof y||'function'==typeof y)){if(y instanceof n&&y.then===n.prototype.then){for(;3===y._y;)y=y._z;return 1===y._y?c(l,y._z):(2===y._y&&f(y._z),void y.then(function(n){c(l,n)},f))}var h=y.then;if('function'==typeof h)return void new n(h.bind(y)).then(function(n){c(l,n)},f)}o[l]=y,0==--u&&t(o)}for(var l=0;l<o.length;l++)c(l,o[l])})},n.allSettled=function(t){return n.all(h(t).map(v))},n.reject=function(t){return new n(function(n,o){o(t)})},n.race=function(t){return new n(function(o,f){h(t).forEach(function(t){n.resolve(t).then(o,f)})})},n.prototype.catch=function(n){return this.then(null,n)},n.any=function(t){return new n(function(o,f){var u=h(t),c=!1,l=[];function y(n){c||(c=!0,o(n))}function p(n){l.push(n),l.length===u.length&&f(w(l))}0===u.length?f(w(l)):u.forEach(function(t){n.resolve(t).then(y,p)})})}},111,[112]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(){}var t=null,o={};function u(n){try{return n.then}catch(n){return t=n,o}}function f(n,u){try{return n(u)}catch(n){return t=n,o}}function c(n,u,f){try{n(u,f)}catch(n){return t=n,o}}function _(t){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof t)throw new TypeError('Promise constructor\'s argument is not a function');this._x=0,this._y=0,this._z=null,this._A=null,t!==n&&A(t,this)}function s(t,o,u){return new t.constructor(function(f,c){var s=new _(n);s.then(f,c),l(t,new w(o,u,s))})}function l(n,t){for(;3===n._y;)n=n._z;if(_._B&&_._B(n),0===n._y)return 0===n._x?(n._x=1,void(n._A=t)):1===n._x?(n._x=2,void(n._A=[n._A,t])):void n._A.push(t);h(n,t)}function h(n,u){setImmediate(function(){var c=1===n._y?u.onFulfilled:u.onRejected;if(null!==c){var _=f(c,n._z);_===o?p(u.promise,t):y(u.promise,_)}else 1===n._y?y(u.promise,n._z):p(u.promise,n._z)})}function y(n,f){if(f===n)return p(n,new TypeError('A promise cannot be resolved with itself.'));if(f&&('object'==typeof f||'function'==typeof f)){var c=u(f);if(c===o)return p(n,t);if(c===n.then&&f instanceof _)return n._y=3,n._z=f,void v(n);if('function'==typeof c)return void A(c.bind(f),n)}n._y=1,n._z=f,v(n)}function p(n,t){n._y=2,n._z=t,_._C&&_._C(n,t),v(n)}function v(n){if(1===n._x&&(l(n,n._A),n._A=null),2===n._x){for(var t=0;t<n._A.length;t++)l(n,n._A[t]);n._A=null}}function w(n,t,o){this.onFulfilled='function'==typeof n?n:null,this.onRejected='function'==typeof t?t:null,this.promise=o}function A(n,u){var f=!1,_=c(n,function(n){f||(f=!0,y(u,n))},function(n){f||(f=!0,p(u,n))});f||_!==o||(f=!0,p(u,t))}m.exports=_,_._B=null,_._C=null,_._D=n,_.prototype.then=function(t,o){if(this.constructor!==_)return s(this,t,o);var u=new _(n);return l(this,new w(t,o,u)),u}},112,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t,t.prototype.done=function(t,n){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})}},113,[112]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n,n.prototype.finally=function(t){return this.then(function(o){return n.resolve(t()).then(function(){return o})},function(o){return n.resolve(t()).then(function(){throw o})})}},114,[112]);
__d(function(g,r,i,a,m,e,d){'use strict';(0,r(d[0]).polyfillGlobal)('regeneratorRuntime',function(){return delete g.regeneratorRuntime,r(d[1])})},115,[109,116]);
__d(function(g,r,i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,c=o.hasOwnProperty,u=Object.defineProperty||function(t,n,o){t[n]=o.value},h="function"==typeof Symbol?Symbol:{},f=h.iterator||"@@iterator",l=h.asyncIterator||"@@asyncIterator",s=h.toStringTag||"@@toStringTag";function p(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{p({},"")}catch(t){p=function(t,n,o){return t[n]=o}}function y(t,n,o,c){var h=n&&n.prototype instanceof _?n:_,f=Object.create(h.prototype),l=new Y(c||[]);return u(f,"_invoke",{value:S(t,o,l)}),f}function v(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=y;var w="suspendedStart",b="suspendedYield",L="executing",x="completed",E={};function _(){}function j(){}function O(){}var k={};p(k,f,function(){return this});var G=Object.getPrototypeOf,N=G&&G(G(q([])));N&&N!==o&&c.call(N,f)&&(k=N);var P=O.prototype=_.prototype=Object.create(k);function T(t){["next","throw","return"].forEach(function(n){p(t,n,function(t){return this._invoke(n,t)})})}function F(t,n){function o(u,h,f,l){var s=v(t[u],t,h);if("throw"!==s.type){var p=s.arg,y=p.value;return y&&"object"==typeof y&&c.call(y,"__await")?n.resolve(y.__await).then(function(t){o("next",t,f,l)},function(t){o("throw",t,f,l)}):n.resolve(y).then(function(t){p.value=t,f(p)},function(t){return o("throw",t,f,l)})}l(s.arg)}var h;u(this,"_invoke",{value:function(t,c){function u(){return new n(function(n,u){o(t,c,n,u)})}return h=h?h.then(u,u):u()}})}function S(t,n,o){var c=w;return function(u,h){if(c===L)throw new Error("Generator is already running");if(c===x){if("throw"===u)throw h;return z()}for(o.method=u,o.arg=h;;){var f=o.delegate;if(f){var l=I(f,o);if(l){if(l===E)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(c===w)throw c=x,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);c=L;var s=v(t,n,o);if("normal"===s.type){if(c=o.done?x:b,s.arg===E)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(c=x,o.method="throw",o.arg=s.arg)}}}function I(t,o){var c=o.method,u=t.iterator[c];if(u===n)return o.delegate=null,"throw"===c&&t.iterator.return&&(o.method="return",o.arg=n,I(t,o),"throw"===o.method)?E:("return"!==c&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+c+"' method")),E);var h=v(u,t.iterator,o.arg);if("throw"===h.type)return o.method="throw",o.arg=h.arg,o.delegate=null,E;var f=h.arg;return f?f.done?(o[t.resultName]=f.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,E):f:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,E)}function R(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function A(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function Y(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function q(t){if(t){var o=t[f];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var u=-1,h=function o(){for(;++u<t.length;)if(c.call(t,u))return o.value=t[u],o.done=!1,o;return o.value=n,o.done=!0,o};return h.next=h}}return{next:z}}function z(){return{value:n,done:!0}}return j.prototype=O,u(P,"constructor",{value:O,configurable:!0}),u(O,"constructor",{value:j,configurable:!0}),j.displayName=p(O,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===j||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,p(t,s,"GeneratorFunction")),t.prototype=Object.create(P),t},t.awrap=function(t){return{__await:t}},T(F.prototype),p(F.prototype,l,function(){return this}),t.AsyncIterator=F,t.async=function(o,c,u,h,f){f===n&&(f=Promise);var l=new F(y(o,c,u,h),f);return t.isGeneratorFunction(c)?l:l.next().then(function(t){return t.done?t.value:l.next()})},T(P),p(P,s,"Generator"),p(P,f,function(){return this}),p(P,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n=Object(t),o=[];for(var c in n)o.push(c);return o.reverse(),function t(){for(;o.length;){var c=o.pop();if(c in n)return t.value=c,t.done=!1,t}return t.done=!0,t}},t.values=q,Y.prototype={constructor:Y,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var o in this)"t"===o.charAt(0)&&c.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function u(c,u){return l.type="throw",l.arg=t,o.next=c,u&&(o.method="next",o.arg=n),!!u}for(var h=this.tryEntries.length-1;h>=0;--h){var f=this.tryEntries[h],l=f.completion;if("root"===f.tryLoc)return u("end");if(f.tryLoc<=this.prev){var s=c.call(f,"catchLoc"),p=c.call(f,"finallyLoc");if(s&&p){if(this.prev<f.catchLoc)return u(f.catchLoc,!0);if(this.prev<f.finallyLoc)return u(f.finallyLoc)}else if(s){if(this.prev<f.catchLoc)return u(f.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return u(f.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var h=u;break}}h&&("break"===t||"continue"===t)&&h.tryLoc<=n&&n<=h.finallyLoc&&(h=null);var f=h?h.completion:{};return f.type=t,f.arg=n,h?(this.method="next",this.next=h.finallyLoc,E):this.complete(f)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),E},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),A(o),E}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var c=o.completion;if("throw"===c.type){var u=c.arg;A(o)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,c){return this.delegate={iterator:q(t),resultName:o,nextLoc:c},"next"===this.method&&(this.arg=n),E}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},116,[]);
__d(function(g,r,i,a,m,e,d){'use strict';if(!g.RN$Bridgeless){var l=r(d[0]).polyfillGlobal,t=function(t){l(t,function(){return r(d[1])[t]})};t('setTimeout'),t('setInterval'),t('setImmediate'),t('clearTimeout'),t('clearInterval'),t('clearImmediate'),t('requestAnimationFrame'),t('cancelAnimationFrame'),t('requestIdleCallback'),t('cancelIdleCallback')}},117,[109,118]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=r(d[2]),l=(r(d[3]),r(d[4]),r(d[5])),o=16.666666666666668,u=[],c=[],f=[],s=[],v=[],h={},I=1,T=null,w=!1;function p(){var t=f.indexOf(null);return-1===t&&(t=f.length),t}function b(t,n){var l=I++,o=p();return f[o]=l,u[o]=t,c[o]=n,l}function k(t,n,l){t>I&&console.warn('Tried to call timer with ID %s but no such timer exists.',t);var s=f.indexOf(t);if(-1!==s){var v=c[s],h=u[s];if(h&&v){'setInterval'!==v&&y(s);try{'setTimeout'===v||'setInterval'===v||'setImmediate'===v?h():'requestAnimationFrame'===v?h(g.performance.now()):'requestIdleCallback'===v?h({timeRemaining:function(){return Math.max(0,o-(g.performance.now()-n))},didTimeout:!!l}):console.error('Tried to call a callback with invalid type: '+v)}catch(t){T?T.push(t):T=[t]}}else console.error('No callback found for timerID '+t)}}function x(){if(0===s.length)return!1;var t=s;s=[];for(var n=0;n<t.length;++n)k(t[n],0);return s.length>0}function y(t){f[t]=null,u[t]=null,c[t]=null}function C(t){if(null!=t){var n=f.indexOf(t);if(-1!==n){var l=c[n];y(n),'setImmediate'!==l&&'requestIdleCallback'!==l&&O(t)}}}var q,A={setTimeout:function(t,n){for(var l=arguments.length,o=new Array(l>2?l-2:0),u=2;u<l;u++)o[u-2]=arguments[u];var c=b(function(){return t.apply(void 0,o)},'setTimeout');return D(c,n||0,Date.now(),!1),c},setInterval:function(t,n){for(var l=arguments.length,o=new Array(l>2?l-2:0),u=2;u<l;u++)o[u-2]=arguments[u];var c=b(function(){return t.apply(void 0,o)},'setInterval');return D(c,n||0,Date.now(),!0),c},setImmediate:function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];var u=b(function(){return t.apply(void 0,l)},'setImmediate');return s.push(u),u},requestAnimationFrame:function(t){var n=b(t,'requestAnimationFrame');return D(n,1,Date.now(),!1),n},requestIdleCallback:function(t,n){0===v.length&&F(!0);var l=n&&n.timeout,o=b(null!=l?function(n){var l=h[o];return l&&(A.clearTimeout(l),delete h[o]),t(n)}:t,'requestIdleCallback');if(v.push(o),null!=l){var u=A.setTimeout(function(){var t=v.indexOf(o);t>-1&&(v.splice(t,1),k(o,g.performance.now(),!0)),delete h[o],0===v.length&&F(!1)},l);h[o]=u}return o},cancelIdleCallback:function(t){C(t);var n=v.indexOf(t);-1!==n&&v.splice(n,1);var l=h[t];l&&(A.clearTimeout(l),delete h[t]),0===v.length&&F(!1)},clearTimeout:function(t){C(t)},clearInterval:function(t){C(t)},clearImmediate:function(t){C(t);var n=s.indexOf(t);-1!==n&&s.splice(n,1)},cancelAnimationFrame:function(t){C(t)},callTimers:function(t){l(0!==t.length,'Cannot call `callTimers` with an empty list of IDs.'),T=null;for(var n=0;n<t.length;n++)k(t[n],0);if(T){var o=T.length;if(o>1)for(var u=1;u<o;u++)A.setTimeout(function(t){throw t}.bind(null,T[u]),0);throw T[0]}},callIdleCallbacks:function(t){if(!(o-(g.performance.now()-t)<1)){if(T=null,v.length>0){var n=v;v=[];for(var l=0;l<n.length;++l)k(n[l],t)}0===v.length&&F(!1),T&&T.forEach(function(t){return A.setTimeout(function(){throw t},0)})}},callImmediates:function(){for(T=null;x(););T&&T.forEach(function(t){return A.setTimeout(function(){throw t},0)})},emitTimeDriftWarning:function(t){w||(w=!0,console.warn(t))}};function D(n,o,u,c){l(t.default,'NativeTiming is available'),t.default.createTimer(n,o,u,c)}function O(n){l(t.default,'NativeTiming is available'),t.default.deleteTimer(n)}function F(n){l(t.default,'NativeTiming is available'),t.default.setSendIdleEvents(n)}t.default?q=A:(console.warn("Timing native module is not available, can't set timers."),q={callImmediates:A.callImmediates,setImmediate:A.setImmediate}),n.setImmediatesCallback(A.callImmediates),m.exports=q},118,[2,119,39,53,46,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('Timing');e.default=n},119,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]).polyfillGlobal;n('XMLHttpRequest',function(){return r(d[1])}),n('FormData',function(){return r(d[2])}),n('fetch',function(){return r(d[3]).fetch}),n('Headers',function(){return r(d[3]).Headers}),n('Request',function(){return r(d[3]).Request}),n('Response',function(){return r(d[3]).Response}),n('WebSocket',function(){return r(d[4])}),n('Blob',function(){return r(d[5])}),n('File',function(){return r(d[6])}),n('FileReader',function(){return r(d[7])}),n('URL',function(){return r(d[8]).URL}),n('URLSearchParams',function(){return r(d[8]).URLSearchParams}),n('AbortController',function(){return r(d[9]).AbortController}),n('AbortSignal',function(){return r(d[9]).AbortSignal})},120,[109,121,136,137,139,124,142,143,145,146]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),h=r(d[4]),p=r(d[5]),u=r(d[6]);function c(t){var s=_();return function(){var n,o=u(t);if(s){var h=u(this).constructor;n=Reflect.construct(o,arguments,h)}else n=o.apply(this,arguments);return p(this,n)}}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=r(d[7]),y=r(d[8]),f=r(d[9]),v=r(d[10]),R=r(d[11]),E=r(d[12]);l.isAvailable&&l.addNetworkingHandler();var b=0,k=1,N=2,w=3,S=4,D={arraybuffer:'function'==typeof g.ArrayBuffer,blob:'function'==typeof g.Blob,document:!1,json:!0,text:!0,'':!0},T=['abort','error','load','loadstart','progress','timeout','loadend'],L=T.concat('readystatechange'),q=(function(t){h(p,t);var s=c(p);function p(){return o(this,p),s.apply(this,arguments)}return n(p)})(y.apply(void 0,T)),O=(function(p){h(y,p);var _=c(y);function y(){var t;return o(this,y),(t=_.call(this)).UNSENT=b,t.OPENED=k,t.HEADERS_RECEIVED=N,t.LOADING=w,t.DONE=S,t.readyState=b,t.status=0,t.timeout=0,t.withCredentials=!0,t.upload=new q,t._aborted=!1,t._hasError=!1,t._method=null,t._perfKey=null,t._response='',t._url=null,t._timedOut=!1,t._trackingName='unknown',t._incrementalEvents=!1,t._performanceLogger=f,t._reset(),t}return n(y,[{key:"_reset",value:function(){this.readyState=this.UNSENT,this.responseHeaders=void 0,this.status=0,delete this.responseURL,this._requestId=null,this._cachedResponse=void 0,this._hasError=!1,this._headers={},this._response='',this._responseType='',this._sent=!1,this._lowerCaseResponseHeaders={},this._clearSubscriptions(),this._timedOut=!1}},{key:"responseType",get:function(){return this._responseType},set:function(t){if(this._sent)throw new Error("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set after the request has been sent.");D.hasOwnProperty(t)?(E(D[t]||'document'===t,"The provided value '"+t+"' is unsupported in this environment."),'blob'===t&&E(l.isAvailable,'Native module BlobModule is required for blob support'),this._responseType=t):console.warn("The provided value '"+t+"' is not a valid 'responseType'.")}},{key:"responseText",get:function(){if(''!==this._responseType&&'text'!==this._responseType)throw new Error("The 'responseText' property is only available if 'responseType' is set to '' or 'text', but it is '"+this._responseType+"'.");return this.readyState<w?'':this._response}},{key:"response",get:function(){var t=this.responseType;if(''===t||'text'===t)return this.readyState<w||this._hasError?'':this._response;if(this.readyState!==S)return null;if(void 0!==this._cachedResponse)return this._cachedResponse;switch(t){case'document':this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=R.toByteArray(this._response).buffer;break;case'blob':if('object'==typeof this._response&&this._response)this._cachedResponse=l.createFromOptions(this._response);else{if(''!==this._response)throw new Error("Invalid response for blob: "+this._response);this._cachedResponse=l.createFromParts([])}break;case'json':try{this._cachedResponse=JSON.parse(this._response)}catch(t){this._cachedResponse=null}break;default:this._cachedResponse=null}return this._cachedResponse}},{key:"__didCreateRequest",value:function(t){this._requestId=t,y._interceptor&&y._interceptor.requestSent(t,this._url||'',this._method||'GET',this._headers)}},{key:"__didUploadProgress",value:function(t,s,n){t===this._requestId&&this.upload.dispatchEvent({type:'progress',lengthComputable:!0,loaded:s,total:n})}},{key:"__didReceiveResponse",value:function(t,s,n,o){t===this._requestId&&(null!=this._perfKey&&this._performanceLogger.stopTimespan(this._perfKey),this.status=s,this.setResponseHeaders(n),this.setReadyState(this.HEADERS_RECEIVED),o||''===o?this.responseURL=o:delete this.responseURL,y._interceptor&&y._interceptor.responseReceived(t,o||this._url||'',s,n||{}))}},{key:"__didReceiveData",value:function(t,s){t===this._requestId&&(this._response=s,this._cachedResponse=void 0,this.setReadyState(this.LOADING),y._interceptor&&y._interceptor.dataReceived(t,s))}},{key:"__didReceiveIncrementalData",value:function(t,s,n,o){t===this._requestId&&(this._response?this._response+=s:this._response=s,y._interceptor&&y._interceptor.dataReceived(t,s),this.setReadyState(this.LOADING),this.__didReceiveDataProgress(t,n,o))}},{key:"__didReceiveDataProgress",value:function(t,s,n){t===this._requestId&&this.dispatchEvent({type:'progress',lengthComputable:n>=0,loaded:s,total:n})}},{key:"__didCompleteResponse",value:function(t,s,n){t===this._requestId&&(s&&(''!==this._responseType&&'text'!==this._responseType||(this._response=s),this._hasError=!0,n&&(this._timedOut=!0)),this._clearSubscriptions(),this._requestId=null,this.setReadyState(this.DONE),s?y._interceptor&&y._interceptor.loadingFailed(t,s):y._interceptor&&y._interceptor.loadingFinished(t,this._response.length))}},{key:"_clearSubscriptions",value:function(){(this._subscriptions||[]).forEach(function(t){t&&t.remove()}),this._subscriptions=[]}},{key:"getAllResponseHeaders",value:function(){if(!this.responseHeaders)return null;var t=this.responseHeaders||{};return Object.keys(t).map(function(s){return s+': '+t[s]}).join('\r\n')}},{key:"getResponseHeader",value:function(t){var s=this._lowerCaseResponseHeaders[t.toLowerCase()];return void 0!==s?s:null}},{key:"setRequestHeader",value:function(t,s){if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');this._headers[t.toLowerCase()]=String(s)}},{key:"setTrackingName",value:function(t){return this._trackingName=t,this}},{key:"setPerformanceLogger",value:function(t){return this._performanceLogger=t,this}},{key:"open",value:function(t,s,n){if(this.readyState!==this.UNSENT)throw new Error('Cannot open, already sending');if(void 0!==n&&!n)throw new Error('Synchronous http requests are not supported');if(!s)throw new Error('Cannot load an empty url');this._method=t.toUpperCase(),this._url=s,this._aborted=!1,this.setReadyState(this.OPENED)}},{key:"send",value:function(s){var n=this;if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');if(this._sent)throw new Error('Request has already been sent');this._sent=!0;var o=this._incrementalEvents||!!this.onreadystatechange||!!this.onprogress;this._subscriptions.push(v.addListener('didSendNetworkData',function(s){return n.__didUploadProgress.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkResponse',function(s){return n.__didReceiveResponse.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkData',function(s){return n.__didReceiveData.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkIncrementalData',function(s){return n.__didReceiveIncrementalData.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkDataProgress',function(s){return n.__didReceiveDataProgress.apply(n,t(s))})),this._subscriptions.push(v.addListener('didCompleteNetworkResponse',function(s){return n.__didCompleteResponse.apply(n,t(s))}));var h='text';'arraybuffer'===this._responseType&&(h='base64'),'blob'===this._responseType&&(h='blob');var p;p='unknown'!==n._trackingName?n._trackingName:n._url,n._perfKey='network_XMLHttpRequest_'+String(p),n._performanceLogger.startTimespan(n._perfKey),E(n._method,'XMLHttpRequest method needs to be defined (%s).',p),E(n._url,'XMLHttpRequest URL needs to be defined (%s).',p),v.sendRequest(n._method,n._trackingName,n._url,n._headers,s,h,o,n.timeout,n.__didCreateRequest.bind(n),n.withCredentials)}},{key:"abort",value:function(){this._aborted=!0,this._requestId&&v.abortRequest(this._requestId),this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this._sent||this.readyState===this.DONE||(this._reset(),this.setReadyState(this.DONE)),this._reset()}},{key:"setResponseHeaders",value:function(t){this.responseHeaders=t||null;var s=t||{};this._lowerCaseResponseHeaders=Object.keys(s).reduce(function(t,n){return t[n.toLowerCase()]=s[n],t},{})}},{key:"setReadyState",value:function(t){this.readyState=t,this.dispatchEvent({type:'readystatechange'}),t===this.DONE&&(this._aborted?this.dispatchEvent({type:'abort'}):this._hasError?this._timedOut?this.dispatchEvent({type:'timeout'}):this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"addEventListener",value:function(t,n){'readystatechange'!==t&&'progress'!==t||(this._incrementalEvents=!0),s(u(y.prototype),"addEventListener",this).call(this,t,n)}}],[{key:"setInterceptor",value:function(t){y._interceptor=t}}]),y})(y.apply(void 0,t(L)));O.UNSENT=b,O.OPENED=k,O.HEADERS_RECEIVED=N,O.LOADING=w,O.DONE=S,O._interceptor=null,m.exports=O},121,[41,17,13,12,20,22,19,122,126,127,130,135,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),n=t(r(d[4])),f=t(r(d[5])),c=r(d[6]),s=r(d[7]);var x=(function(){function t(){(0,o.default)(this,t)}return(0,u.default)(t,null,[{key:"createFromParts",value:function(l,o){(0,f.default)(n.default,'NativeBlobModule is available.');var u='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var l=16*Math.random()|0;return('x'==t?l:3&l|8).toString(16)}),s=l.map(function(t){if(t instanceof ArrayBuffer||g.ArrayBufferView&&t instanceof g.ArrayBufferView)throw new Error("Creating blobs from 'ArrayBuffer' and 'ArrayBufferView' are not supported");return t instanceof c?{data:t.data,type:'blob'}:{data:String(t),type:'string'}}),x=s.reduce(function(t,l){return'string'===l.type?t+g.unescape(encodeURI(l.data)).length:t+l.data.size},0);return n.default.createFromParts(s,u),t.createFromOptions({blobId:u,offset:0,size:x,type:o?o.type:'',lastModified:o?o.lastModified:Date.now()})}},{key:"createFromOptions",value:function(t){return s.register(t.blobId),(0,l.default)(Object.create(c.prototype),{data:null==t.__collector?(0,l.default)({},t,{__collector:(o=t.blobId,null==g.__blobCollectorProvider?null:g.__blobCollectorProvider(o))}):t});var o}},{key:"release",value:function(t){(0,f.default)(n.default,'NativeBlobModule is available.'),s.unregister(t),s.has(t)||n.default.release(t)}},{key:"addNetworkingHandler",value:function(){(0,f.default)(n.default,'NativeBlobModule is available.'),n.default.addNetworkingHandler()}},{key:"addWebSocketHandler",value:function(t){(0,f.default)(n.default,'NativeBlobModule is available.'),n.default.addWebSocketHandler(t)}},{key:"removeWebSocketHandler",value:function(t){(0,f.default)(n.default,'NativeBlobModule is available.'),n.default.removeWebSocketHandler(t)}},{key:"sendOverSocket",value:function(t,l){(0,f.default)(n.default,'NativeBlobModule is available.'),n.default.sendOverSocket(t.data,l)}}]),t})();x.isAvailable=!!n.default,m.exports=x},122,[2,32,12,13,123,8,124,125]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in n)if("default"!==f&&Object.prototype.hasOwnProperty.call(n,f)){var s=c?Object.getOwnPropertyDescriptor(n,f):null;s&&(s.get||s.set)?Object.defineProperty(l,f,s):l[f]=n[f]}l.default=n,u&&u.set(n,l);return l})(r(d[0])).get('BlobModule'),o=null,u=null;null!=n&&(u={getConstants:function(){return null==o&&(o=n.getConstants()),o},addNetworkingHandler:function(){n.addNetworkingHandler()},addWebSocketHandler:function(t){n.addWebSocketHandler(t)},removeWebSocketHandler:function(t){n.removeWebSocketHandler(t)},sendOverSocket:function(t,o){n.sendOverSocket(t,o)},createFromParts:function(t,o){n.createFromParts(t,o)},release:function(t){n.release(t)}});var l=u;e.default=l},123,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=(function(){function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;t(this,s);var u=r(d[2]);this.data=u.createFromParts(n,o).data}return n(s,[{key:"data",get:function(){if(!this._data)throw new Error('Blob has been closed and is no longer available');return this._data},set:function(t){this._data=t}},{key:"slice",value:function(t,n){var s=r(d[2]),o=this.data,u=o.offset,l=o.size;return'number'==typeof t&&(t>l&&(t=l),u+=t,l-=t,'number'==typeof n&&(n<0&&(n=this.size+n),l=n-t)),s.createFromOptions({blobId:this.data.blobId,offset:u,size:l})}},{key:"close",value:function(){r(d[2]).release(this.data.blobId),this.data=null}},{key:"size",get:function(){return this.data.size}},{key:"type",get:function(){return this.data.type||''}}]),s})();m.exports=s},124,[12,13,122]);
__d(function(g,r,i,a,m,e,d){var n={};m.exports={register:function(t){n[t]?n[t]++:n[t]=1},unregister:function(t){n[t]&&(n[t]--,n[t]<=0&&delete n[t])},has:function(t){return n[t]&&n[t]>0}}},125,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function l(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function u(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var l=Object.keys(o),u=0;u<l.length;++u){var p=l[u];p in this||Object.defineProperty(this,p,s(p))}}function s(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function p(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function c(t,n){var o=Object.keys(n);if(0===o.length)return t;function l(n,o){t.call(this,n,o)}l.prototype=Object.create(t.prototype,{constructor:{value:l,configurable:!0,writable:!0}});for(var u=0;u<o.length;++u){var c=o[u];if(!(c in t.prototype)){var f="function"==typeof Object.getOwnPropertyDescriptor(n,c).value;Object.defineProperty(l.prototype,c,f?p(c):s(c))}}return l}function f(t){if(null==t||t===Object.prototype)return u;var o=n.get(t);return null==o&&(o=c(f(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function v(t,n){return new(f(Object.getPrototypeOf(n)))(t,n)}function y(t){return o(t).immediateStopped}function b(t,n){o(t).eventPhase=n}function h(t,n){o(t).currentTarget=n}function w(t,n){o(t).passiveListener=n}u.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){l(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||l(o(this))},initEvent:function(){}},Object.defineProperty(u.prototype,"constructor",{value:u,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(u.prototype,window.Event.prototype),n.set(window.Event.prototype,u));var T=new WeakMap,P=3;function x(t){return null!==t&&"object"==typeof t}function E(t){var n=T.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function O(t){return{get:function(){for(var n=E(this).get(t);null!=n;){if(n.listenerType===P)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||x(n)||(n=null);for(var o=E(this),l=null,u=o.get(t);null!=u;)u.listenerType===P?null!==l?l.next=u.next:null!==u.next?o.set(t,u.next):o.delete(t):l=u,u=u.next;if(null!==n){var s={listener:n,listenerType:P,passive:!1,once:!1,next:null};null===l?o.set(t,s):l.next=s}},configurable:!0,enumerable:!0}}function j(t,n){Object.defineProperty(t,"on"+n,O(n))}function B(t){function n(){A.call(this)}n.prototype=Object.create(A.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)j(n.prototype,t[o]);return n}function A(){if(!(this instanceof A)){if(1===arguments.length&&Array.isArray(arguments[0]))return B(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return B(t)}throw new TypeError("Cannot call a class as a function")}T.set(this,new Map)}A.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!x(n))throw new TypeError("'listener' should be a function or an object.");var l=E(this),u=x(o),s=(u?Boolean(o.capture):Boolean(o))?1:2,p={listener:n,listenerType:s,passive:u&&Boolean(o.passive),once:u&&Boolean(o.once),next:null},c=l.get(t);if(void 0!==c){for(var f=null;null!=c;){if(c.listener===n&&c.listenerType===s)return;f=c,c=c.next}f.next=p}else l.set(t,p)}},removeEventListener:function(t,n,o){if(null!=n)for(var l=E(this),u=(x(o)?Boolean(o.capture):Boolean(o))?1:2,s=null,p=l.get(t);null!=p;){if(p.listener===n&&p.listenerType===u)return void(null!==s?s.next=p.next:null!==p.next?l.set(t,p.next):l.delete(t));s=p,p=p.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=E(this),o=t.type,l=n.get(o);if(null==l)return!0;for(var u=v(this,t),s=null;null!=l;){if(l.once?null!==s?s.next=l.next:null!==l.next?n.set(o,l.next):n.delete(o):s=l,w(u,l.passive?l.listener:null),"function"==typeof l.listener)try{l.listener.call(this,u)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else l.listenerType!==P&&"function"==typeof l.listener.handleEvent&&l.listener.handleEvent(u);if(y(u))break;l=l.next}return w(u,null),b(u,0),h(u,null),!u.defaultPrevented}},Object.defineProperty(A.prototype,"constructor",{value:A,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(A.prototype,window.EventTarget.prototype),e.defineEventAttribute=j,e.EventTarget=A,e.default=A,m.exports=A,m.exports.EventTarget=m.exports.default=A,m.exports.defineEventAttribute=j},126,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=(0,r(d[0])(r(d[1])).default)();m.exports=t},127,[2,128]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new p},e.getCurrentTimestamp=void 0;var s,n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=r(d[4]),h=(r(d[5]),{}),_=null!=(s=g.nativeQPLTimestamp)?s:g.performance.now.bind(g.performance);e.getCurrentTimestamp=_;var p=(function(){function t(){(0,o.default)(this,t),this._timespans={},this._extras={},this._points={},this._pointExtras={},this._closed=!1}return(0,u.default)(t,[{key:"addTimespan",value:function(t,s,n,o,u){this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,endTime:n,totalTime:n-(s||0),startExtras:o,endExtras:u})}},{key:"append",value:function(t){this._timespans=(0,n.default)({},t.getTimespans(),this._timespans),this._extras=(0,n.default)({},t.getExtras(),this._extras),this._points=(0,n.default)({},t.getPoints(),this._points),this._pointExtras=(0,n.default)({},t.getPointExtras(),this._pointExtras)}},{key:"clear",value:function(){this._timespans={},this._extras={},this._points={}}},{key:"clearCompleted",value:function(){for(var t in this._timespans){var s;null!=(null==(s=this._timespans[t])?void 0:s.totalTime)&&delete this._timespans[t]}this._extras={},this._points={}}},{key:"close",value:function(){this._closed=!0}},{key:"currentTimestamp",value:function(){return _()}},{key:"getExtras",value:function(){return this._extras}},{key:"getPoints",value:function(){return this._points}},{key:"getPointExtras",value:function(){return this._pointExtras}},{key:"getTimespans",value:function(){return this._timespans}},{key:"hasTimespan",value:function(t){return!!this._timespans[t]}},{key:"isClosed",value:function(){return this._closed}},{key:"logEverything",value:function(){}},{key:"markPoint",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_(),n=arguments.length>2?arguments[2]:void 0;this._closed||null==this._points[t]&&(this._points[t]=s,n&&(this._pointExtras[t]=n))}},{key:"removeExtra",value:function(t){var s=this._extras[t];return delete this._extras[t],s}},{key:"setExtra",value:function(t,s){this._closed||this._extras.hasOwnProperty(t)||(this._extras[t]=s)}},{key:"startTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_(),n=arguments.length>2?arguments[2]:void 0;this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,startExtras:n},h[t]=l.beginAsyncEvent(t))}},{key:"stopTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_(),n=arguments.length>2?arguments[2]:void 0;if(!this._closed){var o=this._timespans[t];o&&null!=o.startTime&&null==o.endTime&&(o.endExtras=n,o.endTime=s,o.totalTime=o.endTime-(o.startTime||0),null!=h[t]&&(l.endAsyncEvent(t,h[t]),delete h[t]))}}}]),t})()},128,[2,32,12,13,46,129]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){var n;return(n=console).log.apply(n,arguments)}},129,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),_=t(r(d[8])),R=t(r(d[9]));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=(function(t){(0,o.default)(h,t);var s,v,y=(s=h,v=p(),function(){var t,u=(0,c.default)(s);if(v){var n=(0,c.default)(this).constructor;t=Reflect.construct(u,arguments,n)}else t=u.apply(this,arguments);return(0,f.default)(this,t)});function h(){(0,n.default)(this,h);var t='function'==typeof g.__disableRCTNetworkingExtraneousModuleCalls&&g.__disableRCTNetworkingExtraneousModuleCalls();return y.call(this,_.default,{__SECRET_DISABLE_CALLS_INTO_MODULE_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t})}return(0,l.default)(h,[{key:"sendRequest",value:function(t,n,l,o,f,c,s,p,v,y){var h=(0,R.default)(f);_.default.sendRequest({method:t,url:l,data:(0,u.default)({},h,{trackingName:n}),headers:o,responseType:c,incrementalUpdates:s,timeout:p,withCredentials:y},v)}},{key:"abortRequest",value:function(t){_.default.abortRequest(t)}},{key:"clearCookies",value:function(t){_.default.clearCookies(t)}}]),h})(s.default);m.exports=new v},130,[2,32,12,13,20,22,19,131,132,133]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6])),_=t(r(d[7])),c=t(r(d[8])),v=t(r(d[9])),h=t(r(d[10]));function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var p={__SECRET_DISABLE_CALLS_INTO_MODULE_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:!1},O=(function(t){(0,o.default)(E,t);var c,O,y=(c=E,O=L(),function(){var t,l=(0,f.default)(c);if(O){var u=(0,f.default)(this).constructor;t=Reflect.construct(l,arguments,u)}else t=l.apply(this,arguments);return(0,s.default)(this,t)});function E(t){var u,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return(0,l.default)(this,E),(u=y.call(this,v.default.sharedSubscriber))._disableCallsIntoModule=n.__SECRET_DISABLE_CALLS_INTO_MODULE_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,'ios'===_.default.OS&&((0,h.default)(t,'Native module cannot be null.'),u._nativeModule=t),u}return(0,u.default)(E,[{key:"addListener",value:function(t,l,u){return null==this._nativeModule||this._disableCallsIntoModule||this._nativeModule.addListener(t),(0,n.default)((0,f.default)(E.prototype),"addListener",this).call(this,t,l,u)}},{key:"removeAllListeners",value:function(t){(0,h.default)(t,'eventType argument is required.');var l=this.listenerCount(t);null==this._nativeModule||this._disableCallsIntoModule||this._nativeModule.removeListeners(l),(0,n.default)((0,f.default)(E.prototype),"removeAllListeners",this).call(this,t)}},{key:"removeSubscription",value:function(t){null==this._nativeModule||this._disableCallsIntoModule||this._nativeModule.removeListeners(1),(0,n.default)((0,f.default)(E.prototype),"removeSubscription",this).call(this,t)}}]),E})(c.default);e.default=O},131,[2,12,13,17,20,22,19,53,24,11,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('Networking');e.default=n},132,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),f=r(d[2]);m.exports=function(s){return'string'==typeof s?{string:s}:s instanceof n?{blob:s.data}:s instanceof f?{formData:s.getParts()}:s instanceof ArrayBuffer||ArrayBuffer.isView(s)?{base64:t(s)}:s}},133,[134,124,136]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),f instanceof Uint8Array)return t.fromByteArray(f);if(!ArrayBuffer.isView(f))throw new Error('data must be ArrayBuffer or typed array');var n=f,y=n.buffer,o=n.byteOffset,u=n.byteLength;return t.fromByteArray(new Uint8Array(y,o,u))}},134,[135]);
__d(function(g,r,i,a,m,e,d){'use strict';e.byteLength=function(t){var n=f(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,c=f(t),C=c[0],y=c[1],s=new o(A(t,C,y)),v=0,l=y>0?C-4:C;for(u=0;u<l;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],s[v++]=h>>16&255,s[v++]=h>>8&255,s[v++]=255&h;2===y&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,s[v++]=255&h);1===y&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,s[v++]=h>>8&255,s[v++]=255&h);return s},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],f=0,A=h-u;f<A;f+=16383)c.push(C(n,f,f+16383>A?A:f+16383));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0,c=h.length;u<c;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function f(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function A(t,n,o){return 3*(n+o)/4-o}function C(n,o,h){for(var u,c,f=[],A=o;A<h;A+=3)u=(n[A]<<16&16711680)+(n[A+1]<<8&65280)+(255&n[A+2]),f.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return f.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},135,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),p=(function(){function p(){s(this,p),this._parts=[]}return o(p,[{key:"append",value:function(t,n){this._parts.push([t,n])}},{key:"getParts",value:function(){return this._parts.map(function(s){var o=n(s,2),p=o[0],f=o[1],u={'content-disposition':'form-data; name="'+p+'"'};return'object'==typeof f&&f?('string'==typeof f.name&&(u['content-disposition']+='; filename="'+f.name+'"'),'string'==typeof f.type&&(u['content-type']=f.type),t({},f,{headers:u,fieldName:p})):{string:String(f),headers:u,fieldName:p}})}}]),p})();m.exports=p},136,[32,33,12,13]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports={fetch:fetch,Headers:Headers,Request:Request,Response:Response}},137,[138]);
__d(function(g,r,i,a,m,e,d){var t,o;t=this,o=function(t){'use strict';var o='undefined'!=typeof globalThis&&globalThis||'undefined'!=typeof self&&self||void 0!==o&&o,n={searchParams:'URLSearchParams'in o,iterable:'Symbol'in o&&'iterator'in Symbol,blob:'FileReader'in o&&'Blob'in o&&(function(){try{return new Blob,!0}catch(t){return!1}})(),formData:'FormData'in o,arrayBuffer:'ArrayBuffer'in o};if(n.arrayBuffer)var s=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],h=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if('string'!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||''===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function u(t){return'string'!=typeof t&&(t=String(t)),t}function c(t){var o={next:function(){var o=t.shift();return{done:void 0===o,value:o}}};return n.iterable&&(o[Symbol.iterator]=function(){return o}),o}function y(t){this.map={},t instanceof y?t.forEach(function(t,o){this.append(o,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(o){this.append(o,t[o])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError('Already read'));t.bodyUsed=!0}function p(t){return new Promise(function(o,n){t.onload=function(){o(t.result)},t.onerror=function(){n(t.error)}})}function b(t){var o=new FileReader,n=p(o);return o.readAsArrayBuffer(t),n}function w(t){for(var o=new Uint8Array(t),n=new Array(o.length),s=0;s<o.length;s++)n[s]=String.fromCharCode(o[s]);return n.join('')}function v(t){if(t.slice)return t.slice(0);var o=new Uint8Array(t.byteLength);return o.set(new Uint8Array(t)),o.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var o;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?'string'==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&((o=t)&&DataView.prototype.isPrototypeOf(o))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText='',this.headers.get('content-type')||('string'==typeof t?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},n.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=l(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(b)}),this.text=function(){var t,o,n,s=l(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,o=new FileReader,n=p(o),o.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(t,o){t=f(t),o=u(o);var n=this.map[t];this.map[t]=n?n+', '+o:o},y.prototype.delete=function(t){delete this.map[f(t)]},y.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},y.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},y.prototype.set=function(t,o){this.map[f(t)]=u(o)},y.prototype.forEach=function(t,o){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(o,this.map[n],n,this)},y.prototype.keys=function(){var t=[];return this.forEach(function(o,n){t.push(n)}),c(t)},y.prototype.values=function(){var t=[];return this.forEach(function(o){t.push(o)}),c(t)},y.prototype.entries=function(){var t=[];return this.forEach(function(o,n){t.push([n,o])}),c(t)},n.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);var E=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];function T(t,o){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,s,h=(o=o||{}).body;if(t instanceof T){if(t.bodyUsed)throw new TypeError('Already read');this.url=t.url,this.credentials=t.credentials,o.headers||(this.headers=new y(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,h||null==t._bodyInit||(h=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=o.credentials||this.credentials||'same-origin',!o.headers&&this.headers||(this.headers=new y(o.headers)),this.method=(n=o.method||this.method||'GET',s=n.toUpperCase(),E.indexOf(s)>-1?s:n),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&h)throw new TypeError('Body not allowed for GET or HEAD requests');if(this._initBody(h),!('GET'!==this.method&&'HEAD'!==this.method||'no-store'!==o.cache&&'no-cache'!==o.cache)){var f=/([?&])_=[^&]*/;if(f.test(this.url))this.url=this.url.replace(f,'$1_='+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?'&':'?')+'_='+(new Date).getTime()}}}function A(t){var o=new FormData;return t.trim().split('&').forEach(function(t){if(t){var n=t.split('='),s=n.shift().replace(/\+/g,' '),h=n.join('=').replace(/\+/g,' ');o.append(decodeURIComponent(s),decodeURIComponent(h))}}),o}function B(t,o){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');o||(o={}),this.type='default',this.status=void 0===o.status?200:o.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===o.statusText?'':''+o.statusText,this.headers=new y(o.headers),this.url=o.url||'',this._initBody(t)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},_.call(T.prototype),_.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},B.error=function(){var t=new B(null,{status:0,statusText:''});return t.type='error',t};var x=[301,302,303,307,308];B.redirect=function(t,o){if(-1===x.indexOf(o))throw new RangeError('Invalid status code');return new B(null,{status:o,headers:{location:t}})},t.DOMException=o.DOMException;try{new t.DOMException}catch(o){t.DOMException=function(t,o){this.message=t,this.name=o;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function O(s,h){return new Promise(function(f,c){var l=new T(s,h);if(l.signal&&l.signal.aborted)return c(new t.DOMException('Aborted','AbortError'));var p=new XMLHttpRequest;function b(){p.abort()}p.onload=function(){var t,o,n={status:p.status,statusText:p.statusText,headers:(t=p.getAllResponseHeaders()||'',o=new y,t.replace(/\r?\n[\t ]+/g,' ').split('\r').map(function(t){return 0===t.indexOf('\n')?t.substr(1,t.length):t}).forEach(function(t){var n=t.split(':'),s=n.shift().trim();if(s){var h=n.join(':').trim();o.append(s,h)}}),o)};n.url='responseURL'in p?p.responseURL:n.headers.get('X-Request-URL');var s='response'in p?p.response:p.responseText;setTimeout(function(){f(new B(s,n))},0)},p.onerror=function(){setTimeout(function(){c(new TypeError('Network request failed'))},0)},p.ontimeout=function(){setTimeout(function(){c(new TypeError('Network request failed'))},0)},p.onabort=function(){setTimeout(function(){c(new t.DOMException('Aborted','AbortError'))},0)},p.open(l.method,(function(t){try{return''===t&&o.location.href?o.location.href:t}catch(o){return t}})(l.url),!0),'include'===l.credentials?p.withCredentials=!0:'omit'===l.credentials&&(p.withCredentials=!1),'responseType'in p&&(n.blob?p.responseType='blob':n.arrayBuffer&&l.headers.get('Content-Type')&&-1!==l.headers.get('Content-Type').indexOf('application/octet-stream')&&(p.responseType='arraybuffer')),!h||'object'!=typeof h.headers||h.headers instanceof y?l.headers.forEach(function(t,o){p.setRequestHeader(o,t)}):Object.getOwnPropertyNames(h.headers).forEach(function(t){p.setRequestHeader(t,u(h.headers[t]))}),l.signal&&(l.signal.addEventListener('abort',b),p.onreadystatechange=function(){4===p.readyState&&l.signal.removeEventListener('abort',b)}),p.send(void 0===l._bodyInit?null:l._bodyInit)})}O.polyfill=!0,o.fetch||(o.fetch=O,o.Headers=y,o.Request=T,o.Response=B),t.Headers=y,t.Request=T,t.Response=B,t.fetch=O,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof e&&void 0!==m?o(e):'function'==typeof define&&define.amd?define(['exports'],o):o(t.WHATWGFetch={})},138,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),h=t(r(d[8])),y=t(r(d[9])),b=t(r(d[10])),p=t(r(d[11])),v=t(r(d[12])),_=t(r(d[13])),E=t(r(d[14])),k=t(r(d[15])),I=["headers"];function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var N=0,w=1,O=2,C=3,L=0,T=(function(t){(0,c.default)(R,t);var E,T,A=(E=R,T=S(),function(){var t,s=(0,l.default)(E);if(T){var n=(0,l.default)(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return(0,u.default)(this,t)});function R(t,o,c){var u;(0,n.default)(this,R),(u=A.call(this)).CONNECTING=N,u.OPEN=w,u.CLOSING=O,u.CLOSED=C,u.readyState=N,'string'==typeof o&&(o=[o]);var l=c||{},f=l.headers,h=void 0===f?{}:f,b=(0,s.default)(l,I);return b&&'string'==typeof b.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),h.origin=b.origin,delete b.origin),Object.keys(b).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(b).join('`, `')+"`. Did you mean to put these under `headers`?"),Array.isArray(o)||(o=null),u._eventEmitter=new y.default(p.default),u._socketId=L++,u._registerEvents(),p.default.connect(t,o,{headers:h},u._socketId),u}return(0,o.default)(R,[{key:"binaryType",get:function(){return this._binaryType},set:function(t){if('blob'!==t&&'arraybuffer'!==t)throw new Error("binaryType must be either 'blob' or 'arraybuffer'");'blob'!==this._binaryType&&'blob'!==t||((0,k.default)(h.default.isAvailable,'Native module BlobModule is required for blob support'),'blob'===t?h.default.addWebSocketHandler(this._socketId):h.default.removeWebSocketHandler(this._socketId)),this._binaryType=t}},{key:"close",value:function(t,s){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(t,s))}},{key:"send",value:function(t){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(t instanceof f.default)return(0,k.default)(h.default.isAvailable,'Native module BlobModule is required for blob support'),void h.default.sendOverSocket(t,this._socketId);if('string'!=typeof t){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new Error('Unsupported data type');p.default.sendBinary((0,b.default)(t),this._socketId)}else p.default.send(t,this._socketId)}},{key:"ping",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');p.default.ping(this._socketId)}},{key:"_close",value:function(t,s){var n='number'==typeof t?t:1e3,o='string'==typeof s?s:'';p.default.close(n,o,this._socketId),h.default.isAvailable&&'blob'===this._binaryType&&h.default.removeWebSocketHandler(this._socketId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var t=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(s){if(s.id===t._socketId){var n=s.data;switch(s.type){case'binary':n=_.default.toByteArray(s.data).buffer;break;case'blob':n=h.default.createFromOptions(s.data)}t.dispatchEvent(new v.default('message',{data:n}))}}),this._eventEmitter.addListener('websocketOpen',function(s){s.id===t._socketId&&(t.readyState=t.OPEN,t.protocol=s.protocol,t.dispatchEvent(new v.default('open')))}),this._eventEmitter.addListener('websocketClosed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new v.default('close',{code:s.code,reason:s.reason})),t._unregisterEvents(),t.close())}),this._eventEmitter.addListener('websocketFailed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new v.default('error',{message:s.message})),t.dispatchEvent(new v.default('close',{message:s.message})),t._unregisterEvents(),t.close())})]}}]),R})(E.default.apply(void 0,['close','error','message','open']));T.CONNECTING=N,T.OPEN=w,T.CLOSING=O,T.CLOSED=C,m.exports=T},139,[2,51,12,13,20,22,19,124,122,131,134,140,141,135,126,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('WebSocketModule');e.default=n},140,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=s(function s(o,c){n(this,s),this.type=o.toString(),t(this,c)});m.exports=o},141,[32,13,12]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),c=r(d[3]),o=r(d[4]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=r(d[5]),f=r(d[6]),h=(function(h){u(R,l);var p,v,y=(p=R,v=s(),function(){var t,n=o(p);if(v){var u=o(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return c(this,t)});function R(n,u,c){var o;return t(this,R),f(null!=n&&null!=u,'Failed to construct `File`: Must pass both `parts` and `name` arguments.'),(o=y.call(this,n,c)).data.name=u,o}return n(R,[{key:"name",get:function(){return f(null!=this.data.name,'Files must have a name set.'),this.data.name}},{key:"lastModified",get:function(){return this.data.lastModified||0}}]),R})();m.exports=h},142,[12,13,20,22,19,124,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6]));function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[7]);var h=0,y=1,_=2,p=(function(t){(0,s.default)(R,t);var p,v,b=(p=R,v=f(),function(){var t,n=(0,l.default)(p);if(v){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function R(){var t;return(0,n.default)(this,R),(t=b.call(this)).EMPTY=h,t.LOADING=y,t.DONE=_,t._aborted=!1,t._subscriptions=[],t._reset(),t}return(0,o.default)(R,[{key:"_reset",value:function(){this._readyState=h,this._error=null,this._result=null}},{key:"_clearSubscriptions",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_setReadyState",value:function(t){this._readyState=t,this.dispatchEvent({type:'readystatechange'}),t===_&&(this._aborted?this.dispatchEvent({type:'abort'}):this._error?this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"readAsArrayBuffer",value:function(){throw new Error('FileReader.readAsArrayBuffer is not implemented')}},{key:"readAsDataURL",value:function(t){var n=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'");c.default.readAsDataURL(t.data).then(function(t){n._aborted||(n._result=t,n._setReadyState(_))},function(t){n._aborted||(n._error=t,n._setReadyState(_))})}},{key:"readAsText",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'UTF-8';if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'");c.default.readAsText(t.data,o).then(function(t){n._aborted||(n._result=t,n._setReadyState(_))},function(t){n._aborted||(n._error=t,n._setReadyState(_))})}},{key:"abort",value:function(){this._aborted=!0,this._readyState!==h&&this._readyState!==_&&(this._reset(),this._setReadyState(_)),this._reset()}},{key:"readyState",get:function(){return this._readyState}},{key:"error",get:function(){return this._error}},{key:"result",get:function(){return this._result}}]),R})(r(d[8]).apply(void 0,['abort','error','load','loadstart','loadend','progress']));p.EMPTY=h,p.LOADING=y,p.DONE=_,m.exports=p},143,[2,12,13,20,22,19,144,124,126]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('FileReaderModule');e.default=n},144,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URLSearchParams=e.URL=void 0;var n,o=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),f=(r(d[4]),null);if(u.default&&'string'==typeof u.default.getConstants().BLOB_URI_SCHEME){var h=u.default.getConstants();f=h.BLOB_URI_SCHEME+':','string'==typeof h.BLOB_URI_HOST&&(f+="//"+h.BLOB_URI_HOST+"/")}n=Symbol.iterator;var l=(function(){function t(n){var s=this;(0,o.default)(this,t),this._searchParams=[],'object'==typeof n&&Object.keys(n).forEach(function(t){return s.append(t,n[t])})}return(0,s.default)(t,[{key:"append",value:function(t,n){this._searchParams.push([t,n])}},{key:"delete",value:function(t){throw new Error('not implemented')}},{key:"get",value:function(t){throw new Error('not implemented')}},{key:"getAll",value:function(t){throw new Error('not implemented')}},{key:"has",value:function(t){throw new Error('not implemented')}},{key:"set",value:function(t,n){throw new Error('not implemented')}},{key:"sort",value:function(){throw new Error('not implemented')}},{key:n,value:function(){return this._searchParams[Symbol.iterator]()}},{key:"toString",value:function(){if(0===this._searchParams.length)return'';var t=this._searchParams.length-1;return this._searchParams.reduce(function(n,o,s){return n+o.join('=')+(s===t?'':'&')},'')}}]),t})();function c(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)*(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/.test(t)}e.URLSearchParams=l;var w=(function(){function t(n,s){(0,o.default)(this,t),this._searchParamsInstance=null;var u=null;if(!s||c(n))this._url=n,this._url.endsWith('/')||(this._url+='/');else{if('string'==typeof s){if(!c(u=s))throw new TypeError("Invalid base URL: "+u)}else'object'==typeof s&&(u=s.toString());u.endsWith('/')&&(u=u.slice(0,u.length-1)),n.startsWith('/')||(n="/"+n),u.endsWith(n)&&(n=''),this._url=""+u+n}}return(0,s.default)(t,[{key:"hash",get:function(){throw new Error('not implemented')}},{key:"host",get:function(){throw new Error('not implemented')}},{key:"hostname",get:function(){throw new Error('not implemented')}},{key:"href",get:function(){return this.toString()}},{key:"origin",get:function(){throw new Error('not implemented')}},{key:"password",get:function(){throw new Error('not implemented')}},{key:"pathname",get:function(){throw new Error('not implemented')}},{key:"port",get:function(){throw new Error('not implemented')}},{key:"protocol",get:function(){throw new Error('not implemented')}},{key:"search",get:function(){throw new Error('not implemented')}},{key:"searchParams",get:function(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new l),this._searchParamsInstance}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){if(null===this._searchParamsInstance)return this._url;var t=this._url.indexOf('?')>-1?'&':'?';return this._url+t+this._searchParamsInstance.toString()}},{key:"username",get:function(){throw new Error('not implemented')}}],[{key:"createObjectURL",value:function(t){if(null===f)throw new Error('Cannot create URL for blob!');return""+f+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size}},{key:"revokeObjectURL",value:function(t){}}]),t})();e.URL=w},145,[2,12,13,123,124]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),l=r(d[3]),u=r(d[4]);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}Object.defineProperty(e,'__esModule',{value:!0});var f=r(d[5]),b=(function(f){n(h,f);var b,s,y=(b=h,s=c(),function(){var t,o=u(b);if(s){var n=u(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return l(this,t)});function h(){throw t(this,h),y.call(this),new TypeError("AbortSignal cannot be constructed directly")}return o(h,[{key:"aborted",get:function(){var t=p.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}]),h})(f.EventTarget);f.defineEventAttribute(b.prototype,"abort");var p=new WeakMap;Object.defineProperties(b.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(b.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var s=(function(){function n(){var o;t(this,n),y.set(this,(o=Object.create(b.prototype),f.EventTarget.call(o),p.set(o,!1),o))}return o(n,[{key:"signal",get:function(){return h(this)}},{key:"abort",value:function(){var t;t=h(this),!1===p.get(t)&&(p.set(t,!0),t.dispatchEvent({type:"abort"}))}}]),n})(),y=new WeakMap;function h(t){var o=y.get(t);if(null==o)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return o}Object.defineProperties(s.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),e.AbortController=s,e.AbortSignal=b,e.default=s,m.exports=s,m.exports.AbortController=m.exports.default=s,m.exports.AbortSignal=b},146,[12,13,20,22,19,126]);
__d(function(g,r,i,a,m,e,d){'use strict';g.alert||(g.alert=function(t){r(d[0]).alert('Alert',''+t)})},147,[148]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),u=t(r(d[5])),c=(function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"alert",value:function(n,o,u,c){if('ios'===s.default.OS)t.prompt(n,o,u,'default');else if('android'===s.default.OS){if(!l.default)return;var f=l.default.getConstants(),v={title:n||'',message:o||'',cancelable:!1};c&&c.cancelable&&(v.cancelable=c.cancelable);var p=u?u.slice(0,3):[{text:"OK"}],b=p.pop(),y=p.pop(),h=p.pop();h&&(v.buttonNeutral=h.text||''),y&&(v.buttonNegative=y.text||''),b&&(v.buttonPositive=b.text||"OK");l.default.showAlert(v,function(t){return console.warn(t)},function(t,n){t===f.buttonClicked?n===f.buttonNeutral?h.onPress&&h.onPress():n===f.buttonNegative?y.onPress&&y.onPress():n===f.buttonPositive&&b.onPress&&b.onPress():t===f.dismissed&&c&&c.onDismiss&&c.onDismiss()})}}},{key:"prompt",value:function(t,n,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'plain-text',c=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;if('ios'===s.default.OS){var v,p,b=[],y=[];'function'==typeof o?b=[o]:Array.isArray(o)&&o.forEach(function(t,n){if(b[n]=t.onPress,'cancel'===t.style?v=String(n):'destructive'===t.style&&(p=String(n)),t.text||n<(o||[]).length-1){var s={};s[n]=t.text||'',y.push(s)}}),u.default.alertWithArgs({title:t||'',message:n||void 0,buttons:y,type:l||void 0,defaultValue:c,cancelButtonKey:v,destructiveButtonKey:p,keyboardType:f},function(t,n){var o=b[t];o&&o(n)})}}}]),t})();m.exports=c},148,[2,12,13,53,149,150]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('DialogManagerAndroid');e.default=n},149,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports={alertWithArgs:function(l,u){null!=t.default&&t.default.alertWithArgs(l,u)}}},150,[2,151]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('AlertManager');e.default=n},151,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).polyfillObjectProperty,o=g.navigator;void 0===o&&(g.navigator=o={}),t(o,'product',function(){return'ReactNative'})},152,[109]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;if(g.RN$Bridgeless&&g.RN$registerCallableModule)n=g.RN$registerCallableModule;else{var t=r(d[0]);n=function(n,u){return t.registerLazyCallableModule(n,u)}}n('Systrace',function(){return r(d[1])}),n('JSTimers',function(){return r(d[2])}),n('HeapCapture',function(){return r(d[3])}),n('SamplingProfiler',function(){return r(d[4])}),n('RCTLog',function(){return r(d[5])}),n('RCTDeviceEventEmitter',function(){return r(d[6]).default}),n('RCTNativeAppEventEmitter',function(){return r(d[7])}),n('GlobalPerformanceLogger',function(){return r(d[8])}),n('JSDevSupportModule',function(){return r(d[9])}),n('HMRClient',function(){return r(d[10])})},153,[39,46,118,154,156,158,11,159,127,160,162]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),p={captureHeap:function(p){var u=null;try{g.nativeCaptureHeap(p),console.log('HeapCapture.captureHeap succeeded: '+p)}catch(t){console.log('HeapCapture.captureHeap error: '+t.toString()),u=t.toString()}t.default&&t.default.captureComplete(p,u)}};m.exports=p},154,[2,155]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('JSCHeapCapture');e.default=n},155,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={poke:function(o){var l=null,n=null;try{null===(n=g.pokeSamplingProfiler())?console.log('The JSC Sampling Profiler has started'):console.log('The JSC Sampling Profiler has stopped')}catch(o){console.log('Error occurred when restarting Sampling Profiler: '+o.toString()),l=o.toString()}var t=r(d[0]).default;t&&t.operationComplete(o,n,l)}};m.exports=o},156,[157]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('JSCSamplingProfiler');e.default=n},157,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n={log:'log',info:'info',warn:'warn',error:'error',fatal:'error'},l=null,t={logIfNoNativeHook:function(o){for(var n=arguments.length,f=new Array(n>1?n-1:0),c=1;c<n;c++)f[c-1]=arguments[c];void 0===g.nativeLoggingHook?t.logToConsole.apply(t,[o].concat(f)):l&&'warn'===o&&l.apply(void 0,f)},logToConsole:function(l){var t,f=n[l];o(f,'Level "'+l+'" not one of '+Object.keys(n).toString());for(var c=arguments.length,v=new Array(c>1?c-1:0),s=1;s<c;s++)v[s-1]=arguments[s];(t=console)[f].apply(t,v)},setWarningHandler:function(o){l=o}};m.exports=t},158,[8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])).default;m.exports=t},159,[2,11]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),_=r(d[2]),o={getJSHierarchy:function(o){if(t.default){var n=t.default.getConstants();try{var E=(0,_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.computeComponentStackForErrorReporting)(o);E?t.default.onSuccess(E):t.default.onFailure(n.ERROR_CODE_VIEW_NOT_FOUND,"Component stack doesn't exist for tag "+o)}catch(_){t.default.onFailure(n.ERROR_CODE_EXCEPTION,_.message)}}}};m.exports=o},160,[2,161,91]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('JSDevSupport');e.default=n},161,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={setup:function(){},enable:function(){console.error("Fast Refresh is disabled in JavaScript bundles built in production mode. Did you forget to run Metro?")},disable:function(){},registerBundle:function(){},log:function(){}};m.exports=n},162,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.__fetchSegment=function(t,n,c){r(d[0]).default.fetchSegment(t,n,function(t){if(t){var n=new Error(t.message);n.code=t.code,c(n)}c(null)})},g.__getSegment=function(t,n,c){var f=r(d[0]).default;if(!f.getSegment)throw new Error('SegmentFetcher.getSegment must be defined');f.getSegment(t,n,function(t,n){if(t){var f=new Error(t.message);f.code=t.code,c(f)}c(null,n)})}},163,[164]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('SegmentFetcher');e.default=n},164,[30]);
__d(function(g,r,i,a,m,e,d){m.exports={get BatchedBridge(){return r(d[0])},get ExceptionsManager(){return r(d[1])},get Platform(){return r(d[2])},get RCTEventEmitter(){return r(d[3])},get ReactNativeViewConfigRegistry(){return r(d[4])},get TextInputState(){return r(d[5])},get UIManager(){return r(d[6])},get deepDiffer(){return r(d[7])},get deepFreezeAndThrowOnMutationInDev(){return r(d[8])},get flattenStyle(){return r(d[9])},get ReactFiberErrorDialog(){return r(d[10])}}},165,[39,99,53,166,167,168,76,187,47,87,188]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={register:function(n){t.registerCallableModule('RCTEventEmitter',n)}};m.exports=n},166,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={},o={};e.customBubblingEventTypes=n,e.customDirectEventTypes=o;var s=new Map,u=new Map;function l(t){var s=t.bubblingEventTypes,u=t.directEventTypes;if(null!=s)for(var l in s)null==n[l]&&(n[l]=s[l]);if(null!=u)for(var c in u)null==o[c]&&(o[c]=u[c])}e.register=function(n,o){return t(!s.has(n),'Tried to register two views with the same name %s',n),t('function'==typeof o,'View config getter callback for component `%s` must be a function (received `%s`)',n,null===o?'null':typeof o),s.set(n,o),n},e.get=function(n){var o;if(u.has(n))o=u.get(n);else{var c=s.get(n);'function'!=typeof c&&t(!1,'View config getter callback for component `%s` must be a function (received `%s`).%s',n,null===c?'null':typeof c,'string'==typeof n[0]&&/[a-z]/.test(n[0])?' Make sure to start component names with a capital letter.':''),l(o=c()),u.set(n,o),s.set(n,null)}return t(o,'View config not found for name %s',n),o}},167,[8]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=r(d[1]),u=(r(d[2]),r(d[3]),r(d[4]).findNodeHandle),t=null,o=new Set;function l(n){t!==n&&null!=n&&(t=n)}function f(n){t===n&&null!=n&&(t=null)}m.exports={currentlyFocusedInput:function(){return t},focusInput:l,blurInput:f,currentlyFocusedField:function(){return u(t)},focusField:function(n){},blurField:function(n){},focusTextInput:function(u){'number'!=typeof u&&t!==u&&null!=u&&(l(u),n.Commands.focus(u))},blurTextInput:function(u){'number'!=typeof u&&t===u&&null!=u&&(f(u),n.Commands.blur(u))},registerInput:function(n){'number'!=typeof n&&o.add(n)},unregisterInput:function(n){'number'!=typeof n&&o.delete(n)},isTextInput:function(n){return'number'!=typeof n&&o.has(n)}}},168,[169,185,55,53,91]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n,u=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=r(d[4]),f=(0,o.default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=f,g.RN$Bridgeless?(l.register('AndroidTextInput',function(){return s.default}),n='AndroidTextInput'):n=(0,u.default)('AndroidTextInput');var c=n;e.default=c},169,[2,170,90,182,167]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(u){return n(u,function(){return t(u)})}},170,[171,172]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).ReactNativeViewConfigRegistry.register;m.exports=function(n,s){return t(n,s)}},171,[165]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),s=r(d[2]),o=r(d[3]),u=r(d[4]),c=r(d[5]),l=r(d[6]),v=r(d[7]),b=r(d[8]),p=r(d[9]),f=r(d[10]);var y=!1;function C(n){var t=s.getConstants();t.ViewManagerNames||t.LazyViewManagersEnabled?n=E(n,s.getDefaultEventTypes()):(n.bubblingEventTypes=E(n.bubblingEventTypes,t.genericBubblingEventTypes),n.directEventTypes=E(n.directEventTypes,t.genericDirectEventTypes))}function E(n,t){if(!t)return n;if(!n)return t;for(var s in t)if(t.hasOwnProperty(s)){var o=t[s];if(n.hasOwnProperty(s)){var u=n[s];'object'==typeof o&&'object'==typeof u&&(o=E(u,o))}n[s]=o}return n}function T(n){switch(n){case'CATransform3D':return c;case'CGPoint':return l;case'CGSize':return f;case'UIEdgeInsets':return o}return null}function w(n){switch(n){case'CGColor':case'UIColor':return v;case'CGColorArray':case'UIColorArray':return b;case'CGImage':case'UIImage':case'RCTImageSource':return p;case'Color':return v;case'ColorArray':return b}return null}m.exports=function(o){var c=s.getViewManagerConfig(o);u(null!=c&&null!=c.NativeProps,'requireNativeComponent: "%s" was not found in the UIManager.',o);for(var l=c.baseModuleName,v=c.bubblingEventTypes,b=c.directEventTypes,p=c.NativeProps;l;){var f=s.getViewManagerConfig(l);f?(v=n({},f.bubblingEventTypes,v),b=n({},f.directEventTypes,b),p=n({},f.NativeProps,p),l=f.baseModuleName):l=null}var E={};for(var I in p){var N=p[I],M=T(N),P=w(N);E[I]=null==M&&null==P||{diff:M,process:P}}return E.style=t,n(c,{uiViewClassName:o,validAttributes:E,bubblingEventTypes:v,directEventTypes:b}),y||(C(c),y=!0),c}},172,[32,62,76,173,8,174,175,68,176,177,85]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={top:void 0,left:void 0,right:void 0,bottom:void 0};m.exports=function(o,f){return(o=o||t)!==(f=f||t)&&(o.top!==f.top||o.left!==f.left||o.right!==f.right||o.bottom!==f.bottom)}},173,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return!(t===n||t&&n&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[5]===n[5]&&t[10]===n[10]&&t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[11]===n[11]&&t[15]===n[15])}},174,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={x:void 0,y:void 0};m.exports=function(n,o){return(n=n||t)!==(o=o||t)&&(n.x!==o.x||n.y!==o.y)}},175,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t){return null==t?null:t.map(n)}},176,[68]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,s,u,o=r(d[0]),f=r(d[1]);function c(){if(u)return u;var t=g.nativeExtensions&&g.nativeExtensions.SourceCode;return t||(t=r(d[2]).default),u=t.getConstants().scriptURL}function l(){if(void 0===n){var t=c(),s=t&&t.match(/^https?:\/\/.*?\//);n=s?s[0]:null}return n}function v(t){if(t){if(t.startsWith('assets://'))return null;(t=t.substring(0,t.lastIndexOf('/')+1)).includes('://')||(t='file://'+t)}return t}m.exports=function(n){if('object'==typeof n)return n;var u=o.getAssetByID(n);if(!u)return null;var p=new f(l(),(void 0===s&&(s=v(c())),s),u);return t?t(p):p.defaultAsset()},m.exports.pickScale=f.pickScale,m.exports.setCustomSourceTransformer=function(n){t=n}},177,[178,179,181]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=[];m.exports={registerAsset:function(s){return t.push(s)},getAssetByID:function(s){return t[s-1]}}},178,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),u=(r(d[3]),r(d[4])),l=r(d[5]),o=l.getAndroidResourceFolderName,c=l.getAndroidResourceIdentifier,h=l.getBasePath;function f(t){var s=k.pickScale(t.scales,n.get()),u=1===s?'':'@'+s+'x';return h(t)+'/'+t.name+u+'.'+t.type}function v(t){var s=k.pickScale(t.scales,n.get());return o(t,s)+'/'+c(t)+'.'+t.type}var k=(function(){function l(s,n,u){t(this,l),this.serverUrl=s,this.jsbundleUrl=n,this.asset=u}return s(l,[{key:"isLoadedFromServer",value:function(){return!!this.serverUrl}},{key:"isLoadedFromFileSystem",value:function(){return!(!this.jsbundleUrl||!this.jsbundleUrl.startsWith('file://'))}},{key:"defaultAsset",value:function(){return this.isLoadedFromServer()?this.assetServerURL():this.scaledAssetURLNearBundle()}},{key:"assetServerURL",value:function(){return u(!!this.serverUrl,'need server to load from'),this.fromSource(this.serverUrl+f(this.asset)+"?platform=ios&hash="+this.asset.hash)}},{key:"scaledAssetPath",value:function(){return this.fromSource(f(this.asset))}},{key:"scaledAssetURLNearBundle",value:function(){var t=this.jsbundleUrl||'file://';return this.fromSource(t+f(this.asset).replace(/\.\.\//g,'_'))}},{key:"resourceIdentifierWithoutScale",value:function(){return u(!1,'resource identifiers work on Android'),this.fromSource(c(this.asset))}},{key:"drawableFolderInBundle",value:function(){var t=this.jsbundleUrl||'file://';return this.fromSource(t+v(this.asset))}},{key:"fromSource",value:function(t){return{__packager_asset:!0,width:this.asset.width,height:this.asset.height,uri:t,scale:l.pickScale(this.asset.scales,n.get())}}}],[{key:"pickScale",value:function(t,s){for(var n=0;n<t.length;n++)if(t[n]>=s)return t[n];return t[t.length-1]||1}}]),l})();m.exports=k},179,[12,13,59,53,8,180]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={.75:'ldpi',1:'mdpi',1.5:'hdpi',2:'xhdpi',3:'xxhdpi',4:'xxxhdpi'};function n(n){if(n.toString()in t)return t[n.toString()];throw new Error('no such scale '+n.toString())}var o=new Set(['gif','jpeg','jpg','png','svg','webp','xml']);function s(t){var n=t.httpServerLocation;return n.startsWith('/')?n.substr(1):n}m.exports={getAndroidResourceFolderName:function(s,u){if(!o.has(s.type))return'raw';var c=n(u);if(!c)throw new Error("Don't know which android drawable suffix to use for scale: "+u+'\nAsset: '+JSON.stringify(s,null,'\t')+'\nPossible scales are:'+JSON.stringify(t,null,'\t'));return'drawable-'+c},getAndroidResourceIdentifier:function(t){return(s(t)+'/'+t.name).toLowerCase().replace(/\//g,'_').replace(/([^a-z0-9_])/g,'').replace(/^assets_/,'')},getBasePath:s}},180,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('SourceCode'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o}};e.default=u},181,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s={uiViewClassName:'AndroidTextInput',bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTextInput:{phasedRegistrationNames:{bubbled:'onTextInput',captured:'onTextInputCapture'}}},directEventTypes:{},validAttributes:(0,n.default)({},o.default.validAttributes,{maxFontSizeMultiplier:!0,placeholder:!0,inlineImagePadding:!0,contextMenuHidden:!0,textShadowColor:{process:r(d[3])},maxLength:!0,selectTextOnFocus:!0,textShadowRadius:!0,underlineColorAndroid:{process:r(d[3])},textDecorationLine:!0,blurOnSubmit:!0,textAlignVertical:!0,fontStyle:!0,textShadowOffset:!0,selectionColor:{process:r(d[3])},selection:!0,placeholderTextColor:{process:r(d[3])},importantForAutofill:!0,lineHeight:!0,textTransform:!0,returnKeyType:!0,keyboardType:!0,multiline:!0,color:!0,autoCompleteType:!0,numberOfLines:!0,letterSpacing:!0,returnKeyLabel:!0,fontSize:!0,onKeyPress:!0,cursorColor:{process:r(d[3])},text:!0,showSoftInputOnFocus:!0,textAlign:!0,autoCapitalize:!0,autoCorrect:!0,caretHidden:!0,secureTextEntry:!0,textBreakStrategy:!0,onScroll:!0,onContentSizeChange:!0,disableFullscreenUI:!0,includeFontPadding:!0,fontWeight:!0,fontFamily:!0,allowFontScaling:!0,onSelectionChange:!0,mostRecentEventCount:!0,inlineImageLeft:!0,editable:!0,fontVariant:!0})};m.exports=s},182,[2,32,183,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),s=t(r(d[2])),n=r(d[3]),l={uiViewClassName:'RCTView',baseModuleName:null,Manager:'ViewManager',Commands:{},Constants:{},bubblingEventTypes:(0,o.default)({},s.default.bubblingEventTypes,{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topPress:{phasedRegistrationNames:{bubbled:'onPress',captured:'onPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}},topTouchStart:{phasedRegistrationNames:{bubbled:'onTouchStart',captured:'onTouchStartCapture'}}}),directEventTypes:(0,o.default)({},s.default.directEventTypes,{topAccessibilityAction:{registrationName:'onAccessibilityAction'},topAccessibilityEscape:{registrationName:'onAccessibilityEscape'},topAccessibilityTap:{registrationName:'onAccessibilityTap'},topLayout:{registrationName:'onLayout'},topMagicTap:{registrationName:'onMagicTap'},onGestureHandlerEvent:{registrationName:'onGestureHandlerEvent'},onGestureHandlerStateChange:{registrationName:'onGestureHandlerStateChange'}}),validAttributes:(0,o.default)({},s.default.validAttributes,{accessibilityActions:!0,accessibilityElementsHidden:!0,accessibilityHint:!0,accessibilityIgnoresInvertColors:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityStates:!0,accessibilityState:!0,accessibilityValue:!0,accessibilityViewIsModal:!0,accessible:!0,alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[4])},borderBottomColor:{process:r(d[4])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[4])},borderEndColor:{process:r(d[4])},borderEndWidth:!0,borderLeftColor:{process:r(d[4])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[4])},borderRightWidth:!0,borderStartColor:{process:r(d[4])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[4])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,clickable:!0,collapsable:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,height:!0,hitSlop:{diff:r(d[5])},importantForAccessibility:!0,justifyContent:!0,left:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,nativeID:!0,needsOffscreenAlphaCompositing:!0,onAccessibilityAction:!0,onAccessibilityEscape:!0,onAccessibilityTap:!0,onLayout:!0,onMagicTap:!0,opacity:!0,overflow:!0,padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,pointerEvents:!0,position:!0,removeClippedSubviews:!0,renderToHardwareTextureAndroid:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[4])},shadowOffset:{diff:r(d[6])},shadowOpacity:!0,shadowRadius:!0,shouldRasterizeIOS:!0,start:!0,style:{alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[4])},borderBottomColor:{process:r(d[4])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[4])},borderEndColor:{process:r(d[4])},borderEndWidth:!0,borderLeftColor:{process:r(d[4])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[4])},borderRightWidth:!0,borderStartColor:{process:r(d[4])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[4])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,color:{process:r(d[4])},decomposedMatrix:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:!0,fontWeight:!0,height:!0,includeFontPadding:!0,justifyContent:!0,left:!0,letterSpacing:!0,lineHeight:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,opacity:!0,overflow:!0,overlayColor:{process:r(d[4])},padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,resizeMode:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[4])},shadowOffset:{diff:r(d[6])},shadowOpacity:!0,shadowRadius:!0,start:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:{process:r(d[4])},textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:{process:r(d[4])},textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,tintColor:{process:r(d[4])},top:!0,transform:'ios'===n.Platform.OS?{diff:r(d[7])}:{process:r(d[8])},transformMatrix:!0,translateX:!0,translateY:!0,width:!0,writingDirection:!0,zIndex:!0},testID:!0,top:!0,transform:'ios'===n.Platform.OS?{diff:r(d[7])}:{process:r(d[8])},translateX:!0,translateY:!0,width:!0,zIndex:!0})};m.exports=l},183,[2,32,184,7,68,173,85,174,83]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={uiViewClassName:'RCTView',bubblingEventTypes:{topSelect:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'}},topAssetDidLoad:{phasedRegistrationNames:{bubbled:'onAssetDidLoad',captured:'onAssetDidLoadCapture'}}},directEventTypes:{topClick:{registrationName:'onClick'},topContentSizeChange:{registrationName:'onContentSizeChange'},topLoadingError:{registrationName:'onLoadingError'},topLoadingFinish:{registrationName:'onLoadingFinish'},topLoadingStart:{registrationName:'onLoadingStart'},topMessage:{registrationName:'onMessage'},topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topSelectionChange:{registrationName:'onSelectionChange'},onAssetDidLoad:{registrationName:'onAssetDidLoad'}},validAttributes:{hasTVPreferredFocus:!0,focusable:!0,nativeBackgroundAndroid:!0,nativeForegroundAndroid:!0,nextFocusDown:!0,nextFocusForward:!0,nextFocusLeft:!0,nextFocusRight:!0,nextFocusUp:!0}}},184,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n,u=t(r(d[1])),l=t(r(d[2])),s=t(r(d[3])),o=r(d[4]),f=(0,l.default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=f,g.RN$Bridgeless?(o.register('RCTSinglelineTextInputView',function(){return s.default}),n='RCTSinglelineTextInputView'):n=(0,u.default)('RCTSinglelineTextInputView');var T=n;e.default=T},185,[2,170,90,186,167]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),s={uiViewClassName:'RCTSinglelineTextInputView',bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}}},directEventTypes:{},validAttributes:(0,o.default)({},n.default.validAttributes,{fontSize:!0,fontWeight:!0,fontVariant:!0,textShadowOffset:{diff:r(d[3])},allowFontScaling:!0,fontStyle:!0,textTransform:!0,textAlign:!0,fontFamily:!0,lineHeight:!0,isHighlighted:!0,writingDirection:!0,textDecorationLine:!0,textShadowRadius:!0,letterSpacing:!0,textDecorationStyle:!0,textDecorationColor:{process:r(d[4])},color:{process:r(d[4])},maxFontSizeMultiplier:!0,textShadowColor:{process:r(d[4])},editable:!0,inputAccessoryViewID:!0,caretHidden:!0,enablesReturnKeyAutomatically:!0,placeholderTextColor:{process:r(d[4])},onSelectionChange:!0,clearButtonMode:!0,onContentSizeChange:!0,keyboardType:!0,selection:!0,returnKeyType:!0,blurOnSubmit:!0,mostRecentEventCount:!0,onChange:!0,scrollEnabled:!0,selectionColor:{process:r(d[4])},contextMenuHidden:!0,secureTextEntry:!0,onTextInput:!0,placeholder:!0,autoCorrect:!0,onScroll:!0,multiline:!0,textContentType:!0,maxLength:!0,autoCapitalize:!0,keyboardAppearance:!0,passwordRules:!0,spellCheck:!0,selectTextOnFocus:!0,text:!0,clearTextOnFocus:!0})};m.exports=s},186,[2,32,183,85,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;m.exports=function t(o,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3?arguments[3]:void 0,c='number'==typeof f?s:f,l='number'==typeof f?f:-1;if(0===l)return!0;if(o===u)return!1;if('function'==typeof o&&'function'==typeof u){var v=null==c?void 0:c.unsafelyIgnoreFunctions;return null==v&&(!n||!n.onDifferentFunctionsIgnored||c&&'unsafelyIgnoreFunctions'in c||n.onDifferentFunctionsIgnored(o.name,u.name),v=!0),!v}if('object'!=typeof o||null===o)return o!==u;if('object'!=typeof u||null===u)return!0;if(o.constructor!==u.constructor)return!0;if(Array.isArray(o)){var y=o.length;if(u.length!==y)return!0;for(var p=0;p<y;p++)if(t(o[p],u[p],l-1,c))return!0}else{for(var b in o)if(t(o[b],u[b],l-1,c))return!0;for(var h in u)if(void 0===o[h]&&void 0!==u[h])return!0}return!1},m.exports.unstable_setLogListeners=function(t){n=t}},187,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);m.exports={showErrorDialog:function(o){var t,c=o.componentStack,p=o.error;t=p instanceof Error?p:'string'==typeof p?new n.SyntheticError(p):new n.SyntheticError('Unspecified error');try{t.componentStack=c,t.isComponentError=!0}catch(n){}return(0,n.handleException)(t,!1),!1}}},188,[99]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},189,[190]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t,o,l;if("object"==typeof performance&&"function"==typeof performance.now){var u=performance;e.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var f=null,b=null,p=function n(){if(null!==f)try{var t=e.unstable_now();f(!0,t),f=null}catch(t){throw setTimeout(n,0),t}};n=function(t){null!==f?setTimeout(n,0,t):(f=t,setTimeout(p,0))},t=function(n,t){b=setTimeout(n,t)},o=function(){clearTimeout(b)},e.unstable_shouldYield=function(){return!1},l=e.unstable_forceFrameRate=function(){}}else{var v=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var w=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof w&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,h=null,k=-1,T=5,x=0;e.unstable_shouldYield=function(){return e.unstable_now()>=x},l=function(){},e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<n?Math.floor(1e3/n):5};var P=new MessageChannel,F=P.port2;P.port1.onmessage=function(){if(null!==h){var n=e.unstable_now();x=n+T;try{h(!0,n)?F.postMessage(null):(_=!1,h=null)}catch(n){throw F.postMessage(null),n}}else _=!1},n=function(n){h=n,_||(_=!0,F.postMessage(null))},t=function(n,t){k=v(function(){n(e.unstable_now())},t)},o=function(){y(k),k=-1}}function I(n,t){var o=n.length;n.push(t);e:for(;;){var l=o-1>>>1,u=n[l];if(!(void 0!==u&&0<j(u,t)))break e;n[l]=t,n[o]=u,o=l}}function M(n){return void 0===(n=n[0])?null:n}function C(n){var t=n[0];if(void 0!==t){var o=n.pop();if(o!==t){n[0]=o;e:for(var l=0,u=n.length;l<u;){var s=2*(l+1)-1,c=n[s],f=s+1,b=n[f];if(void 0!==c&&0>j(c,o))void 0!==b&&0>j(b,c)?(n[l]=b,n[f]=o,l=f):(n[l]=c,n[s]=o,l=s);else{if(!(void 0!==b&&0>j(b,o)))break e;n[l]=b,n[f]=o,l=f}}}return t}return null}function j(n,t){var o=n.sortIndex-t.sortIndex;return 0!==o?o:n.id-t.id}var A=[],L=[],q=1,R=null,Y=3,E=!1,N=!1,B=!1;function D(n){for(var t=M(L);null!==t;){if(null===t.callback)C(L);else{if(!(t.startTime<=n))break;C(L),t.sortIndex=t.expirationTime,I(A,t)}t=M(L)}}function U(o){if(B=!1,D(o),!N)if(null!==M(A))N=!0,n(W);else{var l=M(L);null!==l&&t(U,l.startTime-o)}}function W(n,l){N=!1,B&&(B=!1,o()),E=!0;var u=Y;try{for(D(l),R=M(A);null!==R&&(!(R.expirationTime>l)||n&&!e.unstable_shouldYield());){var s=R.callback;if("function"==typeof s){R.callback=null,Y=R.priorityLevel;var c=s(R.expirationTime<=l);l=e.unstable_now(),"function"==typeof c?R.callback=c:R===M(A)&&C(A),D(l)}else C(A);R=M(A)}if(null!==R)var f=!0;else{var b=M(L);null!==b&&t(U,b.startTime-l),f=!1}return f}finally{R=null,Y=u,E=!1}}var z=l;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(n){n.callback=null},e.unstable_continueExecution=function(){N||E||(N=!0,n(W))},e.unstable_getCurrentPriorityLevel=function(){return Y},e.unstable_getFirstCallbackNode=function(){return M(A)},e.unstable_next=function(n){switch(Y){case 1:case 2:case 3:var t=3;break;default:t=Y}var o=Y;Y=t;try{return n()}finally{Y=o}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(n,t){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var o=Y;Y=n;try{return t()}finally{Y=o}},e.unstable_scheduleCallback=function(l,u,s){var c=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?c+s:c:s=c,l){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return l={id:q++,callback:u,priorityLevel:l,startTime:s,expirationTime:f=s+f,sortIndex:-1},s>c?(l.sortIndex=s,I(L,l),null===M(A)&&l===M(L)&&(B?o():B=!0,t(U,s-c))):(l.sortIndex=f,I(A,l),N||E||(N=!0,n(W))),l},e.unstable_wrapCallback=function(n){var t=Y;return function(){var o=Y;Y=t;try{return n.apply(this,arguments)}finally{Y=o}}}},190,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),u=r(d[3]),b=r(d[4]);m.exports=function(t,l){var v={uiViewClassName:t,Commands:{},bubblingEventTypes:(0,n.default)({},b.bubblingEventTypes,l.bubblingEventTypes||{}),directEventTypes:(0,n.default)({},b.directEventTypes,l.directEventTypes||{}),validAttributes:(0,n.default)({},b.validAttributes,l.validAttributes||{})};u.register(t,function(){return(0,s.default)(t,v),v})}},191,[2,32,192,167,183]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.getConfigWithoutViewProps=function(t,f){if(!t[f])return{};return Object.keys(t[f]).filter(function(t){return!n.default[f][t]}).reduce(function(n,o){return n[o]=t[f][o],n},{})},e.lefthandObjectDiff=u,e.stringifyViewConfig=function(t){return JSON.stringify(t,function(t,n){return'function'==typeof n?"\u0192 "+n.name:n},2)};var n=t(r(d[1])),f=r(d[2]),o=['transform','hitSlop'];function u(t,n){var f={};function c(t,n,o){if(typeof t==typeof n||null==t)if('object'!=typeof t)t===n||(f[o]=n);else{var c=u(t,n);Object.keys(c).length>1&&(f[o]=c)}else f[o]=n}for(var s in t)o.includes(s)||(n?t.hasOwnProperty(s)&&c(t[s],n[s],s):f[s]={});return f}var c=function(t,n){if(!g.RN$Bridgeless){var o=f(t);['validAttributes','bubblingEventTypes','directEventTypes'].forEach(function(f){var c=Object.keys(u(o[f],n[f]));c.length&&console.error(t+" generated view config for "+f+" does not match native, missing: "+c.join(' '))})}};e.default=c},192,[2,183,172]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.createContext(!1)},193,[55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,t(r(d[1])).default)('ActivityIndicatorView',{paperComponentName:'RCTActivityIndicatorView'});e.default=o},194,[2,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2]));var p=function(n,p){var l=p&&null!=p.paperComponentName?p.paperComponentName:n;if(null!=p&&null!=p.paperComponentNameDeprecated)if(o.default.getViewManagerConfig(n))l=n;else{var u;if(null==p.paperComponentNameDeprecated||!o.default.getViewManagerConfig(p.paperComponentNameDeprecated))throw new Error("Failed to find native component for either "+n+" or "+(null!=(u=p.paperComponentNameDeprecated)?u:'(unknown)'));l=p.paperComponentNameDeprecated}return(0,t.default)(l)};e.default=p},195,[2,170,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),u=r(d[5]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[6]);var f=r(d[7]),b=r(d[8]),p=r(d[9]),h=(r(d[10]),r(d[11])),x=r(d[12]),F=r(d[13]),y=(function(t){s(R,t);var b,y,D=(b=R,y=l(),function(){var t,n=u(b);if(y){var o=u(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function R(){return n(this,R),D.apply(this,arguments)}return o(R,[{key:"render",value:function(){var t=this.props,n=t.accessibilityLabel,o=t.color,s=t.onPress,c=t.touchSoundDisabled,u=t.title,l=t.hasTVPreferredFocus,b=t.nextFocusDown,y=t.nextFocusForward,D=t.nextFocusLeft,R=t.nextFocusRight,P=t.nextFocusUp,w=t.disabled,L=t.testID,S=[v.button],B=[v.text];o&&B.push({color:o});var E={};w&&(S.push(v.buttonDisabled),B.push(v.textDisabled),E.disabled=!0),F('string'==typeof u,'The title prop of a Button must be a string');var T=u,A=h;return f.createElement(A,{accessibilityLabel:n,accessibilityRole:"button",accessibilityState:E,hasTVPreferredFocus:l,nextFocusDown:b,nextFocusForward:y,nextFocusLeft:D,nextFocusRight:R,nextFocusUp:P,testID:L,disabled:w,onPress:s,touchSoundDisabled:c},f.createElement(x,{style:S},f.createElement(p,{style:B,disabled:w},T)))}}]),R})(f.Component),v=b.create({button:{},text:t({textAlign:'center',margin:8},{color:'#007AFF',fontSize:18}),buttonDisabled:{},textDisabled:{color:'#cdcdcd'}});m.exports=y},196,[32,12,13,20,22,19,53,55,58,197,212,217,88,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3])),l=n(r(d[4])),u=n(r(d[5])),p=n(r(d[6])),c=n(r(d[7])),f=n(r(d[8])),h=n(r(d[9])),R=r(d[10]),v=["forwardedRef","selectionColor"];function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}var b=r(d[11]),P=r(d[12]),y=r(d[13]),T=r(d[14]),S=r(d[15]),x=r(d[16]),M={top:20,left:20,right:20,bottom:30},_=(function(n){(0,p.default)(w,n);var h,b,_=(h=w,b=H(),function(){var n,t=(0,f.default)(h);if(b){var o=(0,f.default)(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return(0,c.default)(this,n)});function w(){var n;(0,s.default)(this,w);for(var t=arguments.length,l=new Array(t),p=0;p<t;p++)l[p]=arguments[p];return(n=_.call.apply(_,[this].concat(l))).state=(0,o.default)({},T.Mixin.touchableGetInitialState(),{isHighlighted:!1,createResponderHandlers:n._createResponseHandlers.bind((0,u.default)(n)),responseHandlers:null}),n}return(0,l.default)(w,[{key:"render",value:function(){var n=this.props,s=n.forwardedRef,l=n.selectionColor,u=(0,t.default)(n,v);return G(this.props)&&(u=(0,o.default)({},u,this.state.responseHandlers,{isHighlighted:this.state.isHighlighted})),null!=l&&(u=(0,o.default)({},u,{selectionColor:x(l)})),P.createElement(y.Consumer,null,function(n){return n?P.createElement(R.NativeVirtualText,(0,o.default)({},u,{onClick:u.onPress,ref:s})):P.createElement(y.Provider,{value:!0},P.createElement(R.NativeText,(0,o.default)({},u,{ref:s})))})}},{key:"_createResponseHandlers",value:function(){var n=this;return{onStartShouldSetResponder:function(){var t=n.props.onStartShouldSetResponder,o=null!=t&&t()||G(n.props);return o&&n._attachTouchHandlers(),o},onResponderGrant:function(t){S(n.touchableHandleResponderGrant)(t),null!=n.props.onResponderGrant&&n.props.onResponderGrant.call(n,t)},onResponderMove:function(t){S(n.touchableHandleResponderMove)(t),null!=n.props.onResponderMove&&n.props.onResponderMove.call(n,t)},onResponderRelease:function(t){S(n.touchableHandleResponderRelease)(t),null!=n.props.onResponderRelease&&n.props.onResponderRelease.call(n,t)},onResponderTerminate:function(t){S(n.touchableHandleResponderTerminate)(t),null!=n.props.onResponderTerminate&&n.props.onResponderTerminate.call(n,t)},onResponderTerminationRequest:function(){var t=n.props.onResponderTerminationRequest;return!!S(n.touchableHandleResponderTerminationRequest)()&&(null==t||t())}}}},{key:"_attachTouchHandlers",value:function(){var n=this;if(null==this.touchableGetPressRectOffset){for(var t in T.Mixin)'function'==typeof T.Mixin[t]&&(this[t]=T.Mixin[t].bind(this));this.touchableHandleActivePressIn=function(){!n.props.suppressHighlighting&&G(n.props)&&n.setState({isHighlighted:!0})},this.touchableHandleActivePressOut=function(){!n.props.suppressHighlighting&&G(n.props)&&n.setState({isHighlighted:!1})},this.touchableHandlePress=function(t){null!=n.props.onPress&&n.props.onPress(t)},this.touchableHandleLongPress=function(t){null!=n.props.onLongPress&&n.props.onLongPress(t)},this.touchableGetPressRectOffset=function(){return null==n.props.pressRetentionOffset?M:n.props.pressRetentionOffset}}}}],[{key:"getDerivedStateFromProps",value:function(n,t){return null==t.responseHandlers&&G(n)?{responseHandlers:t.createResponderHandlers()}:null}}]),w})(P.Component);_.defaultProps={accessible:!0,allowFontScaling:!0,ellipsizeMode:'tail'};var G=function(n){return null!=n.onPress||null!=n.onLongPress||null!=n.onStartShouldSetResponder},w=P.forwardRef(function(n,t){return P.createElement(_,(0,o.default)({},n,{forwardedRef:t}))});w.displayName='Text',w.propTypes=b;var C=null==h.default.unstable_Text?w:h.default.unstable_Text;m.exports=C},197,[2,51,32,12,13,23,20,22,19,198,199,201,55,193,205,211,68]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={unstable_Text:null}},198,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NativeVirtualText=e.NativeText=void 0;var l=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),s=(0,o.default)('RCTText',function(){return{validAttributes:(0,l.default)({},u.default.UIView,{isHighlighted:!0,numberOfLines:!0,ellipsizeMode:!0,allowFontScaling:!0,maxFontSizeMultiplier:!0,disabled:!0,selectable:!0,selectionColor:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,textBreakStrategy:!0,onTextLayout:!0,onInlineViewLayout:!0,dataDetectorType:!0}),directEventTypes:{topTextLayout:{registrationName:'onTextLayout'},topInlineViewLayout:{registrationName:'onInlineViewLayout'}},uiViewClassName:'RCTText'}});e.NativeText=s;var T=null==n.default.getViewManagerConfig('RCTVirtualText')?s:(0,o.default)('RCTVirtualText',function(){return{validAttributes:(0,l.default)({},u.default.UIView,{isHighlighted:!0,maxFontSizeMultiplier:!0}),uiViewClassName:'RCTVirtualText'}});e.NativeVirtualText=T},199,[2,32,200,76,171]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),c={pointerEvents:!0,accessible:!0,accessibilityActions:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessibilityHint:!0,importantForAccessibility:!0,nativeID:!0,testID:!0,renderToHardwareTextureAndroid:!0,shouldRasterizeIOS:!0,onLayout:!0,onAccessibilityAction:!0,onAccessibilityTap:!0,onMagicTap:!0,onAccessibilityEscape:!0,collapsable:!0,needsOffscreenAlphaCompositing:!0,style:r(d[1])},t={UIView:c,RCTView:s({},c,{removeClippedSubviews:!0})};m.exports=t},200,[32,62]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),t=r(d[2]),l=r(d[3]),s=t(r(d[4]));m.exports={ellipsizeMode:l.oneOf(['head','middle','tail','clip']),numberOfLines:l.number,textBreakStrategy:l.oneOf(['simple','highQuality','balanced']),onLayout:l.func,onPress:l.func,onLongPress:l.func,pressRetentionOffset:n,selectable:l.bool,selectionColor:o,suppressHighlighting:l.bool,style:s,testID:l.string,nativeID:l.string,allowFontScaling:l.bool,maxFontSizeMultiplier:l.number,accessible:l.bool,adjustsFontSizeToFit:l.bool,minimumFontScale:l.number,disabled:l.bool,dataDetectorType:l.oneOf(['phoneNumber','link','email','none','all'])}},201,[64,202,203,70,81]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t.shape({top:t.number,left:t.number,bottom:t.number,right:t.number});m.exports=n},202,[70]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(o){var c=n(o);return function(n,o,u,v){var f=n;n[o]&&((f={})[o]=t(n[o]));for(var p=arguments.length,s=new Array(p>4?p-4:0),l=4;l<p;l++)s[l-4]=arguments[l];return c.apply(void 0,[f,o,u,v].concat(s))}}},203,[204,87]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(o){function l(l,c,s,u,p){if(c[s]){var f=c[s],y=typeof f;'object'!==y&&t(!1,"Invalid "+(p||'(unknown)')+" `"+s+"` of type `"+y+"` supplied to `"+u+"`, expected `object`.");for(var v=n({},c[s],o),b=arguments.length,j=new Array(b>5?b-5:0),k=5;k<b;k++)j[k-5]=arguments[k];for(var w in v){var O=o[w];O||t(!1,"Invalid props."+s+" key `"+w+"` supplied to `"+u+"`.\nBad object: "+JSON.stringify(c[s],null,'  ')+'\nValid keys: '+JSON.stringify(Object.keys(o),null,'  '));var J=O.apply(void 0,[f,w,u,p].concat(j));J&&t(!1,J.message+'\nBad object: '+JSON.stringify(c[s],null,'  '))}}else l&&t(!1,"Required object `"+s+"` was not specified in `"+u+"`.")}function c(n,t,o,c){for(var s=arguments.length,u=new Array(s>4?s-4:0),p=4;p<s;p++)u[p-4]=arguments[p];return l.apply(void 0,[!1,n,t,o,c].concat(u))}return c.isRequired=l.bind(null,!0),c}},204,[32,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),E=r(d[1]),s=r(d[2]),o=r(d[3]),n=r(d[4]),h=(r(d[5]),r(d[6])),l=r(d[7]),R=(r(d[8]),r(d[9]),r(d[10]),function(t){var E=t.touches,s=t.changedTouches,o=E&&E.length>0,n=s&&s.length>0;return!o&&n?s[0]:o?E[0]:t}),u='NOT_RESPONDER',_='RESPONDER_INACTIVE_PRESS_IN',S='RESPONDER_INACTIVE_PRESS_OUT',c='RESPONDER_ACTIVE_PRESS_IN',T='RESPONDER_ACTIVE_PRESS_OUT',D='RESPONDER_ACTIVE_LONG_PRESS_IN',P='RESPONDER_ACTIVE_LONG_PRESS_OUT',N='ERROR',O={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},A=E({},O,{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),b=E({},O,{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),p=E({},O,{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),I='DELAY',L='RESPONDER_GRANT',f='RESPONDER_RELEASE',C='RESPONDER_TERMINATED',v='ENTER_PRESS_RECT',y='LEAVE_PRESS_RECT',G='LONG_PRESS_DETECTED',H={NOT_RESPONDER:{DELAY:N,RESPONDER_GRANT:_,RESPONDER_RELEASE:N,RESPONDER_TERMINATED:N,ENTER_PRESS_RECT:N,LEAVE_PRESS_RECT:N,LONG_PRESS_DETECTED:N},RESPONDER_INACTIVE_PRESS_IN:{DELAY:c,RESPONDER_GRANT:N,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,ENTER_PRESS_RECT:_,LEAVE_PRESS_RECT:S,LONG_PRESS_DETECTED:N},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:T,RESPONDER_GRANT:N,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,ENTER_PRESS_RECT:_,LEAVE_PRESS_RECT:S,LONG_PRESS_DETECTED:N},RESPONDER_ACTIVE_PRESS_IN:{DELAY:N,RESPONDER_GRANT:N,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,ENTER_PRESS_RECT:c,LEAVE_PRESS_RECT:T,LONG_PRESS_DETECTED:D},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:N,RESPONDER_GRANT:N,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,ENTER_PRESS_RECT:c,LEAVE_PRESS_RECT:T,LONG_PRESS_DETECTED:N},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:N,RESPONDER_GRANT:N,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,ENTER_PRESS_RECT:D,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:D},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:N,RESPONDER_GRANT:N,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,ENTER_PRESS_RECT:D,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:N},error:{DELAY:u,RESPONDER_GRANT:_,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,ENTER_PRESS_RECT:u,LEAVE_PRESS_RECT:u,LONG_PRESS_DETECTED:u}},V={componentDidMount:function(){o.isTV},componentWillUnmount:function(){this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var E=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=u,this.state.touchable.responderID=E,this._receiveSignal(L,t);var s=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(s=isNaN(s)?130:s)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),s):this._handleDelay(t);var o=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;o=isNaN(o)?370:o,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),o+s)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(f,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(C,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var E=this.state.touchable.positionOnActivate,s=this.state.touchable.dimensionsOnActivate,o=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},n=o.left,h=o.top,l=o.right,u=o.bottom,S=this.touchableGetHitSlop?this.touchableGetHitSlop():null;S&&(n+=S.left||0,h+=S.top||0,l+=S.right||0,u+=S.bottom||0);var c=R(t.nativeEvent),T=c&&c.pageX,D=c&&c.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(T,D,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(T>E.left-n&&D>E.top-h&&T<E.left+s.width+l&&D<E.top+s.height+u){var P=this.state.touchable.touchState;this._receiveSignal(v,t),this.state.touchable.touchState===_&&P!==_&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(y,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&('number'==typeof t?l.measure(t,this._handleQueryLayout):t.measure(this._handleQueryLayout))},_handleQueryLayout:function(t,E,o,h,l,R){(t||E||o||h||l||R)&&(this.state.touchable.positionOnActivate&&n.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&s.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=n.getPooled(l,R),this.state.touchable.dimensionsOnActivate=s.getPooled(o,h))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(I,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var E=this.state.touchable.touchState;E!==c&&E!==D||this._receiveSignal(G,t)},_receiveSignal:function(t,E){var s=this.state.touchable.responderID,o=this.state.touchable.touchState,n=H[o]&&H[o][t];if(s||t!==f){if(!n)throw new Error('Unrecognized signal `'+t+'` or state `'+o+'` for Touchable responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"host component`");if(n===N)throw new Error('Touchable cannot transition from `'+o+'` to `'+t+'` for responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"<<host component>>`");o!==n&&(this._performSideEffectsForTransition(o,n,t,E),this.state.touchable.touchState=n)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===c||t===D},_savePressInLocation:function(t){var E=R(t.nativeEvent),s=E&&E.pageX,o=E&&E.pageY,n=E&&E.locationX,h=E&&E.locationY;this.pressInLocation={pageX:s,pageY:o,locationX:n,locationY:h}},_getDistanceBetweenPoints:function(t,E,s,o){var n=t-s,h=E-o;return Math.sqrt(n*n+h*h)},_performSideEffectsForTransition:function(t,E,s,o){var n=this._isHighlight(t),h=this._isHighlight(E);(s===C||s===f)&&this._cancelLongPressDelayTimeout();var l=t===u&&E===_,R=!A[t]&&A[E];if((l||R)&&this._remeasureMetricsOnActivation(),b[t]&&s===G&&this.touchableHandleLongPress&&this.touchableHandleLongPress(o),h&&!n?this._startHighlight(o):!h&&n&&this._endHighlight(o),b[t]&&s===f){var S=!!this.props.onLongPress,c=p[t]&&(!S||!this.touchableLongPressCancelsPress());(!p[t]||c)&&this.touchableHandlePress&&(h||n||(this._startHighlight(o),this._endHighlight(o)),this.touchableHandlePress(o))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){var E=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(function(){E.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},withoutDefaultFocusAndBlur:{}},M=(V.touchableHandleFocus,V.touchableHandleBlur,t(V,["touchableHandleFocus","touchableHandleBlur"]));V.withoutDefaultFocusAndBlur=M;var U={Mixin:V,TOUCH_TARGET_DEBUG:!1,renderDebugView:function(t){t.color,t.hitSlop;if(!U.TOUCH_TARGET_DEBUG)return null;throw Error('Touchable.TOUCH_TARGET_DEBUG should not be enabled in prod!')}};h.create({debug:{position:'absolute',borderWidth:1,borderStyle:'dashed'}});m.exports=U},205,[51,32,206,53,208,55,58,76,88,209,65]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t.twoArgumentPooler;function n(t,o){this.width=t,this.height=o}n.prototype.destructor=function(){this.width=null,this.height=null},n.getPooledFromElement=function(t){return n.getPooled(t.offsetWidth,t.offsetHeight)},t.addPoolingTo(n,o),m.exports=n},206,[207]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=function(t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t),n}return new this(t)},o=function(n){t(n instanceof this,'Trying to release an instance into a pool of a different type.'),n.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(n)},s=n,l={addPoolingTo:function(t,n){var l=t;return l.instancePool=[],l.getPooled=n||s,l.poolSize||(l.poolSize=10),l.release=o,l},oneArgumentPooler:n,twoArgumentPooler:function(t,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,t,n),o}return new this(t,n)},threeArgumentPooler:function(t,n,o){if(this.instancePool.length){var s=this.instancePool.pop();return this.call(s,t,n,o),s}return new this(t,n,o)},fourArgumentPooler:function(t,n,o,s){if(this.instancePool.length){var l=this.instancePool.pop();return this.call(l,t,n,o,s),l}return new this(t,n,o,s)}};m.exports=l},207,[8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t.twoArgumentPooler;function n(t,o){this.left=t,this.top=o}n.prototype.destructor=function(){this.left=null,this.top=null},t.addPoolingTo(n,o),m.exports=n},208,[207]);
__d(function(g,r,i,a,m,e,d){'use strict';var u=r(d[0])(r(d[1])),o={playTouchSound:function(){u.default&&u.default.playTouchSound()}};m.exports=o},209,[2,210]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('SoundManager');e.default=n},210,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},211,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),p=t(r(d[6])),u=t(r(d[7])),f=t(r(d[8])),h=(r(d[9]),r(d[10])),y=t(r(d[11])),b=t(r(d[12])),v=(t(r(d[13])),t(r(d[14]))),P=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=R(s);if(o&&o.has(t))return o.get(t);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(n,l,p):n[l]=t[l]}n.default=t,o&&o.set(t,n);return n})(r(d[15])),O=t(r(d[16])),F=["onBlur","onFocus"];function R(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,o=new WeakMap;return(R=function(t){return t?o:s})(t)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var A=(function(t){(0,l.default)(A,t);var v,O,R=(v=A,O=S(),function(){var t,s=(0,u.default)(v);if(O){var o=(0,u.default)(this).constructor;t=Reflect.construct(s,arguments,o)}else t=s.apply(this,arguments);return(0,p.default)(this,t)});function A(){var t;(0,n.default)(this,A);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(t=R.call.apply(R,[this].concat(o))).state={pressability:new f.default(t._createPressabilityConfig())},t}return(0,c.default)(A,[{key:"_createPressabilityConfig",value:function(){var t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:this.props.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(s){'android'===b.default.OS&&(t._dispatchPressedStateChange(!0),t._dispatchHotspotUpdate(s)),null!=t.props.onPressIn&&t.props.onPressIn(s)},onPressMove:function(s){'android'===b.default.OS&&t._dispatchHotspotUpdate(s)},onPressOut:function(s){'android'===b.default.OS&&t._dispatchPressedStateChange(!1),null!=t.props.onPressOut&&t.props.onPressOut(s)}}}},{key:"_dispatchPressedStateChange",value:function(t){if('android'===b.default.OS){var s=y.default.findHostInstance_DEPRECATED(this);null==s?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):h.Commands.setPressed(s,t)}}},{key:"_dispatchHotspotUpdate",value:function(t){if('android'===b.default.OS){var s=t.nativeEvent,o=s.locationX,n=s.locationY,c=y.default.findHostInstance_DEPRECATED(this);null==c?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):h.Commands.hotspotUpdate(c,null!=o?o:0,null!=n?n:0)}}},{key:"render",value:function(){var t=P.Children.only(this.props.children),n=[t.props.children],c=this.state.pressability.getEventHandlers(),l=(c.onBlur,c.onFocus,(0,o.default)(c,F));return P.cloneElement.apply(P,[t,(0,s.default)({},l,k(void 0===this.props.background?A.SelectableBackground():this.props.background,!0===this.props.useForeground),{accessible:!1!==this.props.accessible,accessibilityHint:this.props.accessibilityHint,accessibilityLabel:this.props.accessibilityLabel,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:this.props.nativeID,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,onLayout:this.props.onLayout,testID:this.props.testID})].concat(n))}},{key:"componentDidUpdate",value:function(t,s){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}]),A})(P.Component);A.SelectableBackground=function(t){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackground',rippleRadius:t}},A.SelectableBackgroundBorderless=function(t){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackgroundBorderless',rippleRadius:t}},A.Ripple=function(t,s,o){var n=(0,v.default)(t);return(0,O.default)(null==n||'number'==typeof n,'Unexpected color given for Ripple color'),{type:'RippleAndroid',color:n,borderless:s,rippleRadius:o}},A.canUseNativeForeground=function(){return'android'===b.default.OS&&b.default.Version>=23};var k='android'===b.default.OS?function(t,s){return s&&A.canUseNativeForeground()?{nativeForegroundAndroid:t}:{nativeBackgroundAndroid:t}}:function(t,s){return null};m.exports=A},212,[2,32,51,12,13,20,22,19,213,216,89,91,53,88,68,55,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var E=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=E(r(d[1])),n=E(r(d[2])),R=E(r(d[3])),_=r(d[4]),o=E(r(d[5])),l=E(r(d[6])),u=r(d[7]),s=E(r(d[8])),S=E(r(d[9]));!(function(E,t){if(!t&&E&&E.__esModule)return E;if(null===E||"object"!=typeof E&&"function"!=typeof E)return{default:E};var n=T(t);if(n&&n.has(E))return n.get(E);var R={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in E)if("default"!==o&&Object.prototype.hasOwnProperty.call(E,o)){var l=_?Object.getOwnPropertyDescriptor(E,o):null;l&&(l.get||l.set)?Object.defineProperty(R,o,l):R[o]=E[o]}R.default=E,n&&n.set(E,R)})(r(d[10]));function T(E){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(E){return E?n:t})(E)}var P=Object.freeze({NOT_RESPONDER:{DELAY:'ERROR',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'ERROR',RESPONDER_TERMINATED:'ERROR',ENTER_PRESS_RECT:'ERROR',LEAVE_PRESS_RECT:'ERROR',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_IN:{DELAY:'RESPONDER_ACTIVE_PRESS_IN',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:'RESPONDER_ACTIVE_PRESS_OUT',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},ERROR:{DELAY:'NOT_RESPONDER',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'NOT_RESPONDER',LEAVE_PRESS_RECT:'NOT_RESPONDER',LONG_PRESS_DETECTED:'NOT_RESPONDER'}}),O=function(E){return'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},c=function(E){return'RESPONDER_ACTIVE_PRESS_OUT'===E||'RESPONDER_ACTIVE_PRESS_IN'===E},N=function(E){return'RESPONDER_INACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},D=function(E){return'RESPONDER_TERMINATED'===E||'RESPONDER_RELEASE'===E},h=30,f=20,v=20,I=20,A=(function(){function E(t){var R=this;(0,n.default)(this,E),this._eventHandlers=null,this._hoverInDelayTimeout=null,this._hoverOutDelayTimeout=null,this._isHovered=!1,this._longPressDelayTimeout=null,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._responderID=null,this._responderRegion=null,this._touchState='NOT_RESPONDER',this._measureCallback=function(E,t,n,_,o,l){(E||t||n||_||o||l)&&(R._responderRegion={bottom:l+_,left:o,right:o+n,top:l})},this.configure(t)}return(0,R.default)(E,[{key:"configure",value:function(E){this._config=E}},{key:"reset",value:function(){this._cancelHoverInDelayTimeout(),this._cancelHoverOutDelayTimeout(),this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout(),this._config=Object.freeze({})}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var E=this,n={onBlur:function(t){var n=E._config.onBlur;null!=n&&n(t)},onFocus:function(t){var n=E._config.onFocus;null!=n&&n(t)}},R={onStartShouldSetResponder:function(){var t=E._config.disabled;if(null==t){var n=E._config.onStartShouldSetResponder_DEPRECATED;return null==n||n()}return!t},onResponderGrant:function(t){t.persist(),E._cancelPressOutDelayTimeout(),E._responderID=t.currentTarget,E._touchState='NOT_RESPONDER',E._receiveSignal('RESPONDER_GRANT',t);var n=p(E._config.delayPressIn);n>0?E._pressDelayTimeout=setTimeout(function(){E._receiveSignal('DELAY',t)},n):E._receiveSignal('DELAY',t);var R=p(E._config.delayLongPress,10,500-n);E._longPressDelayTimeout=setTimeout(function(){E._handleLongPress(t)},R+n)},onResponderMove:function(t){null!=E._config.onPressMove&&E._config.onPressMove(t);var n=E._responderRegion;if(null!=n){var R=y(t);if(null==R)return E._cancelLongPressDelayTimeout(),void E._receiveSignal('LEAVE_PRESS_RECT',t);if(null!=E._touchActivatePosition){var _=E._touchActivatePosition.pageX-R.pageX,o=E._touchActivatePosition.pageY-R.pageY;Math.hypot(_,o)>10&&E._cancelLongPressDelayTimeout()}E._isTouchWithinResponderRegion(R,n)?E._receiveSignal('ENTER_PRESS_RECT',t):(E._cancelLongPressDelayTimeout(),E._receiveSignal('LEAVE_PRESS_RECT',t))}},onResponderRelease:function(t){E._receiveSignal('RESPONDER_RELEASE',t)},onResponderTerminate:function(t){E._receiveSignal('RESPONDER_TERMINATED',t)},onResponderTerminationRequest:function(){var t=E._config.cancelable;if(null==t){var n=E._config.onResponderTerminationRequest_DEPRECATED;return null==n||n()}return t},onClick:function(t){var n=E._config.onPress;null!=n&&n(t)}},o='ios'===s.default.OS||'android'===s.default.OS?null:{onMouseEnter:function(t){if((0,_.isHoverEnabled)()){E._isHovered=!0,E._cancelHoverOutDelayTimeout();var n=E._config.onHoverIn;if(null!=n){var R=p(E._config.delayHoverIn);R>0?(t.persist(),E._hoverInDelayTimeout=setTimeout(function(){n(t)},R)):n(t)}}},onMouseLeave:function(t){if(E._isHovered){E._isHovered=!1,E._cancelHoverInDelayTimeout();var n=E._config.onHoverOut;if(null!=n){var R=p(E._config.delayHoverOut);R>0?(t.persist(),E._hoverInDelayTimeout=setTimeout(function(){n(t)},R)):n(t)}}}};return(0,t.default)({},n,R,o)}},{key:"_receiveSignal",value:function(E,t){var n,R=this._touchState,_=null==(n=P[R])?void 0:n[E];null==this._responderID&&'RESPONDER_RELEASE'===E||((0,o.default)(null!=_&&'ERROR'!==_,'Pressability: Invalid signal `%s` for state `%s` on responder: %s',E,R,'number'==typeof this._responderID?this._responderID:'<<host component>>'),R!==_&&(this._performTransitionSideEffects(R,_,E,t),this._touchState=_))}},{key:"_performTransitionSideEffects",value:function(E,t,n,R){D(n)&&(this._touchActivatePosition=null,this._cancelLongPressDelayTimeout());var _='NOT_RESPONDER'===E&&'RESPONDER_INACTIVE_PRESS_IN'===t,o=!c(E)&&c(t);if((_||o)&&this._measureResponderRegion(),N(E)&&'LONG_PRESS_DETECTED'===n){var u=this._config.onLongPress;null!=u&&u(R)}var S=O(E),T=O(t);if(!S&&T?this._activate(R):S&&!T&&this._deactivate(R),N(E)&&'RESPONDER_RELEASE'===n){T||S||(this._activate(R),this._deactivate(R));var P=this._config,h=P.onLongPress,f=P.onPress,v=P.android_disableSound;if(null!=f)null!=h&&'RESPONDER_ACTIVE_LONG_PRESS_IN'===E&&this._shouldLongPressCancelPress()||('android'===s.default.OS&&!0!==v&&l.default.playTouchSound(),f(R))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(E){var t=this._config.onPressIn,n=y(E);this._touchActivatePosition={pageX:n.pageX,pageY:n.pageY},this._touchActivateTime=Date.now(),null!=t&&t(E)}},{key:"_deactivate",value:function(E){var t=this._config.onPressOut;if(null!=t){var n,R=p(this._config.minPressDuration,0,130),_=Date.now()-(null!=(n=this._touchActivateTime)?n:0),o=Math.max(R-_,p(this._config.delayPressOut));o>0?(E.persist(),this._pressOutDelayTimeout=setTimeout(function(){t(E)},o)):t(E)}this._touchActivateTime=null}},{key:"_measureResponderRegion",value:function(){null!=this._responderID&&('number'==typeof this._responderID?S.default.measure(this._responderID,this._measureCallback):this._responderID.measure(this._measureCallback))}},{key:"_isTouchWithinResponderRegion",value:function(E,t){var n,R,_,o,l=(0,u.normalizeRect)(this._config.hitSlop),s=(0,u.normalizeRect)(this._config.pressRectOffset),S=t.bottom,T=t.left,P=t.right,O=t.top;return null!=l&&(null!=l.bottom&&(S+=l.bottom),null!=l.left&&(T-=l.left),null!=l.right&&(P+=l.right),null!=l.top&&(O-=l.top)),S+=null!=(n=null==s?void 0:s.bottom)?n:h,T-=null!=(R=null==s?void 0:s.left)?R:f,P+=null!=(_=null==s?void 0:s.right)?_:v,O-=null!=(o=null==s?void 0:s.top)?o:I,E.pageX>T&&E.pageX<P&&E.pageY>O&&E.pageY<S}},{key:"_handleLongPress",value:function(E){'RESPONDER_ACTIVE_PRESS_IN'!==this._touchState&&'RESPONDER_ACTIVE_LONG_PRESS_IN'!==this._touchState||this._receiveSignal('LONG_PRESS_DETECTED',E)}},{key:"_shouldLongPressCancelPress",value:function(){return null==this._config.onLongPressShouldCancelPress_DEPRECATED||this._config.onLongPressShouldCancelPress_DEPRECATED()}},{key:"_cancelHoverInDelayTimeout",value:function(){null!=this._hoverInDelayTimeout&&(clearTimeout(this._hoverInDelayTimeout),this._hoverInDelayTimeout=null)}},{key:"_cancelHoverOutDelayTimeout",value:function(){null!=this._hoverOutDelayTimeout&&(clearTimeout(this._hoverOutDelayTimeout),this._hoverOutDelayTimeout=null)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}]),E})();function p(E){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(t,null!=E?E:n)}e.default=A;var y=function(E){var t=E.nativeEvent,n=t.changedTouches,R=t.touches;return null!=R&&R.length>0?R[0]:null!=n&&n.length>0?n[0]:E.nativeEvent}},213,[2,32,12,13,214,8,209,215,53,76,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.isHoverEnabled=function(){return t};var t=!1;if('web'===n(r(d[1])).default.OS&&Boolean('undefined'!=typeof window&&window.document&&window.document.createElement)){var o=0,u=function(){o=Date.now(),t&&(t=!1)};document.addEventListener('touchstart',u,!0),document.addEventListener('touchmove',u,!0),document.addEventListener('mousemove',function(){t||Date.now()-o<1e3||(t=!0)},!0)}},214,[2,53]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){return{bottom:t,left:t,right:t,top:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createSquare=t,e.normalizeRect=function(n){return'number'==typeof n?t(n):n}},215,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.PressabilityDebugView=function(t){t.color,t.hitSlop;return null},e.isEnabled=function(){return!1};t(r(d[1])),t(r(d[2])),t(r(d[3])),(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=n(o);if(u&&u.has(t))return u.get(t);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=t[l]}f.default=t,u&&u.set(t,f)})(r(d[4]));function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(n=function(t){return t?u:o})(t)}},216,[2,65,205,88,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),c=t(r(d[4])),p=t(r(d[5])),l=t(r(d[6])),u=t(r(d[7])),f=t(r(d[8])),y=(r(d[9]),t(r(d[10]))),h=t(r(d[11])),b=t(r(d[12])),v=t(r(d[13])),P=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=F(s);if(o&&o.has(t))return o.get(t);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var l=c?Object.getOwnPropertyDescriptor(t,p):null;l&&(l.get||l.set)?Object.defineProperty(n,p,l):n[p]=t[p]}n.default=t,o&&o.set(t,n);return n})(r(d[14])),O=["onBlur","onFocus"];function F(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,o=new WeakMap;return(F=function(t){return t?o:s})(t)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var R=(function(t){(0,p.default)(I,t);var F,R,w=(F=I,R=_(),function(){var t,s=(0,u.default)(F);if(R){var o=(0,u.default)(this).constructor;t=Reflect.construct(s,arguments,o)}else t=s.apply(this,arguments);return(0,l.default)(this,t)});function I(){var t;(0,n.default)(this,I);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(t=w.call.apply(w,[this].concat(o))).state={anim:new y.default.Value(t._getChildStyleOpacityWithDefault()),pressability:new f.default(t._createPressabilityConfig())},t}return(0,c.default)(I,[{key:"_createPressabilityConfig",value:function(){var t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:this.props.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,onBlur:function(s){v.default.isTV&&t._opacityInactive(250),null!=t.props.onBlur&&t.props.onBlur(s)},onFocus:function(s){v.default.isTV&&t._opacityActive(150),null!=t.props.onFocus&&t.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(s){t._opacityActive('onResponderGrant'===s.dispatchConfig.registrationName?0:150),null!=t.props.onPressIn&&t.props.onPressIn(s)},onPressOut:function(s){t._opacityInactive(250),null!=t.props.onPressOut&&t.props.onPressOut(s)}}}},{key:"_setOpacityTo",value:function(t,s){y.default.timing(this.state.anim,{toValue:t,duration:s,easing:h.default.inOut(h.default.quad),useNativeDriver:!0}).start()}},{key:"_opacityActive",value:function(t){var s;this._setOpacityTo(null!=(s=this.props.activeOpacity)?s:.2,t)}},{key:"_opacityInactive",value:function(t){this._setOpacityTo(this._getChildStyleOpacityWithDefault(),t)}},{key:"_getChildStyleOpacityWithDefault",value:function(){var t,s=null==(t=(0,b.default)(this.props.style))?void 0:t.opacity;return'number'==typeof s?s:1}},{key:"render",value:function(){var t=this.state.pressability.getEventHandlers(),n=(t.onBlur,t.onFocus,(0,o.default)(t,O));return P.createElement(y.default.View,(0,s.default)({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:[this.props.style,{opacity:this.state.anim}],nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,ref:this.props.hostRef},n),this.props.children,null)}},{key:"componentDidUpdate",value:function(t,s){this.state.pressability.configure(this._createPressabilityConfig()),this.props.disabled!==t.disabled&&this._opacityInactive(250)}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}]),I})(P.Component);m.exports=P.forwardRef(function(t,o){return P.createElement(R,(0,s.default)({},t,{hostRef:o}))})},217,[2,32,51,12,13,20,22,19,213,216,218,247,87,53,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),s=r(d[3]),l=r(d[4]),c=u.default.isTesting?s:l;m.exports=(0,n.default)({get FlatList(){return r(d[5])},get Image(){return r(d[6])},get ScrollView(){return r(d[7])},get SectionList(){return r(d[8])},get Text(){return r(d[9])},get View(){return r(d[10])}},c)},218,[2,32,53,219,230,251,281,291,292,295,296]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=n.AnimatedEvent,o=n.attachNativeEvent,f=r(d[2]),c=r(d[3]),l=r(d[4]),s=r(d[5]),v=r(d[6]),p=r(d[7]),E=r(d[8]),V={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}};m.exports={Value:v,ValueXY:p,Interpolation:c,Node:l,decay:function(t,n){return V},timing:function(n,u){var o=n;return t({},V,{start:function(t){o.setValue(u.toValue),t&&t({finished:!0})}})},spring:function(n,u){var o=n;return t({},V,{start:function(t){o.setValue(u.toValue),t&&t({finished:!0})}})},add:f.add,subtract:f.subtract,divide:f.divide,multiply:f.multiply,modulo:f.modulo,diffClamp:f.diffClamp,delay:function(t){return V},sequence:function(t){return V},parallel:function(t,n){return V},stagger:function(t,n){return V},loop:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).iterations;return V},event:function(t,n){return null},createAnimatedComponent:E,attachNativeEvent:o,forkEvent:f.forkEvent,unforkEvent:f.unforkEvent,Event:u,__PropsOnlyForTests:s}},219,[32,220,230,222,223,236,221,241,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),v=r(d[3]),o=r(d[4]),c=r(d[5]),l=r(d[3]).shouldUseNativeDriver;function u(t,n,l){var u=[];c(l[0]&&l[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),(function t(n,v){if(n instanceof s)n.__makeNative(),u.push({nativeEventPath:v,animatedValueTag:n.__getNativeTag()});else if('object'==typeof n)for(var o in n)t(n[o],v.concat(o))})(l[0].nativeEvent,[]);var h=o.findNodeHandle(t);return null!=h&&u.forEach(function(t){v.API.addAnimatedEventToView(h,n,t)}),{detach:function(){null!=h&&u.forEach(function(t){v.API.removeAnimatedEventFromView(h,n,t.animatedValueTag)})}}}var h=(function(){function v(n,s){t(this,v),this._listeners=[],this._argMapping=n,null==s&&(console.warn('Animated.event now requires a second argument for options'),s={useNativeDriver:!1}),s.listener&&this.__addListener(s.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=l(s)}return n(v,[{key:"__addListener",value:function(t){this._listeners.push(t)}},{key:"__removeListener",value:function(t){this._listeners=this._listeners.filter(function(n){return n!==t})}},{key:"__attach",value:function(t,n){c(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=u(t,n,this._argMapping)}},{key:"__detach",value:function(t,n){c(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var t=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,v=new Array(n),o=0;o<n;o++)v[o]=arguments[o];var c=function t(n,v,o){if(n instanceof s)'number'==typeof v&&n.setValue(v);else if('object'==typeof n)for(var c in n)t(n[c],v[c],c)};t._argMapping.forEach(function(t,n){c(t,v[n])}),t._callListeners.apply(t,v)}}},{key:"_callListeners",value:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];this._listeners.forEach(function(t){return t.apply(void 0,n)})}}]),v})();m.exports={AnimatedEvent:h,attachNativeEvent:u}},220,[12,13,221,224,91,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),o=r(d[4]),l=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var f=r(d[6]),c=r(d[7]),h=r(d[8]),v=r(d[9]).API;function p(t){var n=new Set;!(function t(s){'function'==typeof s.update?n.add(s):s.__getChildren().forEach(t)})(t),n.forEach(function(t){return t.update()})}var y=(function(y){u(A,c);var k,N,V=(k=A,N=_(),function(){var t,n=l(k);if(N){var s=l(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return o(this,t)});function A(n){var s;if(t(this,A),s=V.call(this),'number'!=typeof n)throw new Error('AnimatedValue: Attempting to set value to undefined');return s._startingValue=s._value=n,s._offset=0,s._animation=null,s}return n(A,[{key:"__detach",value:function(){var t=this;this.__isNative&&v.getValue(this.__getNativeTag(),function(n){t._value=n}),this.stopAnimation(),s(l(A.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(t){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&v.setAnimatedNodeValue(this.__getNativeTag(),t)}},{key:"setOffset",value:function(t){this._offset=t,this.__isNative&&v.setAnimatedNodeOffset(this.__getNativeTag(),t)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&v.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&v.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&t(this.__getValue())}},{key:"resetAnimation",value:function(t){this.stopAnimation(t),this._value=this._startingValue}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this._updateValue(t,!1)}},{key:"interpolate",value:function(t){return new f(this,t)}},{key:"animate",value:function(t,n){var s=this,u=null;t.__isInteraction&&(u=h.createInteractionHandle());var o=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,function(t){s._updateValue(t,!0)},function(t){s._animation=null,null!==u&&h.clearInteractionHandle(u),n&&n(t)},o,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(t){this.stopTracking(),this._tracking=t}},{key:"_updateValue",value:function(t,n){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._value=t,n&&p(this),s(l(A.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:'value',value:this._value,offset:this._offset}}}]),A})();m.exports=y},221,[12,13,17,20,22,19,222,227,228,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),c=r(d[4]),l=r(d[5]),p=r(d[6]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[7]);var h=r(d[8]),s=r(d[9]),v=r(d[10]),_=r(d[11]),y=function(t){return t};function R(t){if(t.outputRange&&'string'==typeof t.outputRange[0])return C(t);var n=t.outputRange;B('outputRange',n);var o=t.inputRange;B('inputRange',o),w(o),v(o.length===n.length,'inputRange ('+o.length+') and outputRange ('+n.length+') must have the same length');var u=t.easing||y,c='extend';void 0!==t.extrapolateLeft?c=t.extrapolateLeft:void 0!==t.extrapolate&&(c=t.extrapolate);var l='extend';return void 0!==t.extrapolateRight?l=t.extrapolateRight:void 0!==t.extrapolate&&(l=t.extrapolate),function(t){v('number'==typeof t,'Cannot interpolation an input which is not a number');var p=N(t,o);return x(t,o[p],o[p+1],n[p],n[p+1],u,c,l)}}function x(t,n,o,u,c,l,p,f){var h=t;if(h<n){if('identity'===p)return h;'clamp'===p&&(h=n)}if(h>o){if('identity'===f)return h;'clamp'===f&&(h=o)}return u===c?u:n===o?t<=n?u:c:(n===-1/0?h=-h:o===1/0?h-=n:h=(h-n)/(o-n),h=l(h),u===-1/0?h=-h:c===1/0?h+=u:h=h*(c-u)+u,h)}function k(t){var n=_(t);return null===n||'number'!=typeof n?t:"rgba("+((4278190080&(n=n||0))>>>24)+", "+((16711680&n)>>>16)+", "+((65280&n)>>>8)+", "+(255&n)/255+")"}var b=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function C(t){var n=t.outputRange;v(n.length>=2,'Bad output range'),L(n=n.map(k));var o=n[0].match(b).map(function(){return[]});n.forEach(function(t){t.match(b).forEach(function(t,n){o[n].push(+t)})});var u,c=n[0].match(b).map(function(n,u){return R(p({},t,{outputRange:o[u]}))}),l='string'==typeof(u=n[0])&&u.startsWith('rgb');return function(t){var o=0;return n[0].replace(b,function(){var n=+c[o++](t);return l&&(n=o<4?Math.round(n):Math.round(1e3*n)/1e3),String(n)})}}function L(t){for(var n=t[0].replace(b,''),o=1;o<t.length;++o)v(n===t[o].replace(b,''),'invalid pattern '+t[0]+' and '+t[o])}function N(t,n){var o;for(o=1;o<n.length-1&&!(n[o]>=t);++o);return o-1}function w(t){v(t.length>=2,'inputRange must have at least 2 elements');for(var n=1;n<t.length;++n)v(t[n]>=t[n-1],'inputRange must be monotonically non-decreasing '+t)}function B(t,n){v(n.length>=2,t+' must have at least 2 elements'),v(2!==n.length||n[0]!==-1/0||n[1]!==1/0,t+'cannot be ]-infinity;+infinity[ '+n)}var D=(function(p){u(k,h);var _,y,x=(_=k,y=f(),function(){var t,n=l(_);if(y){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function k(n,o){var u;return t(this,k),(u=x.call(this))._parent=n,u._config=o,u._interpolation=R(o),u}return n(k,[{key:"__makeNative",value:function(){this._parent.__makeNative(),o(l(k.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._parent.__getValue();return v('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._interpolation(t)}},{key:"interpolate",value:function(t){return new k(this,t)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),o(l(k.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(t){return t.map(s.transformDataType)}},{key:"__getNativeConfig",value:function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation'}}}]),k})();D.__createInterpolation=R,m.exports=D},222,[12,13,17,20,22,19,32,223,227,224,8,65]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),_=s.API,u=r(d[3]),o=1,v=(function(){function v(){t(this,v),this._listeners={}}return n(v,[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(s.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(t){}},{key:"__removeChild",value:function(t){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(t){var n=String(o++);return this._listeners[n]=t,this.__isNative&&this._startListeningToNativeValueUpdates(),n}},{key:"removeListener",value:function(t){delete this._listeners[t],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var t=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),_.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=s.nativeEventEmitter.addListener('onAnimatedValueUpdate',function(n){n.tag===t.__getNativeTag()&&t._onAnimatedValueUpdateReceived(n.value)}))}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this.__callListeners(t)}},{key:"__callListeners",value:function(t){for(var n in this._listeners)this._listeners[n]({value:t})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,_.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var t;s.assertNativeAnimatedModule(),u(this.__isNative,'Attempt to get native tag from node not marked as "native"');var n=null!=(t=this.__nativeTag)?t:s.generateNewNodeTag();return null==this.__nativeTag&&(this.__nativeTag=n,s.API.createAnimatedNode(n,this.__getNativeConfig()),this.__shouldUpdateListenersForNewNativeTag=!0),n}},{key:"__getNativeConfig",value:function(){throw new Error('This JS animated node type cannot be used as native animated node')}},{key:"toJSON",value:function(){return this.__getValue()}}]),v})();m.exports=v},223,[12,13,224,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=n(r(d[1])),u=n(r(d[2])),l=n(r(d[3])),s=n(r(d[4])),f=n(r(d[5])),c='ios'===s.default.OS&&g.RN$Bridgeless?u.default:o.default,v=1,p=1,N=new Set,b=!1,A=[],O={getValue:function(t,n){(0,f.default)(c,'Native animated module is not available'),c.getValue&&c.getValue(t,n)},setWaitingForIdentifier:function(t){N.add(t),b=!0},unsetWaitingForIdentifier:function(t){N.delete(t),0===N.size&&(b=!1,O.disableQueue())},disableQueue:function(){(0,f.default)(c,'Native animated module is not available'),'android'===s.default.OS&&c.startOperationBatch();for(var t=0,n=A.length;t<n;t++)A[t]();A.length=0,'android'===s.default.OS&&c.finishOperationBatch()},queueOperation:function(t){b?A.push(t):t()},createAnimatedNode:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.createAnimatedNode(t,n)})},startListeningToAnimatedNodeValue:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.startListeningToAnimatedNodeValue(t)})},stopListeningToAnimatedNodeValue:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.stopListeningToAnimatedNodeValue(t)})},connectAnimatedNodes:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.connectAnimatedNodes(t,n)})},disconnectAnimatedNodes:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.disconnectAnimatedNodes(t,n)})},startAnimatingNode:function(t,n,o,u){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.startAnimatingNode(t,n,o,u)})},stopAnimation:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.stopAnimation(t)})},setAnimatedNodeValue:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.setAnimatedNodeValue(t,n)})},setAnimatedNodeOffset:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.setAnimatedNodeOffset(t,n)})},flattenAnimatedNodeOffset:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.flattenAnimatedNodeOffset(t)})},extractAnimatedNodeOffset:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.extractAnimatedNodeOffset(t)})},connectAnimatedNodeToView:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.connectAnimatedNodeToView(t,n)})},disconnectAnimatedNodeFromView:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.disconnectAnimatedNodeFromView(t,n)})},restoreDefaultValues:function(t){(0,f.default)(c,'Native animated module is not available'),null!=c.restoreDefaultValues&&O.queueOperation(function(){return c.restoreDefaultValues(t)})},dropAnimatedNode:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.dropAnimatedNode(t)})},addAnimatedEventToView:function(t,n,o){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.addAnimatedEventToView(t,n,o)})},removeAnimatedEventFromView:function(t,n,o){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return c.removeAnimatedEventFromView(t,n,o)})}},h={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},w={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},y={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};var V=!1;m.exports={API:O,addWhitelistedStyleProp:function(t){h[t]=!0},addWhitelistedTransformProp:function(t){w[t]=!0},addWhitelistedInterpolationParam:function(t){y[t]=!0},validateStyles:function(t){for(var n in t)if(!h.hasOwnProperty(n))throw new Error("Style property '"+n+"' is not supported by native animated module")},validateTransform:function(t){t.forEach(function(t){if(!w.hasOwnProperty(t.property))throw new Error("Property '"+t.property+"' is not supported by native animated module")})},validateInterpolation:function(t){for(var n in t)if(!y.hasOwnProperty(n))throw new Error("Interpolation property '"+n+"' is not supported by native animated module")},generateNewNodeTag:function(){return v++},generateNewAnimationId:function(){return p++},assertNativeAnimatedModule:function(){(0,f.default)(c,'Native animated module is not available')},shouldUseNativeDriver:function(t){return null==t.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==t.useNativeDriver||c?t.useNativeDriver||!1:(V||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),V=!0),!1)},transformDataType:function(t){return'string'!=typeof t?t:/deg$/.test(t)?(parseFloat(t)||0)*Math.PI/180:t},get nativeEventEmitter(){return t||(t=new l.default(c)),t}}},224,[2,225,226,131,53,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('NativeAnimatedModule');e.default=n},225,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('NativeAnimatedTurboModule');e.default=n},226,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),l=r(d[4]),s=r(d[5]);function _(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"==typeof t)return h(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var f=r(d[6]),y=r(d[7]),p=(function(u){c(A,f);var h,p,N=(h=A,p=v(),function(){var t,n=s(h);if(p){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return l(this,t)});function A(){var n;return t(this,A),(n=N.call(this))._children=[],n}return n(A,[{key:"__makeNative",value:function(){if(!this.__isNative){this.__isNative=!0;for(var t,n=_(this._children);!(t=n()).done;){var c=t.value;c.__makeNative(),y.API.connectAnimatedNodes(this.__getNativeTag(),c.__getNativeTag())}}o(s(A.prototype),"__makeNative",this).call(this)}},{key:"__addChild",value:function(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(),y.API.connectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()))}},{key:"__removeChild",value:function(t){var n=this._children.indexOf(t);-1!==n?(this.__isNative&&t.__isNative&&y.API.disconnectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(n,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(t){if(o(s(A.prototype),"__callListeners",this).call(this,t),!this.__isNative)for(var n,c=_(this._children);!(n=c()).done;){var l=n.value;l.__getValue&&l.__callListeners(l.__getValue())}}}]),A})();m.exports=p},227,[12,13,17,20,22,19,223,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]),o=r(d[3]),c=(r(d[4]),r(d[5])),s=new n.default,u={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions:function(n){var t=[],o=new Promise(function(o){E(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),v.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){v.cancelTasks(t)}}},createInteractionHandle:function(){E();var n=++w;return f.add(n),n},clearInteractionHandle:function(n){c(!!n,'InteractionManager: Must provide a handle to clear.'),E(),f.delete(n),p.add(n)},addListener:s.addListener.bind(s),setDeadline:function(n){T=n}},l=new Set,f=new Set,p=new Set,v=new o({onMoreTasks:E}),h=0,w=0,T=-1;function E(){h||(h=T>0?setTimeout(S,0):setImmediate(S))}function S(){h=0;var n=l.size;f.forEach(function(n){return l.add(n)}),p.forEach(function(n){return l.delete(n)});var o=l.size;if(0!==n&&0===o?s.emit(u.Events.interactionComplete):0===n&&0!==o&&s.emit(u.Events.interactionStart),0===o)for(;v.hasTasksToProcess();)if(v.processNext(),T>0&&t.getEventLoopRunningTime()>=T){E();break}f.clear(),p.clear()}m.exports=u},228,[2,24,39,229,129,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=r(d[1]),s=r(d[2]),n=(r(d[3]),r(d[4])),o=(function(){function o(t){var s=t.onMoreTasks;u(this,o),this._onMoreTasks=s,this._queueStack=[{tasks:[],popable:!1}]}return s(o,[{key:"enqueue",value:function(t){this._getCurrentQueue().push(t)}},{key:"enqueueTasks",value:function(t){var u=this;t.forEach(function(t){return u.enqueue(t)})}},{key:"cancelTasks",value:function(u){this._queueStack=this._queueStack.map(function(s){return t({},s,{tasks:s.tasks.filter(function(t){return-1===u.indexOf(t)})})}).filter(function(t,u){return t.tasks.length>0||0===u})}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var t=this._getCurrentQueue();if(t.length){var u=t.shift();try{'object'==typeof u&&u.gen?this._genPromise(u):'object'==typeof u&&u.run?u.run():(n('function'==typeof u,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(u,null,2)),u())}catch(t){throw t.message='TaskQueue: Error with task '+(u.name||'')+': '+t.message,t}}}},{key:"_getCurrentQueue",value:function(){var t=this._queueStack.length-1,u=this._queueStack[t];return u.popable&&0===u.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):u.tasks}},{key:"_genPromise",value:function(t){var u=this;this._queueStack.push({tasks:[],popable:!1});var s=this._queueStack.length-1,n=this._queueStack[s];t.gen().then(function(){n.popable=!0,u.hasTasksToProcess()&&u._onMoreTasks()}).catch(function(u){throw u.message="TaskQueue: Error resolving Promise in task "+t.name+": "+u.message,u}).done()}}]),o})();m.exports=o},229,[32,12,13,129,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=t.AnimatedEvent,u=t.attachNativeEvent,s=r(d[2]),c=r(d[3]),f=r(d[4]),v=r(d[5]),p=r(d[6]),l=r(d[7]),h=r(d[8]),_=r(d[9]),N=r(d[10]),w=r(d[11]),E=r(d[12]),y=r(d[13]),D=r(d[14]),L=r(d[15]),A=r(d[16]),U=r(d[17]),k=function(n,t){return n&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),n&&n.apply(void 0,arguments)}:n||t.onComplete},V=function(t,o,u){if(t instanceof y){var s=n({},o),c=n({},o);for(var f in o){var v=o[f],p=v.x,l=v.y;void 0!==p&&void 0!==l&&(s[f]=p,c[f]=l)}var h=u(t.x,s),_=u(t.y,c);return x([h,_],{stopTogether:!1})}return null},C=function t(o,u){var s=function(n,t,o){o=k(o,t);var u=n,s=t;u.stopTracking(),t.toValue instanceof h?u.track(new w(u,t.toValue,A,s,o)):u.animate(new A(s),o)};return V(o,u,t)||{start:function(n){s(o,u,n)},stop:function(){o.stopAnimation()},reset:function(){o.resetAnimation()},_startNativeLoop:function(t){var c=n({},u,{iterations:t});s(o,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},T=function(n){var t=0;return{start:function(o){0===n.length?o&&o({finished:!0}):n[t].start(function u(s){s.finished&&++t!==n.length?n[t].start(u):o&&o(s)})},stop:function(){t<n.length&&n[t].stop()},reset:function(){n.forEach(function(n,o){o<=t&&n.reset()}),t=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},x=function(n,t){var o=0,u={},s=!(t&&!1===t.stopTogether),c={start:function(t){o!==n.length?n.forEach(function(f,v){var p=function(f){if(u[v]=!0,++o===n.length)return o=0,void(t&&t(f));!f.finished&&s&&c.stop()};f?f.start(p):p({finished:!0})}):t&&t({finished:!0})},stop:function(){n.forEach(function(n,t){!u[t]&&n.stop(),u[t]=!0})},reset:function(){n.forEach(function(n,t){n.reset(),u[t]=!1,o=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return c},q=function(n){return C(new E(0),{toValue:0,delay:n,duration:0,useNativeDriver:!1})};m.exports={Value:E,ValueXY:y,Interpolation:v,Node:h,decay:function t(o,u){var s=function(n,t,o){o=k(o,t);var u=n,s=t;u.stopTracking(),u.animate(new D(s),o)};return V(o,u,t)||{start:function(n){s(o,u,n)},stop:function(){o.stopAnimation()},reset:function(){o.resetAnimation()},_startNativeLoop:function(t){var c=n({},u,{iterations:t});s(o,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},timing:C,spring:function t(o,u){var s=function(n,t,o){o=k(o,t);var u=n,s=t;u.stopTracking(),t.toValue instanceof h?u.track(new w(u,t.toValue,L,s,o)):u.animate(new L(s),o)};return V(o,u,t)||{start:function(n){s(o,u,n)},stop:function(){o.stopAnimation()},reset:function(){o.resetAnimation()},_startNativeLoop:function(t){var c=n({},u,{iterations:t});s(o,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},add:function(n,t){return new s(n,t)},subtract:function(n,t){return new N(n,t)},divide:function(n,t){return new f(n,t)},multiply:function(n,t){return new l(n,t)},modulo:function(n,t){return new p(n,t)},diffClamp:function(n,t,o){return new c(n,t,o)},delay:q,sequence:T,parallel:x,stagger:function(n,t){return x(t.map(function(t,o){return T([q(n*o),t])}))},loop:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.iterations,u=void 0===o?-1:o,s=t.resetBeforeIteration,c=void 0===s||s,f=!1,v=0;return{start:function(t){n&&0!==u?n._isUsingNativeDriver()?n._startNativeLoop(u):(function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{finished:!0};f||v===u||!1===s.finished?t&&t(s):(v++,c&&n.reset(),n.start(o))})():t&&t({finished:!0})},stop:function(){f=!0,n.stop()},reset:function(){v=0,f=!1,n.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return n._isUsingNativeDriver()}}},event:function(n,t){var u=new o(n,t);return u.__isNative?u:u.__getHandler()},createAnimatedComponent:U,attachNativeEvent:u,forkEvent:function(n,t){return n?n instanceof o?(n.__addListener(t),n):function(){'function'==typeof n&&n.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(n,t){n&&n instanceof o&&n.__removeListener(t)},Event:o,__PropsOnlyForTests:_}},230,[32,220,231,232,233,222,234,235,223,236,239,240,221,241,242,244,246,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),u=r(d[3]),o=r(d[4]),c=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=(r(d[7]),r(d[8])),f=r(d[9]),v=(function(v){u(b,f);var y,p,k=(y=b,p=s(),function(){var t,n=c(y);if(p){var _=c(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return o(this,t)});function b(n,_){var u;return t(this,b),(u=k.call(this))._a='number'==typeof n?new l(n):n,u._b='number'==typeof _?new l(_):_,u}return n(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),_(c(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),_(c(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},231,[12,13,17,20,22,19,222,223,221,227]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),_=r(d[3]),l=r(d[4]),c=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var o=r(d[6]),h=(r(d[7]),r(d[8])),f=(function(f){_(k,h);var v,p,y=(v=k,p=s(),function(){var t,n=c(v);if(p){var u=c(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return l(this,t)});function k(n,u,_){var l;return t(this,k),(l=y.call(this))._a=n,l._min=u,l._max=_,l._value=l._lastValue=l._a.__getValue(),l}return n(k,[{key:"__makeNative",value:function(){this._a.__makeNative(),u(c(k.prototype),"__makeNative",this).call(this)}},{key:"interpolate",value:function(t){return new o(this,t)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),n=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+n,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),u(c(k.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max}}}]),k})();m.exports=f},232,[12,13,17,20,22,19,222,223,227]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),_=r(d[3]),u=r(d[4]),s=r(d[5]);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=r(d[7]),v=r(d[8]),f=r(d[9]),y=(function(y){_(D,f);var p,b,k=(p=D,b=c(),function(){var t,n=s(p);if(b){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return u(this,t)});function D(n,o){var _;return t(this,D),(_=k.call(this))._warnedAboutDivideByZero=!1,(0===o||o instanceof l&&0===o.__getValue())&&console.error('Detected potential division by zero in AnimatedDivision'),_._a='number'==typeof n?new v(n):n,_._b='number'==typeof o?new v(o):o,_}return n(D,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),o(s(D.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),n=this._b.__getValue();return 0===n?(this._warnedAboutDivideByZero||(console.error('Detected division by zero in AnimatedDivision'),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,t/n)}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),o(s(D.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),D})();m.exports=y},233,[12,13,17,20,22,19,222,223,221,227]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=r(d[1]),n=r(d[2]),o=r(d[3]),c=r(d[4]),s=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=r(d[6]),h=(r(d[7]),r(d[8])),f=(function(f){o(k,h);var v,y,p=(v=k,y=_(),function(){var t,u=s(v);if(y){var n=s(this).constructor;t=Reflect.construct(u,arguments,n)}else t=u.apply(this,arguments);return c(this,t)});function k(u,n){var o;return t(this,k),(o=p.call(this))._a=u,o._modulus=n,o}return u(k,[{key:"__makeNative",value:function(){this._a.__makeNative(),n(s(k.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(t){return new l(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),n(s(k.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus}}}]),k})();m.exports=f},234,[12,13,17,20,22,19,222,223,227]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),u=r(d[3]),o=r(d[4]),c=r(d[5]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var s=r(d[6]),h=(r(d[7]),r(d[8])),f=r(d[9]),v=(function(v){u(b,f);var p,y,k=(p=b,y=l(),function(){var t,n=c(p);if(y){var _=c(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return o(this,t)});function b(n,_){var u;return t(this,b),(u=k.call(this))._a='number'==typeof n?new h(n):n,u._b='number'==typeof _?new h(_):_,u}return n(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),_(c(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(t){return new s(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),_(c(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},235,[12,13,17,20,22,19,222,223,221,227]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),_=r(d[4]),c=r(d[5]),v=r(d[6]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=r(d[7]).AnimatedEvent,h=r(d[8]),f=r(d[9]),p=r(d[10]),y=r(d[11]),N=r(d[12]),V=(function(V){_(b,h);var k,w,A=(k=b,w=u(),function(){var t,n=v(k);if(w){var s=v(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return c(this,t)});function b(s,o){var _;return n(this,b),_=A.call(this),s.style&&(s=t({},s,{style:new f(s.style)})),_._props=s,_._callback=o,_.__attach(),_}return s(b,[{key:"__getValue",value:function(){var t={};for(var n in this._props){var s=this._props[n];s instanceof h?(!s.__isNative||s instanceof f)&&(t[n]=s.__getValue()):t[n]=s instanceof l?s.__getHandler():s}return t}},{key:"__getAnimatedValue",value:function(){var t={};for(var n in this._props){var s=this._props[n];s instanceof h&&(t[n]=s.__getAnimatedValue())}return t}},{key:"__attach",value:function(){for(var t in this._props){var n=this._props[t];n instanceof h&&n.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[t];n instanceof h&&n.__removeChild(this)}o(v(b.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var t in this.__isNative=!0,this._props){var n=this._props[t];n instanceof h&&n.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(t){this._animatedView!==t&&(this._animatedView=t,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){N(this.__isNative,'Expected node to be marked as "native"');var t=y.findNodeHandle(this._animatedView);N(null!=t,'Unable to locate attached view in the native tree'),p.API.connectAnimatedNodeToView(this.__getNativeTag(),t)}},{key:"__disconnectAnimatedView",value:function(){N(this.__isNative,'Expected node to be marked as "native"');var t=y.findNodeHandle(this._animatedView);N(null!=t,'Unable to locate attached view in the native tree'),p.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),t)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&p.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var t={};for(var n in this._props){var s=this._props[n];s instanceof h&&(s.__makeNative(),t[n]=s.__getNativeTag())}return{type:'props',props:t}}}]),b})();m.exports=V},236,[32,12,13,17,20,22,19,220,223,237,224,91,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),l=r(d[3]),o=r(d[4]),u=r(d[5]),_=r(d[6]);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var f=r(d[7]),y=r(d[8]),v=r(d[9]),h=r(d[10]),k=r(d[11]),A=(function(A){o(N,v);var p,V,w=(p=N,V=c(),function(){var t,n=_(p);if(V){var s=_(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return u(this,t)});function N(s){var l;return n(this,N),l=w.call(this),(s=k(s)||{}).transform&&(s=t({},s,{transform:new y(s.transform)})),l._style=s,l}return s(N,[{key:"_walkStyleAndGetValues",value:function(t){var n={};for(var s in t){var l=t[s];l instanceof f?l.__isNative||(n[s]=l.__getValue()):l&&!Array.isArray(l)&&'object'==typeof l?n[s]=this._walkStyleAndGetValues(l):n[s]=l}return n}},{key:"__getValue",value:function(){return this._walkStyleAndGetValues(this._style)}},{key:"_walkStyleAndGetAnimatedValues",value:function(t){var n={};for(var s in t){var l=t[s];l instanceof f?n[s]=l.__getAnimatedValue():l&&!Array.isArray(l)&&'object'==typeof l&&(n[s]=this._walkStyleAndGetAnimatedValues(l))}return n}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var t in this._style){var n=this._style[t];n instanceof f&&n.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this._style){var n=this._style[t];n instanceof f&&n.__removeChild(this)}l(_(N.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var t in this._style){var n=this._style[t];n instanceof f&&n.__makeNative()}l(_(N.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var t={};for(var n in this._style)if(this._style[n]instanceof f){var s=this._style[n];s.__makeNative(),t[n]=s.__getNativeTag()}return h.validateStyles(t),{type:'style',style:t}}}]),N})();m.exports=A},237,[32,12,13,17,20,22,19,223,238,227,224,87]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),f=r(d[3]),c=r(d[4]),s=r(d[5]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=r(d[6]),_=r(d[7]),l=r(d[8]),h=(function(h){f(N,_);var p,y,k=(p=N,y=u(),function(){var t,n=s(p);if(y){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function N(n){var o;return t(this,N),(o=k.call(this))._transforms=n,o}return n(N,[{key:"__makeNative",value:function(){this._transforms.forEach(function(t){for(var n in t){var o=t[n];o instanceof v&&o.__makeNative()}}),o(s(N.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map(function(t){var n={};for(var o in t){var f=t[o];n[o]=f instanceof v?f.__getValue():f}return n})}},{key:"__getAnimatedValue",value:function(){return this._transforms.map(function(t){var n={};for(var o in t){var f=t[o];n[o]=f instanceof v?f.__getAnimatedValue():f}return n})}},{key:"__attach",value:function(){var t=this;this._transforms.forEach(function(n){for(var o in n){var f=n[o];f instanceof v&&f.__addChild(t)}})}},{key:"__detach",value:function(){var t=this;this._transforms.forEach(function(n){for(var o in n){var f=n[o];f instanceof v&&f.__removeChild(t)}}),o(s(N.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var t=[];return this._transforms.forEach(function(n){for(var o in n){var f=n[o];f instanceof v?t.push({type:'animated',property:o,nodeTag:f.__getNativeTag()}):t.push({type:'static',property:o,value:l.transformDataType(f)})}}),l.validateTransform(t),{type:'transform',transforms:t}}}]),N})();m.exports=h},238,[12,13,17,20,22,19,223,227,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),u=r(d[3]),o=r(d[4]),c=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=(r(d[7]),r(d[8])),f=r(d[9]),v=(function(v){u(b,f);var y,p,k=(y=b,p=s(),function(){var t,n=c(y);if(p){var _=c(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return o(this,t)});function b(n,_){var u;return t(this,b),(u=k.call(this))._a='number'==typeof n?new l(n):n,u._b='number'==typeof _?new l(_):_,u}return n(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),_(c(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),_(c(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},239,[12,13,17,20,22,19,222,223,221,227]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),o=r(d[3]),u=r(d[4]),s=r(d[5]),l=r(d[6]);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[7]);var h=r(d[8]),v=r(d[9]),f=v.generateNewAnimationId,p=v.shouldUseNativeDriver,y=(function(v){u(C,h);var y,k,N=(y=C,k=c(),function(){var t,n=l(y);if(k){var _=l(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return s(this,t)});function C(t,_,o,u,s){var l;return n(this,C),(l=N.call(this))._value=t,l._parent=_,l._animationClass=o,l._animationConfig=u,l._useNativeDriver=p(u),l._callback=s,l.__attach(),l}return _(C,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),o(l(C.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),o(l(C.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass(t({},this._animationConfig,{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var n=new this._animationClass(t({},this._animationConfig,{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:f(),animationConfig:n,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}]),C})();m.exports=y},240,[32,12,13,17,20,22,19,221,223,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),f=r(d[4]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=r(d[5]),c=r(d[6]),y=r(d[7]),h=1,x=(function(x){s(k,c);var v,_,p=(v=k,_=o(),function(){var t,n=f(v);if(_){var s=f(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return u(this,t)});function k(n){var s;t(this,k),s=p.call(this);var u=n||{x:0,y:0};return'number'==typeof u.x&&'number'==typeof u.y?(s.x=new l(u.x),s.y=new l(u.y)):(y(u.x instanceof l&&u.y instanceof l,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),s.x=u.x,s.y=u.y),s._listeners={},s}return n(k,[{key:"setValue",value:function(t){this.x.setValue(t.x),this.y.setValue(t.y)}},{key:"setOffset",value:function(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}},{key:"stopAnimation",value:function(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}},{key:"addListener",value:function(t){var n=this,s=String(h++),u=function(s){s.value;t(n.__getValue())};return this._listeners[s]={x:this.x.addListener(u),y:this.y.addListener(u)},s}},{key:"removeListener",value:function(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}]),k})();m.exports=x},241,[12,13,20,22,19,221,227,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),c=r(d[4]),u=r(d[5]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var _=r(d[6]),h=r(d[7]).shouldUseNativeDriver,v=(function(v){o(D,_);var f,p,y=(f=D,p=l(),function(){var t,n=u(f);if(p){var s=u(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return c(this,t)});function D(n){var s,o,c,u;return t(this,D),(u=y.call(this))._deceleration=null!=(s=n.deceleration)?s:.998,u._velocity=n.velocity,u._useNativeDriver=h(n),u.__isInteraction=null!=(o=n.isInteraction)?o:!u._useNativeDriver,u.__iterations=null!=(c=n.iterations)?c:1,u}return n(D,[{key:"__getNativeAnimationConfig",value:function(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(t,n,s,o,c){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=n,this.__onEnd=s,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(c):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var t=Date.now(),n=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(n),Math.abs(this._lastValue-n)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=n,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){s(u(D.prototype),"stop",this).call(this),this.__active=!1,g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),D})();m.exports=v},242,[12,13,17,20,22,19,243,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),_=1,s=(function(){function s(){t(this,s)}return n(s,[{key:"start",value:function(t,n,o,_,s){}},{key:"stop",value:function(){this.__nativeId&&o.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error('This animation type cannot be offloaded to native')}},{key:"__debouncedOnEnd",value:function(t){var n=this.__onEnd;this.__onEnd=null,n&&n(t)}},{key:"__startNativeAnimation",value:function(t){var n=_+":startAnimation";_+=1,o.API.setWaitingForIdentifier(n);try{t.__makeNative(),this.__nativeId=o.generateNewAnimationId(),o.API.startAnimatingNode(this.__nativeId,t.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))}catch(t){throw t}finally{o.API.unsetWaitingForIdentifier(n)}}}]),s})();m.exports=s},243,[12,13,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),l=r(d[4]),h=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[6]),r(d[7]),r(d[8]);var u=r(d[9]),f=r(d[10]),c=r(d[11]),v=r(d[12]).shouldUseNativeDriver,p=(function(p){o(b,u);var y,V,T=(y=b,V=_(),function(){var t,s=h(y);if(V){var n=h(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return l(this,t)});function b(s){var n,o,l,h,_,u,p,y,V,M,D,P;if(t(this,b),(V=T.call(this))._overshootClamping=null!=(n=s.overshootClamping)&&n,V._restDisplacementThreshold=null!=(o=s.restDisplacementThreshold)?o:.001,V._restSpeedThreshold=null!=(l=s.restSpeedThreshold)?l:.001,V._initialVelocity=null!=(h=s.velocity)?h:0,V._lastVelocity=null!=(_=s.velocity)?_:0,V._toValue=s.toValue,V._delay=null!=(u=s.delay)?u:0,V._useNativeDriver=v(s),V.__isInteraction=null!=(p=s.isInteraction)?p:!V._useNativeDriver,V.__iterations=null!=(y=s.iterations)?y:1,void 0!==s.stiffness||void 0!==s.damping||void 0!==s.mass)c(void 0===s.bounciness&&void 0===s.speed&&void 0===s.tension&&void 0===s.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),V._stiffness=null!=(M=s.stiffness)?M:100,V._damping=null!=(D=s.damping)?D:10,V._mass=null!=(P=s.mass)?P:1;else if(void 0!==s.bounciness||void 0!==s.speed){var S,U;c(void 0===s.tension&&void 0===s.friction&&void 0===s.stiffness&&void 0===s.damping&&void 0===s.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var A=f.fromBouncinessAndSpeed(null!=(S=s.bounciness)?S:8,null!=(U=s.speed)?U:12);V._stiffness=A.stiffness,V._damping=A.damping,V._mass=1}else{var C,N,k=f.fromOrigamiTensionAndFriction(null!=(C=s.tension)?C:40,null!=(N=s.friction)?N:7);V._stiffness=k.stiffness,V._damping=k.damping,V._mass=1}return c(V._stiffness>0,'Stiffness value must be greater than 0'),c(V._damping>0,'Damping value must be greater than 0'),c(V._mass>0,'Mass value must be greater than 0'),V}return s(b,[{key:"__getNativeAnimationConfig",value:function(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!=(t=this._initialVelocity)?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,s,n,o,l){var h=this;if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=s,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,o instanceof b){var _=o.getInternalState();this._lastPosition=_.lastPosition,this._lastVelocity=_.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=_.lastTime}var u=function(){h._useNativeDriver?h.__startNativeAnimation(l):h.onUpdate()};this._delay?this._timeout=setTimeout(u,this._delay):u()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var s=(t-this._lastTime)/1e3;this._frameTime+=s;var n=this._damping,o=this._mass,l=this._stiffness,h=-this._initialVelocity,_=n/(2*Math.sqrt(l*o)),u=Math.sqrt(l/o),f=u*Math.sqrt(1-_*_),c=this._toValue-this._startPosition,v=0,p=0,y=this._frameTime;if(_<1){var V=Math.exp(-_*u*y);v=this._toValue-V*((h+_*u*c)/f*Math.sin(f*y)+c*Math.cos(f*y)),p=_*u*V*(Math.sin(f*y)*(h+_*u*c)/f+c*Math.cos(f*y))-V*(Math.cos(f*y)*(h+_*u*c)-f*c*Math.sin(f*y))}else{var T=Math.exp(-u*y);v=this._toValue-T*(c+(h+u*c)*y),p=T*(h*(y*u-1)+y*c*(u*u))}if(this._lastTime=t,this._lastPosition=v,this._lastVelocity=p,this._onUpdate(v),this.__active){var b=!1;this._overshootClamping&&0!==this._stiffness&&(b=this._startPosition<this._toValue?v>this._toValue:v<this._toValue);var M=Math.abs(p)<=this._restSpeedThreshold,D=!0;if(0!==this._stiffness&&(D=Math.abs(this._toValue-v)<=this._restDisplacementThreshold),b||M&&D)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){n(h(b.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),b})();m.exports=p},244,[12,13,17,20,22,19,221,241,222,243,245,8,224]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}m.exports={fromOrigamiTensionAndFriction:function(o,u){return{stiffness:n(o),damping:t(u)}},fromBouncinessAndSpeed:function(o,u){function f(n,t,o){return(n-t)/(o-t)}function c(n,t,o){return t+n*(o-t)}function s(n,t,o){return n*o+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function h(n){return 4.5e-7*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var w=f(o/1.7,0,20);w=c(w,0,.8);var M,v,A,_,x=c(f(u/1.7,0,20),.5,200),B=(M=w,v=(A=x)<=18?(_=A,7e-4*Math.pow(_,3)-.031*Math.pow(_,2)+.64*_+1.28):A>18&&A<=44?p(A):h(A),s(2*M-M*M,v,.01));return{stiffness:n(x),damping:t(B)}}}},245,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),u=r(d[4]),_=r(d[5]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[6]),r(d[7]),r(d[8]);var l,c=r(d[9]),f=r(d[10]).shouldUseNativeDriver;function v(){if(!l){var t=r(d[11]);l=t.inOut(t.ease)}return l}var p=(function(l){o(U,c);var p,y,V=(p=U,y=h(),function(){var t,n=_(p);if(y){var s=_(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return u(this,t)});function U(n){var s,o,u,_,h,l;return t(this,U),(l=V.call(this))._toValue=n.toValue,l._easing=null!=(s=n.easing)?s:v(),l._duration=null!=(o=n.duration)?o:500,l._delay=null!=(u=n.delay)?u:0,l.__iterations=null!=(_=n.iterations)?_:1,l._useNativeDriver=f(n),l.__isInteraction=null!=(h=n.isInteraction)?h:!l._useNativeDriver,l}return n(U,[{key:"__getNativeAnimationConfig",value:function(){for(var t=[],n=Math.round(this._duration/16.666666666666668),s=0;s<n;s++)t.push(this._easing(s/n));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,n,s,o,u){var _=this;this.__active=!0,this._fromValue=t,this._onUpdate=n,this.__onEnd=s;var h=function(){0!==_._duration||_._useNativeDriver?(_._startTime=Date.now(),_._useNativeDriver?_.__startNativeAnimation(u):_._animationFrame=requestAnimationFrame(_.onUpdate.bind(_))):(_._onUpdate(_._toValue),_.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(h,this._delay):h()}},{key:"onUpdate",value:function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){s(_(U.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),U})();m.exports=p},246,[12,13,17,20,22,19,221,241,222,243,224,247]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,u=r(d[0]),t=r(d[1]),o=(function(){function o(){u(this,o)}return t(o,null,[{key:"step0",value:function(n){return n>0?1:0}},{key:"step1",value:function(n){return n>=1?1:0}},{key:"linear",value:function(n){return n}},{key:"ease",value:function(u){return n||(n=o.bezier(.42,0,1,1)),n(u)}},{key:"quad",value:function(n){return n*n}},{key:"cubic",value:function(n){return n*n*n}},{key:"poly",value:function(n){return function(u){return Math.pow(u,n)}}},{key:"sin",value:function(n){return 1-Math.cos(n*Math.PI/2)}},{key:"circle",value:function(n){return 1-Math.sqrt(1-n*n)}},{key:"exp",value:function(n){return Math.pow(2,10*(n-1))}},{key:"elastic",value:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return function(u){return 1-Math.pow(Math.cos(u*Math.PI/2),3)*Math.cos(u*n)}}},{key:"back",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(u){return u*u*((n+1)*u-n)}}},{key:"bounce",value:function(n){if(n<.36363636363636365)return 7.5625*n*n;if(n<.7272727272727273){var u=n-.5454545454545454;return 7.5625*u*u+.75}if(n<.9090909090909091){var t=n-.8181818181818182;return 7.5625*t*t+.9375}var o=n-.9545454545454546;return 7.5625*o*o+.984375}},{key:"bezier",value:function(n,u,t,o){return r(d[2])(n,u,t,o)}},{key:"in",value:function(n){return n}},{key:"out",value:function(n){return function(u){return 1-n(1-u)}}},{key:"inOut",value:function(n){return function(u){return u<.5?n(2*u)/2:1-n(2*(1-u))/2}}}]),o})();m.exports=o},247,[12,13,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=4,t=.001,u=1e-7,o=10,f=.1,c='function'==typeof Float32Array;function v(n,t){return 1-3*t+3*n}function s(n,t){return 3*t-6*n}function w(n){return 3*n}function l(n,t,u){return((v(t,u)*n+s(t,u))*n+w(t))*n}function y(n,t,u){return 3*v(t,u)*n*n+2*s(t,u)*n+w(t)}function b(n,t,f,c,v){var s,w,y=0,b=t,h=f;do{(s=l(w=b+(h-b)/2,c,v)-n)>0?h=w:b=w}while(Math.abs(s)>u&&++y<o);return w}function h(t,u,o,f){for(var c=u,v=0;v<n;++v){var s=y(c,o,f);if(0===s)return c;c-=(l(c,o,f)-t)/s}return c}m.exports=function(n,u,o,v){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var s=c?new Float32Array(11):new Array(11);if(n!==u||o!==v)for(var w=0;w<11;++w)s[w]=l(w*f,n,o);function A(u){for(var c=0,v=1;10!==v&&s[v]<=u;++v)c+=f;var w=c+(u-s[--v])/(s[v+1]-s[v])*f,l=y(w,n,o);return l>=t?h(u,w,n,o):0===l?w:b(u,c,c+f,n,o)}return function(t){return n===u&&o===v?t:0===t?0:1===t?1:l(A(t),u,v)}}},248,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),s=r(d[4]),c=r(d[5]),p=r(d[6]),u=["style"],_=["style"];function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[7]);var f=r(d[8]).AnimatedEvent,h=r(d[9]),y=r(d[10]),N=r(d[11]),A=r(d[12]),C=r(d[13]),R=1;m.exports=function(k){A('function'!=typeof k||k.prototype&&k.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var b=(function(A){s(S,A);var b,w,P=(b=S,w=v(),function(){var t,n=p(b);if(w){var o=p(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function S(){var t;o(this,S);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=P.call.apply(P,[this].concat(l)))._invokeAnimatedPropsCallbackOnMount=!1,t._eventDetachers=[],t._animatedComponentId=R+++":animatedComponent",t._isFabric=function(){var n,o,l,s,c,p;return null!=t._component&&(null!=(null==(n=t._component._internalInstanceHandle)?void 0:null==(o=n.stateNode)?void 0:o.canonical)||null!=t._component.getNativeScrollRef&&null!=t._component.getNativeScrollRef()&&null!=(null==(l=t._component.getNativeScrollRef()._internalInstanceHandle)?void 0:null==(s=l.stateNode)?void 0:s.canonical)||null!=t._component.getScrollResponder&&null!=t._component.getScrollResponder()&&null!=t._component.getScrollResponder().getNativeScrollRef&&null!=t._component.getScrollResponder().getNativeScrollRef()&&null!=(null==(c=t._component.getScrollResponder().getNativeScrollRef()._internalInstanceHandle)?void 0:null==(p=c.stateNode)?void 0:p.canonical))},t._waitForUpdate=function(){t._isFabric()&&N.API.setWaitingForIdentifier(t._animatedComponentId)},t._markUpdateComplete=function(){t._isFabric()&&N.API.unsetWaitingForIdentifier(t._animatedComponentId)},t._animatedPropsCallback=function(){if(null==t._component)t._invokeAnimatedPropsCallbackOnMount=!0;else if('function'!=typeof t._component.setNativeProps||t._isFabric())t.forceUpdate();else{if(t._propsAnimated.__isNative)throw new Error("Attempting to run JS driven animation on animated node that has been moved to \"native\" earlier by starting an animation with `useNativeDriver: true`");t._component.setNativeProps(t._propsAnimated.__getAnimatedValue())}},t._setComponentRef=C({getForwardedRef:function(){return t.props.forwardedRef},setLocalRef:function(n){t._prevComponent=t._component,t._component=n,null!=n&&null==n.getNode&&(n.getNode=function(){var t;return console.warn("%s: Calling `getNode()` on the ref of an Animated component is no longer necessary. You can now directly use the ref instead. This method will be removed in a future release.",null!=(t=n.constructor.name)?t:'<<anonymous>>'),n})}}),t}return l(S,[{key:"_attachNativeEvents",value:function(){var t,n=this,o=null!=(t=this._component)&&t.getScrollableNode?this._component.getScrollableNode():this._component,l=function(t){var l=n.props[t];l instanceof f&&l.__isNative&&(l.__attach(o,t),n._eventDetachers.push(function(){return l.__detach(o,t)}))};for(var s in this.props)l(s)}},{key:"_detachNativeEvents",value:function(){this._eventDetachers.forEach(function(t){return t()}),this._eventDetachers=[]}},{key:"_attachProps",value:function(t){var n=this._propsAnimated;t!==n&&(this._propsAnimated=new h(t,this._animatedPropsCallback),n&&(n.__restoreDefaultValues(),n.__detach()))}},{key:"render",value:function(){var o,l=this._propsAnimated.__getValue()||{},s=l.style,c=void 0===s?{}:s,p=n(l,u),v=this.props.passthroughAnimatedPropExplicitValues||{},f=v.style,h=void 0===f?{}:f,N=n(v,_),A=t({},c,h);return y.createElement(k,t({},p,N,{style:A,ref:this._setComponentRef,nativeID:null!=(o=p.nativeID)?o:this._isFabric()?'animatedComponent':void 0,collapsable:!this._propsAnimated.__isNative&&p.collapsable}))}},{key:"UNSAFE_componentWillMount",value:function(){this._waitForUpdate(),this._attachProps(this.props)}},{key:"componentDidMount",value:function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents(),this._markUpdateComplete()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this._waitForUpdate(),this._attachProps(t)}},{key:"componentDidUpdate",value:function(t){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&t===this.props||(this._detachNativeEvents(),this._attachNativeEvents()),this._markUpdateComplete()}},{key:"componentWillUnmount",value:function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents(),this._markUpdateComplete()}}]),S})(y.Component);return y.forwardRef(function(n,o){return y.createElement(b,t({},n,null==o?null:{forwardedRef:o}))})}},249,[32,51,12,13,20,22,19,88,220,236,55,224,8,250]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n=t.getForwardedRef,o=t.setLocalRef;return function(t){var c=n();o(t),'function'==typeof c?c(t):'object'==typeof c&&null!=c&&(c.current=t)}}},250,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=o(n);if(f&&f.has(t))return f.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=t[l]}u.default=t,f&&f.set(t,u);return u})(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(o=function(t){return t?f:n})(t)}var f=r(d[3]),u=r(d[4]),c=n.forwardRef(function(o,u){return n.createElement(f,(0,t.default)({scrollEventThrottle:1e-4},o,{ref:u}))});m.exports=u(c)},251,[2,32,55,252,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5])),c=t(r(d[6])),f=t(r(d[7])),p=t(r(d[8])),h=["numColumns","columnWrapperStyle"];function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[9]);var v=r(d[10]),y=r(d[11]),b=r(d[12]),_=r(d[13]),w=r(d[14]),I=r(d[15]),k=(0,p.default)({},_.defaultProps,{numColumns:1,removeClippedSubviews:!1}),R=(function(t){(0,u.default)(E,t);var k,R,x=(k=E,R=C(),function(){var t,n=(0,f.default)(k);if(R){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function E(t){var n;return(0,l.default)(this,E),(n=x.call(this,t))._virtualizedListPairs=[],n._captureRef=function(t){n._listRef=t},n._getItem=function(t,o){var l=n.props.numColumns;if(l>1){for(var s=[],u=0;u<l;u++){var c=t[o*l+u];null!=c&&s.push(c)}return s}return t[o]},n._getItemCount=function(t){if(t){var o=n.props.numColumns;return o>1?Math.ceil(t.length/o):t.length}return 0},n._keyExtractor=function(t,o){var l=n.props,s=l.keyExtractor,u=l.numColumns;return u>1?(I(Array.isArray(t),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",u),t.map(function(t,n){return s(t,o*u+n)}).join(':')):s(t,o)},n._renderer=function(){var t=n.props,l=t.ListItemComponent,s=t.renderItem,u=t.numColumns,c=t.columnWrapperStyle,f=l?'ListItemComponent':'renderItem',p=function(t){return l?y.createElement(l,t):s?s(t):null};return(0,o.default)({},f,function(t){if(u>1){var n=t.item,o=t.index;return I(Array.isArray(n),'Expected array of items with numColumns > 1'),y.createElement(b,{style:w.compose(P.row,c)},n.map(function(n,l){var s=p({item:n,index:o*u+l,separators:t.separators});return null!=s?y.createElement(y.Fragment,{key:l},s):null}))}return p(t)})},n._checkProps(n.props),n.props.viewabilityConfigCallbackPairs?n._virtualizedListPairs=n.props.viewabilityConfigCallbackPairs.map(function(t){return{viewabilityConfig:t.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(t.onViewableItemsChanged)}}):n.props.onViewableItemsChanged&&n._virtualizedListPairs.push({viewabilityConfig:n.props.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(n.props.onViewableItemsChanged)}),n}return(0,s.default)(E,[{key:"scrollToEnd",value:function(t){this._listRef&&this._listRef.scrollToEnd(t)}},{key:"scrollToIndex",value:function(t){this._listRef&&this._listRef.scrollToIndex(t)}},{key:"scrollToItem",value:function(t){this._listRef&&this._listRef.scrollToItem(t)}},{key:"scrollToOffset",value:function(t){this._listRef&&this._listRef.scrollToOffset(t)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(t){this._listRef&&this._listRef.setNativeProps(t)}},{key:"componentDidUpdate",value:function(t){I(t.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),I(t.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),I(!v(t.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),I(t.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}},{key:"_checkProps",value:function(t){var n=t.getItem,o=t.getItemCount,l=t.horizontal,s=t.numColumns,u=t.columnWrapperStyle,c=t.onViewableItemsChanged,f=t.viewabilityConfigCallbackPairs;I(!n&&!o,'FlatList does not support custom data formats.'),s>1?I(!l,'numColumns does not support horizontal.'):I(!u,'columnWrapperStyle not supported for single column lists'),I(!(c&&f),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(t,n){var o=this.props,l=o.numColumns,s=o.keyExtractor;n.item.forEach(function(o,u){I(null!=n.index,'Missing index!');var c=n.index*l+u;t.push((0,p.default)({},n,{item:o,key:s(o,c),index:c}))})}},{key:"_createOnViewableItemsChanged",value:function(t){var n=this;return function(o){var l=n.props.numColumns;if(t)if(l>1){var s=[],u=[];o.viewableItems.forEach(function(t){return n._pushMultiColumnViewable(u,t)}),o.changed.forEach(function(t){return n._pushMultiColumnViewable(s,t)}),t({viewableItems:u,changed:s})}else t(o)}}},{key:"render",value:function(){var t=this.props,o=(t.numColumns,t.columnWrapperStyle,(0,n.default)(t,h));return y.createElement(_,(0,p.default)({},o,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs},this._renderer()))}}]),E})(y.PureComponent);R.defaultProps=k;var P=w.create({row:{flexDirection:'row'}});m.exports=R},252,[2,51,253,12,13,20,22,19,32,53,187,55,88,254,58,8]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o,u){return(o=t(o))in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n},m.exports.__esModule=!0,m.exports.default=m.exports},253,[14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),s=t(r(d[2])),n=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5])),h=t(r(d[6])),u=t(r(d[7])),p=t(r(d[8])),f=(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=y(o);if(s&&s.has(t))return s.get(t);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(n,c,h):n[c]=t[c]}n.default=t,s&&s.set(t,n);return n})(r(d[9])),_=r(d[10]);function y(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,s=new WeakMap;return(y=function(t){return t?s:o})(t)}function v(t,o){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=C(t))||o&&t&&"number"==typeof t.length){s&&(t=s);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(t,o){if(t){if("string"==typeof t)return L(t,o);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?L(t,o):void 0}}function L(t,o){(null==o||o>t.length)&&(o=t.length);for(var s=0,n=new Array(o);s<o;s++)n[s]=t[s];return n}function b(t){var o=S();return function(){var s,n=(0,p.default)(t);if(o){var l=(0,p.default)(this).constructor;s=Reflect.construct(n,arguments,l)}else s=n.apply(this,arguments);return(0,u.default)(this,s)}}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var I=r(d[11]),R=r(d[12]),M=r(d[13]),w=r(d[14]),x=r(d[15]),k=r(d[16]),E=r(d[17]),T=r(d[18]),z=(r(d[19]),r(d[20])),O=r(d[21]),P=r(d[22]).computeWindowedRenderLimits,F=!1,K='',V=(function(t){(0,h.default)(p,t);var u=b(p);function p(t){var o;(0,n.default)(this,p),(o=u.call(this,t))._getScrollMetrics=function(){return o._scrollMetrics},o._getOutermostParentListRef=function(){return o._isNestedWithSameOrientation()?o.context.getOutermostParentListRef():(0,c.default)(o)},o._getNestedChildState=function(t){var s=o._nestedChildLists.get(t);return s&&s.state},o._registerAsNestedChild=function(t){var n=o._cellKeysToChildListKeys.get(t.cellKey)||new Set;n.add(t.key),o._cellKeysToChildListKeys.set(t.cellKey,n);var l=o._nestedChildLists.get(t.key);l&&null!==l.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list.\n\n"+D((0,s.default)({},t,{horizontal:!!t.ref.props.horizontal}))),o._nestedChildLists.set(t.key,{ref:t.ref,state:null}),o._hasInteracted&&t.ref.recordInteraction()},o._unregisterAsNestedChild=function(t){o._nestedChildLists.set(t.key,{ref:null,state:t.state})},o._onUpdateSeparators=function(t,s){t.forEach(function(t){var n=null!=t&&o._cellRefs[t];n&&n.updateSeparatorProps(s)})},o._averageCellLength=0,o._cellKeysToChildListKeys=new Map,o._cellRefs={},o._frames={},o._footerLength=0,o._hasDoneInitialScroll=!1,o._hasInteracted=!1,o._hasMore=!1,o._hasWarned={},o._headerLength=0,o._hiPriInProgress=!1,o._highestMeasuredFrameIndex=0,o._indicesToKeys=new Map,o._nestedChildLists=new Map,o._offsetFromParentVirtualizedList=0,o._prevParentOffset=0,o._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},o._scrollRef=null,o._sentEndForContentLength=0,o._totalCellLength=0,o._totalCellsMeasured=0,o._viewabilityTuples=[],o._captureScrollRef=function(t){o._scrollRef=t},o._defaultRenderScrollComponent=function(t){var n=t.onRefresh;return o._isNestedWithSameOrientation()?f.createElement(E,t):n?(O('boolean'==typeof t.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(t.refreshing)+'`'),f.createElement(x,(0,s.default)({},t,{refreshControl:null==t.refreshControl?f.createElement(w,{refreshing:t.refreshing,onRefresh:n,progressViewOffset:t.progressViewOffset}):t.refreshControl}))):f.createElement(x,t)},o._onCellUnmount=function(t){var n=o._frames[t];n&&(o._frames[t]=(0,s.default)({},n,{inLayout:!1}))},o._onLayout=function(t){o._isNestedWithSameOrientation()?o.measureLayoutRelativeToContainingList():o._scrollMetrics.visibleLength=o._selectLength(t.nativeEvent.layout),o.props.onLayout&&o.props.onLayout(t),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEndReached()},o._onLayoutEmpty=function(t){o.props.onLayout&&o.props.onLayout(t)},o._onLayoutFooter=function(t){o._triggerRemeasureForChildListsInCell(o._getFooterCellKey()),o._footerLength=o._selectLength(t.nativeEvent.layout)},o._onLayoutHeader=function(t){o._headerLength=o._selectLength(t.nativeEvent.layout)},o._onContentSizeChange=function(t,s){t>0&&s>0&&null!=o.props.initialScrollIndex&&o.props.initialScrollIndex>0&&!o._hasDoneInitialScroll&&(null==o.props.contentOffset&&o.scrollToIndex({animated:!1,index:o.props.initialScrollIndex}),o._hasDoneInitialScroll=!0),o.props.onContentSizeChange&&o.props.onContentSizeChange(t,s),o._scrollMetrics.contentLength=o._selectLength({height:s,width:t}),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEndReached()},o._convertParentScrollMetrics=function(t){var s=t.offset-o._offsetFromParentVirtualizedList,n=t.visibleLength,l=s-o._scrollMetrics.offset;return{visibleLength:n,contentLength:o._scrollMetrics.contentLength,offset:s,dOffset:l}},o._onScroll=function(t){o._nestedChildLists.forEach(function(o){o.ref&&o.ref._onScroll(t)}),o.props.onScroll&&o.props.onScroll(t);var s=t.timeStamp,n=o._selectLength(t.nativeEvent.layoutMeasurement),l=o._selectLength(t.nativeEvent.contentSize),c=o._selectOffset(t.nativeEvent.contentOffset),h=c-o._scrollMetrics.offset;if(o._isNestedWithSameOrientation()){if(0===o._scrollMetrics.contentLength)return;var u=o._convertParentScrollMetrics({visibleLength:n,offset:c});n=u.visibleLength,l=u.contentLength,c=u.offset,h=u.dOffset}var p=o._scrollMetrics.timestamp?Math.max(1,s-o._scrollMetrics.timestamp):1,f=h/p;p>500&&o._scrollMetrics.dt>500&&l>5*n&&!o._hasWarned.perf&&(z("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:p,prevDt:o._scrollMetrics.dt,contentLength:l}),o._hasWarned.perf=!0),o._scrollMetrics={contentLength:l,dt:p,dOffset:h,offset:c,timestamp:s,velocity:f,visibleLength:n},o._updateViewableItems(o.props.data),o.props&&(o._maybeCallOnEndReached(),0!==f&&o._fillRateHelper.activate(),o._computeBlankness(),o._scheduleCellsToRenderUpdate())},o._onScrollBeginDrag=function(t){o._nestedChildLists.forEach(function(o){o.ref&&o.ref._onScrollBeginDrag(t)}),o._viewabilityTuples.forEach(function(t){t.viewabilityHelper.recordInteraction()}),o._hasInteracted=!0,o.props.onScrollBeginDrag&&o.props.onScrollBeginDrag(t)},o._onScrollEndDrag=function(t){var s=t.nativeEvent.velocity;s&&(o._scrollMetrics.velocity=o._selectOffset(s)),o._computeBlankness(),o.props.onScrollEndDrag&&o.props.onScrollEndDrag(t)},o._onMomentumScrollEnd=function(t){o._scrollMetrics.velocity=0,o._computeBlankness(),o.props.onMomentumScrollEnd&&o.props.onMomentumScrollEnd(t)},o._updateCellsToRender=function(){var t=o.props,s=t.data,n=t.getItemCount,l=t.onEndReachedThreshold,c=o._isVirtualizationDisabled();o._updateViewableItems(s),s&&o.setState(function(t){var h,u=o._scrollMetrics,p=u.contentLength,f=u.offset,_=u.visibleLength;if(c){var y=p-_-f<l*_?o.props.maxToRenderPerBatch:0;h={first:0,last:Math.min(t.last+y,n(s)-1)}}else _>0&&p>0&&(o.props.initialScrollIndex&&!o._scrollMetrics.offset||(h=P(o.props,t,o._getFrameMetricsApprox,o._scrollMetrics)));if(h&&o._nestedChildLists.size>0)for(var C=h.first,L=h.last,b=C;b<=L;b++){var S=o._indicesToKeys.get(b),I=S&&o._cellKeysToChildListKeys.get(S);if(I){for(var R,M=!1,w=v(I);!(R=w()).done;){var x=R.value,k=o._nestedChildLists.get(x);if(k&&k.ref&&k.ref.hasMore()){M=!0;break}}if(M){h.last=b;break}}}return null!=h&&h.first===t.first&&h.last===t.last&&(h=null),h})},o._createViewToken=function(t,s){var n=o.props,l=n.data,c=n.getItem,h=n.keyExtractor,u=c(l,t);return{index:t,item:u,key:h(u,t),isViewable:s}},o._getFrameMetricsApprox=function(t){var s=o._getFrameMetrics(t);if(s&&s.index===t)return s;var n=o.props.getItemLayout;return O(!n,'Should not have to estimate frames when a measurement metrics function is provided'),{length:o._averageCellLength,offset:o._averageCellLength*t}},o._getFrameMetrics=function(t){var s=o.props,n=s.data,l=s.getItem,c=s.getItemCount,h=s.getItemLayout,u=s.keyExtractor;O(c(n)>t,'Tried to get frame for out of range index '+t);var p=l(n,t),f=p&&o._frames[u(p,t)];return f&&f.index===t||h&&(f=h(n,t)),f},O(!t.onScroll||!t.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),O(t.windowSize>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),o._fillRateHelper=new R(o._getFrameMetrics),o._updateCellsToRenderBatcher=new I(o._updateCellsToRender,o.props.updateCellsBatchingPeriod),o.props.viewabilityConfigCallbackPairs?o._viewabilityTuples=o.props.viewabilityConfigCallbackPairs.map(function(t){return{viewabilityHelper:new T(t.viewabilityConfig),onViewableItemsChanged:t.onViewableItemsChanged}}):o.props.onViewableItemsChanged&&o._viewabilityTuples.push({viewabilityHelper:new T(o.props.viewabilityConfig),onViewableItemsChanged:o.props.onViewableItemsChanged});var l={first:o.props.initialScrollIndex||0,last:Math.min(o.props.getItemCount(o.props.data),(o.props.initialScrollIndex||0)+o.props.initialNumToRender)-1};if(o._isNestedWithSameOrientation()){var h=o.context.getNestedChildState(o._getListKey());h&&(l=h,o.state=h,o._frames=h.frames)}return o.state=l,o}return(0,l.default)(p,[{key:"scrollToEnd",value:function(t){var o=!t||t.animated,s=this.props.getItemCount(this.props.data)-1,n=this._getFrameMetricsApprox(s),l=Math.max(0,n.offset+n.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(this.props.horizontal?{x:l,animated:o}:{y:l,animated:o}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToIndex",value:function(t){var o=this.props,s=o.data,n=o.horizontal,l=o.getItemCount,c=o.getItemLayout,h=o.onScrollToIndexFailed,u=t.animated,p=t.index,f=t.viewOffset,_=t.viewPosition;if(O(p>=0,"scrollToIndex out of range: requested index "+p+" but minimum is 0"),O(l(s)>=1,"scrollToIndex out of range: item length "+l(s)+" but minimum is 1"),O(p<l(s),"scrollToIndex out of range: requested index "+p+" is out of 0 to "+(l(s)-1)),!c&&p>this._highestMeasuredFrameIndex)return O(!!h,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void h({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:p});var y=this._getFrameMetricsApprox(p),v=Math.max(0,y.offset-(_||0)*(this._scrollMetrics.visibleLength-y.length))-(f||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(n?{x:v,animated:u}:{y:v,animated:u}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToItem",value:function(t){for(var o=t.item,n=this.props,l=n.data,c=n.getItem,h=(0,n.getItemCount)(l),u=0;u<h;u++)if(c(l,u)===o){this.scrollToIndex((0,s.default)({},t,{index:u}));break}}},{key:"scrollToOffset",value:function(t){var o=t.animated,s=t.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(this.props.horizontal?{x:s,animated:o}:{y:s,animated:o}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach(function(t){t.ref&&t.ref.recordInteraction()}),this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props.data)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():M.findNodeHandle(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(t){this._scrollRef&&this._scrollRef.setNativeProps(t)}},{key:"_getCellKey",value:function(){var t;return(null==(t=this.context)?void 0:t.cellKey)||'rootList'}},{key:"_getListKey",value:function(){return this.props.listKey||this._getCellKey()}},{key:"_getDebugInfo",value:function(){var t;return{listKey:this._getListKey(),cellKey:this._getCellKey(),horizontal:!!this.props.horizontal,parent:null==(t=this.context)?void 0:t.debugInfo}}},{key:"hasMore",value:function(){return this._hasMore}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({cellKey:this._getCellKey(),key:this._getListKey(),ref:this,parentDebugInfo:this.context.debugInfo})}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({key:this._getListKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()}},{key:"_pushCells",value:function(t,o,s,n,l,c){var h,u=this,p=this.props,_=p.CellRendererComponent,y=p.ItemSeparatorComponent,v=p.data,C=p.getItem,L=p.getItemCount,b=p.horizontal,S=p.keyExtractor,I=this.props.ListHeaderComponent?1:0,R=L(v)-1;l=Math.min(R,l);for(var M=function(n){var l=C(v,n),p=S(l,n);u._indicesToKeys.set(n,p),s.has(n+I)&&o.push(t.length),t.push(f.createElement(N,{CellRendererComponent:_,ItemSeparatorComponent:n<R?y:void 0,cellKey:p,fillRateHelper:u._fillRateHelper,horizontal:b,index:n,inversionStyle:c,item:l,key:p,prevCellKey:h,onUpdateSeparators:u._onUpdateSeparators,onLayout:function(t){return u._onCellLayout(t,p,n)},onUnmount:u._onCellUnmount,parentProps:u.props,ref:function(t){u._cellRefs[p]=t}})),h=p},w=n;w<=l;w++)M(w)}},{key:"_isVirtualizationDisabled",value:function(){return this.props.disableVirtualization||!1}},{key:"_isNestedWithSameOrientation",value:function(){var t=this.context;return!(!t||!!t.horizontal!=!!this.props.horizontal)}},{key:"render",value:function(){var t=this,n=this.props,l=n.ListEmptyComponent,c=n.ListFooterComponent,h=n.ListHeaderComponent,u=this.props,p=u.data,y=u.horizontal,v=this._isVirtualizationDisabled(),C=this.props.inverted?this.props.horizontal?A.horizontallyInverted:A.verticallyInverted:null,L=[],b=new Set(this.props.stickyHeaderIndices),S=[];if(h){b.has(0)&&S.push(0);var I=f.isValidElement(h)?h:f.createElement(h,null);L.push(f.createElement(_.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',key:"$header"},f.createElement(E,{onLayout:this._onLayoutHeader,style:k.compose(C,this.props.ListHeaderComponentStyle)},I)))}var R=this.props.getItemCount(p);if(R>0){F=!1,K='';var M=y?'width':'height',w=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1,x=this.state,T=x.first,z=x.last;this._pushCells(L,S,b,0,w,C);var O=Math.max(w+1,T);if(!v&&T>w+1){var P=!1;if(b.size>0)for(var V=h?1:0,N=O-1;N>w;N--)if(b.has(N+V)){var D=this._getFrameMetricsApprox(w),B=this._getFrameMetricsApprox(N),H=B.offset-D.offset-(this.props.initialScrollIndex?0:D.length);L.push(f.createElement(E,{key:"$sticky_lead",style:(0,o.default)({},M,H)})),this._pushCells(L,S,b,N,N,C);var U=this._getFrameMetricsApprox(T).offset-(B.offset+B.length);L.push(f.createElement(E,{key:"$sticky_trail",style:(0,o.default)({},M,U)})),P=!0;break}if(!P){var W=this._getFrameMetricsApprox(w),j=this._getFrameMetricsApprox(T).offset-(W.offset+W.length);L.push(f.createElement(E,{key:"$lead_spacer",style:(0,o.default)({},M,j)}))}}if(this._pushCells(L,S,b,O,z,C),!this._hasWarned.keys&&F&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",K),this._hasWarned.keys=!0),!v&&z<R-1){var $=this._getFrameMetricsApprox(z),q=this.props.getItemLayout?R-1:Math.min(R-1,this._highestMeasuredFrameIndex),Y=this._getFrameMetricsApprox(q),J=Y.offset+Y.length-($.offset+$.length);L.push(f.createElement(E,{key:"$tail_spacer",style:(0,o.default)({},M,J)}))}}else if(l){var X=f.isValidElement(l)?l:f.createElement(l,null);L.push(f.cloneElement(X,{key:'$empty',onLayout:function(o){t._onLayoutEmpty(o),X.props.onLayout&&X.props.onLayout(o)},style:k.compose(C,X.props.style)}))}if(c){var G=f.isValidElement(c)?c:f.createElement(c,null);L.push(f.createElement(_.VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),key:"$footer"},f.createElement(E,{onLayout:this._onLayoutFooter,style:k.compose(C,this.props.ListFooterComponentStyle)},G)))}var Q=(0,s.default)({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:S,style:C?[C,this.props.style]:this.props.style});this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var Z=f.createElement(_.VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild,debugInfo:this._getDebugInfo()}},f.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(Q),{ref:this._captureScrollRef},L));return this.props.debug?f.createElement(E,{style:A.debug},Z,this._renderDebugOverlay()):Z}},{key:"componentDidUpdate",value:function(t){var o=this.props,s=o.data,n=o.extraData;s===t.data&&n===t.extraData||this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.resetViewableIndices()});var l=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),l&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)}},{key:"_onCellLayout",value:function(t,o,s){var n=t.nativeEvent.layout,l={offset:this._selectOffset(n),length:this._selectLength(n),index:s,inLayout:!0},c=this._frames[o];c&&l.offset===c.offset&&l.length===c.length&&s===c.index?this._frames[o].inLayout=!0:(this._totalCellLength+=l.length-(c?c.length:0),this._totalCellsMeasured+=c?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[o]=l,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,s),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(o),this._computeBlankness(),this._updateViewableItems(this.props.data)}},{key:"_triggerRemeasureForChildListsInCell",value:function(t){var o=this._cellKeysToChildListKeys.get(t);if(o)for(var s,n=v(o);!(s=n()).done;){var l=s.value,c=this._nestedChildLists.get(l);c&&c.ref&&c.ref.measureLayoutRelativeToContainingList()}}},{key:"measureLayoutRelativeToContainingList",value:function(){var t=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),function(o,s,n,l){t._offsetFromParentVirtualizedList=t._selectOffset({x:o,y:s}),t._scrollMetrics.contentLength=t._selectLength({width:n,height:l});var c=t._convertParentScrollMetrics(t.context.getScrollMetrics());t._scrollMetrics.visibleLength=c.visibleLength,t._scrollMetrics.offset=c.offset},function(t){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(t){console.warn('measureLayoutRelativeToContainingList threw an error',t.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+'-footer'}},{key:"_renderDebugOverlay",value:function(){for(var t=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),o=[],s=this.props.getItemCount(this.props.data),n=0;n<s;n++){var l=this._getFrameMetricsApprox(n);l.inLayout&&o.push(l)}var c=this._getFrameMetricsApprox(this.state.first).offset,h=this._getFrameMetricsApprox(this.state.last),u=h.offset+h.length-c,p=this._scrollMetrics.offset,_=this._scrollMetrics.visibleLength;return f.createElement(E,{style:[A.debugOverlayBase,A.debugOverlay]},o.map(function(o,s){return f.createElement(E,{key:'f'+s,style:[A.debugOverlayBase,A.debugOverlayFrame,{top:o.offset*t,height:o.length*t}]})}),f.createElement(E,{style:[A.debugOverlayBase,A.debugOverlayFrameLast,{top:c*t,height:u*t}]}),f.createElement(E,{style:[A.debugOverlayBase,A.debugOverlayFrameVis,{top:p*t,height:_*t}]}))}},{key:"_selectLength",value:function(t){return this.props.horizontal?t.width:t.height}},{key:"_selectOffset",value:function(t){return this.props.horizontal?t.x:t.y}},{key:"_maybeCallOnEndReached",value:function(){var t=this.props,o=t.data,s=t.getItemCount,n=t.onEndReached,l=t.onEndReachedThreshold,c=this._scrollMetrics,h=c.contentLength,u=c.visibleLength,p=h-u-c.offset,f=l?l*u:2;n&&this.state.last===s(o)-1&&p<f&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,n({distanceFromEnd:p})):p>f&&(this._sentEndForContentLength=0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var t=this.state,o=t.first,s=t.last,n=this._scrollMetrics,l=n.offset,c=n.visibleLength,h=n.velocity,u=this.props.getItemCount(this.props.data),p=!1,f=this.props.onEndReachedThreshold*c/2;if(o>0){var _=l-this._getFrameMetricsApprox(o).offset;p=p||_<0||h<-2&&_<f}if(s<u-1){var y=this._getFrameMetricsApprox(s).offset-(l+c);p=p||y<0||h>2&&y<f}if(p&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(t){var o=this,s=this.props.getItemCount;this._viewabilityTuples.forEach(function(n){n.viewabilityHelper.onUpdate(s(t),o._scrollMetrics.offset,o._scrollMetrics.visibleLength,o._getFrameMetrics,o._createViewToken,n.onViewableItemsChanged,o.state)})}}],[{key:"getDerivedStateFromProps",value:function(t,o){var s=t.data,n=t.getItemCount,l=t.maxToRenderPerBatch;return{first:Math.max(0,Math.min(o.first,n(s)-1-l)),last:Math.max(0,Math.min(o.last,n(s)-1))}}}]),p})(f.PureComponent);V.contextType=_.VirtualizedListContext,V.defaultProps={disableVirtualization:!1,horizontal:!1,initialNumToRender:10,keyExtractor:function(t,o){return null!=t.key?t.key:null!=t.id?t.id:(F=!0,t.type&&t.type.displayName&&(K=t.type.displayName),String(o))},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21};var N=(function(t){(0,h.default)(c,t);var o=b(c);function c(){var t;(0,n.default)(this,c);for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return(t=o.call.apply(o,[this].concat(l))).state={separatorProps:{highlighted:!1,leadingItem:t.props.item}},t._separators={highlight:function(){var o=t.props,s=o.cellKey,n=o.prevCellKey;t.props.onUpdateSeparators([s,n],{highlighted:!0})},unhighlight:function(){var o=t.props,s=o.cellKey,n=o.prevCellKey;t.props.onUpdateSeparators([s,n],{highlighted:!1})},updateProps:function(o,s){var n=t.props,l=n.cellKey,c=n.prevCellKey;t.props.onUpdateSeparators(['leading'===o?c:l],s)}},t}return(0,l.default)(c,[{key:"updateSeparatorProps",value:function(t){this.setState(function(o){return{separatorProps:(0,s.default)({},o.separatorProps,t)}})}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(t,o,s,n){return t&&o&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),o?f.createElement(o,{item:s,index:n,separators:this._separators}):t?t({item:s,index:n,separators:this._separators}):void O(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}},{key:"render",value:function(){var t=this.props,o=t.CellRendererComponent,n=t.ItemSeparatorComponent,l=t.fillRateHelper,c=t.horizontal,h=t.item,u=t.index,p=t.inversionStyle,y=t.parentProps,v=y.renderItem,C=y.getItemLayout,L=y.ListItemComponent,b=this._renderElement(v,L,h,u),S=!C||y.debug||l.enabled()?this.props.onLayout:void 0,I=n&&f.createElement(n,this.state.separatorProps),R=p?c?[A.rowReverse,p]:[A.columnReverse,p]:c?[A.row,p]:p,M=o?f.createElement(o,(0,s.default)({},this.props,{style:R,onLayout:S}),b,I):f.createElement(E,{style:R,onLayout:S},b,I);return f.createElement(_.VirtualizedListCellContextProvider,{cellKey:this.props.cellKey},M)}}],[{key:"getDerivedStateFromProps",value:function(t,o){return{separatorProps:(0,s.default)({},o.separatorProps,{leadingItem:t.item})}}}]),c})(f.Component);function D(t){for(var o="VirtualizedList trace:\n  Child ("+(t.horizontal?'horizontal':'vertical')+"):\n    listKey: "+t.key+"\n    cellKey: "+t.cellKey,s=t.parentDebugInfo;s;)o+="\n  Parent ("+(s.horizontal?'horizontal':'vertical')+"):\n    listKey: "+s.listKey+"\n    cellKey: "+s.cellKey,s=s.parent;return o}var A=k.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});m.exports=V},254,[2,253,32,12,13,23,20,22,19,55,255,256,257,91,258,261,58,88,279,87,129,8,280]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualizedListCellContextProvider=function(t){var o=t.cellKey,s=t.children,c=(0,l.useContext)(u);return l.createElement(u.Provider,{value:null==c?null:(0,n.default)({},c,{cellKey:o})},s)},e.VirtualizedListContext=void 0,e.VirtualizedListContextProvider=function(t){var n=t.children,o=t.value,s=(0,l.useMemo)(function(){return{cellKey:null,getScrollMetrics:o.getScrollMetrics,horizontal:o.horizontal,getOutermostParentListRef:o.getOutermostParentListRef,getNestedChildState:o.getNestedChildState,registerAsNestedChild:o.registerAsNestedChild,unregisterAsNestedChild:o.unregisterAsNestedChild,debugInfo:{cellKey:o.debugInfo.cellKey,horizontal:o.debugInfo.horizontal,listKey:o.debugInfo.listKey,parent:o.debugInfo.parent}}},[o.getScrollMetrics,o.horizontal,o.getOutermostParentListRef,o.getNestedChildState,o.registerAsNestedChild,o.unregisterAsNestedChild,o.debugInfo.cellKey,o.debugInfo.horizontal,o.debugInfo.listKey,o.debugInfo.parent]);return l.createElement(u.Provider,{value:s},n)},e.VirtualizedListContextResetter=function(t){var n=t.children;return l.createElement(u.Provider,{value:null},n)};var n=t(r(d[1])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var l=o(n);if(l&&l.has(t))return l.get(t);var u={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var f=s?Object.getOwnPropertyDescriptor(t,c):null;f&&(f.get||f.set)?Object.defineProperty(u,c,f):u[c]=t[c]}u.default=t,l&&l.set(t,u);return u})(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,l=new WeakMap;return(o=function(t){return t?l:n})(t)}var u=l.createContext(null);e.VirtualizedListContext=u},255,[2,32,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),l=r(d[2]),s=(function(){function s(n,l){t(this,s),this._delay=l,this._callback=n}return n(s,[{key:"dispose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{abort:!1};this._taskHandle&&(this._taskHandle.cancel(),t.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var t=this;if(!this._taskHandle){var n=setTimeout(function(){t._taskHandle=l.runAfterInteractions(function(){t._taskHandle=null,t._callback()})},this._delay);this._taskHandle={cancel:function(){return clearTimeout(n)}}}}}]),s})();m.exports=s},256,[12,13,228]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),l=n(function t(){s(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}),_=[],o=10,h=null,u=(function(){function u(t){s(this,u),this._anyBlankStartTime=null,this._enabled=!1,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(h||0)>Math.random(),this._resetData()}return n(u,[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var n=this._samplesStartTime;if(null!=n)if(this._info.sample_count<o)this._resetData();else{var s=g.performance.now()-n,l=t({},this._info,{total_time_spent:s});_.forEach(function(t){return t(l)}),this._resetData()}}}},{key:"computeBlankness",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var l=s.dOffset,_=s.offset,o=s.velocity,h=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(l));var u=Math.round(1e3*Math.abs(o)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,k=n.first,y=this._getFrameMetrics(k);k<=n.last&&(!y||!y.inLayout);)y=this._getFrameMetrics(k),k++;y&&k>0&&(c=Math.min(h,Math.max(0,y.offset-_)));for(var p=0,b=n.last,v=this._getFrameMetrics(b);b>=n.first&&(!v||!v.inLayout);)v=this._getFrameMetrics(b),b--;if(v&&b<t.getItemCount(t.data)-1){var S=v.offset+v.length;p=Math.min(h,Math.max(0,_+h-S))}var M=Math.round(c+p),T=M/h;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=M,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),_.push(t),{remove:function(){_=_.filter(function(n){return t!==n})}}}},{key:"setSampleRate",value:function(t){h=t}},{key:"setMinSampleCount",value:function(t){o=t}}]),u})();m.exports=u},257,[32,13,12]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),u=t(r(d[5])),c=t(r(d[6])),l=t(r(d[7])),p=(R(r(d[8])),R(r(d[9]))),h=["enabled","colors","progressBackgroundColor","size","progressViewOffset"];function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(v=function(t){return t?s:n})(t)}function R(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=v(n);if(s&&s.has(t))return s.get(t);var o={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var c=f?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=t[u]}return o.default=t,s&&s.set(t,o),o}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[10]);var _,O=r(d[11]);_={SIZE:{}};var N=(function(t){(0,u.default)(N,t);var v,R,_=(v=N,R=y(),function(){var t,n=(0,l.default)(v);if(R){var s=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function N(){var t;(0,o.default)(this,N);for(var n=arguments.length,s=new Array(n),f=0;f<n;f++)s[f]=arguments[f];return(t=_.call.apply(_,[this].concat(s)))._lastNativeRefreshing=!1,t._onRefresh=function(){t._lastNativeRefreshing=!0,t.props.onRefresh&&t.props.onRefresh(),t.forceUpdate()},t._setNativeRef=function(n){t._nativeRef=n},t}return(0,f.default)(N,[{key:"componentDidMount",value:function(){this._lastNativeRefreshing=this.props.refreshing}},{key:"componentDidUpdate",value:function(t){this.props.refreshing!==t.refreshing?this._lastNativeRefreshing=this.props.refreshing:this.props.refreshing!==this._lastNativeRefreshing&&this._nativeRef&&(p.Commands.setNativeRefreshing(this._nativeRef,this.props.refreshing),this._lastNativeRefreshing=this.props.refreshing)}},{key:"render",value:function(){var t=this.props,o=(t.enabled,t.colors,t.progressBackgroundColor,t.size,t.progressViewOffset,(0,s.default)(t,h));return O.createElement(p.default,(0,n.default)({},o,{ref:this._setNativeRef,onRefresh:this._onRefresh}))}}]),N})(O.Component);N.SIZE=_.SIZE,m.exports=N},258,[2,32,51,12,13,20,22,19,259,260,53,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=p?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(f,l,c):f[l]=t[l]}f.default=t,o&&o.set(t,f)})(r(d[1]));var n=t(r(d[2])),o=t(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f=(0,n.default)({supportedCommands:['setNativeRefreshing']});e.Commands=f;var p=(0,o.default)('AndroidSwipeRefreshLayout');e.default=p},259,[2,55,90,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=o(n);if(f&&f.has(t))return f.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var s=l?Object.getOwnPropertyDescriptor(t,p):null;s&&(s.get||s.set)?Object.defineProperty(u,p,s):u[p]=t[p]}u.default=t,f&&f.set(t,u)})(r(d[1]));var n=t(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(o=function(t){return t?f:n})(t)}var f=(0,t(r(d[3])).default)({supportedCommands:['setNativeRefreshing']});e.Commands=f;var u=(0,n.default)('PullToRefreshView',{paperComponentName:'RCTRefreshControl',excludedPlatforms:['android']});e.default=u},260,[2,55,195,90]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,o,l,s,c=r(d[0]),u=c(r(d[1])),p=c(r(d[2])),f=c(r(d[3])),h=c(r(d[4])),R=c(r(d[5])),y=c(r(d[6])),v=c(r(d[7])),S=c(r(d[8])),_=c(r(d[9])),w=j(r(d[10])),H=c(r(d[11])),V=c(r(d[12])),k=c(r(d[13])),T=c(r(d[14])),E=c(r(d[15])),A=c(r(d[16])),x=c(r(d[17])),I=c(r(d[18])),C=c(r(d[19])),b=c(r(d[20])),M=c(r(d[21])),N=c(r(d[22])),O=j(r(d[23])),L=c(r(d[24])),z=c(r(d[25])),B=c(r(d[26])),D=c(r(d[27]));function F(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(F=function(t){return t?o:n})(t)}function j(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=F(n);if(o&&o.has(t))return o.get(t);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var u=s?Object.getOwnPropertyDescriptor(t,c):null;u&&(u.get||u.set)?Object.defineProperty(l,c,u):l[c]=t[c]}return l.default=t,o&&o.set(t,l),l}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function P(t){var n=(0,v.default)({},V.default.Mixin);for(var o in n)'function'==typeof n[o]&&(n[o]=n[o].bind(t));return n}r(d[11]),'android'===_.default.OS?(t=L.default,o=B.default,n=D.default):(l=L.default,s=z.default);var U=(function(c){(0,h.default)(B,c);var T,L,z=(T=B,L=W(),function(){var t,n=(0,y.default)(T);if(L){var o=(0,y.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,R.default)(this,t)});function B(t){var n;for(var o in(0,u.default)(this,B),(n=z.call(this,t))._scrollResponder=P((0,f.default)(n)),n._scrollAnimatedValue=new S.default.Value(0),n._scrollAnimatedValueAttachment=null,n._stickyHeaderRefs=new Map,n._headerLayoutYs=new Map,n.state=(0,v.default)({layoutHeight:null},V.default.Mixin.scrollResponderMixinGetInitialState()),n._setNativeRef=(0,N.default)({getForwardedRef:function(){return n.props.scrollViewRef},setLocalRef:function(t){n._scrollViewRef=t,t&&(t.getScrollResponder=n.getScrollResponder,t.getScrollableNode=n.getScrollableNode,t.getInnerViewNode=n.getInnerViewNode,t.getInnerViewRef=n.getInnerViewRef,t.getNativeScrollRef=n.getNativeScrollRef,t.scrollTo=n.scrollTo,t.scrollToEnd=n.scrollToEnd,t.flashScrollIndicators=n.flashScrollIndicators,t.scrollResponderZoomTo=n.scrollResponderZoomTo,t.scrollResponderScrollNativeHandleToKeyboard=n.scrollResponderScrollNativeHandleToKeyboard)}}),n.getScrollResponder=function(){return(0,f.default)(n)},n.getScrollableNode=function(){return H.default.findNodeHandle(n._scrollViewRef)},n.getNativeScrollRef=function(){return n._scrollViewRef},n.scrollTo=function(t,o,l){var s,c,u;'number'==typeof t?(console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead."),c=t,s=o,u=l):t&&(c=t.y,s=t.x,u=t.animated),n._scrollResponder.scrollResponderScrollTo({x:s||0,y:c||0,animated:!1!==u})},n.scrollToEnd=function(t){var o=!1!==(t&&t.animated);n._scrollResponder.scrollResponderScrollToEnd({animated:o})},n.flashScrollIndicators=function(){n._scrollResponder.scrollResponderFlashScrollIndicators()},n._handleScroll=function(t){'android'===_.default.OS&&'on-drag'===n.props.keyboardDismissMode&&n.state.isTouching&&(0,A.default)(),n._scrollResponder.scrollResponderHandleScroll(t)},n._handleLayout=function(t){!0===n.props.invertStickyHeaders&&n.setState({layoutHeight:t.nativeEvent.layout.height}),n.props.onLayout&&n.props.onLayout(t)},n._handleContentOnLayout=function(t){var o=t.nativeEvent.layout,l=o.width,s=o.height;n.props.onContentSizeChange&&n.props.onContentSizeChange(l,s)},n._scrollViewRef=null,n._innerViewRef=null,n._setInnerViewRef=(0,N.default)({getForwardedRef:function(){return n.props.innerViewRef},setLocalRef:function(t){n._innerViewRef=t}}),V.default.Mixin)'function'==typeof V.default.Mixin[o]&&o.startsWith('scrollResponder')&&((0,f.default)(n)[o]=V.default.Mixin[o].bind((0,f.default)(n)));return Object.keys(V.default.Mixin).filter(function(t){return'function'!=typeof V.default.Mixin[t]}).forEach(function(t){(0,f.default)(n)[t]=V.default.Mixin[t]}),n}return(0,p.default)(B,[{key:"UNSAFE_componentWillMount",value:function(){var t,n,o,l;this._scrollResponder.UNSAFE_componentWillMount(),this._scrollAnimatedValue=new S.default.Value(null!=(t=null==(n=this.props.contentOffset)?void 0:n.y)?t:0),this._scrollAnimatedValue.setOffset(null!=(o=null==(l=this.props.contentInset)?void 0:l.top)?o:0),this._stickyHeaderRefs=new Map,this._headerLayoutYs=new Map}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=this.props.contentInset?this.props.contentInset.top:0,o=t.contentInset?t.contentInset.top:0;n!==o&&this._scrollAnimatedValue.setOffset(o||0)}},{key:"componentDidMount",value:function(){this._updateAnimatedNodeAttachment()}},{key:"componentDidUpdate",value:function(){this._updateAnimatedNodeAttachment()}},{key:"componentWillUnmount",value:function(){this._scrollResponder.componentWillUnmount(),this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach()}},{key:"getInnerViewNode",value:function(){return H.default.findNodeHandle(this._innerViewRef)}},{key:"getInnerViewRef",value:function(){return this._innerViewRef}},{key:"_getKeyForIndex",value:function(t,n){var o=n[t];return o&&o.key}},{key:"_updateAnimatedNodeAttachment",value:function(){this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach(),this.props.stickyHeaderIndices&&this.props.stickyHeaderIndices.length>0&&(this._scrollAnimatedValueAttachment=S.default.attachNativeEvent(this._scrollViewRef,'onScroll',[{nativeEvent:{contentOffset:{y:this._scrollAnimatedValue}}}]))}},{key:"_setStickyHeaderRef",value:function(t,n){n?this._stickyHeaderRefs.set(t,n):this._stickyHeaderRefs.delete(t)}},{key:"_onStickyHeaderLayout",value:function(t,n,o){var l=this.props.stickyHeaderIndices;if(l){var s=w.Children.toArray(this.props.children);if(o===this._getKeyForIndex(t,s)){var c=n.nativeEvent.layout.y;this._headerLayoutYs.set(o,c);var u=l[l.indexOf(t)-1];if(null!=u){var p=this._stickyHeaderRefs.get(this._getKeyForIndex(u,s));p&&p.setNextHeaderY&&p.setNextHeaderY(c)}}}}},{key:"render",value:function(){var c,u,p=this;'android'===_.default.OS?!0===this.props.horizontal?(c=o,u=n):(c=t,u=E.default):(c=l,u=s),(0,I.default)(void 0!==c,'ScrollViewClass must not be undefined'),(0,I.default)(void 0!==u,'ScrollContentContainerViewClass must not be undefined');var f=[!0===this.props.horizontal&&Y.contentContainerHorizontal,this.props.contentContainerStyle],h={};this.props.onContentSizeChange&&(h={onLayout:this._handleContentOnLayout});var R=this.props.stickyHeaderIndices,y=this.props.children;if(null!=R&&R.length>0){var S=w.Children.toArray(this.props.children);y=S.map(function(t,n){var o=t?R.indexOf(n):-1;if(o>-1){var l=t.key,s=R[o+1],c=p.props.StickyHeaderComponent||k.default;return w.createElement(c,{key:l,nativeID:'StickyHeader-'+l,ref:function(t){return p._setStickyHeaderRef(l,t)},nextHeaderLayoutY:p._headerLayoutYs.get(p._getKeyForIndex(s,S)),onLayout:function(t){return p._onStickyHeaderLayout(n,t,l)},scrollAnimatedValue:p._scrollAnimatedValue,inverted:p.props.invertStickyHeaders,scrollViewHeight:p.state.layoutHeight},t)}return t})}y=w.createElement(O.default.Provider,{value:!0===this.props.horizontal?O.HORIZONTAL:O.VERTICAL},y);var H=Array.isArray(R)&&R.length>0,V=w.createElement(u,(0,v.default)({},h,{ref:this._setInnerViewRef,style:f,removeClippedSubviews:('android'!==_.default.OS||!H)&&this.props.removeClippedSubviews,collapsable:!1}),y),T=void 0!==this.props.alwaysBounceHorizontal?this.props.alwaysBounceHorizontal:this.props.horizontal,A=void 0!==this.props.alwaysBounceVertical?this.props.alwaysBounceVertical:!this.props.horizontal,N=!0===this.props.horizontal?Y.baseHorizontal:Y.baseVertical,L=(0,v.default)({},this.props,{alwaysBounceHorizontal:T,alwaysBounceVertical:A,style:[N,this.props.style],onContentSizeChange:null,onLayout:this._handleLayout,onMomentumScrollBegin:this._scrollResponder.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this._scrollResponder.scrollResponderHandleMomentumScrollEnd,onResponderGrant:this._scrollResponder.scrollResponderHandleResponderGrant,onResponderReject:this._scrollResponder.scrollResponderHandleResponderReject,onResponderRelease:this._scrollResponder.scrollResponderHandleResponderRelease,onResponderTerminationRequest:this._scrollResponder.scrollResponderHandleTerminationRequest,onScrollBeginDrag:this._scrollResponder.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this._scrollResponder.scrollResponderHandleScrollEndDrag,onScrollShouldSetResponder:this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,onStartShouldSetResponder:this._scrollResponder.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,onTouchEnd:this._scrollResponder.scrollResponderHandleTouchEnd,onTouchMove:this._scrollResponder.scrollResponderHandleTouchMove,onTouchStart:this._scrollResponder.scrollResponderHandleTouchStart,onTouchCancel:this._scrollResponder.scrollResponderHandleTouchCancel,onScroll:this._handleScroll,scrollBarThumbImage:(0,b.default)(this.props.scrollBarThumbImage),scrollEventThrottle:H?1:this.props.scrollEventThrottle,sendMomentumEvents:!(!this.props.onMomentumScrollBegin&&!this.props.onMomentumScrollEnd),snapToStart:!1!==this.props.snapToStart,snapToEnd:!1!==this.props.snapToEnd,pagingEnabled:_.default.select({ios:!0===this.props.pagingEnabled&&null==this.props.snapToInterval&&null==this.props.snapToOffsets,android:!0===this.props.pagingEnabled||null!=this.props.snapToInterval||null!=this.props.snapToOffsets})}),z=this.props.decelerationRate;null!=z&&(L.decelerationRate=(0,C.default)(z));var B=this.props.refreshControl;if(B){if('ios'===_.default.OS)return w.createElement(c,(0,v.default)({},L,{ref:this._setNativeRef}),B,V);if('android'===_.default.OS){var D=(0,M.default)((0,x.default)(L.style)),F=D.outer,j=D.inner;return w.cloneElement(B,{style:[N,F]},w.createElement(c,(0,v.default)({},L,{style:[N,j],ref:this._setNativeRef}),V))}}return w.createElement(c,(0,v.default)({},L,{ref:this._setNativeRef}),V)}}]),B})(w.Component);U.Context=O.default;var Y=T.default.create({baseVertical:{flexGrow:1,flexShrink:1,flexDirection:'column',overflow:'scroll'},baseHorizontal:{flexGrow:1,flexShrink:1,flexDirection:'row',overflow:'scroll'},contentContainerHorizontal:{flexDirection:'row'}});function K(t,n){return w.createElement(U,(0,v.default)({},t,{scrollViewRef:n}))}K.displayName='ScrollView';var G=w.forwardRef(K);G.Context=O.default,G.displayName='ScrollView',m.exports=G},261,[2,12,13,23,20,22,19,32,230,53,55,91,262,270,58,88,268,87,8,271,177,272,250,273,274,276,277,278]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0])(r(d[1])),s=r(d[2]),l=r(d[3]),n=r(d[4]),t=(r(d[5]),r(d[6]),r(d[7])),c=r(d[8]),p=r(d[9]),u=r(d[10]),h={Mixin:{_subscriptionKeyboardWillShow:null,_subscriptionKeyboardWillHide:null,_subscriptionKeyboardDidShow:null,_subscriptionKeyboardDidHide:null,scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return!0!==this.props.disableScrollViewPanResponder&&this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(o){if(!0===this.props.disableScrollViewPanResponder)return!1;var s=c.currentlyFocusedInput();return!('handled'!==this.props.keyboardShouldPersistTaps||!this.scrollResponderKeyboardIsDismissible()||o.target===s)},scrollResponderHandleStartShouldSetResponderCapture:function(o){if(this.scrollResponderIsAnimating())return!0;if(!0===this.props.disableScrollViewPanResponder)return!1;var s=this.props.keyboardShouldPersistTaps,l=!s||'never'===s;return'number'!=typeof o.target&&!(!l||!this.scrollResponderKeyboardIsDismissible()||null==o.target||c.isTextInput(o.target))},scrollResponderKeyboardIsDismissible:function(){var o=c.currentlyFocusedInput(),s=null!=o&&c.isTextInput(o),l=null!=this.keyboardWillOpenTo||!1;return s&&l},scrollResponderHandleResponderReject:function(){},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(o){var s=o.nativeEvent;this.state.isTouching=0!==s.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(o)},scrollResponderHandleTouchCancel:function(o){this.state.isTouching=!1,this.props.onTouchCancel&&this.props.onTouchCancel(o)},scrollResponderHandleResponderRelease:function(o){if(this.props.onResponderRelease&&this.props.onResponderRelease(o),'number'!=typeof o.target){var s=c.currentlyFocusedInput();!0===this.props.keyboardShouldPersistTaps||'always'===this.props.keyboardShouldPersistTaps||!this.scrollResponderKeyboardIsDismissible()||o.target===s||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(o),c.blurTextInput(s))}},scrollResponderHandleScroll:function(o){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(o)},scrollResponderHandleResponderGrant:function(o){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(o),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(o){l.beginScroll(),this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(o)},scrollResponderHandleScrollEndDrag:function(o){var s=o.nativeEvent.velocity;this.scrollResponderIsAnimating()||s&&(0!==s.x||0!==s.y)||l.endScroll(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(o)},scrollResponderHandleMomentumScrollBegin:function(o){this.state.lastMomentumScrollBeginTime=g.performance.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(o)},scrollResponderHandleMomentumScrollEnd:function(o){l.endScroll(),this.state.lastMomentumScrollEndTime=g.performance.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(o)},scrollResponderHandleTouchStart:function(o){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(o)},scrollResponderHandleTouchMove:function(o){this.props.onTouchMove&&this.props.onTouchMove(o)},scrollResponderIsAnimating:function(){return g.performance.now()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():t.findNodeHandle(this)},scrollResponderScrollTo:function(s,l,n){if('number'==typeof s)console.warn('`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.');else{var t=s||{};s=t.x,l=t.y,n=t.animated}u(null!=this.getNativeScrollRef,'Expected scrollTo to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var c=this.getNativeScrollRef();null!=c&&o.default.scrollTo(c,s||0,l||0,!1!==n)},scrollResponderScrollToEnd:function(s){var l=!1!==(s&&s.animated);u(null!=this.getNativeScrollRef,'Expected scrollToEnd to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var n=this.getNativeScrollRef();null!=n&&o.default.scrollToEnd(n,l)},scrollResponderZoomTo:function(s,l){u(!0,'zoomToRect is not implemented'),'animated'in s?(l=s.animated,delete s.animated):void 0!==l&&console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');u(null!=this.getNativeScrollRef,'Expected zoomToRect to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var n=this.getNativeScrollRef();null!=n&&o.default.zoomToRect(n,s,!1!==l)},scrollResponderFlashScrollIndicators:function(){u(null!=this.getNativeScrollRef,'Expected flashScrollIndicators to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var s=this.getNativeScrollRef();null!=s&&o.default.flashScrollIndicators(s)},scrollResponderScrollNativeHandleToKeyboard:function(o,s,l){if(this.additionalScrollOffset=s||0,this.preventNegativeScrollOffset=!!l,'number'==typeof o)p.measureLayout(o,t.findNodeHandle(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard);else{var n=this.getInnerViewRef();if(null==n)return;o.measureLayout(n,this.scrollResponderInputMeasureAndScrollToKeyboard,this.scrollResponderTextInputFocusError)}},scrollResponderInputMeasureAndScrollToKeyboard:function(o,l,n,t){var c=s.get('window').height;this.keyboardWillOpenTo&&(c=this.keyboardWillOpenTo.endCoordinates.screenY);var p=l-c+t+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(p=Math.max(0,p)),this.scrollResponderScrollTo({x:0,y:p,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(o){console.error('Error measuring text field: ',o)},UNSAFE_componentWillMount:function(){var o=this.props.keyboardShouldPersistTaps;'boolean'==typeof o&&console.warn("'keyboardShouldPersistTaps={"+(!0===o?'true':'false')+"}' is deprecated. Use 'keyboardShouldPersistTaps=\""+(o?'always':'never')+"\"' instead"),this.keyboardWillOpenTo=null,this.additionalScrollOffset=0,this._subscriptionKeyboardWillShow=n.addListener('keyboardWillShow',this.scrollResponderKeyboardWillShow),this._subscriptionKeyboardWillHide=n.addListener('keyboardWillHide',this.scrollResponderKeyboardWillHide),this._subscriptionKeyboardDidShow=n.addListener('keyboardDidShow',this.scrollResponderKeyboardDidShow),this._subscriptionKeyboardDidHide=n.addListener('keyboardDidHide',this.scrollResponderKeyboardDidHide)},componentWillUnmount:function(){null!=this._subscriptionKeyboardWillShow&&this._subscriptionKeyboardWillShow.remove(),null!=this._subscriptionKeyboardWillHide&&this._subscriptionKeyboardWillHide.remove(),null!=this._subscriptionKeyboardDidShow&&this._subscriptionKeyboardDidShow.remove(),null!=this._subscriptionKeyboardDidHide&&this._subscriptionKeyboardDidHide.remove()},scrollResponderKeyboardWillShow:function(o){this.keyboardWillOpenTo=o,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(o)},scrollResponderKeyboardWillHide:function(o){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(o)},scrollResponderKeyboardDidShow:function(o){o&&(this.keyboardWillOpenTo=o),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(o)},scrollResponderKeyboardDidHide:function(o){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(o)}}};m.exports=h},262,[2,263,60,264,266,53,55,91,168,76,8]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));!(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=n(o);if(f&&f.has(t))return f.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=t[c]}u.default=t,f&&f.set(t,u)})(r(d[2]));function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(n=function(t){return t?f:o})(t)}var f=(0,o.default)({supportedCommands:['flashScrollIndicators','scrollTo','scrollToEnd','zoomToRect']});e.default=f},263,[2,90,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=r(d[2]),l={setGlobalOptions:function(l){if(void 0!==l.debug&&o(t.default,'Trying to debug FrameRateLogger without the native module!'),t.default){var u={debug:!!l.debug,reportStackTraces:!!l.reportStackTraces};t.default.setGlobalOptions(u)}},setContext:function(o){t.default&&t.default.setContext(o)},beginScroll:function(){t.default&&t.default.beginScroll()},endScroll:function(){t.default&&t.default.endScroll()}};m.exports=l},264,[2,265,8]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('FrameRateLogger');e.default=n},265,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),s=(t(r(d[5])),new u.default(o.default));s.dismiss=l.default,s.scheduleLayoutAnimation=function(t){var u=t.duration,l=t.easing;null!=u&&0!==u&&n.default.configureNext({duration:u,update:{duration:u,type:null!=l&&n.default.Types[l]||'keyboard'}})},m.exports=s},266,[2,131,267,268,269,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]);function o(o,u,l){if(!n.default.isTesting){var s;null!=t&&t.configureNextLayoutAnimation&&t.configureNextLayoutAnimation(o,null!=u?u:function(){},null!=l?l:function(){});var c,p,y=null==(s=g)?void 0:s.nativeFabricUIManager;if(null!=y&&y.configureNextLayoutAnimation)null==(c=g)||null==(p=c.nativeFabricUIManager)||p.configureNextLayoutAnimation(o,null!=u?u:function(){},null!=l?l:function(){})}}function u(n,t,o){return{duration:n,create:{type:t,property:o},update:{type:t},delete:{type:t,property:o}}}var l={easeInEaseOut:u(300,'easeInEaseOut','opacity'),linear:u(500,'linear','opacity'),spring:{duration:700,create:{type:'linear',property:'opacity'},update:{type:'spring',springDamping:.4},delete:{type:'linear',property:'opacity'}}},s={configureNext:o,create:u,Types:Object.freeze({spring:'spring',linear:'linear',easeInEaseOut:'easeInEaseOut',easeIn:'easeIn',easeOut:'easeOut',keyboard:'keyboard'}),Properties:Object.freeze({opacity:'opacity',scaleX:'scaleX',scaleY:'scaleY',scaleXY:'scaleXY'}),checkConfig:function(){console.error('LayoutAnimation.checkConfig(...) has been disabled.')},Presets:l,easeInEaseOut:o.bind(null,l.easeInEaseOut),linear:o.bind(null,l.linear),spring:o.bind(null,l.spring)};m.exports=s},267,[2,53,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){t.blurTextInput(t.currentlyFocusedInput())}},268,[168]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('KeyboardObserver');e.default=n},269,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),u=t(r(d[5])),c=t(r(d[6])),h=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=y(n);if(s&&s.has(t))return s.get(t);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var c=o?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(l,u,c):l[u]=t[u]}l.default=t,s&&s.set(t,l);return l})(r(d[7])),p=t(r(d[8])),f=t(r(d[9])),v=t(r(d[10]));function y(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(y=function(t){return t?s:n})(t)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Y=c.default.createAnimatedComponent(f.default),L=(function(t){(0,l.default)(y,t);var c,p,f=(c=y,p=_(),function(){var t,n=(0,u.default)(c);if(p){var s=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,o.default)(this,t)});function y(){var t;(0,n.default)(this,y);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return(t=f.call.apply(f,[this].concat(l))).state={measured:!1,layoutY:0,layoutHeight:0,nextHeaderLayoutY:t.props.nextHeaderLayoutY,translateY:null},t._translateY=null,t._shouldRecreateTranslateY=!0,t._haveReceivedInitialZeroTranslateY=!0,t._debounceTimeout='android'===v.default.OS?15:64,t._onLayout=function(n){var s=n.nativeEvent.layout.y,l=n.nativeEvent.layout.height;s===t.state.layoutY&&l===t.state.layoutHeight&&!0===t.state.measured||(t._shouldRecreateTranslateY=!0),t.setState({measured:!0,layoutY:s,layoutHeight:l}),t.props.onLayout(n);var o=h.Children.only(t.props.children);o.props.onLayout&&o.props.onLayout(n)},t._setComponentRef=function(n){t._ref=n},t}return(0,s.default)(y,[{key:"setNextHeaderY",value:function(t){this.setState({nextHeaderLayoutY:t})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.scrollViewHeight===this.props.scrollViewHeight&&t.scrollAnimatedValue===this.props.scrollAnimatedValue&&t.inverted===this.props.inverted||(this._shouldRecreateTranslateY=!0)}},{key:"updateTranslateListener",value:function(t,n){var s=this;null!=this._translateY&&null!=this._animatedValueListenerId&&this._translateY.removeListener(this._animatedValueListenerId),this._translateY=t,this._shouldRecreateTranslateY=!1,n&&(this._animatedValueListener||(this._animatedValueListener=function(t){var n=t.value;0!==n||s._haveReceivedInitialZeroTranslateY?(s._timer&&clearTimeout(s._timer),s._timer=setTimeout(function(){n!==s.state.translateY&&s.setState({translateY:n})},s._debounceTimeout)):s._haveReceivedInitialZeroTranslateY=!0}),0!==this.state.translateY&&null!=this.state.translateY&&(this._haveReceivedInitialZeroTranslateY=!1),this._animatedValueListenerId=t.addListener(this._animatedValueListener))}},{key:"render",value:function(){var t,n,s=!(!this._ref||null==(t=this._ref._internalInstanceHandle)||null==(n=t.stateNode)||!n.canonical);if(this._shouldRecreateTranslateY){var l=this.props,o=l.inverted,u=l.scrollViewHeight,c=this.state,p=c.measured,f=c.layoutHeight,v=c.layoutY,y=c.nextHeaderLayoutY,_=[-1,0],L=[0,0];if(p)if(o){if(null!=u){var T=v+f-u;if(T>0){_.push(T),L.push(0),_.push(T+1),L.push(1);var H=(y||0)-f-u;H>T&&(_.push(H,H+1),L.push(H-T,H-T))}}}else{_.push(v),L.push(0);var V=(y||0)-f;V>=v?(_.push(V,V+1),L.push(V-v,V-v)):(_.push(v+1),L.push(1))}this.updateTranslateListener(this.props.scrollAnimatedValue.interpolate({inputRange:_,outputRange:L}),s)}var I=h.Children.only(this.props.children),x=s&&null!=this.state.translateY?{style:{transform:[{translateY:this.state.translateY}]}}:null;return h.createElement(Y,{collapsable:!1,nativeID:this.props.nativeID,onLayout:this._onLayout,ref:this._setComponentRef,style:[I.props.style,R.header,{transform:[{translateY:this._translateY}]}],passthroughAnimatedPropExplicitValues:x},h.cloneElement(I,{style:R.fill,onLayout:void 0}))}}]),y})(h.Component),R=p.default.create({header:{zIndex:10,position:'relative'},fill:{flex:1}});m.exports=L},270,[2,12,13,20,22,19,230,55,58,88,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports=function(n){return'normal'===n?t.default.select({ios:.998,android:.985}):'fast'===n?t.default.select({ios:.99,android:.9}):n}},271,[2,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(Object.create(null),{margin:!0,marginHorizontal:!0,marginVertical:!0,marginBottom:!0,marginTop:!0,marginLeft:!0,marginRight:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,alignSelf:!0,height:!0,minHeight:!0,maxHeight:!0,width:!0,minWidth:!0,maxWidth:!0,position:!0,left:!0,right:!0,bottom:!0,top:!0,transform:!0});m.exports=function(n){var o={},f={};return n&&Object.keys(n).forEach(function(h){var l=n[h];t[h]?f[h]=l:o[h]=l}),{outer:f,inner:o}}},272,[32]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VERTICAL=e.HORIZONTAL=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).createContext(null);e.default=n;var o=Object.freeze({horizontal:!0});e.HORIZONTAL=o;var u=Object.freeze({horizontal:!1});e.VERTICAL=u},273,[55]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,u=l(r(d[1])),f=l(r(d[2])),o=l(r(d[3]));g.RN$Bridgeless?((0,u.default)('RCTScrollView',o.default),t='RCTScrollView'):t=(0,f.default)('RCTScrollView');var c=t;e.default=c},274,[2,191,170,275]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topScrollToTop:{registrationName:'onScrollToTop'}},validAttributes:{alwaysBounceHorizontal:!0,alwaysBounceVertical:!0,automaticallyAdjustContentInsets:!0,bounces:!0,bouncesZoom:!0,canCancelContentTouches:!0,centerContent:!0,contentInset:{diff:r(d[0])},contentOffset:{diff:r(d[0])},contentInsetAdjustmentBehavior:!0,decelerationRate:!0,directionalLockEnabled:!0,disableIntervalMomentum:!0,endFillColor:{process:r(d[1])},fadingEdgeLength:!0,indicatorStyle:!0,keyboardDismissMode:!0,maintainVisibleContentPosition:!0,maximumZoomScale:!0,minimumZoomScale:!0,nestedScrollEnabled:!0,onMomentumScrollBegin:!0,onMomentumScrollEnd:!0,onScroll:!0,onScrollBeginDrag:!0,onScrollEndDrag:!0,onScrollToTop:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,pinchGestureEnabled:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollIndicatorInsets:{diff:r(d[0])},scrollPerfTag:!0,scrollToOverflowEnabled:!0,scrollsToTop:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,zoomScale:!0}};m.exports=o},275,[175,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l,n=t(r(d[1])),o=t(r(d[2]));g.RN$Bridgeless?((0,n.default)('RCTScrollContentView',{uiViewClassName:'RCTScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}}),l='RCTScrollContentView'):l=(0,o.default)('RCTScrollContentView');var u=l;e.default=u},276,[2,191,170]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,n=l(r(d[1])),t=l(r(d[2])),s={uiViewClassName:'AndroidHorizontalScrollView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{decelerationRate:!0,disableIntervalMomentum:!0,endFillColor:{process:r(d[3])},fadingEdgeLength:!0,nestedScrollEnabled:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,scrollEnabled:!0,scrollPerfTag:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,snapToEnd:!0,snapToInterval:!0,snapToStart:!0,snapToOffsets:!0,contentOffset:!0}};g.RN$Bridgeless?((0,n.default)('AndroidHorizontalScrollView',s),o='AndroidHorizontalScrollView'):o=(0,t.default)('AndroidHorizontalScrollView');var c=o;e.default=c},277,[2,191,170,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,l=t(r(d[1])),n=t(r(d[2]));g.RN$Bridgeless?((0,l.default)('AndroidHorizontalScrollContentView',{uiViewClassName:'AndroidHorizontalScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}}),o='AndroidHorizontalScrollContentView'):o=(0,n.default)('AndroidHorizontalScrollContentView');var u=o;e.default=u},278,[2,191,170]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]);function l(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var h=r(d[4]),f=(function(){function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};o(this,u),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=t}return s(u,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,n,o,s,l){var u=this._config,c=u.itemVisiblePercentThreshold,f=u.viewAreaCoveragePercentThreshold,b=null!=f,y=b?f:c;h(null!=y&&null!=c!=(null!=f),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var w=[];if(0===t)return w;var _=-1,p=l||{first:0,last:t-1},I=p.first,A=p.last;if(A>=t)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:l,itemCount:t})),[];for(var S=I;S<=A;S++){var T=s(S);if(T){var k=T.offset-n,V=k+T.length;if(k<o&&V>0)_=S,v(b,y,k,V,o,T.length)&&w.push(S);else if(_>=0)break}}return w}},{key:"onUpdate",value:function(t,n,o,s,l,u,c){var h=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==t&&s(0)){var f=[];if(t&&(f=this.computeViewableItems(t,n,o,s,c)),this._viewableIndices.length!==f.length||!this._viewableIndices.every(function(t,n){return t===f[n]}))if(this._viewableIndices=f,this._config.minimumViewTime){var v=setTimeout(function(){h._timers.delete(v),h._onUpdateSync(f,u,l)},this._config.minimumViewTime);this._timers.add(v)}else this._onUpdateSync(f,u,l)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(o,s,u){var c=this;o=o.filter(function(t){return c._viewableIndices.includes(t)});for(var h,f=this._viewableItems,v=new Map(o.map(function(t){var n=u(t,!0);return[n.key,n]})),b=[],y=l(v);!(h=y()).done;){var w=h.value,_=n(w,2),p=_[0],I=_[1];f.has(p)||b.push(I)}for(var A,S=l(f);!(A=S()).done;){var T=A.value,k=n(T,2),V=k[0],M=k[1];v.has(V)||b.push(t({},M,{isViewable:!1}))}b.length>0&&(this._viewableItems=v,s({viewableItems:Array.from(v.values()),changed:b,viewabilityConfig:this._config}))}}]),u})();function v(t,n,o,s,l,u){if(y(o,s,l))return!0;var c=b(o,s,l);return 100*(t?c/l:c/u)>=n}function b(t,n,o){var s=Math.min(n,o)-Math.max(t,0);return Math.max(0,s)}function y(t,n,o){return t>=0&&n<=o&&n>t}m.exports=f},279,[32,33,12,13,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function s(t,s,f){for(var l=[],o=0,u=0;u<s;u++)for(var h=f(u),v=h.offset+h.length,c=0;c<t.length;c++)if(null==l[c]&&v>=t[c]&&(l[c]=u,o++,c===t.length-1))return n(o===t.length,'bad offsets input, should be in increasing order: %s',JSON.stringify(t)),l;return l}function f(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}var l={computeWindowedRenderLimits:function(n,l,o,u){var h=n.data,v=n.getItemCount,c=n.maxToRenderPerBatch,x=n.windowSize,M=v(h);if(0===M)return l;var w=u.offset,b=u.velocity,p=u.visibleLength,C=Math.max(0,w),O=C+p,y=(x-1)*p,L=b>1?'after':b<-1?'before':'none',R=Math.max(0,C-.5*y),S=Math.max(0,O+.5*y);if(o(M-1).offset<R)return{first:Math.max(0,M-1-c),last:M-1};var B=s([R,C,O,S],n.getItemCount(n.data),o),I=t(B,4),J=I[0],N=I[1],T=I[2],_=I[3];J=null==J?0:J,N=null==N?Math.max(0,J):N,_=null==_?M-1:_;for(var k={first:N,last:T=null==T?Math.min(_,N+c-1):T},z=f(l,k);!(N<=J&&T>=_);){var E=z>=c,F=N<=l.first||N>l.last,P=N>J&&(!E||!F),W=T>=l.last||T<l.first,j=T<_&&(!E||!W);if(E&&!P&&!j)break;!P||'after'===L&&j&&W||(F&&z++,N--),!j||'before'===L&&P&&F||(W&&z++,T++)}if(!(T>=N&&N>=0&&T<M&&N>=J&&T<=_&&N<=k.first&&T>=k.last))throw new Error('Bad window calculation '+JSON.stringify({first:N,last:T,itemCount:M,overscanFirst:J,overscanLast:_,visible:k}));return{first:N,last:T}},elementsThatOverlapOffsets:s,newRangeCount:f};m.exports=l},280,[33,8]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var l=c?Object.getOwnPropertyDescriptor(n,p):null;l&&(l.get||l.set)?Object.defineProperty(u,p,l):u[p]=n[p]}u.default=n,f&&f.set(n,u)})(r(d[0]));function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}var n=r(d[1]),o=r(d[2]);m.exports=o(n)},281,[55,282,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),s=t(r(d[5])),l=r(d[6]),f=r(d[7]),h=(r(d[8]),r(d[9])),p=r(d[10]).default,w=r(d[11]),v=r(d[12]);var y=function(t,n){var u,c,l=v(t.source)||{uri:void 0,width:void 0,height:void 0};if(Array.isArray(l))c=w([z.base,t.style])||{},u=l;else{var h=l.width,y=l.height,b=l.uri;c=w([{width:h,height:y},z.base,t.style])||{},u=[l],''===b&&console.warn('source.uri should not be an empty string')}var I=t.resizeMode||c.resizeMode||'cover',C=c.tintColor;if(null!=t.src&&console.warn('The <Image> component requires a `source` property rather than `src`.'),null!=t.children)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');return f.createElement(p.Consumer,null,function(l){return f.createElement(s.default,(0,o.default)({},t,{ref:n,style:c,resizeMode:I,tintColor:C,source:u,internal_analyticTag:l}))})};(y=f.forwardRef(y)).displayName='Image',y.getSize=function(t,n,o){c.default.getSize(t).then(function(t){var o=(0,u.default)(t,2),c=o[0],s=o[1];return n(c,s)}).catch(o||function(){console.warn('Failed to get size for image '+t)})},y.getSizeWithHeaders=function(t,n,o,u){return c.default.getSizeWithHeaders(t,n).then(function(t){o(t.width,t.height)}).catch(u||function(){console.warn('Failed to get size for image: '+t)})},y.prefetch=function(t){return c.default.prefetchImage(t)},y.queryCache=function(t){return n.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.default.awrap(c.default.queryCache(t));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},null,null,null,Promise)},y.resolveAssetSource=v,y.propTypes=l;var z=h.create({base:{overflow:'hidden'}});m.exports=y},282,[2,283,32,33,285,286,288,55,91,58,290,87,177]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])();m.exports=t;try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},283,[284]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]).default;function n(){"use strict";m.exports=n=function(){return o},m.exports.__esModule=!0,m.exports.default=m.exports;var o={},c=Object.prototype,u=c.hasOwnProperty,l=Object.defineProperty||function(t,n,o){t[n]=o.value},f="function"==typeof Symbol?Symbol:{},h=f.iterator||"@@iterator",s=f.asyncIterator||"@@asyncIterator",p=f.toStringTag||"@@toStringTag";function v(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{v({},"")}catch(t){v=function(t,n,o){return t[n]=o}}function y(t,n,o,c){var u=n&&n.prototype instanceof L?n:L,f=Object.create(u.prototype),h=new I(c||[]);return l(f,"_invoke",{value:P(t,o,h)}),f}function w(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}o.wrap=y;var x={};function L(){}function b(){}function E(){}var _={};v(_,h,function(){return this});var O=Object.getPrototypeOf,j=O&&O(O(A([])));j&&j!==c&&u.call(j,h)&&(_=j);var k=E.prototype=L.prototype=Object.create(_);function G(t){["next","throw","return"].forEach(function(n){v(t,n,function(t){return this._invoke(n,t)})})}function N(n,o){function c(l,f,h,s){var p=w(n[l],n,f);if("throw"!==p.type){var v=p.arg,y=v.value;return y&&"object"==t(y)&&u.call(y,"__await")?o.resolve(y.__await).then(function(t){c("next",t,h,s)},function(t){c("throw",t,h,s)}):o.resolve(y).then(function(t){v.value=t,h(v)},function(t){return c("throw",t,h,s)})}s(p.arg)}var f;l(this,"_invoke",{value:function(t,n){function u(){return new o(function(o,u){c(t,n,o,u)})}return f=f?f.then(u,u):u()}})}function P(t,n,o){var c="suspendedStart";return function(u,l){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===u)throw l;return M()}for(o.method=u,o.arg=l;;){var f=o.delegate;if(f){var h=S(f,o);if(h){if(h===x)continue;return h}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===c)throw c="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);c="executing";var s=w(t,n,o);if("normal"===s.type){if(c=o.done?"completed":"suspendedYield",s.arg===x)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(c="completed",o.method="throw",o.arg=s.arg)}}}function S(t,n){var o=n.method,c=t.iterator[o];if(void 0===c)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=void 0,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),x;var u=w(c,t.iterator,n.arg);if("throw"===u.type)return n.method="throw",n.arg=u.arg,n.delegate=null,x;var l=u.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,x):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function F(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function T(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function A(t){if(t){var n=t[h];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function n(){for(;++o<t.length;)if(u.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=void 0,n.done=!0,n};return c.next=c}}return{next:M}}function M(){return{value:void 0,done:!0}}return b.prototype=E,l(k,"constructor",{value:E,configurable:!0}),l(E,"constructor",{value:b,configurable:!0}),b.displayName=v(E,p,"GeneratorFunction"),o.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,v(t,p,"GeneratorFunction")),t.prototype=Object.create(k),t},o.awrap=function(t){return{__await:t}},G(N.prototype),v(N.prototype,s,function(){return this}),o.AsyncIterator=N,o.async=function(t,n,c,u,l){void 0===l&&(l=Promise);var f=new N(y(t,n,c,u),l);return o.isGeneratorFunction(n)?f:f.next().then(function(t){return t.done?t.value:f.next()})},G(k),v(k,p,"Generator"),v(k,h,function(){return this}),v(k,"toString",function(){return"[object Generator]"}),o.keys=function(t){var n=Object(t),o=[];for(var c in n)o.push(c);return o.reverse(),function t(){for(;o.length;){var c=o.pop();if(c in n)return t.value=c,t.done=!1,t}return t.done=!0,t}},o.values=A,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&u.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(o,c){return f.type="throw",f.arg=t,n.next=o,c&&(n.method="next",n.arg=void 0),!!c}for(var c=this.tryEntries.length-1;c>=0;--c){var l=this.tryEntries[c],f=l.completion;if("root"===l.tryLoc)return o("end");if(l.tryLoc<=this.prev){var h=u.call(l,"catchLoc"),s=u.call(l,"finallyLoc");if(h&&s){if(this.prev<l.catchLoc)return o(l.catchLoc,!0);if(this.prev<l.finallyLoc)return o(l.finallyLoc)}else if(h){if(this.prev<l.catchLoc)return o(l.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return o(l.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&u.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var l=c;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=n&&n<=l.finallyLoc&&(l=null);var f=l?l.completion:{};return f.type=t,f.arg=n,l?(this.method="next",this.next=l.finallyLoc,x):this.complete(f)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),x},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),T(o),x}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var c=o.completion;if("throw"===c.type){var u=c.arg;T(o)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:A(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=void 0),x}},o}m.exports=n,m.exports.__esModule=!0,m.exports.default=m.exports},284,[15]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('ImageLoader');e.default=n},285,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,f=t(r(d[1])),l=r(d[2]),n=r(d[3]);g.RN$Bridgeless?(n.register('RCTImageView',function(){return f.default}),u='RCTImageView'):u=l('RCTImageView');var s=u;e.default=s},286,[2,287,170,167]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t=o(r(d[1])),s=o(r(d[2])),n={uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topPartialLoad:{registrationName:'onPartialLoad'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:(0,t.default)({},s.default.validAttributes,{blurRadius:!0,capInsets:{diff:r(d[3])},defaultSource:{process:r(d[4])},defaultSrc:!0,fadeDuration:!0,headers:!0,loadingIndicatorSrc:!0,onError:!0,onLoad:!0,onLoadEnd:!0,onLoadStart:!0,onPartialLoad:!0,onProgress:!0,overlayColor:{process:r(d[5])},progressiveRenderingEnabled:!0,resizeMethod:!0,resizeMode:!0,shouldNotifyLoadEvents:!0,source:!0,src:!0,tintColor:{process:r(d[5])}})};m.exports=n},287,[2,32,183,173,177,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),t=r(d[2]),s=r(d[3]),c=r(d[4]);m.exports={style:s(t),source:o,defaultSource:c.oneOfType([c.shape({uri:c.string,width:c.number,height:c.number,scale:c.number}),c.number]),accessible:c.bool,accessibilityLabel:c.node,blurRadius:c.number,capInsets:n,resizeMethod:c.oneOf(['auto','resize','scale']),resizeMode:c.oneOf(['cover','contain','stretch','repeat','center']),testID:c.string,onLayout:c.func,onLoadStart:c.func,onProgress:c.func,onError:c.func,onPartialLoad:c.func,onLoad:c.func,onLoadEnd:c.func}},288,[202,289,63,203,70]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n.shape({uri:n.string,bundle:n.string,method:n.string,headers:n.objectOf(n.string),body:n.string,cache:n.oneOf(['default','reload','force-cache','only-if-cached']),width:n.number,height:n.number,scale:n.number}),c=n.oneOfType([t,n.number,n.arrayOf(t)]);m.exports=c},289,[70]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).createContext(null);e.default=n},290,[55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=o(n);if(f&&f.has(t))return f.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=t[l]}u.default=t,f&&f.set(t,u);return u})(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(o=function(t){return t?f:n})(t)}var f=r(d[3]),u=r(d[4]),c=n.forwardRef(function(o,u){return n.createElement(f,(0,t.default)({scrollEventThrottle:1e-4},o,{ref:u}))});m.exports=u(c)},291,[2,32,55,261,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=o(n);if(f&&f.has(t))return f.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=t[l]}u.default=t,f&&f.set(t,u);return u})(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(o=function(t){return t?f:n})(t)}var f=r(d[3]),u=r(d[4]),c=n.forwardRef(function(o,u){return n.createElement(f,(0,t.default)({scrollEventThrottle:1e-4},o,{ref:u}))});m.exports=u(c)},292,[2,32,55,293,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),f=r(d[5]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[6]);var l=r(d[7]),p=r(d[8]),R=f({},p.defaultProps,{stickySectionHeadersEnabled:!0}),h=(function(R){o(_,R);var h,v,L=(h=_,v=u(),function(){var t,n=c(h);if(v){var o=c(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return s(this,t)});function _(){var n;t(this,_);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(n=L.call.apply(L,[this].concat(s)))._captureRef=function(t){n._wrapperListRef=t},n}return n(_,[{key:"scrollToLocation",value:function(t){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(t)}},{key:"recordInteraction",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollResponder()}},{key:"getScrollableNode",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollableNode()}},{key:"setNativeProps",value:function(t){var n=this._wrapperListRef&&this._wrapperListRef.getListRef();n&&n.setNativeProps(t)}},{key:"render",value:function(){return l.createElement(p,f({},this.props,{ref:this._captureRef,getItemCount:function(t){return t.length},getItem:function(t,n){return t[n]}}))}}]),_})(l.PureComponent);h.defaultProps=R,m.exports=h},293,[12,13,20,22,19,32,53,55,294]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),l=r(d[5]),p=r(d[6]),u=r(d[7]),f=["SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function h(t){var n=S();return function(){var o,s=u(t);if(n){var c=u(this).constructor;o=Reflect.construct(s,arguments,c)}else o=s.apply(this,arguments);return p(this,o)}}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=r(d[8]),I=r(d[9]),y=r(d[10]),_=r(d[11]),x=(function(p){l(S,p);var u=h(S);function S(t,s){var l;return o(this,S),(l=u.call(this,t,s))._getItem=function(t,n,o){if(!n)return null;for(var s=o-1,c=0;c<n.length;c++){var l=n[c],p=l.data,u=t.getItemCount(p);if(-1===s||s===u)return l;if(s<u)return t.getItem(p,s);s-=u+2}return null},l._keyExtractor=function(t,n){var o=l._subExtractor(n);return o&&o.key||String(n)},l._convertViewable=function(t){_(null!=t.index,'Received a broken ViewToken');var o=l._subExtractor(t.index);if(!o)return null;var s=o.section.keyExtractor||l.props.keyExtractor;return n({},t,{index:o.index,key:s(t.item,o.index),section:o.section})},l._onViewableItemsChanged=function(t){var n=t.viewableItems,o=t.changed,s=l.props.onViewableItemsChanged;null!=s&&s({viewableItems:n.map(l._convertViewable,c(l)).filter(Boolean),changed:o.map(l._convertViewable,c(l)).filter(Boolean)})},l._renderItem=function(t){var n=t.item,o=t.index,s=l._subExtractor(o);if(!s)return null;var c=s.index;if(null==c){var p=s.section;if(!0===s.header){var u=l.props.renderSectionHeader;return u?u({section:p}):null}var f=l.props.renderSectionFooter;return f?f({section:p}):null}var h=s.section.renderItem||l.props.renderItem,S=l._getSeparatorComponent(o,s);return _(h,'no renderItem!'),v.createElement(k,{SeparatorComponent:S,LeadingSeparatorComponent:0===c?l.props.SectionSeparatorComponent:void 0,cellKey:s.key,index:c,item:n,leadingItem:s.leadingItem,leadingSection:s.leadingSection,onUpdateSeparator:l._onUpdateSeparator,prevCellKey:(l._subExtractor(o-1)||{}).key,ref:function(t){l._cellRefs[s.key]=t},renderItem:h,section:s.section,trailingItem:s.trailingItem,trailingSection:s.trailingSection,inverted:!!l.props.inverted})},l._onUpdateSeparator=function(t,n){var o=l._cellRefs[t];o&&o.updateSeparatorProps(n)},l._cellRefs={},l._captureRef=function(t){l._listRef=t},l.state=l._computeState(t),l}return s(S,[{key:"scrollToLocation",value:function(t){for(var o=t.itemIndex,s=0;s<t.sectionIndex;s++)o+=this.props.getItemCount(this.props.sections[s].data)+2;var c=t.viewOffset||0;t.itemIndex>0&&this.props.stickySectionHeadersEnabled&&(c+=this._listRef._getFrameMetricsApprox(o-t.itemIndex).length);var l=n({},t,{viewOffset:c,index:o});this._listRef.scrollToIndex(l)}},{key:"getListRef",value:function(){return this._listRef}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setState(this._computeState(t))}},{key:"_computeState",value:function(o){var s=this,c=o.ListHeaderComponent?1:0,l=[],p=o.sections?o.sections.reduce(function(t,n){return l.push(t+c),t+o.getItemCount(n.data)+2},0):0,u=(o.SectionSeparatorComponent,o.renderItem,o.renderSectionFooter,o.renderSectionHeader,o.sections,o.stickySectionHeadersEnabled,t(o,f));return{childProps:n({},u,{renderItem:this._renderItem,ItemSeparatorComponent:void 0,data:o.sections,getItemCount:function(){return p},getItem:function(t,n){return s._getItem(o,t,n)},keyExtractor:this._keyExtractor,onViewableItemsChanged:o.onViewableItemsChanged?this._onViewableItemsChanged:void 0,stickyHeaderIndices:o.stickySectionHeadersEnabled?l:void 0})}}},{key:"render",value:function(){return v.createElement(y,n({},this.state.childProps,{ref:this._captureRef}))}},{key:"_subExtractor",value:function(t){for(var n=t,o=this.props,s=o.getItem,c=o.getItemCount,l=o.keyExtractor,p=o.sections,u=0;u<p.length;u++){var f=p[u],h=f.data,S=f.key||String(u);if((n-=1)>=c(h)+1)n-=c(h)+1;else return-1===n?{section:f,key:S+':header',index:null,header:!0,trailingSection:p[u+1]}:n===c(h)?{section:f,key:S+':footer',index:null,header:!1,trailingSection:p[u+1]}:{section:f,key:S+':'+(f.keyExtractor||l)(s(h,n),n),index:n,leadingItem:s(h,n-1),leadingSection:p[u-1],trailingItem:s(h,n+1),trailingSection:p[u+1]}}}},{key:"_getSeparatorComponent",value:function(t,n){if(!(n=n||this._subExtractor(t)))return null;var o=n.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,s=this.props.SectionSeparatorComponent,c=t===this.state.childProps.getItemCount()-1,l=n.index===this.props.getItemCount(n.section.data)-1;return s&&l?s:!o||l||c?null:o}}]),S})(v.PureComponent);x.defaultProps=n({},y.defaultProps,{data:[]});var k=(function(t){l(p,t);var c=h(p);function p(){var t;o(this,p);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return(t=c.call.apply(c,[this].concat(l))).state={separatorProps:{highlighted:!1,leadingItem:t.props.item,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.trailingItem,trailingSection:t.props.trailingSection},leadingSeparatorProps:{highlighted:!1,leadingItem:t.props.leadingItem,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.item,trailingSection:t.props.trailingSection}},t._separators={highlight:function(){['leading','trailing'].forEach(function(n){return t._separators.updateProps(n,{highlighted:!0})})},unhighlight:function(){['leading','trailing'].forEach(function(n){return t._separators.updateProps(n,{highlighted:!1})})},updateProps:function(o,s){var c=t.props,l=c.LeadingSeparatorComponent,p=c.cellKey,u=c.prevCellKey;'leading'===o&&null!=l?t.setState(function(t){return{leadingSeparatorProps:n({},t.leadingSeparatorProps,s)}}):t.props.onUpdateSeparator('leading'===o&&u||p,s)}},t}return s(p,[{key:"updateSeparatorProps",value:function(t){this.setState(function(o){return{separatorProps:n({},o.separatorProps,t)}})}},{key:"render",value:function(){var t=this.props,n=t.LeadingSeparatorComponent,o=t.SeparatorComponent,s=t.item,c=t.index,l=t.section,p=t.inverted,u=this.props.renderItem({item:s,index:c,section:l,separators:this._separators}),f=n&&v.createElement(n,this.state.leadingSeparatorProps),h=o&&v.createElement(o,this.state.separatorProps);return f||h?v.createElement(I,null,p?h:f,u,p?f:h):u}}],[{key:"getDerivedStateFromProps",value:function(t,o){return{separatorProps:n({},o.separatorProps,{leadingItem:t.item,leadingSection:t.leadingSection,section:t.section,trailingItem:t.trailingItem,trailingSection:t.trailingSection}),leadingSeparatorProps:n({},o.leadingSeparatorProps,{leadingItem:t.leadingItem,leadingSection:t.leadingSection,section:t.section,trailingItem:t.item,trailingSection:t.trailingSection})}}}]),p})(v.Component);m.exports=x},294,[51,32,12,13,23,20,22,19,55,88,254,8]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var l=c?Object.getOwnPropertyDescriptor(n,p):null;l&&(l.get||l.set)?Object.defineProperty(u,p,l):u[p]=n[p]}u.default=n,f&&f.set(n,u)})(r(d[0]));function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}var n=r(d[1]),o=r(d[2]);m.exports=o(n)},295,[55,197,249]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var l=c?Object.getOwnPropertyDescriptor(n,p):null;l&&(l.get||l.set)?Object.defineProperty(u,p,l):u[p]=n[p]}u.default=n,f&&f.set(n,u)})(r(d[0]));function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}var n=r(d[1]),o=r(d[2]);m.exports=o(n)},296,[55,88,249]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),f=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=s(n);if(o&&o.has(t))return o.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var f=c?Object.getOwnPropertyDescriptor(t,l):null;f&&(f.get||f.set)?Object.defineProperty(u,l,f):u[l]=t[l]}u.default=t,o&&o.set(t,u);return u})(r(d[6]));function s(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(s=function(t){return t?o:n})(t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=r(d[7]),v=r(d[8]),y=r(d[9]),D=r(d[10]),O=(function(t){(0,u.default)(_,t);var s,v,O=(s=_,v=p(),function(){var t,n=(0,l.default)(s);if(v){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function _(){var t;(0,n.default)(this,_);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return(t=O.call.apply(O,[this].concat(u)))._picker=null,t._onChange=function(n){var o=n.nativeEvent.timestamp;t.props.onDateChange&&t.props.onDateChange(new Date(o)),t.props.onChange&&t.props.onChange(n),t.forceUpdate()},t}return(0,o.default)(_,[{key:"componentDidUpdate",value:function(){if(this.props.date){var t=this.props.date.getTime();this._picker&&f.Commands.setNativeDate(this._picker,t)}}},{key:"render",value:function(){var t=this,n=this.props;return D(n.date||n.initialDate,'A selected date or initial date should be specified.'),h.createElement(y,{style:n.style},h.createElement(f.default,{testID:n.testID,ref:function(n){t._picker=n},style:k.datePickerIOS,date:n.date?n.date.getTime():n.initialDate?n.initialDate.getTime():void 0,locale:null!=n.locale&&''!==n.locale?n.locale:void 0,maximumDate:n.maximumDate?n.maximumDate.getTime():void 0,minimumDate:n.minimumDate?n.minimumDate.getTime():void 0,mode:n.mode,minuteInterval:n.minuteInterval,timeZoneOffsetInMinutes:n.timeZoneOffsetInMinutes,onChange:this._onChange,onStartShouldSetResponder:function(){return!0},onResponderTerminationRequest:function(){return!1}}))}}]),_})(h.Component);O.DefaultProps={mode:'datetime'};var k=v.create({datePickerIOS:{height:216}});m.exports=O},297,[2,12,13,20,22,19,298,55,58,88,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n=t(r(d[1])),o=t(r(d[2]));!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=p?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=t[c]}f.default=t,o&&o.set(t,f)})(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f=(0,n.default)({supportedCommands:['setNativeDate']});e.Commands=f;var p=(0,o.default)('DatePicker',{paperComponentName:'RCTDatePicker',excludedPlatforms:['android']});e.default=p},298,[2,90,195,55]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},299,[300]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),c=r(d[2]),o=r(d[3]),u=r(d[4]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var s=r(d[5]),l=r(d[6]),p=(function(l){c(R,l);var p,y,v=(p=R,y=f(),function(){var t,n=u(p);if(y){var c=u(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return o(this,t)});function R(){return t(this,R),v.apply(this,arguments)}return n(R,[{key:"render",value:function(){var t=r(d[7]);return s.createElement(t,{style:[h.unimplementedView,this.props.style]},this.props.children)}}]),R})(s.Component),h=l.create({unimplementedView:{}});m.exports=p},300,[12,13,20,22,19,55,58,88]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),c=r(d[2]),o=r(d[3]),l=r(d[4]),f=r(d[5]),u=r(d[6]),s=["children","style","imageStyle","imageRef"];function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=r(d[7]),y=r(d[8]),p=r(d[9]),R=r(d[10]),_=(function(_){l(k,_);var w,P,b=(w=k,P=h(),function(){var t,n=u(w);if(P){var c=u(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return f(this,t)});function k(){var t;c(this,k);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=b.call.apply(b,[this].concat(o)))._viewRef=null,t._captureRef=function(n){t._viewRef=n},t}return o(k,[{key:"setNativeProps",value:function(t){var n=this._viewRef;n&&n.setNativeProps(t)}},{key:"render",value:function(){var c=this.props,o=c.children,l=c.style,f=c.imageStyle,u=c.imageRef,h=n(c,s);return y.createElement(R,{accessibilityIgnoresInvertColors:!0,style:l,ref:this._captureRef},y.createElement(v,t({},h,{style:[p.absoluteFill,{width:l.width,height:l.height},f],ref:u})),o)}}]),k})(y.Component);m.exports=_},301,[32,51,12,13,20,22,19,282,55,58,88]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),s=t(r(d[6]));function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[7]);var p=r(d[8]),h=r(d[9]),y=(function(t){(0,u.default)(C,t);var h,y,R=(h=C,y=f(),function(){var t,n=(0,l.default)(h);if(y){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function C(){return(0,n.default)(this,C),R.apply(this,arguments)}return(0,o.default)(C,[{key:"render",value:function(){return 0===p.Children.count(this.props.children)?null:p.createElement(s.default,{style:[this.props.style,v.container],nativeID:this.props.nativeID,backgroundColor:this.props.backgroundColor},this.props.children)}}]),C})(p.Component),v=h.create({container:{position:'absolute'}});m.exports=y},302,[2,12,13,20,22,19,303,53,55,58]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,t(r(d[1])).default)('InputAccessory',{interfaceOnly:!0,paperComponentName:'RCTInputAccessoryView',excludedPlatforms:['android']});e.default=n},303,[2,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),s=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),c=t(r(d[7])),h=["behavior","children","contentContainerStyle","enabled","keyboardVerticalOffset","style"];function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=r(d[8]),_=r(d[9]),p=(r(d[10]),r(d[11])),b=r(d[12]),k=r(d[13]),E=(function(t){(0,l.default)(C,t);var E,R,L=(E=C,R=y(),function(){var t,n=(0,c.default)(E);if(R){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function C(t){var n;return(0,u.default)(this,C),(n=L.call(this,t))._frame=null,n._keyboardEvent=null,n._subscriptions=[],n._initialFrameHeight=0,n._onKeyboardChange=function(t){n._keyboardEvent=t,n._updateBottomIfNecesarry()},n._onLayout=function(t){var o=null==n._frame;n._frame=t.nativeEvent.layout,n._initialFrameHeight||(n._initialFrameHeight=n._frame.height),o&&n._updateBottomIfNecesarry()},n._updateBottomIfNecesarry=function(){if(null!=n._keyboardEvent){var t=n._keyboardEvent,o=t.duration,u=t.easing,s=t.endCoordinates,l=n._relativeKeyboardHeight(s);n.state.bottom!==l&&(o&&u&&_.configureNext({duration:o>10?o:10,update:{duration:o>10?o:10,type:_.Types[u]||'keyboard'}}),n.setState({bottom:l}))}else n.setState({bottom:0})},n.state={bottom:0},n.viewRef=p.createRef(),n}return(0,s.default)(C,[{key:"_relativeKeyboardHeight",value:function(t){var n=this._frame;if(!n||!t)return 0;var o=t.screenY-this.props.keyboardVerticalOffset;return Math.max(n.y+n.height-o,0)}},{key:"componentDidMount",value:function(){this._subscriptions=[v.addListener('keyboardWillChangeFrame',this._onKeyboardChange)]}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(t){t.remove()})}},{key:"render",value:function(){var t=this.props,u=t.behavior,s=t.children,l=t.contentContainerStyle,f=t.enabled,c=(t.keyboardVerticalOffset,t.style),y=(0,o.default)(t,h),v=f?this.state.bottom:0;switch(u){case'height':var _;return null!=this._frame&&this.state.bottom>0&&(_={height:this._initialFrameHeight-v,flex:0}),p.createElement(k,(0,n.default)({ref:this.viewRef,style:b.compose(c,_),onLayout:this._onLayout},y),s);case'position':return p.createElement(k,(0,n.default)({ref:this.viewRef,style:c,onLayout:this._onLayout},y),p.createElement(k,{style:b.compose(l,{bottom:v})},s));case'padding':return p.createElement(k,(0,n.default)({ref:this.viewRef,style:b.compose(c,{paddingBottom:v}),onLayout:this._onLayout},y),s);default:return p.createElement(k,(0,n.default)({ref:this.viewRef,onLayout:this._onLayout,style:c},y),s)}}}]),C})(p.Component);E.defaultProps={enabled:!0,keyboardVerticalOffset:0},m.exports=E},304,[2,32,51,12,13,20,22,19,266,267,53,55,58,88]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),l=t(r(d[2])),c=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5])),u=t(r(d[6])),f=t(r(d[7])),p=["maskElement","children"];function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=r(d[8]),k=r(d[9]),y=r(d[10]),E=(function(t){(0,o.default)(M,t);var E,R,w=(E=M,R=h(),function(){var t,n=(0,u.default)(E);if(R){var l=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function M(){var t;(0,l.default)(this,M);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=w.call.apply(w,[this].concat(c)))._hasWarnedInvalidRenderMask=!1,t}return(0,c.default)(M,[{key:"render",value:function(){var t=this.props,l=t.maskElement,c=t.children,o=(0,n.default)(t,p);return v.isValidElement(l)?v.createElement(f.default,o,v.createElement(y,{pointerEvents:"none",style:k.absoluteFill},l),c):(this._hasWarnedInvalidRenderMask||(console.warn("MaskedView: Invalid `maskElement` prop was passed to MaskedView. Expected a React Element. No mask will render."),this._hasWarnedInvalidRenderMask=!0),v.createElement(y,o,c))}}]),M})(v.Component);m.exports=E},305,[2,51,12,13,20,22,19,306,55,58,88]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('RCTMaskedView');e.default=u},306,[2,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=n(r(d[1])),s=n(r(d[2])),l=n(r(d[3])),u=n(r(d[4])),p=n(r(d[5])),c=n(r(d[6])),f=n(r(d[7])),h=n(r(d[8])),v=r(d[9]),y=n(r(d[10]));function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[11]);var R=r(d[12]),_=(r(d[13]),r(d[14])),C=r(d[15]),w=r(d[16]),b=r(d[17]),k=r(d[18]).RootTagContext,x=null!=h.default?new f.default(h.default):null,P=0,T=(function(t){(0,u.default)(h,t);var n,o,f=(n=h,o=S(),function(){var t,s=(0,c.default)(n);if(o){var l=(0,c.default)(this).constructor;t=Reflect.construct(s,arguments,l)}else t=s.apply(this,arguments);return(0,p.default)(this,t)});function h(t){var n;return(0,s.default)(this,h),n=f.call(this,t),h._confirmProps(t),n._identifier=P++,n}return(0,l.default)(h,[{key:"componentDidMount",value:function(){var t=this;x&&(this._eventSubscription=x.addListener('modalDismissed',function(n){n.modalID===t._identifier&&t.props.onDismiss&&t.props.onDismiss()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscription&&this._eventSubscription.remove()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){h._confirmProps(t)}},{key:"render",value:function(){if(!0!==this.props.visible)return null;var t={backgroundColor:!0===this.props.transparent?'transparent':'white'},n=this.props.animationType||'none',o=this.props.presentationStyle;o||(o='fullScreen',!0===this.props.transparent&&(o='overFullScreen'));var s=this.props.children;return _.createElement(y.default,{animationType:n,presentationStyle:o,transparent:this.props.transparent,hardwareAccelerated:this.props.hardwareAccelerated,onRequestClose:this.props.onRequestClose,onShow:this.props.onShow,statusBarTranslucent:this.props.statusBarTranslucent,identifier:this._identifier,style:E.modal,onStartShouldSetResponder:this._shouldSetResponder,supportedOrientations:this.props.supportedOrientations,onOrientationChange:this.props.onOrientationChange},_.createElement(v.VirtualizedListContextResetter,null,_.createElement(C.Context.Provider,{value:null},_.createElement(b,{style:[E.container,t],collapsable:!1},s))))}},{key:"_shouldSetResponder",value:function(){return!0}}],[{key:"_confirmProps",value:function(t){t.presentationStyle&&'overFullScreen'!==t.presentationStyle&&!0===t.transparent&&console.warn("Modal with '"+t.presentationStyle+"' presentation style and 'transparent' value is not supported.")}}]),h})(_.Component);T.defaultProps={visible:!0,hardwareAccelerated:!1},T.contextType=k;var D=R.getConstants().isRTL?'right':'left',E=w.create({modal:{position:'absolute'},container:(t={},(0,o.default)(t,D,0),(0,o.default)(t,"top",0),(0,o.default)(t,"flex",1),t)});m.exports=T},307,[2,253,12,13,20,22,19,131,308,255,309,310,312,53,55,261,58,88,311]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('ModalManager');e.default=n},308,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,t(r(d[1])).default)('ModalHostView',{interfaceOnly:!0,paperComponentName:'RCTModalHostView'});e.default=o},309,[2,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),s=t(r(d[6])),p=(t(r(d[7])),t(r(d[8]))),f=r(d[9]),h=t(r(d[10])),y=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=v(n);if(o&&o.has(t))return o.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var s=c?Object.getOwnPropertyDescriptor(t,l):null;s&&(s.get||s.set)?Object.defineProperty(u,l,s):u[l]=t[l]}u.default=t,o&&o.set(t,u);return u})(r(d[11]));function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(v=function(t){return t?o:n})(t)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var C=(function(t){(0,u.default)(C,t);var p,h,v=(p=C,h=b(),function(){var t,n=(0,l.default)(p);if(h){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function C(){var t;(0,n.default)(this,C);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return(t=v.call.apply(v,[this].concat(u))).state={inspector:null,mainKey:1,hasError:!1},t._subscription=null,t}return(0,o.default)(C,[{key:"getChildContext",value:function(){return{rootTag:this.props.rootTag}}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){null!=this._subscription&&this._subscription.remove()}},{key:"render",value:function(){var t=this,n=y.createElement(s.default,{collapsable:!this.state.inspector,key:this.state.mainKey,pointerEvents:"box-none",style:E.appContainer,ref:function(n){t._mainRef=n}},this.props.children),o=this.props.WrapperComponent;return null!=o&&(n=y.createElement(o,{initialProps:this.props.initialProps,fabric:!0===this.props.fabric,showArchitectureIndicator:!0===this.props.showArchitectureIndicator},n)),y.createElement(f.RootTagContext.Provider,{value:(0,f.createRootTag)(this.props.rootTag)},y.createElement(s.default,{style:E.appContainer,pointerEvents:"box-none"},!this.state.hasError&&n,this.state.inspector,null))}}]),C})(y.Component);C.getDerivedStateFromError=void 0,C.childContextTypes={rootTag:h.default.number};var E=p.default.create({appContainer:{flex:1}});m.exports=C},310,[2,12,13,20,22,19,88,11,58,311,70,55]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.RootTagContext=void 0,e.createRootTag=function(t){return t};var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var l=c?Object.getOwnPropertyDescriptor(n,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=n[p]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).createContext(0);e.RootTagContext=n},311,[55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=t.default?t.default.getConstants():{isRTL:!1,doLeftAndRightSwapInRTL:!0};m.exports={getConstants:function(){return n},allowRTL:function(n){t.default&&t.default.allowRTL(n)},forceRTL:function(n){t.default&&t.default.forceRTL(n)},swapLeftAndRightInRTL:function(n){t.default&&t.default.swapLeftAndRightInRTL(n)},isRTL:n.isRTL,doLeftAndRightSwapInRTL:n.doLeftAndRightSwapInRTL}},312,[2,313]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('I18nManager');e.default=n},313,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),c=r(d[4]);function f(t){var n=l();return function(){var o,f=c(t);if(n){var l=c(this).constructor;o=Reflect.construct(f,arguments,l)}else o=f.apply(this,arguments);return u(this,o)}}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[5]);var s=r(d[6]),p=(r(d[7]),r(d[8])),h=(r(d[9]),(function(u){o(l,u);var c=f(l);function l(){return t(this,l),c.apply(this,arguments)}return n(l,[{key:"render",value:function(){throw null}}]),l})(p.Component)),v=(function(u){o(l,u);var c=f(l);function l(){return t(this,l),c.apply(this,arguments)}return n(l,[{key:"render",value:function(){return p.createElement(s,this.props,this.props.children)}}]),l})(p.Component);v.MODE_DIALOG="dialog",v.MODE_DROPDOWN='dropdown',v.Item=h,v.defaultProps={mode:"dialog"},m.exports=v},314,[12,13,20,22,19,315,316,53,55,300]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},315,[300]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),c=t(r(d[4])),s=t(r(d[5])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=p(n);if(o&&o.has(t))return o.get(t);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=c?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(l,s,u):l[s]=t[s]}l.default=t,o&&o.set(t,l);return l})(r(d[6]));function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(p=function(t){return t?o:n})(t)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=r(d[7]),v=r(d[8]),y=r(d[9]),I=r(d[10]),b=r(d[11]),k=(function(t){(0,l.default)(_,t);var p,v,k=(p=_,v=f(),function(){var t,n=(0,s.default)(p);if(v){var o=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function _(){var t;(0,n.default)(this,_);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(t=k.call.apply(k,[this].concat(l)))._picker=null,t.state={selectedIndex:0,items:[]},t._onChange=function(n){t.props.onChange&&t.props.onChange(n),t.props.onValueChange&&t.props.onValueChange(n.nativeEvent.newValue,n.nativeEvent.newIndex),t._lastNativeValue=n.nativeEvent.newIndex,t.forceUpdate()},t}return(0,o.default)(_,[{key:"render",value:function(){var t=this;return h.createElement(y,{style:this.props.style},h.createElement(u.default,{ref:function(n){t._picker=n},testID:this.props.testID,style:[x.pickerIOS,this.props.itemStyle],items:this.state.items,selectedIndex:this.state.selectedIndex,onChange:this._onChange,accessibilityLabel:this.props.accessibilityLabel}))}},{key:"componentDidUpdate",value:function(){this._picker&&void 0!==this._lastNativeValue&&this._lastNativeValue!==this.state.selectedIndex&&u.Commands.setNativeSelectedIndex(this._picker,this.state.selectedIndex)}}],[{key:"getDerivedStateFromProps",value:function(t){var n=0,o=[];return h.Children.toArray(t.children).filter(function(t){return null!==t}).forEach(function(l,c){l.props.value===t.selectedValue&&(n=c);var s=b(l.props.color);I(null==s||'number'==typeof s,'Unexpected color given for PickerIOSItem color'),o.push({value:l.props.value,label:l.props.label,textColor:s})}),{selectedIndex:n,items:o}}}]),_})(h.Component);k.Item=function(t){return null};var x=v.create({pickerIOS:{height:216}});m.exports=k},316,[2,12,13,20,22,19,317,55,58,88,8,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n=t(r(d[1])),o=t(r(d[2]));!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=t[l]}f.default=t,o&&o.set(t,f)})(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f,c=r(d[4]),l=r(d[5]),p=(0,n.default)({supportedCommands:['setNativeSelectedIndex']});e.Commands=p,g.RN$Bridgeless?(l.register('RCTPicker',function(){return o.default}),f='RCTPicker'):f=c('RCTPicker');var s=f;e.default=s},317,[2,90,318,55,170,167]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),o={uiViewClassName:'RCTPicker',bubblingEventTypes:{topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}}},directEventTypes:{},validAttributes:(0,n.default)({},s.default.validAttributes,{color:{process:r(d[3])},fontFamily:!0,fontSize:!0,fontStyle:!0,fontWeight:!0,items:!0,onChange:!0,selectedIndex:!0,textAlign:!0})};m.exports=o},318,[2,32,183,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[1])),t=n(r(d[2])),o=n(r(d[3])),l=(function(n,s){if(!s&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var t=y(s);if(t&&t.has(n))return t.get(n);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if("default"!==u&&Object.prototype.hasOwnProperty.call(n,u)){var f=l?Object.getOwnPropertyDescriptor(n,u):null;f&&(f.get||f.set)?Object.defineProperty(o,u,f):o[u]=n[u]}o.default=n,t&&t.set(n,o);return o})(r(d[4])),u=n(r(d[5])),f=(r(d[6]),n(r(d[7]))),c=r(d[8]),p=n(r(d[9])),P=["accessible","android_disableSound","android_ripple","children","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset","style","testOnly_pressed","unstable_pressDelay"];function y(n){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(y=function(n){return n?t:s})(n)}function b(n){var s=(0,l.useState)(!1),o=(0,t.default)(s,2),u=o[0],f=o[1];return[u||n,f]}var v=l.memo(l.forwardRef(function(n,y){var v=n.accessible,O=n.android_disableSound,_=n.android_ripple,M=n.children,h=n.delayLongPress,j=n.disabled,w=n.focusable,S=n.onLongPress,I=n.onPress,L=n.onPressIn,R=n.onPressOut,D=n.pressRetentionOffset,k=n.style,W=n.testOnly_pressed,z=n.unstable_pressDelay,E=(0,o.default)(n,P),H=(0,l.useRef)(null);(0,l.useImperativeHandle)(y,function(){return H.current});var N=(0,u.default)(_,H),q=b(!0===W),x=(0,t.default)(q,2),A=x[0],B=x[1],C=(0,c.normalizeRect)(n.hitSlop),F=(0,s.default)({},E,null==N?void 0:N.viewProps,{accessible:!1!==v,focusable:!1!==w,hitSlop:C}),G=(0,l.useMemo)(function(){return{disabled:j,hitSlop:C,pressRectOffset:D,android_disableSound:O,delayLongPress:h,delayPressIn:z,onLongPress:S,onPress:I,onPressIn:function(n){null!=N&&N.onPressIn(n),B(!0),null!=L&&L(n)},onPressMove:null==N?void 0:N.onPressMove,onPressOut:function(n){null!=N&&N.onPressOut(n),B(!1),null!=R&&R(n)}}},[O,N,h,j,C,S,I,L,R,D,B,z]),J=(0,f.default)(G);return l.createElement(p.default,(0,s.default)({},F,J,{ref:H,style:'function'==typeof k?k({pressed:A}):k,collapsable:!1}),'function'==typeof M?M({pressed:A}):M,null)}));v.displayName='Pressable';var O=v;e.default=O},319,[2,32,33,51,55,320,216,321,215,88]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,s){var c=null!=n?n:{},f=c.color,p=c.borderless,v=c.radius;return(0,u.useMemo)(function(){if('android'===l.Platform.OS&&l.Platform.Version>=21&&(null!=f||null!=p||null!=v)){var n=(0,l.processColor)(f);return(0,t.default)(null==n||'number'==typeof n,'Unexpected color given for Ripple color'),{viewProps:{nativeBackgroundAndroid:{type:'RippleAndroid',color:n,borderless:!0===p,rippleRadius:v}},onPressIn:function(n){var t,l,u=s.current;null!=u&&(o.Commands.setPressed(u,!0),o.Commands.hotspotUpdate(u,null!=(t=n.nativeEvent.locationX)?t:0,null!=(l=n.nativeEvent.locationY)?l:0))},onPressMove:function(n){var t,l,u=s.current;null!=u&&o.Commands.hotspotUpdate(u,null!=(t=n.nativeEvent.locationX)?t:0,null!=(l=n.nativeEvent.locationY)?l:0)},onPressOut:function(n){var t=s.current;null!=t&&o.Commands.setPressed(t,!1)}}}return null},[f,p,v,s])};var t=n(r(d[1])),o=r(d[2]),l=r(d[3]),u=(function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=s(t);if(o&&o.has(n))return o.get(n);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var f=u?Object.getOwnPropertyDescriptor(n,c):null;f&&(f.get||f.set)?Object.defineProperty(l,c,f):l[c]=n[c]}l.default=n,o&&o.set(n,l);return l})(r(d[4]));function s(n){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(s=function(n){return n?o:t})(n)}},320,[2,8,89,7,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var t=(0,l.useRef)(null);null!=n&&null==t.current&&(t.current=new u.default(n));var f=t.current;return(0,l.useEffect)(function(){null!=n&&null!=f&&f.configure(n)},[n,f]),(0,l.useEffect)(function(){if(null!=f)return function(){f.reset()}},[f]),null==f?null:f.getEventHandlers()};var u=n(r(d[1])),l=r(d[2])},321,[2,213,55]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},322,[300]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),f=t(r(d[2])),n=r(d[3]),o=r(d[4]).create({progressView:{height:2}}),u=n.forwardRef(function(t,u){return n.createElement(f.default,(0,s.default)({},t,{style:[o.progressView,t.style],ref:u}))});m.exports=u},323,[2,32,324,55,58]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('RCTProgressView');e.default=u},324,[2,195]);
__d(function(g,r,i,a,m,e,d){var t,n=r(d[0]),u=n(r(d[1])),f=n(r(d[2])),o=n(r(d[3])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=s(n);if(u&&u.has(t))return u.get(t);var f={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=o?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=t[l]}f.default=t,u&&u.set(t,f);return f})(r(d[4])),p=n(r(d[5])),c=["emulateUnlessSupported"];function s(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(s=function(t){return t?u:n})(t)}if('android'===o.default.OS)t=l.forwardRef(function(t,n){t.emulateUnlessSupported;var o=(0,f.default)(t,c);return l.createElement(p.default,(0,u.default)({},o,{ref:n}))});else{var y=r(d[6]).default;t=l.forwardRef(function(t,n){return l.createElement(y,(0,u.default)({emulateUnlessSupported:!0},t,{ref:n}))})}m.exports=t},325,[2,32,51,53,55,88,326]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=(0,t(r(d[1])).default)('SafeAreaView',{paperComponentName:'RCTSafeAreaView',interfaceOnly:!0});e.default=f},326,[2,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),p=t(r(d[7])),s=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=C(n);if(o&&o.has(t))return o.get(t);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=f?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(u,l,c):u[l]=t[l]}u.default=t,o&&o.set(t,u);return u})(r(d[8])),h=t(r(d[9])),y=t(r(d[10])),v=["forwardedRef","onValueChange","style"];function C(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(C=function(t){return t?o:n})(t)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var O=(function(t){(0,l.default)(b,t);var h,C,O=(h=b,C=w(),function(){var t,n=(0,p.default)(h);if(C){var o=(0,p.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function b(){var t;(0,u.default)(this,b);for(var n=arguments.length,o=new Array(n),f=0;f<n;f++)o[f]=arguments[f];return(t=O.call.apply(O,[this].concat(o)))._onChange=function(n){t.props.onChange&&t.props.onChange(n),t.props.onValueChange&&t.props.onValueChange(n.nativeEvent.value)},t}return(0,f.default)(b,[{key:"render",value:function(){var t=this.props,u=t.forwardedRef,f=(t.onValueChange,t.style),l=(0,o.default)(t,v);return s.createElement(y.default,(0,n.default)({},l,{ref:u,style:[R.segmentedControl,f],onChange:this._onChange}))}}]),b})(s.Component);O.defaultProps={values:[],enabled:!0};var R=h.default.create({segmentedControl:{height:28}}),b=s.forwardRef(function(t,o){return s.createElement(O,(0,n.default)({},t,{forwardedRef:o}))});m.exports=b},327,[2,32,51,12,13,20,22,19,55,58,328]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('RCTSegmentedControl');e.default=u},328,[2,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,l=r(d[0]),u=l(r(d[1])),t=l(r(d[2])),o=l(r(d[3])),s=["disabled","value","minimumValue","maximumValue","step","onValueChange","onSlidingComplete"],v=(r(d[4]),r(d[5])),f=r(d[6]),c=v.forwardRef(function(l,c){var p=f.compose(n.slider,l.style),V=l.disabled,h=void 0!==V&&V,C=l.value,S=void 0===C?.5:C,b=l.minimumValue,x=void 0===b?0:b,R=l.maximumValue,E=void 0===R?1:R,y=l.step,_=void 0===y?0:y,q=l.onValueChange,w=l.onSlidingComplete,T=(0,t.default)(l,s),j=q?function(n){q(n.nativeEvent.value)}:null,k=j,z=w?function(n){w(n.nativeEvent.value)}:null;return v.createElement(o.default,(0,u.default)({},T,{enabled:!h,disabled:h,maximumValue:E,minimumValue:x,onChange:k,onResponderTerminationRequest:function(){return!1},onSlidingComplete:z,onStartShouldSetResponder:function(){return!0},onValueChange:j,ref:c,step:_,style:p,value:S}))});n=f.create({slider:{height:40}}),m.exports=c},329,[2,32,51,330,53,55,58]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=(0,t(r(d[1])).default)('Slider',{interfaceOnly:!0,paperComponentName:'RCTSlider'});e.default=l},330,[2,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),l=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6])),f=(t(r(d[7])),t(r(d[8])));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[9]);var y=r(d[10]);r(d[11]),r(d[12]);function k(t){return{backgroundColor:null!=t.backgroundColor?{value:t.backgroundColor,animated:t.animated}:null,barStyle:null!=t.barStyle?{value:t.barStyle,animated:t.animated}:null,translucent:t.translucent,hidden:null!=t.hidden?{value:t.hidden,animated:t.animated,transition:t.showHideTransition}:null,networkActivityIndicatorVisible:t.networkActivityIndicatorVisible}}var v=(function(t){(0,o.default)(h,t);var s,y,v=(s=h,y=p(),function(){var t,n=(0,c.default)(s);if(y){var l=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function h(){var t;(0,n.default)(this,h);for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];return(t=v.call.apply(v,[this].concat(o)))._stackEntry=null,t}return(0,l.default)(h,[{key:"componentDidMount",value:function(){this._stackEntry=h.pushStackEntry(this.props)}},{key:"componentWillUnmount",value:function(){h.popStackEntry(this._stackEntry)}},{key:"componentDidUpdate",value:function(){this._stackEntry=h.replaceStackEntry(this._stackEntry,this.props)}},{key:"render",value:function(){return null}}],[{key:"setHidden",value:function(t,n){n=n||'none',h._defaultProps.hidden.value=t,f.default.setHidden(t,n)}},{key:"setBarStyle",value:function(t,n){n=n||!1,h._defaultProps.barStyle.value=t,f.default.setStyle(t,n)}},{key:"setNetworkActivityIndicatorVisible",value:function(t){h._defaultProps.networkActivityIndicatorVisible=t,f.default.setNetworkActivityIndicatorVisible(t)}},{key:"setBackgroundColor",value:function(t,n){console.warn('`setBackgroundColor` is only available on Android')}},{key:"setTranslucent",value:function(t){console.warn('`setTranslucent` is only available on Android')}},{key:"pushStackEntry",value:function(t){var n=k(t);return h._propsStack.push(n),h._updatePropsStack(),n}},{key:"popStackEntry",value:function(t){var n=h._propsStack.indexOf(t);-1!==n&&h._propsStack.splice(n,1),h._updatePropsStack()}},{key:"replaceStackEntry",value:function(t,n){var l=k(n),o=h._propsStack.indexOf(t);return-1!==o&&(h._propsStack[o]=l),h._updatePropsStack(),l}}]),h})(y.Component);v._propsStack=[],v._defaultProps=k({animated:!1,showHideTransition:'fade',backgroundColor:'black',barStyle:'default',translucent:!1,hidden:!1,networkActivityIndicatorVisible:!1}),v._updateImmediate=null,v._currentValues=null,v.currentHeight=null,v.defaultProps={animated:!1,showHideTransition:'fade'},v._updatePropsStack=function(){clearImmediate(v._updateImmediate),v._updateImmediate=setImmediate(function(){var t,n,l=v._currentValues,o=(t=v._propsStack,n=v._defaultProps,t.reduce(function(t,n){for(var l in n)null!=n[l]&&(t[l]=n[l]);return t},(0,s.default)({},n)));l&&l.barStyle.value===o.barStyle.value||f.default.setStyle(o.barStyle.value,o.barStyle.animated||!1),l&&l.hidden.value===o.hidden.value||f.default.setHidden(o.hidden.value,o.hidden.animated?o.hidden.transition:'none'),l&&l.networkActivityIndicatorVisible===o.networkActivityIndicatorVisible||f.default.setNetworkActivityIndicatorVisible(o.networkActivityIndicatorVisible),v._currentValues=o})},m.exports=v},331,[2,12,13,20,22,19,32,332,333,53,55,8,68]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var s=l?Object.getOwnPropertyDescriptor(n,c):null;s&&(s.get||s.set)?Object.defineProperty(f,c,s):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('StatusBarManager'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o},setColor:function(t,o){n.setColor(t,o)},setTranslucent:function(t){n.setTranslucent(t)},setStyle:function(t){n.setStyle(t)},setHidden:function(t){n.setHidden(t)}};e.default=u},332,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if("default"!==s&&Object.prototype.hasOwnProperty.call(n,s)){var l=c?Object.getOwnPropertyDescriptor(n,s):null;l&&(l.get||l.set)?Object.defineProperty(f,s,l):f[s]=n[s]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('StatusBarManager'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o},getHeight:function(t){n.getHeight(t)},setNetworkActivityIndicatorVisible:function(t){n.setNetworkActivityIndicatorVisible(t)},addListener:function(t){n.addListener(t)},removeListeners:function(t){n.removeListeners(t)},setStyle:function(t,o){n.setStyle(t,o)},setHidden:function(t,o){n.setHidden(t,o)}};e.default=u},333,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6])),f=t(r(d[7])),h=t(r(d[8])),p=_(r(d[9])),v=t(r(d[10])),C=_(r(d[11])),y=_(r(d[12])),R=["disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value"];function b(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(b=function(t){return t?o:n})(t)}function _(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=b(n);if(o&&o.has(t))return o.get(t);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var s=u?Object.getOwnPropertyDescriptor(t,c):null;s&&(s.get||s.set)?Object.defineProperty(l,c,s):l[c]=t[c]}return l.default=t,o&&o.set(t,l),l}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var S=(function(t){(0,c.default)(V,t);var b,_,S=(b=V,_=w(),function(){var t,n=(0,f.default)(b);if(_){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function V(){var t;(0,l.default)(this,V);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t=S.call.apply(S,[this].concat(o)))._handleChange=function(n){null!=t.props.onChange&&t.props.onChange(n),null!=t.props.onValueChange&&t.props.onValueChange(n.nativeEvent.value),t._lastNativeValue=n.nativeEvent.value,t.forceUpdate()},t._handleSwitchNativeComponentRef=function(n){t._nativeSwitchRef=n},t}return(0,u.default)(V,[{key:"render",value:function(){var t=this.props,l=t.disabled,u=t.ios_backgroundColor,c=(t.onChange,t.onValueChange,t.style),s=t.thumbColor,f=t.trackColor,b=t.value,_=(0,o.default)(t,R),w=null==f?void 0:f.false,S=null==f?void 0:f.true;if('android'===h.default.OS){var V,j={enabled:!0!==l,on:!0===b,style:c,thumbTintColor:s,trackColorForFalse:w,trackColorForTrue:S,trackTintColor:!0===b?S:w};return p.createElement(C.default,(0,n.default)({},_,j,{accessibilityRole:null!=(V=_.accessibilityRole)?V:'switch',onChange:this._handleChange,onResponderTerminationRequest:k,onStartShouldSetResponder:O,ref:this._handleSwitchNativeComponentRef}))}var N,P={disabled:l,onTintColor:S,style:v.default.compose({height:31,width:51},v.default.compose(c,null==u?null:{backgroundColor:u,borderRadius:16})),thumbTintColor:s,tintColor:w,value:!0===b};return p.createElement(y.default,(0,n.default)({},_,P,{accessibilityRole:null!=(N=_.accessibilityRole)?N:'switch',onChange:this._handleChange,onResponderTerminationRequest:k,onStartShouldSetResponder:O,ref:this._handleSwitchNativeComponentRef}))}},{key:"componentDidUpdate",value:function(){var t={},n=!0===this.props.value;this._lastNativeValue!==n&&(t.value=n),Object.keys(t).length>0&&this._nativeSwitchRef&&this._nativeSwitchRef.setNativeProps&&('android'===h.default.OS?C.Commands.setNativeValue(this._nativeSwitchRef,t.value):y.Commands.setValue(this._nativeSwitchRef,t.value))}}]),V})(p.Component),k=function(){return!1},O=function(){return!0};m.exports=S},334,[2,32,51,12,13,20,22,19,53,55,58,335,336]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=t[c]}f.default=t,o&&o.set(t,f)})(r(d[1]));var n=t(r(d[2])),o=t(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f=(0,n.default)({supportedCommands:['setNativeValue']});e.Commands=f;var l=(0,o.default)('AndroidSwitch',{interfaceOnly:!0});e.default=l},335,[2,55,90,195]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=o(n);if(u&&u.has(t))return u.get(t);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var c=l?Object.getOwnPropertyDescriptor(t,p):null;c&&(c.get||c.set)?Object.defineProperty(f,p,c):f[p]=t[p]}f.default=t,u&&u.set(t,f)})(r(d[1]));var n=t(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(o=function(t){return t?u:n})(t)}var u=(0,t(r(d[3])).default)({supportedCommands:['setValue']});e.Commands=u;var f=(0,n.default)('Switch',{paperComponentName:'RCTSwitch',excludedPlatforms:['android']});e.default=f},336,[2,55,195,90]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t,u,l,o,c=r(d[0]),s=r(d[1]),f=r(d[2]),v=(r(d[3]),r(d[4])),p=r(d[5]),y=(r(d[6]),r(d[7])),C=r(d[8]),b=r(d[9]),I=(r(d[10]),r(d[11])),S=r(d[12]),R=v.useLayoutEffect,T=v.useRef,F=v.useState;t=r(d[13]).default,u=r(d[13]).Commands,l=r(d[14]).default,o=r(d[14]).Commands;var h=function(){return!0};function E(f){var p,E,x,D=T(null),L=null==f.selection?null:{start:f.selection.start,end:null!=(p=f.selection.end)?p:f.selection.start},w=F(0),O=s(w,2),j=O[0],A=O[1],B=F(f.value),V=s(B,2),z=V[0],_=V[1],k=F({selection:L,mostRecentEventCount:j}),N=s(k,2),q=N[0],G=N[1],H=q.selection;q.mostRecentEventCount<j&&(L=null),x=n||(f.multiline?o:u);var J='string'==typeof f.value?f.value:'string'==typeof f.defaultValue?f.defaultValue:'';function K(){null!=D.current&&x.setTextAndSelection(D.current,j,'',0,0)}function M(){return C.currentlyFocusedInput()===D.current}function Q(){return D.current}R(function(){var n,t,u,l,o={};(z!==f.value&&'string'==typeof f.value&&(o.text=f.value,_(f.value)),L&&H&&(H.start!==L.start||H.end!==L.end)&&(o.selection=L,G({selection:L,mostRecentEventCount:j})),0!==Object.keys(o).length)&&(null!=D.current&&x.setTextAndSelection(D.current,j,J,null!=(n=null==(t=L)?void 0:t.start)?n:-1,null!=(u=null==(l=L)?void 0:l.end)?u:-1))},[j,D,f.value,f.defaultValue,z,L,H,J,x]),R(function(){var n=D.current;if(null!=n)return C.registerInput(n),function(){C.unregisterInput(n),C.currentlyFocusedInput()===n&&I(n).blur()}},[D]);var U,W=S({getForwardedRef:function(){return f.forwardedRef},setLocalRef:function(n){D.current=n,n&&(n.clear=K,n.isFocused=M,n.getNativeRef=Q)}}),X=c({},null),Y=null!=(E=f.blurOnSubmit)?E:!f.multiline,Z=f.multiline?l:t,$=f.multiline?[P.multilineInput,f.style]:f.style;return X.rejectResponderTermination=f.rejectResponderTermination,U=v.createElement(Z,c({ref:W},f,{blurOnSubmit:Y,dataDetectorTypes:f.dataDetectorTypes,mostRecentEventCount:j,onBlur:function(n){C.blurInput(D.current),f.onBlur&&f.onBlur(n)},onChange:function(n){var t=n.nativeEvent.text;f.onChange&&f.onChange(n),f.onChangeText&&f.onChangeText(t),null!=D.current&&(_(t),A(n.nativeEvent.eventCount))},onContentSizeChange:f.onContentSizeChange,onFocus:function(n){C.focusInput(D.current),f.onFocus&&f.onFocus(n)},onScroll:function(n){f.onScroll&&f.onScroll(n)},onSelectionChange:function(n){f.onSelectionChange&&f.onSelectionChange(n),null!=D.current&&G({selection:n.nativeEvent.selection,mostRecentEventCount:j})},onSelectionChangeShouldSetResponder:h,selection:L,style:$,text:J})),v.createElement(y.Provider,{value:!0},v.createElement(b,c({onLayout:f.onLayout,onPress:function(n){(f.editable||void 0===f.editable)&&I(D.current).focus()},onPressIn:f.onPressIn,onPressOut:f.onPressOut,accessible:f.accessible,accessibilityLabel:f.accessibilityLabel,accessibilityRole:f.accessibilityRole,accessibilityState:f.accessibilityState,nativeID:f.nativeID,testID:f.testID},X),U))}var x=v.forwardRef(function(n,t){return v.createElement(E,c({},n,{forwardedRef:t}))});x.defaultProps={allowFontScaling:!0,rejectResponderTermination:!0,underlineColorAndroid:'transparent'},x.propTypes=f,x.State={currentlyFocusedInput:C.currentlyFocusedInput,currentlyFocusedField:C.currentlyFocusedField,focusTextInput:C.focusTextInput,blurTextInput:C.blurTextInput};var P=p.create({multilineInput:{paddingTop:5}});m.exports=x},337,[32,33,338,53,55,58,197,193,168,341,8,211,250,185,342]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),t=r(d[2]),l=r(d[3]),s=r(d[4]),u=['phoneNumber','link','address','calendarEvent','none','all'];m.exports=n({},t,{autoCapitalize:l.oneOf(['none','sentences','words','characters']),autoCompleteType:l.oneOf(['cc-csc','cc-exp','cc-exp-month','cc-exp-year','cc-number','email','name','password','postal-code','street-address','tel','username','off']),autoCorrect:l.bool,spellCheck:l.bool,autoFocus:l.bool,allowFontScaling:l.bool,maxFontSizeMultiplier:l.number,editable:l.bool,keyboardType:l.oneOf(['default','email-address','numeric','phone-pad','number-pad','ascii-capable','numbers-and-punctuation','url','name-phone-pad','decimal-pad','twitter','web-search','ascii-capable-number-pad','visible-password']),keyboardAppearance:l.oneOf(['default','light','dark']),returnKeyType:l.oneOf(['done','go','next','search','send','none','previous','default','emergency-call','google','join','route','yahoo']),returnKeyLabel:l.string,maxLength:l.number,numberOfLines:l.number,disableFullscreenUI:l.bool,enablesReturnKeyAutomatically:l.bool,multiline:l.bool,textBreakStrategy:l.oneOf(['simple','highQuality','balanced']),onBlur:l.func,onFocus:l.func,onChange:l.func,onChangeText:l.func,onContentSizeChange:l.func,onTextInput:l.func,onEndEditing:l.func,onSelectionChange:l.func,onSubmitEditing:l.func,onKeyPress:l.func,onLayout:l.func,onScroll:l.func,placeholder:l.string,placeholderTextColor:o,scrollEnabled:l.bool,secureTextEntry:l.bool,selectionColor:o,selection:l.shape({start:l.number.isRequired,end:l.number}),value:l.string,defaultValue:l.string,clearButtonMode:l.oneOf(['never','while-editing','unless-editing','always']),clearTextOnFocus:l.bool,selectTextOnFocus:l.bool,blurOnSubmit:l.bool,style:s.propTypes.style,underlineColorAndroid:o,inlineImageLeft:l.string,inlineImagePadding:l.number,rejectResponderTermination:l.bool,dataDetectorTypes:l.oneOfType([l.oneOf(u),l.arrayOf(l.oneOf(u))]),caretHidden:l.bool,contextMenuHidden:l.bool,inputAccessoryViewID:l.string,textContentType:l.oneOf(['none','URL','addressCity','addressCityAndState','addressState','countryName','creditCardNumber','emailAddress','familyName','fullStreetAddress','givenName','jobTitle','location','middleName','name','namePrefix','nameSuffix','nickname','organizationName','postalCode','streetAddressLine1','streetAddressLine2','sublocality','telephoneNumber','username','password','newPassword','oneTimeCode']),showSoftInputOnFocus:l.bool})},338,[32,64,339,70,197]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),s=r(d[2]),t=r(d[3]),c=r(d[4]).DeprecatedAccessibilityRoles,l=n(s);m.exports={accessible:t.bool,accessibilityLabel:t.node,accessibilityHint:t.string,accessibilityActions:t.arrayOf(t.string),accessibilityIgnoresInvertColors:t.bool,accessibilityRole:t.oneOf(c),accessibilityState:t.object,accessibilityValue:t.object,accessibilityLiveRegion:t.oneOf(['none','polite','assertive']),importantForAccessibility:t.oneOf(['auto','yes','no','no-hide-descendants']),accessibilityViewIsModal:t.bool,accessibilityElementsHidden:t.bool,onAccessibilityAction:t.func,onAccessibilityTap:t.func,onMagicTap:t.func,testID:t.string,nativeID:t.string,onResponderGrant:t.func,onResponderMove:t.func,onResponderReject:t.func,onResponderRelease:t.func,onResponderTerminate:t.func,onResponderTerminationRequest:t.func,onStartShouldSetResponder:t.func,onStartShouldSetResponderCapture:t.func,onMoveShouldSetResponder:t.func,onMoveShouldSetResponderCapture:t.func,hitSlop:o,onLayout:t.func,pointerEvents:t.oneOf(['box-none','none','box-only','auto']),style:l,removeClippedSubviews:t.bool,renderToHardwareTextureAndroid:t.bool,shouldRasterizeIOS:t.bool,collapsable:t.bool,needsOffscreenAlphaCompositing:t.bool}},339,[202,203,82,70,340]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={DeprecatedAccessibilityRoles:['none','button','link','search','image','keyboardkey','text','adjustable','imagebutton','header','summary','alert','checkbox','combobox','menu','menubar','menuitem','progressbar','radio','radiogroup','scrollbar','spinbutton','switch','tab','tablist','timer','toolbar']}},340,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),u=t(r(d[6])),f=t(r(d[7])),p=t(r(d[8])),y=(r(d[9]),t(r(d[10])),(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=h(n);if(s&&s.has(t))return s.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var u=c?Object.getOwnPropertyDescriptor(t,l):null;u&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=t[l]}o.default=t,s&&s.set(t,o);return o})(r(d[11]))),b=["onBlur","onFocus"];function h(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(h=function(t){return t?s:n})(t)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var P=['accessibilityActions','accessibilityElementsHidden','accessibilityHint','accessibilityIgnoresInvertColors','accessibilityLabel','accessibilityLiveRegion','accessibilityRole','accessibilityState','accessibilityValue','accessibilityViewIsModal','hitSlop','importantForAccessibility','nativeID','onAccessibilityAction','onBlur','onFocus','onLayout','testID'],O=(function(t){(0,l.default)(w,t);var h,O,I=(h=w,O=v(),function(){var t,n=(0,f.default)(h);if(O){var s=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function w(){var t;(0,o.default)(this,w);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=I.call.apply(I,[this].concat(s))).state={pressability:new p.default(R(t.props))},t}return(0,c.default)(w,[{key:"render",value:function(){for(var t=y.Children.only(this.props.children),o=[t.props.children],c=this.state.pressability.getEventHandlers(),l=(c.onBlur,c.onFocus,(0,s.default)(c,b)),u=(0,n.default)({},l,{accessible:!1!==this.props.accessible,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress}),f=0,p=P;f<p.length;f++){var h=p[f];void 0!==this.props[h]&&(u[h]=this.props[h])}return y.cloneElement.apply(y,[t,u].concat(o))}},{key:"componentDidUpdate",value:function(){this.state.pressability.configure(R(this.props))}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}]),w})(y.Component);function R(t){return{cancelable:!t.rejectResponderTermination,disabled:t.disabled,hitSlop:t.hitSlop,delayLongPress:t.delayLongPress,delayPressIn:t.delayPressIn,delayPressOut:t.delayPressOut,minPressDuration:0,pressRectOffset:t.pressRetentionOffset,android_disableSound:t.touchSoundDisabled,onBlur:t.onBlur,onFocus:t.onFocus,onLongPress:t.onLongPress,onPress:t.onPress,onPressIn:t.onPressIn,onPressOut:t.onPressOut}}m.exports=O},341,[2,32,51,12,13,20,22,19,213,216,88,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var u=t(r(d[1])),l=(0,t(r(d[2])).default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=l;var n=(0,u.default)('RCTMultilineTextInputView');e.default=n},342,[2,170,90]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),l=t(r(d[4])),u=t(r(d[5])),p=t(r(d[6])),c=t(r(d[7])),h=t(r(d[8])),y=(r(d[9]),t(r(d[10]))),f=t(r(d[11])),b=t(r(d[12])),_=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=v(s);if(o&&o.has(t))return o.get(t);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var p=l?Object.getOwnPropertyDescriptor(t,u):null;p&&(p.get||p.set)?Object.defineProperty(n,u,p):n[u]=t[u]}n.default=t,o&&o.set(t,n);return n})(r(d[13])),P=["onBlur","onFocus"];function v(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,o=new WeakMap;return(v=function(t){return t?o:s})(t)}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var F=(function(t){(0,u.default)(w,t);var v,F,O=(v=w,F=T(),function(){var t,s=(0,c.default)(v);if(F){var o=(0,c.default)(this).constructor;t=Reflect.construct(s,arguments,o)}else t=s.apply(this,arguments);return(0,p.default)(this,t)});function w(){var t;(0,n.default)(this,w);for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return(t=O.call.apply(O,[this].concat(o)))._isMounted=!1,t.state={pressability:new h.default(t._createPressabilityConfig()),extraStyles:!0===t.props.testOnly_pressed?t._createExtraStyles():null},t}return(0,l.default)(w,[{key:"_createPressabilityConfig",value:function(){var t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:this.props.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onBlur:function(s){f.default.isTV&&t._hideUnderlay(),null!=t.props.onBlur&&t.props.onBlur(s)},onFocus:function(s){f.default.isTV&&t._showUnderlay(),null!=t.props.onFocus&&t.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:function(s){var o;(null!=t._hideTimeout&&clearTimeout(t._hideTimeout),f.default.isTV)||(t._showUnderlay(),t._hideTimeout=setTimeout(function(){t._hideUnderlay()},null!=(o=t.props.delayPressOut)?o:0));null!=t.props.onPress&&t.props.onPress(s)},onPressIn:function(s){null!=t._hideTimeout&&(clearTimeout(t._hideTimeout),t._hideTimeout=null),t._showUnderlay(),null!=t.props.onPressIn&&t.props.onPressIn(s)},onPressOut:function(s){null==t._hideTimeout&&t._hideUnderlay(),null!=t.props.onPressOut&&t.props.onPressOut(s)}}}},{key:"_createExtraStyles",value:function(){var t;return{child:{opacity:null!=(t=this.props.activeOpacity)?t:.85},underlay:{backgroundColor:void 0===this.props.underlayColor?'black':this.props.underlayColor}}}},{key:"_showUnderlay",value:function(){this._isMounted&&this._hasPressHandler()&&(this.setState({extraStyles:this._createExtraStyles()}),null!=this.props.onShowUnderlay&&this.props.onShowUnderlay())}},{key:"_hideUnderlay",value:function(){null!=this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=null),!0!==this.props.testOnly_pressed&&this._hasPressHandler()&&(this.setState({extraStyles:null}),null!=this.props.onHideUnderlay&&this.props.onHideUnderlay())}},{key:"_hasPressHandler",value:function(){return null!=this.props.onPress||null!=this.props.onPressIn||null!=this.props.onPressOut||null!=this.props.onLongPress}},{key:"render",value:function(){var t,n,l=_.Children.only(this.props.children),u=this.state.pressability.getEventHandlers(),p=(u.onBlur,u.onFocus,(0,o.default)(u,P));return _.createElement(b.default,(0,s.default)({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityValue:this.props.accessibilityValue,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:y.default.compose(this.props.style,null==(t=this.state.extraStyles)?void 0:t.underlay),onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,hasTVPreferredFocus:this.props.hasTVPreferredFocus,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,nativeID:this.props.nativeID,testID:this.props.testID,ref:this.props.hostRef},p),_.cloneElement(l,{style:y.default.compose(l.props.style,null==(n=this.state.extraStyles)?void 0:n.child)}),null)}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(t,s){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this.state.pressability.reset()}}]),w})(_.Component);m.exports=_.forwardRef(function(t,o){return _.createElement(F,(0,s.default)({},t,{hostRef:o}))})},343,[2,32,51,12,13,20,22,19,213,216,58,53,88,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=["tintColor","destructiveButtonIndex"],s=r(d[4]),c=r(d[5]),f={showActionSheetWithOptions:function(t,f){s('object'==typeof t&&null!==t,'Options must be a valid object'),s('function'==typeof f,'Must provide a valid callback'),s(l.default,"ActionSheetManager doesn't exist");var h=t.tintColor,p=t.destructiveButtonIndex,v=(0,n.default)(t,u),b=null;Array.isArray(p)?b=p:'number'==typeof p&&(b=[p]);var S=c(h);s(null==S||'number'==typeof S,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions tintColor'),l.default.showActionSheetWithOptions((0,o.default)({},v,{tintColor:S,destructiveButtonIndices:b}),f)},showShareActionSheetWithOptions:function(t,n,u){s('object'==typeof t&&null!==t,'Options must be a valid object'),s('function'==typeof n,'Must provide a valid failureCallback'),s('function'==typeof u,'Must provide a valid successCallback'),s(l.default,"ActionSheetManager doesn't exist"),l.default.showShareActionSheetWithOptions((0,o.default)({},t,{tintColor:c(t.tintColor)}),n,u)}};m.exports=f},344,[2,32,51,345,8,68]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('ActionSheetManager');e.default=n},345,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),l=n(r(d[2])),o=n(r(d[3])),c=n(r(d[4])),u=(r(d[5]),new t.default);o.default&&new l.default(o.default).addListener('appearanceChanged',function(n){var t=n.colorScheme;(0,c.default)('dark'===t||'light'===t||null==t,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),u.emit('change',{colorScheme:t})});m.exports={getColorScheme:function(){var n=null==o.default?null:o.default.getColorScheme()||null;return(0,c.default)('dark'===n||'light'===n||null==n,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),n},addChangeListener:function(n){u.addListener('change',n)},removeChangeListener:function(n){u.removeListener('change',n)}}},346,[2,24,131,347,8,348]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var l=c?Object.getOwnPropertyDescriptor(n,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=n[p]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('Appearance');e.default=n},347,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncDebugging=void 0;e.isAsyncDebugging=!1},348,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t=r(d[0]),o=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),f=r(d[5]),l=r(d[6]),p=r(d[7]),y=r(d[8]),h=r(d[9]),k=r(d[10]),C=r(d[11]),b={},v=1,A={},T=new Map,R=new Map,w=function(n){return n()},H=!1,S={setWrapperComponentProvider:function(t){n=t},enableArchitectureIndicator:function(n){H=n},registerConfig:function(n){n.forEach(function(n){n.run?S.registerRunnable(n.appKey,n.run):(k(null!=n.component,"AppRegistry.registerConfig(...): Every config is expected to set either `run` or `component`, but `%s` has neither.",n.appKey),S.registerComponent(n.appKey,n.component,n.section))})},registerComponent:function(t,o,u){var c=(0,s.default)();return b[t]={componentProvider:o,run:function(s){C(w(o,c),s.initialProps,s.rootTag,n&&n(s),s.fabric,H,c,'LogBox'===t)}},u&&(A[t]=b[t]),t},registerRunnable:function(n,t){return b[n]={run:t},n},registerSection:function(n,t){S.registerComponent(n,t,!0)},getAppKeys:function(){return Object.keys(b)},getSectionKeys:function(){return Object.keys(A)},getSections:function(){return(0,o.default)({},A)},getRunnable:function(n){return b[n]},getRegistry:function(){return{sections:S.getSectionKeys(),runnables:(0,o.default)({},b)}},setComponentProviderInstrumentationHook:function(n){w=n},runApplication:function(n,t){if('LogBox'!==n){var o='Running "'+n+'" with '+JSON.stringify(t);h(o),l.addSource('AppRegistry.runApplication'+v++,function(){return o})}k(b[n]&&b[n].run,"\""+n+"\" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called."),y.setActiveScene({name:n}),b[n].run(t)},unmountApplicationComponentAtRootTag:function(n){p.unmountComponentAtNodeAndRemoveContainer(n)},registerHeadlessTask:function(n,t){this.registerCancellableHeadlessTask(n,t,function(){return function(){}})},registerCancellableHeadlessTask:function(n,t,o){T.has(n)&&console.warn("registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '"+n+"'"),T.set(n,t),R.set(n,o)},startHeadlessTask:function(n,t,o){var s=T.get(t);if(!s)return console.warn("No task registered for key "+t),void(u.default&&u.default.notifyTaskFinished(n));s()(o).then(function(){u.default&&u.default.notifyTaskFinished(n)}).catch(function(t){console.error(t),u.default&&t instanceof c.default&&u.default.notifyTaskRetry(n).then(function(t){t||u.default.notifyTaskFinished(n)})})},cancelHeadlessTask:function(n,t){var o=R.get(t);if(!o)throw new Error("No task canceller registered for key '"+t+"'");o()()}};f.registerCallableModule('AppRegistry',S),S.registerComponent('LogBox',function(){return function(){return null}}),m.exports=S},349,[2,32,128,350,351,39,352,91,356,129,8,357]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('HeadlessJsTaskSupport');e.default=n},350,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),f=t(r(d[3])),c=t(r(d[4])),o=t(r(d[5]));function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var s=(function(t){(0,f.default)(y,t);var s,p,v=(s=y,p=l(),function(){var t,u=(0,o.default)(s);if(p){var n=(0,o.default)(this).constructor;t=Reflect.construct(u,arguments,n)}else t=u.apply(this,arguments);return(0,c.default)(this,t)});function y(){return(0,n.default)(this,y),v.apply(this,arguments)}return(0,u.default)(y)})((0,t(r(d[6])).default)(Error));e.default=s},351,[2,13,12,20,22,19,100]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6]));function f(t,n){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(u)return(u=u.call(t)).next.bind(u);if(Array.isArray(t)||(u=y(t))||n&&t&&"number"==typeof t.length){u&&(t=u);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t,n){if(t){if("string"==typeof t)return b(t,n);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?Array.from(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?b(t,n):void 0}}function b(t,n){(null==n||n>t.length)&&(n=t.length);for(var u=0,o=new Array(n);u<n;u++)o[u]=t[u];return o}function v(){p.addFileSource('react_hierarchy.txt',function(){return r(d[7])()})}var p=(function(){function t(){(0,u.default)(this,t)}return(0,o.default)(t,null,[{key:"_maybeInit",value:function(){t._subscription||(t._subscription=l.default.addListener('collectBugExtraData',t.collectExtraData,null),v()),t._redboxSubscription||(t._redboxSubscription=l.default.addListener('collectRedBoxExtraData',t.collectExtraData,null))}},{key:"addSource",value:function(n,u){return this._addSource(n,u,t._extraSources)}},{key:"addFileSource",value:function(n,u){return this._addSource(n,u,t._fileSources)}},{key:"_addSource",value:function(n,u,o){return t._maybeInit(),o.has(n)&&console.warn("BugReporting.add* called multiple times for same key '"+n+"'"),o.set(n,u),{remove:function(){o.delete(n)}}}},{key:"collectExtraData",value:function(){for(var u,o={},l=f(t._extraSources);!(u=l()).done;){var y=u.value,b=(0,n.default)(y,2),v=b[0],p=b[1];o[v]=p()}for(var x,S={},_=f(t._fileSources);!(x=_()).done;){var h=x.value,E=(0,n.default)(h,2),D=E[0],k=E[1];S[D]=k()}return null!=s.default&&null!=s.default.setExtraData&&s.default.setExtraData(o,S),null!=c.default&&null!=c.default.setExtraData&&c.default.setExtraData(o,'From BugReporting.js'),{extras:o,files:S}}}]),t})();p._extraSources=new Map,p._fileSources=new Map,p._subscription=null,p._redboxSubscription=null,m.exports=p},352,[2,33,12,13,11,353,354,355]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('RedBox');e.default=n},353,[30]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('BugReporting');e.default=n},354,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){try{return"React tree dumps have been temporarily disabled while React is upgraded to Fiber."}catch(t){return'Failed to dump react tree: '+t}}},355,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=[],t={name:'default'},c={setActiveScene:function(c){t=c,n.forEach(function(n){return n(t)})},getActiveScene:function(){return t},addActiveSceneChangedListener:function(t){return n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}};m.exports=c},356,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),l=r(d[4]),p=r(d[5]),s=r(d[6]);r(d[7]),m.exports=function(t,u,f,_,v,x,E,T){s(f,'Expect to have a valid rootTag, instead got ',f);var b=null!=E?E:o.default,h=p.createElement(c.default.Provider,{value:b},p.createElement(l,{rootTag:f,fabric:v,showArchitectureIndicator:x,WrapperComponent:_,initialProps:null!=u?u:Object.freeze({}),internal_excludeLogBox:T},p.createElement(t,(0,n.default)({},u,{rootTag:f}))));b.startTimespan('renderApplication_React_render'),b.setExtra('usedReactFabric',v?'1':'0'),v?r(d[8]).render(h,f):r(d[9]).render(h,f),b.stopTimespan('renderApplication_React_render')}},357,[2,32,127,358,310,55,8,359,360,91]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var l=c?Object.getOwnPropertyDescriptor(t,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=t[p]}f.default=t,o&&o.set(t,f);return f})(r(d[1])),o=t(r(d[2]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f=n.createContext(o.default);m.exports=f},358,[2,55,127]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(){}m.exports=r(d[0]);var n={exitApp:t,addEventListener:function(n,o){return{remove:t}},removeEventListener:function(t,n){}};m.exports=n},359,[300]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,s=r(d[0]);t=r(d[1]),g.RN$Bridgeless?g.RN$stopSurface=t.stopSurface:s.BatchedBridge.registerCallableModule('ReactFabric',t),m.exports=t},360,[165,361]);
__d(function(e,n,t,r,l,a,i){"use strict";var o=n(i[0]);n(i[1]);var u=n(i[2]),s=n(i[3]),c=n(i[4]);function f(e,n,t,r,l,a,i,o,u){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}var d=!1,p=null,h=!1,g=null,m={onError:function(e){d=!0,p=e}};function v(e,n,t,r,l,a,i,o,u){d=!1,p=null,f.apply(m,arguments)}function y(e,n,t,r,l,a,i,o,u){if(v.apply(this,arguments),d){if(!d)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var s=p;d=!1,p=null,h||(h=!0,g=s)}}var b=null,S=null,k=null;function w(e,n,t){var r=e.type||"unknown-event";e.currentTarget=k(t),y(r,n,void 0,e),e.currentTarget=null}function E(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=n?k(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function x(){return!0}function P(){return!1}function R(e,n,t,r){for(var l in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(l)&&((n=e[l])?this[l]=n(t):"target"===l?this.target=r:this[l]=t[l]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?x:P,this.isPropagationStopped=P,this}function T(e,n,t,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,n,t,r),l}return new this(e,n,t,r)}function _(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function N(e){e.getPooled=T,e.eventPool=[],e.release=_}o(R.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=x)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=x)},persist:function(){this.isPersistent=x},isPersistent:P,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=P,this._dispatchInstances=this._dispatchListeners=null}}),R.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},R.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var l=new n;return o(l,t.prototype),t.prototype=l,t.prototype.constructor=t,t.Interface=o({},r.Interface,e),t.extend=r.extend,N(t),t},N(R);var C=R.extend({touchHistory:function(){return null}});function z(e){return"topTouchStart"===e}function I(e){return"topTouchMove"===e}var L=["topTouchStart"],A=["topTouchMove"],U=["topTouchCancel","topTouchEnd"],M=[],D={touchBank:M,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function H(e){return e.timeStamp||e.timestamp}function F(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function Q(e){var n=F(e),t=M[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=H(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=H(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=H(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:H(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:H(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:H(e)},M[n]=t),D.mostRecentTimeStamp=H(e)}function B(e){var n=M[F(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=H(e),D.mostRecentTimeStamp=H(e))}function j(e){var n=M[F(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=H(e),D.mostRecentTimeStamp=H(e))}var W={recordTouchTrack:function(e,n){if(I(e))n.changedTouches.forEach(B);else if(z(e))n.changedTouches.forEach(Q),D.numberActiveTouches=n.touches.length,1===D.numberActiveTouches&&(D.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(j),D.numberActiveTouches=n.touches.length,1===D.numberActiveTouches))for(e=0;e<M.length;e++)if(null!=(n=M[e])&&n.touchActive){D.indexOfSingleActiveTouch=e;break}},touchHistory:D};function O(e,n){if(null==n)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?n:Array.isArray(e)?e.concat(n):Array.isArray(n)?[e].concat(n):[e,n]}function V(e,n){if(null==n)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}function Y(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var q=null,X=0;function $(e,n){var t=q;q=e,null!==le.GlobalResponderHandler&&le.GlobalResponderHandler.onChange(t,e,n)}var G={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:L},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:A},responderStart:{registrationName:"onResponderStart",dependencies:L},responderMove:{registrationName:"onResponderMove",dependencies:A},responderEnd:{registrationName:"onResponderEnd",dependencies:U},responderRelease:{registrationName:"onResponderRelease",dependencies:U},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function K(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function J(e,n,t){for(var r=[];e;)r.push(e),e=K(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function Z(e,n){if(null===(e=e.stateNode))return null;if(null===(e=b(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function ee(e,n,t){(n=Z(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=V(t._dispatchListeners,n),t._dispatchInstances=V(t._dispatchInstances,e))}function ne(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Z(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=V(e._dispatchListeners,t),e._dispatchInstances=V(e._dispatchInstances,n))}}}function te(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;J(n=n?K(n):null,ee,e)}}function re(e){e&&e.dispatchConfig.phasedRegistrationNames&&J(e._targetInst,ee,e)}var le={_getResponder:function(){return q},eventTypes:G,extractEvents:function(e,n,t,r){if(z(e))X+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=X))return null;--X}if(W.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<X&&"topSelectionChange"===e||z(e)||I(e))){var l=z(e)?G.startShouldSetResponder:I(e)?G.moveShouldSetResponder:"topSelectionChange"===e?G.selectionChangeShouldSetResponder:G.scrollShouldSetResponder;if(q)e:{for(var a=q,i=0,o=a;o;o=K(o))i++;o=0;for(var u=n;u;u=K(u))o++;for(;0<i-o;)a=K(a),i--;for(;0<o-i;)n=K(n),o--;for(;i--;){if(a===n||a===n.alternate)break e;a=K(a),n=K(n)}a=null}else a=n;a=(n=a)===q,(l=C.getPooled(l,n,t,r)).touchHistory=W.touchHistory,Y(l,a?te:re);e:{if(a=l._dispatchListeners,n=l._dispatchInstances,Array.isArray(a)){for(i=0;i<a.length&&!l.isPropagationStopped();i++)if(a[i](l,n[i])){a=n[i];break e}}else if(a&&a(l,n)){a=n;break e}a=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),a&&a!==q)if((l=C.getPooled(G.responderGrant,a,t,r)).touchHistory=W.touchHistory,Y(l,ne),n=!0===E(l),q)if((i=C.getPooled(G.responderTerminationRequest,q,t,r)).touchHistory=W.touchHistory,Y(i,ne),o=!i._dispatchListeners||E(i),i.isPersistent()||i.constructor.release(i),o){(i=C.getPooled(G.responderTerminate,q,t,r)).touchHistory=W.touchHistory,Y(i,ne);var s=O(s,[l,i]);$(a,n)}else(l=C.getPooled(G.responderReject,a,t,r)).touchHistory=W.touchHistory,Y(l,ne),s=O(s,l);else s=O(s,l),$(a,n);else s=null}else s=null;if(l=q&&z(e),a=q&&I(e),n=q&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?G.responderStart:a?G.responderMove:n?G.responderEnd:null)&&((l=C.getPooled(l,q,t,r)).touchHistory=W.touchHistory,Y(l,ne),s=O(s,l)),l=q&&"topTouchCancel"===e,e=q&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!==(n=e[a].target)&&void 0!==n&&0!==n){i=S(n);n:{for(n=q;i;){if(n===i||n===i.alternate){n=!0;break n}i=K(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=l?G.responderTerminate:e?G.responderRelease:null)&&((t=C.getPooled(e,q,t,r)).touchHistory=W.touchHistory,Y(t,ne),s=O(s,t),$(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){le.GlobalResponderHandler=e}}},ae=null,ie={};function oe(){if(ae)for(var e in ie){var n=ie[e],t=ae.indexOf(e);if(!(-1<t))throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!se[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in se[t]=n,t=n.eventTypes){var l=void 0,a=t[r],i=r;if(ce.hasOwnProperty(i))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+i+"`.");ce[i]=a;var o=a.phasedRegistrationNames;if(o){for(l in o)o.hasOwnProperty(l)&&ue(o[l],n);l=!0}else a.registrationName?(ue(a.registrationName,n),l=!0):l=!1;if(!l)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function ue(e,n){if(fe[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");fe[e]=n}var se=[],ce={},fe={};function de(e,n){if(null===(e=e.stateNode))return null;if(null===(e=b(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var pe=u.ReactNativeViewConfigRegistry.customBubblingEventTypes,he=u.ReactNativeViewConfigRegistry.customDirectEventTypes;function ge(e,n,t){(n=de(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=V(t._dispatchListeners,n),t._dispatchInstances=V(t._dispatchInstances,e))}function me(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var n=e._targetInst,t=[];n;){t.push(n);do{n=n.return}while(n&&5!==n.tag);n=n||null}for(n=t.length;0<n--;)ge(t[n],"captured",e);for(n=0;n<t.length;n++)ge(t[n],"bubbled",e)}}function ve(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=de(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=V(e._dispatchListeners,t),e._dispatchInstances=V(e._dispatchInstances,n))}}}if(ae)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ae=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),oe();var ye,be={ResponderEventPlugin:le,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var l=pe[e],a=he[e];if(!l&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=R.getPooled(l||a,n,t,r),l)Y(e,me);else{if(!a)return null;Y(e,ve)}return e}}},Se=!1;for(ye in be)if(be.hasOwnProperty(ye)){var ke=be[ye];if(!ie.hasOwnProperty(ye)||ie[ye]!==ke){if(ie[ye])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+ye+"`.");ie[ye]=ke,Se=!0}}function we(e){return e}Se&&oe(),b=function(e){return e.canonical.currentProps},S=we,k=function(e){if(!(e=e.stateNode.canonical)._nativeTag)throw Error("All native instances should have a tag.");return e},le.injection.injectGlobalResponderHandler({onChange:function(e,n,t){null!==n?u.UIManager.setJSResponder(n.stateNode.canonical._nativeTag,t):u.UIManager.clearJSResponder()}});var Ee=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=60103,Pe=60106,Re=60107,Te=60108,_e=60114,Ne=60109,Ce=60110,ze=60112,Ie=60113,Le=60120,Ae=60115,Ue=60116,Me=60121,De=60129,He=60130,Fe=60131;if("function"==typeof Symbol&&Symbol.for){var Qe=Symbol.for;xe=Qe("react.element"),Pe=Qe("react.portal"),Re=Qe("react.fragment"),Te=Qe("react.strict_mode"),_e=Qe("react.profiler"),Ne=Qe("react.provider"),Ce=Qe("react.context"),ze=Qe("react.forward_ref"),Ie=Qe("react.suspense"),Le=Qe("react.suspense_list"),Ae=Qe("react.memo"),Ue=Qe("react.lazy"),Me=Qe("react.block"),Qe("react.scope"),De=Qe("react.debug_trace_mode"),He=Qe("react.offscreen"),Fe=Qe("react.legacy_hidden")}var Be="function"==typeof Symbol&&Symbol.iterator;function je(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Be&&e[Be]||e["@@iterator"])?e:null}function We(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Re:return"Fragment";case Pe:return"Portal";case _e:return"Profiler";case Te:return"StrictMode";case Ie:return"Suspense";case Le:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case ze:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case Ae:return We(e.type);case Me:return We(e._render);case Ue:n=e._payload,e=e._init;try{return We(e(n))}catch(e){}}return null}function Oe(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(1026&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Ve(e){if(Oe(e)!==e)throw Error("Unable to find node on an unmounted component.")}function Ye(e){var n=e.alternate;if(!n){if(null===(n=Oe(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return Ve(l),e;if(a===r)return Ve(l),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===t){i=!0,t=l,r=a;break}if(o===r){i=!0,r=l,t=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===t){i=!0,t=a,r=l;break}if(o===r){i=!0,r=a,t=l;break}o=o.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function qe(e){if(!(e=Ye(e)))return null;for(var n=e;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function Xe(e,n){for(var t=e.alternate;null!==n;){if(n===e||n===t)return!0;n=n.return}return!1}function $e(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var Ge={},Ke=null,Je=0,Ze={unsafelyIgnoreFunctions:!0};function en(e,n){return"object"!=typeof n||null===n||u.deepDiffer(e,n,Ze)}function nn(e,n,t){if(Array.isArray(n))for(var r=n.length;r--&&0<Je;)nn(e,n[r],t);else if(n&&0<Je)for(r in Ke)if(Ke[r]){var l=n[r];if(void 0!==l){var a=t[r];a&&("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof a?e[r]=l:"function"!=typeof a.diff&&"function"!=typeof a.process||(l="function"==typeof a.process?a.process(l):l,e[r]=l),Ke[r]=!1,Je--)}}}function tn(e,n,t,r){if(!e&&n===t)return e;if(!n||!t)return t?rn(e,t,r):n?ln(e,n,r):e;if(!Array.isArray(n)&&!Array.isArray(t))return an(e,n,t,r);if(Array.isArray(n)&&Array.isArray(t)){var l,a=n.length<t.length?n.length:t.length;for(l=0;l<a;l++)e=tn(e,n[l],t[l],r);for(;l<n.length;l++)e=ln(e,n[l],r);for(;l<t.length;l++)e=rn(e,t[l],r);return e}return Array.isArray(n)?an(e,u.flattenStyle(n),t,r):an(e,n,u.flattenStyle(t),r)}function rn(e,n,t){if(!n)return e;if(!Array.isArray(n))return an(e,Ge,n,t);for(var r=0;r<n.length;r++)e=rn(e,n[r],t);return e}function ln(e,n,t){if(!n)return e;if(!Array.isArray(n))return an(e,n,Ge,t);for(var r=0;r<n.length;r++)e=ln(e,n[r],t);return e}function an(e,n,t,r){var l,a;for(a in t)if(l=r[a]){var i=n[a],o=t[a];"function"==typeof o&&(o=!0,"function"==typeof i&&(i=!0)),void 0===o&&(o=null,void 0===i&&(i=null)),Ke&&(Ke[a]=!1),e&&void 0!==e[a]?"object"!=typeof l?e[a]=o:"function"!=typeof l.diff&&"function"!=typeof l.process||(l="function"==typeof l.process?l.process(o):o,e[a]=l):i!==o&&("object"!=typeof l?en(i,o)&&((e||(e={}))[a]=o):"function"==typeof l.diff||"function"==typeof l.process?(void 0===i||("function"==typeof l.diff?l.diff(i,o):en(i,o)))&&(l="function"==typeof l.process?l.process(o):o,(e||(e={}))[a]=l):(Ke=null,Je=0,e=tn(e,i,o,l),0<Je&&e&&(nn(e,o,l),Ke=null)))}for(var u in n)void 0===t[u]&&(!(l=r[u])||e&&void 0!==e[u]||void 0!==(i=n[u])&&("object"!=typeof l||"function"==typeof l.diff||"function"==typeof l.process?((e||(e={}))[u]=null,Ke||(Ke={}),Ke[u]||(Ke[u]=!0,Je++)):e=ln(e,i,l)));return e}function on(e,n){return e(n)}var un=!1;function sn(e,n){if(un)return e(n);un=!0;try{return on(e,n)}finally{un=!1}}var cn=null;function fn(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)w(e,n[r],t[r]);else n&&w(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function dn(){throw Error("The current renderer does not support mutation. This error is likely caused by a bug in React. Please file an issue.")}function pn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var hn=nativeFabricUIManager,gn=hn.createNode,mn=hn.cloneNode,vn=hn.cloneNodeWithNewChildren,yn=hn.cloneNodeWithNewChildrenAndProps,bn=hn.cloneNodeWithNewProps,Sn=hn.createChildSet,kn=hn.appendChild,wn=hn.appendChildToSet,En=hn.completeRoot,xn=hn.registerEventHandler,Pn=hn.measure,Rn=hn.measureInWindow,Tn=hn.measureLayout,_n=u.ReactNativeViewConfigRegistry.get,Nn=2;xn&&xn(function(e,n,t){var r=null;if(null!=e){var l=e.stateNode;null!=l&&(r=l.canonical)}sn(function(){for(var l=r,a=null,i=se,o=0;o<i.length;o++){var u=i[o];u&&(u=u.extractEvents(n,e,t,l))&&(a=V(a,u))}if(null!==(l=a)&&(cn=V(cn,l)),l=cn,cn=null,l){if(Y(l,fn),cn)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(h)throw l=g,h=!1,g=null,l}})});var Cn=(function(){function e(e,n,t,r){this._nativeTag=e,this.viewConfig=n,this.currentProps=t,this._internalInstanceHandle=r}var n=e.prototype;return n.blur=function(){u.TextInputState.blurTextInput(this)},n.focus=function(){u.TextInputState.focusTextInput(this)},n.measure=function(e){Pn(this._internalInstanceHandle.stateNode.node,$e(this,e))},n.measureInWindow=function(e){Rn(this._internalInstanceHandle.stateNode.node,$e(this,e))},n.measureLayout=function(n,t,r){"number"!=typeof n&&n instanceof e&&Tn(this._internalInstanceHandle.stateNode.node,n._internalInstanceHandle.stateNode.node,$e(this,r),$e(this,t))},n.setNativeProps=function(){},e})();function zn(e,n,t,r){if(!t.isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");return t=Nn,Nn+=2,{node:gn(t,"RCTRawText",n,{text:e},r)}}var In=setTimeout,Ln=clearTimeout;function An(e){var n=e.node,t=an(null,Ge,{style:{display:"none"}},e.canonical.viewConfig.validAttributes);return{node:bn(n,t),canonical:e.canonical}}function Un(e,n,t){return n="",t&&(n=" (created by "+t+")"),"\n    in "+(e||"Unknown")+n}function Mn(e,n){return e?Un(e.displayName||e.name||null,n,null):""}var Dn=[],Hn=-1;function Fn(e){return{current:e}}function Qn(e){0>Hn||(e.current=Dn[Hn],Dn[Hn]=null,Hn--)}function Bn(e,n){Dn[++Hn]=e.current,e.current=n}var jn={},Wn=Fn(jn),On=Fn(!1),Vn=jn;function Yn(e,n){var t=e.type.contextTypes;if(!t)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in t)a[l]=n[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function qn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Xn(){Qn(On),Qn(Wn)}function $n(e,n,t){if(Wn.current!==jn)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Bn(Wn,n),Bn(On,t)}function Gn(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var l in r=r.getChildContext())if(!(l in e))throw Error((We(n)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return o({},t,r)}function Kn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Vn=Wn.current,Bn(Wn,e),Bn(On,On.current),!0}function Jn(e,n,t){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");t?(e=Gn(e,n,Vn),r.__reactInternalMemoizedMergedChildContext=e,Qn(On),Qn(Wn),Bn(Wn,e)):Qn(On),Bn(On,t)}var Zn=null,et=null;(0,c.unstable_now)();var nt=8;function tt(e){if(0!=(1&e))return nt=15,1;if(0!=(2&e))return nt=14,2;if(0!=(4&e))return nt=13,4;var n=24&e;return 0!==n?(nt=12,n):0!=(32&e)?(nt=11,32):0!==(n=192&e)?(nt=10,n):0!=(256&e)?(nt=9,256):0!==(n=3584&e)?(nt=8,n):0!=(4096&e)?(nt=7,4096):0!==(n=4186112&e)?(nt=6,n):0!==(n=62914560&e)?(nt=5,n):67108864&e?(nt=4,67108864):0!=(134217728&e)?(nt=3,134217728):0!==(n=805306368&e)?(nt=2,n):0!=(1073741824&e)?(nt=1,1073741824):(nt=8,e)}function rt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function lt(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error("Invalid update priority: "+e+". This is a bug in React.")}}function at(e,n){var t=e.pendingLanes;if(0===t)return nt=0;var r=0,l=0,a=e.expiredLanes,i=e.suspendedLanes,o=e.pingedLanes;if(0!==a)r=a,l=nt=15;else if(0!==(a=134217727&t)){var u=a&~i;0!==u?(r=tt(u),l=nt):0!==(o&=a)&&(r=tt(o),l=nt)}else 0!==(a=t&~i)?(r=tt(a),l=nt):0!==o&&(r=tt(o),l=nt);if(0===r)return 0;if(r=t&((0>(r=31-ft(r))?0:1<<r)<<1)-1,0!==n&&n!==r&&0==(n&i)){if(tt(n),l<=nt)return n;nt=l}if(0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)l=1<<(t=31-ft(n)),r|=e[t],n&=~l;return r}function it(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ot(e,n){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=ut(24&~n))?ot(10,n):e;case 10:return 0===(e=ut(192&~n))?ot(8,n):e;case 8:return 0===(e=ut(3584&~n))&&(0===(e=ut(4186112&~n))&&(e=512)),e;case 2:return 0===(n=ut(805306368&~n))&&(n=268435456),n}throw Error("Invalid update priority: "+e+". This is a bug in React.")}function ut(e){return e&-e}function st(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function ct(e,n,t){e.pendingLanes|=n;var r=n-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[n=31-ft(n)]=t}var ft=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(dt(e)/pt|0)|0},dt=Math.log,pt=Math.LN2;var ht=c.unstable_runWithPriority,gt=c.unstable_scheduleCallback,mt=c.unstable_cancelCallback,vt=c.unstable_shouldYield,yt=c.unstable_requestPaint,bt=c.unstable_now,St=c.unstable_getCurrentPriorityLevel,kt=c.unstable_ImmediatePriority,wt=c.unstable_UserBlockingPriority,Et=c.unstable_NormalPriority,xt=c.unstable_LowPriority,Pt=c.unstable_IdlePriority,Rt={},Tt=void 0!==yt?yt:function(){},_t=null,Nt=null,Ct=!1,zt=bt(),It=1e4>zt?bt:function(){return bt()-zt};function Lt(){switch(St()){case kt:return 99;case wt:return 98;case Et:return 97;case xt:return 96;case Pt:return 95;default:throw Error("Unknown priority level.")}}function At(e){switch(e){case 99:return kt;case 98:return wt;case 97:return Et;case 96:return xt;case 95:return Pt;default:throw Error("Unknown priority level.")}}function Ut(e,n){return e=At(e),ht(e,n)}function Mt(e,n,t){return e=At(e),gt(e,n,t)}function Dt(){if(null!==Nt){var e=Nt;Nt=null,mt(e)}Ht()}function Ht(){if(!Ct&&null!==_t){Ct=!0;var e=0;try{var n=_t;Ut(99,function(){for(;e<n.length;e++){var t=n[e];do{t=t(!0)}while(null!==t)}}),_t=null}catch(n){throw null!==_t&&(_t=_t.slice(e+1)),gt(kt,Dt),n}finally{Ct=!1}}}var Ft=Ee.ReactCurrentBatchConfig;var Qt="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},Bt=Object.prototype.hasOwnProperty;function jt(e,n){if(Qt(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!Bt.call(n,t[r])||!Qt(e[t[r]],n[t[r]]))return!1;return!0}function Wt(e){switch(e.tag){case 5:return Un(e.type,null,null);case 16:return Un("Lazy",null,null);case 13:return Un("Suspense",null,null);case 19:return Un("SuspenseList",null,null);case 0:case 2:case 15:return Mn(e.type,null);case 11:return Mn(e.type.render,null);case 22:return Mn(e.type._render,null);case 1:return e=Mn(e.type,null);default:return""}}function Ot(e,n){if(e&&e.defaultProps){for(var t in n=o({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var Vt=Fn(null),Yt=null,qt=null,Xt=null;function $t(){Xt=qt=Yt=null}function Gt(e){var n=Vt.current;Qn(Vt),e.type._context._currentValue2=n}function Kt(e,n){for(;null!==e;){var t=e.alternate;if((e.childLanes&n)===n){if(null===t||(t.childLanes&n)===n)break;t.childLanes|=n}else e.childLanes|=n,null!==t&&(t.childLanes|=n);e=e.return}}function Jt(e,n){Yt=e,Xt=qt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(bl=!0),e.firstContext=null)}function Zt(e,n){if(Xt!==e&&!1!==n&&0!==n)if("number"==typeof n&&1073741823!==n||(Xt=e,n=1073741823),n={context:e,observedBits:n,next:null},null===qt){if(null===Yt)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");qt=n,Yt.dependencies={lanes:0,firstContext:n,responders:null}}else qt=qt.next=n;return e._currentValue2}var er=!1;function nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function tr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function lr(e,n){if(null!==(e=e.updateQueue)){var t=(e=e.shared).pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function ar(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?l=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function ir(e,n,t,r){var l=e.updateQueue;er=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(null!==u){l.shared.pending=null;var s=u,c=s.next;s.next=null,null===i?a=c:i.next=c,i=s;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==i&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=s)}}if(null!==a){for(d=l.baseState,i=0,f=c=s=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(u=n,p=t,g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(p,d,u);break e}d=h;break e;case 3:h.flags=-8193&h.flags|64;case 0:if(null===(u="function"==typeof(h=g.payload)?h.call(p,d,u):h)||void 0===u)break e;d=o({},d,u);break e;case 2:er=!0}}null!==a.callback&&(e.flags|=32,null===(u=l.effects)?l.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=p,s=d):f=f.next=p,i|=u;if(null===(a=a.next)){if(null===(u=l.shared.pending))break;a=u.next,u.next=null,l.lastBaseUpdate=u,l.shared.pending=null}}null===f&&(s=d),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=f,ba|=i,e.lanes=i,e.memoizedState=d}}function or(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],l=r.callback;if(null!==l){if(r.callback=null,"function"!=typeof l)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+l);l.call(t)}}}var ur=(new s.Component).refs;function sr(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:o({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var cr={isMounted:function(e){return!!(e=e._reactInternals)&&Oe(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ja(),l=Wa(e),a=rr(r,l);a.payload=n,void 0!==t&&null!==t&&(a.callback=t),lr(e,a),Oa(e,l,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ja(),l=Wa(e),a=rr(r,l);a.tag=1,a.payload=n,void 0!==t&&null!==t&&(a.callback=t),lr(e,a),Oa(e,l,r)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ja(),r=Wa(e),l=rr(t,r);l.tag=2,void 0!==n&&null!==n&&(l.callback=n),lr(e,l),Oa(e,r,t)}};function fr(e,n,t,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!jt(t,r)||!jt(l,a))}function dr(e,n,t){var r=!1,l=jn,a=n.contextType;return"object"==typeof a&&null!==a?a=Zt(a):(l=qn(n)?Vn:Wn.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?Yn(e,l):jn),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=cr,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),n}function pr(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&cr.enqueueReplaceState(n,n.state,null)}function hr(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs=ur,nr(e);var a=n.contextType;"object"==typeof a&&null!==a?l.context=Zt(a):(a=qn(n)?Vn:Wn.current,l.context=Yn(e,a)),ir(e,t,l,r),l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(sr(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&cr.enqueueReplaceState(l,l.state,null),ir(e,t,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}var gr=Array.isArray;function mr(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");var r=t.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var l=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===l?n.ref:((n=function(e){var n=r.refs;n===ur&&(n=r.refs={}),null===e?delete n[l]:n[l]=e})._stringRef=l,n)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!t._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return e}function vr(e,n){if("textarea"!==e.type)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}function yr(e){function n(n,t){if(e){var r=n.lastEffect;null!==r?(r.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t,t.nextEffect=null,t.flags=8}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function l(e,n){return(e=ki(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags=2,t):r:(n.flags=2,t):t}function i(n){return e&&null===n.alternate&&(n.flags=2),n}function o(e,n,t,r){return null===n||6!==n.tag?((n=Pi(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function u(e,n,t,r){return null!==n&&n.elementType===t.type?((r=l(n,t.props)).ref=mr(e,n,t),r.return=e,r):((r=wi(t.type,t.key,t.props,null,e.mode,r)).ref=mr(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Ri(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function c(e,n,t,r,a){return null===n||7!==n.tag?((n=Ei(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function f(e,n,t){if("string"==typeof n||"number"==typeof n)return(n=Pi(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case xe:return(t=wi(n.type,n.key,n.props,null,e.mode,t)).ref=mr(e,null,n),t.return=e,t;case Pe:return(n=Ri(n,e.mode,t)).return=e,n}if(gr(n)||je(n))return(n=Ei(n,e.mode,t,null)).return=e,n;vr(e,n)}return null}function d(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t||"number"==typeof t)return null!==l?null:o(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case xe:return t.key===l?t.type===Re?c(e,n,t.props.children,r,l):u(e,n,t,r):null;case Pe:return t.key===l?s(e,n,t,r):null}if(gr(t)||je(t))return null!==l?null:c(e,n,t,r,null);vr(e,t)}return null}function p(e,n,t,r,l){if("string"==typeof r||"number"==typeof r)return o(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case xe:return e=e.get(null===r.key?t:r.key)||null,r.type===Re?c(n,e,r.props.children,l,r.key):u(n,e,r,l);case Pe:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l)}if(gr(r)||je(r))return c(n,e=e.get(t)||null,r,l,null);vr(n,r)}return null}function h(l,i,o,u){for(var s=null,c=null,h=i,g=i=0,m=null;null!==h&&g<o.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(l,h,o[g],u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&n(l,h),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v,h=m}if(g===o.length)return t(l,h),s;if(null===h){for(;g<o.length;g++)null!==(h=f(l,o[g],u))&&(i=a(h,i,g),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(l,h);g<o.length;g++)null!==(m=p(h,l,g,o[g],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=a(m,i,g),null===c?s=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return n(l,e)}),s}function g(l,i,o,u){var s=je(o);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(o=s.call(o)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=i,g=i=0,m=null,v=o.next();null!==h&&!v.done;g++,v=o.next()){h.index>g?(m=h,h=null):m=h.sibling;var y=d(l,h,v.value,u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&n(l,h),i=a(y,i,g),null===c?s=y:c.sibling=y,c=y,h=m}if(v.done)return t(l,h),s;if(null===h){for(;!v.done;g++,v=o.next())null!==(v=f(l,v.value,u))&&(i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(l,h);!v.done;g++,v=o.next())null!==(v=p(h,l,g,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return n(l,e)}),s}return function(e,r,a,o){var u="object"==typeof a&&null!==a&&a.type===Re&&null===a.key;u&&(a=a.props.children);var s="object"==typeof a&&null!==a;if(s)switch(a.$$typeof){case xe:e:{for(s=a.key,u=r;null!==u;){if(u.key===s){switch(u.tag){case 7:if(a.type===Re){t(e,u.sibling),(r=l(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){t(e,u.sibling),(r=l(u,a.props)).ref=mr(e,u,a),r.return=e,e=r;break e}}t(e,u);break}n(e,u),u=u.sibling}a.type===Re?((r=Ei(a.props.children,e.mode,o,a.key)).return=e,e=r):((o=wi(a.type,a.key,a.props,null,e.mode,o)).ref=mr(e,r,a),o.return=e,e=o)}return i(e);case Pe:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(r=l(r,a.children||[])).return=e,e=r;break e}t(e,r);break}n(e,r),r=r.sibling}(r=Ri(a,e.mode,o)).return=e,e=r}return i(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(r=l(r,a)).return=e,e=r):(t(e,r),(r=Pi(a,e.mode,o)).return=e,e=r),i(e);if(gr(a))return h(e,r,a,o);if(je(a))return g(e,r,a,o);if(s&&vr(e,a),void 0===a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error((We(e.type)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return t(e,r)}}var br=yr(!0),Sr=yr(!1),kr={},wr=Fn(kr),Er=Fn(kr),xr=Fn(kr);function Pr(e){if(e===kr)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function Rr(e,n){Bn(xr,n),Bn(Er,e),Bn(wr,kr),Qn(wr),Bn(wr,{isInAParentText:!1})}function Tr(){Qn(wr),Qn(Er),Qn(xr)}function _r(e){Pr(xr.current);var n=Pr(wr.current),t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(Bn(Er,e),Bn(wr,t))}function Nr(e){Er.current===e&&(Qn(wr),Qn(Er))}var Cr=Fn(0);function zr(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||pn()||pn()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(64&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ir=[];function Lr(){for(var e=0;e<Ir.length;e++)Ir[e]._workInProgressVersionSecondary=null;Ir.length=0}var Ar=Ee.ReactCurrentDispatcher,Ur=Ee.ReactCurrentBatchConfig,Mr=0,Dr=null,Hr=null,Fr=null,Qr=!1,Br=!1;function jr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Wr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Qt(e[t],n[t]))return!1;return!0}function Or(e,n,t,r,l,a){if(Mr=a,Dr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ar.current=null===e||null===e.memoizedState?gl:ml,e=t(r,l),Br){a=0;do{if(Br=!1,!(25>a))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");a+=1,Fr=Hr=null,n.updateQueue=null,Ar.current=vl,e=t(r,l)}while(Br)}if(Ar.current=hl,n=null!==Hr&&null!==Hr.next,Mr=0,Fr=Hr=Dr=null,Qr=!1,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fr?Dr.memoizedState=Fr=e:Fr=Fr.next=e,Fr}function Yr(){if(null===Hr){var e=Dr.alternate;e=null!==e?e.memoizedState:null}else e=Hr.next;var n=null===Fr?Dr.memoizedState:Fr.next;if(null!==n)Fr=n,Hr=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(Hr=e).memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},null===Fr?Dr.memoizedState=Fr=e:Fr=Fr.next=e}return Fr}function qr(e,n){return"function"==typeof n?n(e):n}function Xr(e){var n=Yr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=Hr,l=r.baseQueue,a=t.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,t.pending=null}if(null!==l){l=l.next,r=r.baseState;var o=i=a=null,u=l;do{var s=u.lane;if((Mr&s)===s)null!==o&&(o=o.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var c={lane:s,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===o?(i=o=c,a=r):o=o.next=c,Dr.lanes|=s,ba|=s}u=u.next}while(null!==u&&u!==l);null===o?a=r:o.next=i,Qt(r,n.memoizedState)||(bl=!0),n.memoizedState=r,n.baseState=a,n.baseQueue=o,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function $r(e){var n=Yr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);Qt(a,n.memoizedState)||(bl=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function Gr(e,n,t){var r=n._getVersion;r=r(n._source);var l=n._workInProgressVersionSecondary;if(null!==l?e=l===r:(e=e.mutableReadLanes,(e=(Mr&e)===e)&&(n._workInProgressVersionSecondary=r,Ir.push(n))),e)return t(n._source);throw Ir.push(n),Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.")}function Kr(e,n,t,r){var l=fa;if(null===l)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var a=n._getVersion,i=a(n._source),o=Ar.current,u=o.useState(function(){return Gr(l,n,t)}),s=u[1],c=u[0];u=Fr;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,h=f.source;f=f.subscribe;var g=Dr;return e.memoizedState={refs:d,source:n,subscribe:r},o.useEffect(function(){d.getSnapshot=t,d.setSnapshot=s;var e=a(n._source);if(!Qt(i,e)){e=t(n._source),Qt(c,e)||(s(e),e=Wa(g),l.mutableReadLanes|=e&l.pendingLanes),e=l.mutableReadLanes,l.entangledLanes|=e;for(var r=l.entanglements,o=e;0<o;){var u=31-ft(o),f=1<<u;r[u]|=e,o&=~f}}},[t,n,r]),o.useEffect(function(){return r(n._source,function(){var e=d.getSnapshot,t=d.setSnapshot;try{t(e(n._source));var r=Wa(g);l.mutableReadLanes|=r&l.pendingLanes}catch(e){t(function(){throw e})}})},[n,r]),Qt(p,t)&&Qt(h,n)&&Qt(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:qr,lastRenderedState:c}).dispatch=s=pl.bind(null,Dr,e),u.queue=e,u.baseQueue=null,c=Gr(l,n,t),u.memoizedState=u.baseState=c),c}function Jr(e,n,t){return Kr(Yr(),e,n,t)}function Zr(e){var n=Vr();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:qr,lastRenderedState:e}).dispatch=pl.bind(null,Dr,e),[n.memoizedState,e]}function el(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=Dr.updateQueue)?(n={lastEffect:null},Dr.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function nl(){return Yr().memoizedState}function tl(e,n,t,r){var l=Vr();Dr.flags|=e,l.memoizedState=el(1|n,t,void 0,void 0===r?null:r)}function rl(e,n,t,r){var l=Yr();r=void 0===r?null:r;var a=void 0;if(null!==Hr){var i=Hr.memoizedState;if(a=i.destroy,null!==r&&Wr(r,i.deps))return void el(n,t,a,r)}Dr.flags|=e,l.memoizedState=el(1|n,t,a,r)}function ll(e,n){return tl(516,4,e,n)}function al(e,n){return rl(516,4,e,n)}function il(e,n){return rl(4,2,e,n)}function ol(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function ul(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,rl(4,2,ol.bind(null,n,e),t)}function sl(){}function cl(e,n){var t=Yr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Wr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function fl(e,n){var t=Yr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Wr(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function dl(e,n){var t=Lt();Ut(98>t?98:t,function(){e(!0)}),Ut(97<t?97:t,function(){var t=Ur.transition;Ur.transition=1;try{e(!1),n()}finally{Ur.transition=t}})}function pl(e,n,t){var r=ja(),l=Wa(e),a={lane:l,action:t,eagerReducer:null,eagerState:null,next:null},i=n.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),n.pending=a,i=e.alternate,e===Dr||null!==i&&i===Dr)Br=Qr=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=n.lastRenderedReducer))try{var o=n.lastRenderedState,u=i(o,t);if(a.eagerReducer=i,a.eagerState=u,Qt(u,o))return}catch(e){}Oa(e,l,r)}}var hl={readContext:Zt,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useOpaqueIdentifier:jr,unstable_isNewReconciler:!1},gl={readContext:Zt,useCallback:function(e,n){return Vr().memoizedState=[e,void 0===n?null:n],e},useContext:Zt,useEffect:ll,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,tl(4,2,ol.bind(null,n,e),t)},useLayoutEffect:function(e,n){return tl(4,2,e,n)},useMemo:function(e,n){var t=Vr();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Vr();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}).dispatch=pl.bind(null,Dr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Vr().memoizedState=e},useState:Zr,useDebugValue:sl,useDeferredValue:function(e){var n=Zr(e),t=n[0],r=n[1];return ll(function(){var n=Ur.transition;Ur.transition=1;try{r(e)}finally{Ur.transition=n}},[e]),t},useTransition:function(){var e=Zr(!1),n=e[0];return e=dl.bind(null,e[1]),Vr().memoizedState=e,[e,n]},useMutableSource:function(e,n,t){var r=Vr();return r.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:e,subscribe:t},Kr(r,e,n,t)},useOpaqueIdentifier:function(){throw Error("Not yet implemented")},unstable_isNewReconciler:!1},ml={readContext:Zt,useCallback:cl,useContext:Zt,useEffect:al,useImperativeHandle:ul,useLayoutEffect:il,useMemo:fl,useReducer:Xr,useRef:nl,useState:function(){return Xr(qr)},useDebugValue:sl,useDeferredValue:function(e){var n=Xr(qr),t=n[0],r=n[1];return al(function(){var n=Ur.transition;Ur.transition=1;try{r(e)}finally{Ur.transition=n}},[e]),t},useTransition:function(){var e=Xr(qr)[0];return[Yr().memoizedState,e]},useMutableSource:Jr,useOpaqueIdentifier:function(){return Xr(qr)[0]},unstable_isNewReconciler:!1},vl={readContext:Zt,useCallback:cl,useContext:Zt,useEffect:al,useImperativeHandle:ul,useLayoutEffect:il,useMemo:fl,useReducer:$r,useRef:nl,useState:function(){return $r(qr)},useDebugValue:sl,useDeferredValue:function(e){var n=$r(qr),t=n[0],r=n[1];return al(function(){var n=Ur.transition;Ur.transition=1;try{r(e)}finally{Ur.transition=n}},[e]),t},useTransition:function(){var e=$r(qr)[0];return[Yr().memoizedState,e]},useMutableSource:Jr,useOpaqueIdentifier:function(){return $r(qr)[0]},unstable_isNewReconciler:!1},yl=Ee.ReactCurrentOwner,bl=!1;function Sl(e,n,t,r){n.child=null===e?Sr(n,null,t,r):br(n,e.child,t,r)}function kl(e,n,t,r,l){t=t.render;var a=n.ref;return Jt(n,l),r=Or(e,n,t,r,a,l),null===e||bl?(n.flags|=1,Sl(e,n,r,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~l,jl(e,n,l))}function wl(e,n,t,r,l,a){if(null===e){var i=t.type;return"function"!=typeof i||bi(i)||void 0!==i.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=wi(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=i,El(e,n,i,r,l,a))}return i=e.child,0==(l&a)&&(l=i.memoizedProps,(t=null!==(t=t.compare)?t:jt)(l,r)&&e.ref===n.ref)?jl(e,n,a):(n.flags|=1,(e=ki(i,r)).ref=n.ref,e.return=n,n.child=e)}function El(e,n,t,r,l,a){if(null!==e&&jt(e.memoizedProps,r)&&e.ref===n.ref){if(bl=!1,0==(a&l))return n.lanes=e.lanes,jl(e,n,a);0!=(32768&e.flags)&&(bl=!0)}return Rl(e,n,t,r,a)}function xl(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&n.mode))n.memoizedState={baseLanes:0},Ga(n,t);else{if(0==(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e},Ga(n,e),null;n.memoizedState={baseLanes:0},Ga(n,null!==a?a.baseLanes:t)}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,Ga(n,r);return Sl(e,n,l,t),n.child}function Pl(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=128)}function Rl(e,n,t,r,l){var a=qn(t)?Vn:Wn.current;return a=Yn(n,a),Jt(n,l),t=Or(e,n,t,r,a,l),null===e||bl?(n.flags|=1,Sl(e,n,t,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~l,jl(e,n,l))}function Tl(e,n,t,r,l){if(qn(t)){var a=!0;Kn(n)}else a=!1;if(Jt(n,l),null===n.stateNode)null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),dr(n,t,r),hr(n,t,r,l),r=!0;else if(null===e){var i=n.stateNode,o=n.memoizedProps;i.props=o;var u=i.context,s=t.contextType;"object"==typeof s&&null!==s?s=Zt(s):s=Yn(n,s=qn(t)?Vn:Wn.current);var c=t.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==r||u!==s)&&pr(n,i,r,s),er=!1;var d=n.memoizedState;i.state=d,ir(n,r,i,l),u=n.memoizedState,o!==r||d!==u||On.current||er?("function"==typeof c&&(sr(n,t,c,r),u=n.memoizedState),(o=er||fr(n,t,o,r,d,u,s))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4)):("function"==typeof i.componentDidMount&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=u),i.props=r,i.state=u,i.context=s,r=o):("function"==typeof i.componentDidMount&&(n.flags|=4),r=!1)}else{i=n.stateNode,tr(e,n),o=n.memoizedProps,s=n.type===n.elementType?o:Ot(n.type,o),i.props=s,f=n.pendingProps,d=i.context,"object"==typeof(u=t.contextType)&&null!==u?u=Zt(u):u=Yn(n,u=qn(t)?Vn:Wn.current);var p=t.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==f||d!==u)&&pr(n,i,r,u),er=!1,d=n.memoizedState,i.state=d,ir(n,r,i,l);var h=n.memoizedState;o!==f||d!==h||On.current||er?("function"==typeof p&&(sr(n,t,p,r),h=n.memoizedState),(s=er||fr(n,t,s,r,d,h,u))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,u),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=256)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=256),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=u,r=s):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=256),r=!1)}return _l(e,n,t,r,a,l)}function _l(e,n,t,r,l,a){Pl(e,n);var i=0!=(64&n.flags);if(!r&&!i)return l&&Jn(n,t,!1),jl(e,n,a);r=n.stateNode,yl.current=n;var o=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=br(n,e.child,null,a),n.child=br(n,null,o,a)):Sl(e,n,o,a),n.memoizedState=r.state,l&&Jn(n,t,!0),n.child}function Nl(e){var n=e.stateNode;n.pendingContext?$n(0,n.pendingContext,n.pendingContext!==n.context):n.context&&$n(0,n.context,!1),Rr(e,n.containerInfo)}var Cl,zl,Il,Ll,Al={dehydrated:null,retryLane:0};function Ul(e,n,t){var r,l=n.pendingProps,a=Cr.current,i=!1;return(r=0!=(64&n.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,n.flags&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),Bn(Cr,1&a),null===e?(e=l.children,a=l.fallback,i?(e=Ml(n,e,a,t),n.child.memoizedState={baseLanes:t},n.memoizedState=Al,e):"number"==typeof l.unstable_expectedLoadTime?(e=Ml(n,e,a,t),n.child.memoizedState={baseLanes:t},n.memoizedState=Al,n.lanes=33554432,e):((t=xi({mode:"visible",children:e},n.mode,t,null)).return=n,n.child=t)):(e.memoizedState,i?(l=Hl(e,n,l.children,l.fallback,t),i=n.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:t}:{baseLanes:a.baseLanes|t},i.childLanes=e.childLanes&~t,n.memoizedState=Al,l):(t=Dl(e,n,l.children,t),n.memoizedState=null,t))}function Ml(e,n,t,r){var l=e.mode,a=e.child;return n={mode:"hidden",children:n},0==(2&l)&&null!==a?(a.childLanes=0,a.pendingProps=n):a=xi(n,l,0,null),t=Ei(t,l,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,t}function Dl(e,n,t,r){var l=e.child;return e=l.sibling,t=ki(l,{mode:"visible",children:t}),0==(2&n.mode)&&(t.lanes=r),t.return=n,t.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,n.firstEffect=n.lastEffect=e),n.child=t}function Hl(e,n,t,r,l){var a=n.mode,i=e.child;e=i.sibling;var o={mode:"hidden",children:t};return 0==(2&a)&&n.child!==i?((t=n.child).childLanes=0,t.pendingProps=o,null!==(i=t.lastEffect)?(n.firstEffect=t.firstEffect,n.lastEffect=i,i.nextEffect=null):n.firstEffect=n.lastEffect=null):t=ki(i,o),null!==e?r=ki(e,r):(r=Ei(r,a,l,null)).flags|=2,r.return=n,t.return=n,t.sibling=r,n.child=t,r}function Fl(e,n){e.lanes|=n;var t=e.alternate;null!==t&&(t.lanes|=n),Kt(e.return,n)}function Ql(e,n,t,r,l,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l,lastEffect:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=l,i.lastEffect=a)}function Bl(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(Sl(e,n,r.children,t),0!=(2&(r=Cr.current)))r=1&r|2,n.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fl(e,t);else if(19===e.tag)Fl(e,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bn(Cr,r),0==(2&n.mode))n.memoizedState=null;else switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===zr(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Ql(n,!1,l,t,a,n.lastEffect);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===zr(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Ql(n,!0,t,null,a,n.lastEffect);break;case"together":Ql(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function jl(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),ba|=n.lanes,0!=(t&n.childLanes)){if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=ki(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=ki(e,e.pendingProps)).return=n;t.sibling=null}return n.child}return null}function Wl(e,n,t,r){for(var l=n.child;null!==l;){if(5===l.tag){var a=l.stateNode;t&&r&&(a=An(a)),wn(e,a.node)}else if(6===l.tag){if(a=l.stateNode,t&&r)throw Error("Not yet implemented.");wn(e,a.node)}else if(4!==l.tag){if(13===l.tag&&0!=(4&l.flags)&&(a=null!==l.memoizedState)){var i=l.child;if(null!==i&&(null!==i.child&&(i.child.return=i,Wl(e,i,!0,a)),null!==(a=i.sibling))){a.return=l,l=a;continue}}if(null!==l.child){l.child.return=l,l=l.child;continue}}if(l===n)break;for(;null===l.sibling;){if(null===l.return||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function Ol(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vl(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return qn(n.type)&&Xn(),null;case 3:return Tr(),Qn(On),Qn(Wn),Lr(),(r=n.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||r.hydrate||(n.flags|=256),zl(n),null;case 5:Nr(n);var l=Pr(xr.current);if(t=n.type,null!==e&&null!=n.stateNode)Il(e,n,t,r,l),e.ref!==n.ref&&(n.flags|=128);else{if(!r){if(null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}Pr(wr.current),e=Nn,Nn+=2,t=_n(t);var a=an(null,Ge,r,t.validAttributes);l=gn(e,t.uiViewClassName,l,a,n),e=new Cn(e,t,r,n),Cl(e={node:l,canonical:e},n,!1,!1),n.stateNode=e,null!==n.ref&&(n.flags|=128)}return null;case 6:if(e&&null!=n.stateNode)Ll(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");e=Pr(xr.current),l=Pr(wr.current),n.stateNode=zn(r,e,l,n)}return null;case 13:return Qn(Cr),r=n.memoizedState,0!=(64&n.flags)?(n.lanes=t,n):(r=null!==r,l=!1,null!==e&&(l=null!==e.memoizedState),r&&!l&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&Cr.current)?0===ma&&(ma=3):(0!==ma&&3!==ma||(ma=4),null===fa||0==(134217727&ba)&&0==(134217727&Sa)||Xa(fa,pa))),r&&(n.flags|=4),null);case 4:return Tr(),zl(n),null;case 10:return Gt(n),null;case 17:return qn(n.type)&&Xn(),null;case 19:if(Qn(Cr),null===(r=n.memoizedState))return null;if(l=0!=(64&n.flags),null===(a=r.rendering))if(l)Ol(r,!1);else{if(0!==ma||null!==e&&0!=(64&e.flags))for(e=n.child;null!==e;){if(null!==(a=zr(e))){for(n.flags|=64,Ol(r,!1),null!==(e=a.updateQueue)&&(n.updateQueue=e,n.flags|=4),null===r.lastEffect&&(n.firstEffect=null),n.lastEffect=r.lastEffect,e=t,r=n.child;null!==r;)t=e,(l=r).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(a=l.alternate)?(l.childLanes=0,l.lanes=t,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,t=a.dependencies,l.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Bn(Cr,1&Cr.current|2),n.child}e=e.sibling}null!==r.tail&&It()>xa&&(n.flags|=64,l=!0,Ol(r,!1),n.lanes=33554432)}else{if(!l)if(null!==(e=zr(a))){if(n.flags|=64,l=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.flags|=4),Ol(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(n=n.lastEffect=r.lastEffect)&&(n.nextEffect=null),null}else 2*It()-r.renderingStartTime>xa&&1073741824!==t&&(n.flags|=64,l=!0,Ol(r,!1),n.lanes=33554432);r.isBackwards?(a.sibling=n.child,n.child=a):(null!==(e=r.last)?e.sibling=a:n.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=It(),e.sibling=null,n=Cr.current,Bn(Cr,l?1&n|2:1&n),e):null;case 23:case 24:return Ka(),null!==e&&null!==e.memoizedState!=(null!==n.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(n.flags|=4),null}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Yl(e){switch(e.tag){case 1:qn(e.type)&&Xn();var n=e.flags;return 8192&n?(e.flags=-8193&n|64,e):null;case 3:if(Tr(),Qn(On),Qn(Wn),Lr(),0!=(64&(n=e.flags)))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.flags=-8193&n|64,e;case 5:return Nr(e),null;case 13:return Qn(Cr),8192&(n=e.flags)?(e.flags=-8193&n|64,e):null;case 19:return Qn(Cr),null;case 4:return Tr(),null;case 10:return Gt(e),null;case 23:case 24:return Ka(),null;default:return null}}function ql(e,n){try{var t="",r=n;do{t+=Wt(r),r=r.return}while(r);var l=t}catch(e){l="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:l}}if(Cl=function(e,n,t,r){for(var l=n.child;null!==l;){if(5===l.tag){var a=l.stateNode;t&&r&&(a=An(a)),kn(e.node,a.node)}else if(6===l.tag){if(a=l.stateNode,t&&r)throw Error("Not yet implemented.");kn(e.node,a.node)}else if(4!==l.tag){if(13===l.tag&&0!=(4&l.flags)&&(a=null!==l.memoizedState)){var i=l.child;if(null!==i&&(null!==i.child&&(i.child.return=i,Cl(e,i,!0,a)),null!==(a=i.sibling))){a.return=l,l=a;continue}}if(null!==l.child){l.child.return=l,l=l.child;continue}}if(l===n)break;for(;null===l.sibling;){if(null===l.return||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},zl=function(e){var n=e.stateNode;if(null!==e.firstEffect){var t=n.containerInfo,r=Sn(t);Wl(r,e,!1,!1),n.pendingChildren=r,e.flags|=4,En(t,r)}},Il=function(e,n,t,r){t=e.stateNode;var l=e.memoizedProps;if((e=null===n.firstEffect)&&l===r)n.stateNode=t;else{var a=n.stateNode;Pr(wr.current);var i=null;l!==r&&(l=an(null,l,r,a.canonical.viewConfig.validAttributes),a.canonical.currentProps=r,i=l),e&&null===i?n.stateNode=t:(r=i,a=t.node,t={node:e?null!==r?bn(a,r):mn(a):null!==r?yn(a,r):vn(a),canonical:t.canonical},n.stateNode=t,e?n.flags|=4:Cl(t,n,!1,!1))}},Ll=function(e,n,t,r){t!==r?(e=Pr(xr.current),t=Pr(wr.current),n.stateNode=zn(r,e,t,n),n.flags|=4):n.stateNode=e.stateNode},"function"!=typeof u.ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function Xl(e,n){try{!1!==u.ReactFiberErrorDialog.showErrorDialog({componentStack:null!==n.stack?n.stack:"",error:n.value,errorBoundary:null!==e&&1===e.tag?e.stateNode:null})&&console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var $l="function"==typeof WeakMap?WeakMap:Map;function Gl(e,n,t){(t=rr(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ra||(Ra=!0,Ta=r),Xl(e,n)},t}function Kl(e,n,t){(t=rr(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=n.value;t.payload=function(){return Xl(e,n),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){"function"!=typeof r&&(null===_a?_a=new Set([this]):_a.add(this),Xl(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var Jl="function"==typeof WeakSet?WeakSet:Set;function Zl(e){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){hi(e,n)}else n.current=null}function ea(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&n.flags&&null!==e){var t=e.memoizedProps,r=e.memoizedState;n=(e=n.stateNode).getSnapshotBeforeUpdate(n.elementType===n.type?t:Ot(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:return;case 5:case 6:case 4:case 17:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function na(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:if(null!==(n=null!==(n=t.updateQueue)?n.lastEffect:null)){e=n=n.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==n)}if(null!==(n=null!==(n=t.updateQueue)?n.lastEffect:null)){e=n=n.next;do{var l=e;r=l.next,0!=(4&(l=l.tag))&&0!=(1&l)&&(fi(t,e),ci(t,e)),e=r}while(e!==n)}return;case 1:return e=t.stateNode,4&t.flags&&(null===n?e.componentDidMount():(r=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps),e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(n=t.updateQueue)&&or(t,n,e));case 3:if(null!==(n=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 5:e=t.child.stateNode.canonical;break;case 1:e=t.child.stateNode}or(t,n,e)}return;case 5:return void(null===n&&4&t.flags&&dn());case 6:case 4:case 12:case 13:return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function ta(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ra(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){n=e=e.next;do{if(3==(3&n.tag)){var t=n.destroy;n.destroy=void 0,void 0!==t&&t()}n=n.next}while(n!==e)}return;case 12:return;case 13:return null!==n.memoizedState&&(Ea=It()),void la(n);case 19:return void la(n);case 23:case 24:return}e:{switch(n.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:break e}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function la(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Jl),n.forEach(function(n){var r=mi.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function aa(e,n){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(n=n.memoizedState)&&null===n.dehydrated)}var ia,oa=Math.ceil,ua=Ee.ReactCurrentDispatcher,sa=Ee.ReactCurrentOwner,ca=0,fa=null,da=null,pa=0,ha=0,ga=Fn(0),ma=0,va=null,ya=0,ba=0,Sa=0,ka=0,wa=null,Ea=0,xa=1/0,Pa=null,Ra=!1,Ta=null,_a=null,Na=!1,Ca=null,za=90,Ia=[],La=[],Aa=null,Ua=0,Ma=null,Da=-1,Ha=0,Fa=0,Qa=null,Ba=!1;function ja(){return 0!=(48&ca)?It():-1!==Da?Da:Da=It()}function Wa(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Lt()?1:2;if(0===Ha&&(Ha=ya),0!==Ft.transition){0!==Fa&&(Fa=null!==wa?wa.pendingLanes:0),e=Ha;var n=4186112&~Fa;return 0===(n&=-n)&&(0===(n=(e=4186112&~e)&-e)&&(n=8192)),n}return e=Lt(),0!=(4&ca)&&98===e?e=ot(12,Ha):e=ot(e=rt(e),Ha),e}function Oa(e,n,t){if(50<Ua)throw Ua=0,Ma=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");if(null===(e=Va(e,n)))return null;ct(e,n,t),e===fa&&(Sa|=n,4===ma&&Xa(e,pa));var r=Lt();1===n?0!=(8&ca)&&0==(48&ca)?$a(e):(Ya(e,t),0===ca&&(xa=It()+500,Dt())):(0==(4&ca)||98!==r&&99!==r||(null===Aa?Aa=new Set([e]):Aa.add(e)),Ya(e,t)),wa=e}function Va(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}function Ya(e,n){for(var t=e.callbackNode,r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ft(i),u=1<<o,s=a[o];if(-1===s){if(0==(u&r)||0!=(u&l)){s=n,tt(u);var c=nt;a[o]=10<=c?s+250:6<=c?s+5e3:-1}}else s<=n&&(e.expiredLanes|=u);i&=~u}if(r=at(e,e===fa?pa:0),n=nt,0===r)null!==t&&(t!==Rt&&mt(t),e.callbackNode=null,e.callbackPriority=0);else{if(null!==t){if(e.callbackPriority===n)return;t!==Rt&&mt(t)}15===n?(t=$a.bind(null,e),null===_t?(_t=[t],Nt=gt(kt,Ht)):_t.push(t),t=Rt):14===n?t=Mt(99,$a.bind(null,e)):t=Mt(t=lt(n),qa.bind(null,e)),e.callbackPriority=n,e.callbackNode=t}}function qa(e){if(Da=-1,Fa=Ha=0,0!=(48&ca))throw Error("Should not already be working.");var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var t=at(e,e===fa?pa:0);if(0===t)return null;var r=t,l=ca;ca|=16;var a=ei();for(fa===e&&pa===r||(xa=It()+500,Ja(e,r));;)try{ri();break}catch(n){Za(e,n)}if($t(),ua.current=a,ca=l,null!==da?r=0:(fa=null,pa=0,r=ma),0!=(ya&Sa))Ja(e,0);else if(0!==r){if(2===r&&(ca|=64,e.hydrate&&(e.hydrate=!1,dn(e.containerInfo)),0!==(t=it(e))&&(r=ni(e,t))),1===r)throw n=va,Ja(e,0),Xa(e,t),Ya(e,It()),n;switch(e.finishedWork=e.current.alternate,e.finishedLanes=t,r){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:ii(e);break;case 3:if(Xa(e,t),(62914560&t)===t&&10<(r=Ea+500-It())){if(0!==at(e,0))break;if(((l=e.suspendedLanes)&t)!==t){ja(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=In(ii.bind(null,e),r);break}ii(e);break;case 4:if(Xa(e,t),(4186112&t)===t)break;for(r=e.eventTimes,l=-1;0<t;){var i=31-ft(t);a=1<<i,(i=r[i])>l&&(l=i),t&=~a}if(t=l,10<(t=(120>(t=It()-t)?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*oa(t/1960))-t)){e.timeoutHandle=In(ii.bind(null,e),t);break}ii(e);break;case 5:ii(e);break;default:throw Error("Unknown root exit status.")}}return Ya(e,It()),e.callbackNode===n?qa.bind(null,e):null}function Xa(e,n){for(n&=~ka,n&=~Sa,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-ft(n),r=1<<t;e[t]=-1,n&=~r}}function $a(e){if(0!=(48&ca))throw Error("Should not already be working.");if(si(),e===fa&&0!=(e.expiredLanes&pa)){var n=pa,t=ni(e,n);0!=(ya&Sa)&&(t=ni(e,n=at(e,n)))}else t=ni(e,n=at(e,0));if(0!==e.tag&&2===t&&(ca|=64,e.hydrate&&(e.hydrate=!1,dn(e.containerInfo)),0!==(n=it(e))&&(t=ni(e,n))),1===t)throw t=va,Ja(e,0),Xa(e,n),Ya(e,It()),t;return e.finishedWork=e.current.alternate,e.finishedLanes=n,ii(e),Ya(e,It()),null}function Ga(e,n){Bn(ga,ha),ha|=n,ya|=n}function Ka(){ha=ga.current,Qn(ga)}function Ja(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,Ln(t)),null!==da)for(t=da.return;null!==t;){var r=t;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Xn();break;case 3:Tr(),Qn(On),Qn(Wn),Lr();break;case 5:Nr(r);break;case 4:Tr();break;case 13:case 19:Qn(Cr);break;case 10:Gt(r);break;case 23:case 24:Ka()}t=t.return}fa=e,da=ki(e.current,null),pa=ha=ya=n,ma=0,va=null,ka=Sa=ba=0}function Za(e,n){for(;;){var t=da;try{if($t(),Ar.current=hl,Qr){for(var r=Dr.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}Qr=!1}if(Mr=0,Fr=Hr=Dr=null,Br=!1,sa.current=null,null===t||null===t.return){ma=1,va=n,da=null;break}e:{var a=e,i=t.return,o=t,u=n;if(n=pa,o.flags|=4096,o.firstEffect=o.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u;if(0==(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.lanes=c.lanes):(o.updateQueue=null,o.memoizedState=null)}var f=0!=(1&Cr.current),d=i;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var g=d.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(p){var m=d.updateQueue;if(null===m){var v=new Set;v.add(s),d.updateQueue=v}else m.add(s);if(0==(2&d.mode)){if(d.flags|=64,o.flags|=32768,o.flags&=-5029,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=rr(-1,1);y.tag=2,lr(o,y)}o.lanes|=1;break e}u=void 0,o=n;var b=a.pingCache;if(null===b?(b=a.pingCache=new $l,u=new Set,b.set(s,u)):void 0===(u=b.get(s))&&(u=new Set,b.set(s,u)),!u.has(o)){u.add(o);var S=gi.bind(null,a,s,o);s.then(S,S)}d.flags|=8192,d.lanes=n;break e}d=d.return}while(null!==d);u=Error((We(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ma&&(ma=2),u=ql(u,o),d=i;do{switch(d.tag){case 3:a=u,d.flags|=8192,n&=-n,d.lanes|=n,ar(d,Gl(d,a,n));break e;case 1:a=u;var k=d.type,w=d.stateNode;if(0==(64&d.flags)&&("function"==typeof k.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===_a||!_a.has(w)))){d.flags|=8192,n&=-n,d.lanes|=n,ar(d,Kl(d,a,n));break e}}d=d.return}while(null!==d)}ai(t)}catch(e){n=e,da===t&&null!==t&&(da=t=t.return);continue}break}}function ei(){var e=ua.current;return ua.current=hl,null===e?hl:e}function ni(e,n){var t=ca;ca|=16;var r=ei();for(fa===e&&pa===n||Ja(e,n);;)try{ti();break}catch(n){Za(e,n)}if($t(),ca=t,ua.current=r,null!==da)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return fa=null,pa=0,ma}function ti(){for(;null!==da;)li(da)}function ri(){for(;null!==da&&!vt();)li(da)}function li(e){var n=ia(e.alternate,e,ha);e.memoizedProps=e.pendingProps,null===n?ai(e):da=n,sa.current=null}function ai(e){var n=e;do{var t=n.alternate;if(e=n.return,0==(4096&n.flags)){if(null!==(t=Vl(t,n,ha)))return void(da=t);if(24!==(t=n).tag&&23!==t.tag||null===t.memoizedState||0!=(1073741824&ha)||0==(4&t.mode)){for(var r=0,l=t.child;null!==l;)r|=l.lanes|l.childLanes,l=l.sibling;t.childLanes=r}null!==e&&0==(4096&e.flags)&&(null===e.firstEffect&&(e.firstEffect=n.firstEffect),null!==n.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=n.firstEffect),e.lastEffect=n.lastEffect),1<n.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=n:e.firstEffect=n,e.lastEffect=n))}else{if(null!==(t=Yl(n)))return t.flags&=4095,void(da=t);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=4096)}if(null!==(n=n.sibling))return void(da=n);da=n=e}while(null!==n);0===ma&&(ma=5)}function ii(e){var n=Lt();return Ut(99,oi.bind(null,e,n)),null}function oi(e,n){do{si()}while(null!==Ca);if(0!=(48&ca))throw Error("Should not already be working.");var t=e.finishedWork;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null;var r=t.lanes|t.childLanes,l=r,a=e.pendingLanes&~l;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=l,e.mutableReadLanes&=l,e.entangledLanes&=l,l=e.entanglements;for(var i=e.eventTimes,o=e.expirationTimes;0<a;){var u=31-ft(a),s=1<<u;l[u]=0,i[u]=-1,o[u]=-1,a&=~s}if(null!==Aa&&0==(24&r)&&Aa.has(e)&&Aa.delete(e),e===fa&&(da=fa=null,pa=0),1<t.flags?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,null!==r){l=ca,ca|=32,Qa=sa.current=null,Ba=!1,Pa=r;do{try{ui()}catch(e){if(null===Pa)throw Error("Should be working on an effect.");hi(Pa,e),Pa=Pa.nextEffect}}while(null!==Pa);Qa=null,Pa=r;do{try{for(;null!==Pa;){var c=Pa.flags;if(128&c){var f=Pa.alternate;if(null!==f){var d=f.ref;null!==d&&("function"==typeof d?d(null):d.current=null)}}switch(1038&c){case 2:Pa.flags&=-3;break;case 6:Pa.flags&=-3,ra(Pa.alternate,Pa);break;case 1024:Pa.flags&=-1025;break;case 1028:Pa.flags&=-1025,ra(Pa.alternate,Pa);break;case 4:ra(Pa.alternate,Pa);break;case 8:e:for(a=o=i=Pa;;){if(u=a,et&&"function"==typeof et.onCommitFiberUnmount)try{et.onCommitFiberUnmount(Zn,u)}catch(e){}switch(u.tag){case 0:case 11:case 14:case 15:case 22:var p=u.updateQueue;if(null!==p){var h=p.lastEffect;if(null!==h){var g=h.next;s=g;do{var m=s,v=m.destroy,y=m.tag;if(void 0!==v)if(0!=(4&y))fi(u,s);else{m=u;try{v()}catch(e){hi(m,e)}}s=s.next}while(s!==g)}}break;case 1:Zl(u);var b=u.stateNode;if("function"==typeof b.componentWillUnmount)try{s=u,(m=b).props=s.memoizedProps,m.state=s.memoizedState,m.componentWillUnmount()}catch(e){hi(u,e)}break;case 5:Zl(u);break;case 4:Sn(u.stateNode.containerInfo)}if(null!==a.child)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}}var S=i.alternate;ta(i),null!==S&&ta(S)}Pa=Pa.nextEffect}}catch(e){if(null===Pa)throw Error("Should be working on an effect.");hi(Pa,e),Pa=Pa.nextEffect}}while(null!==Pa);e.current=t,Pa=r;do{try{for(c=e;null!==Pa;){var k=Pa.flags;if(36&k&&na(c,Pa.alternate,Pa),128&k){f=void 0;var w=Pa.ref;if(null!==w){var E=Pa.stateNode;switch(Pa.tag){case 5:f=E.canonical;break;default:f=E}"function"==typeof w?w(f):w.current=f}}Pa=Pa.nextEffect}}catch(e){if(null===Pa)throw Error("Should be working on an effect.");hi(Pa,e),Pa=Pa.nextEffect}}while(null!==Pa);Pa=null,Tt(),ca=l}else e.current=t;if(Na)Na=!1,Ca=e,za=n;else for(Pa=r;null!==Pa;)n=Pa.nextEffect,Pa.nextEffect=null,8&Pa.flags&&((k=Pa).sibling=null,k.stateNode=null),Pa=n;if(0===(r=e.pendingLanes)&&(_a=null),1===r?e===Ma?Ua++:(Ua=0,Ma=e):Ua=0,t=t.stateNode,et&&"function"==typeof et.onCommitFiberRoot)try{et.onCommitFiberRoot(Zn,t,void 0,64==(64&t.current.flags))}catch(e){}if(Ya(e,It()),Ra)throw Ra=!1,e=Ta,Ta=null,e;return 0!=(8&ca)?null:(Dt(),null)}function ui(){for(;null!==Pa;){var e=Pa.alternate;Ba||null===Qa||(0!=(8&Pa.flags)?Xe(Pa,Qa)&&(Ba=!0):13===Pa.tag&&aa(e,Pa)&&Xe(Pa,Qa)&&(Ba=!0));var n=Pa.flags;0!=(256&n)&&ea(e,Pa),0==(512&n)||Na||(Na=!0,Mt(97,function(){return si(),null})),Pa=Pa.nextEffect}}function si(){if(90!==za){var e=97<za?97:za;return za=90,Ut(e,di)}return!1}function ci(e,n){Ia.push(n,e),Na||(Na=!0,Mt(97,function(){return si(),null}))}function fi(e,n){La.push(n,e),Na||(Na=!0,Mt(97,function(){return si(),null}))}function di(){if(null===Ca)return!1;var e=Ca;if(Ca=null,0!=(48&ca))throw Error("Cannot flush passive effects while already rendering.");var n=ca;ca|=32;var t=La;La=[];for(var r=0;r<t.length;r+=2){var l=t[r],a=t[r+1],i=l.destroy;if(l.destroy=void 0,"function"==typeof i)try{i()}catch(e){if(null===a)throw Error("Should be working on an effect.");hi(a,e)}}for(t=Ia,Ia=[],r=0;r<t.length;r+=2){l=t[r],a=t[r+1];try{var o=l.create;l.destroy=o()}catch(e){if(null===a)throw Error("Should be working on an effect.");hi(a,e)}}for(o=e.current.firstEffect;null!==o;)e=o.nextEffect,o.nextEffect=null,8&o.flags&&(o.sibling=null,o.stateNode=null),o=e;return ca=n,Dt(),!0}function pi(e,n,t){lr(e,n=Gl(e,n=ql(t,n),1)),n=ja(),null!==(e=Va(e,1))&&(ct(e,1,n),Ya(e,n))}function hi(e,n){if(3===e.tag)pi(e,e,n);else for(var t=e.return;null!==t;){if(3===t.tag){pi(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===_a||!_a.has(r))){var l=Kl(t,e=ql(n,e),1);if(lr(t,l),l=ja(),null!==(t=Va(t,1)))ct(t,1,l),Ya(t,l);else if("function"==typeof r.componentDidCatch&&(null===_a||!_a.has(r)))try{r.componentDidCatch(n,e)}catch(e){}break}}t=t.return}}function gi(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=ja(),e.pingedLanes|=e.suspendedLanes&t,fa===e&&(pa&t)===t&&(4===ma||3===ma&&(62914560&pa)===pa&&500>It()-Ea?Ja(e,0):ka|=t),Ya(e,n)}function mi(e,n){var t=e.stateNode;null!==t&&t.delete(n),0===(n=0)&&(0==(2&(n=e.mode))?n=1:0==(4&n)?n=99===Lt()?1:2:(0===Ha&&(Ha=ya),0===(n=ut(62914560&~Ha))&&(n=4194304))),t=ja(),null!==(e=Va(e,n))&&(ct(e,n,t),Ya(e,t))}function vi(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(e,n,t,r){return new vi(e,n,t,r)}function bi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Si(e){if("function"==typeof e)return bi(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ze)return 11;if(e===Ae)return 14}return 2}function ki(e,n){var t=e.alternate;return null===t?((t=yi(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function wi(e,n,t,r,l,a){var i=2;if(r=e,"function"==typeof e)bi(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Re:return Ei(t.children,l,a,n);case De:i=8,l|=16;break;case Te:i=8,l|=1;break;case _e:return(e=yi(12,t,n,8|l)).elementType=_e,e.type=_e,e.lanes=a,e;case Ie:return(e=yi(13,t,n,l)).type=Ie,e.elementType=Ie,e.lanes=a,e;case Le:return(e=yi(19,t,n,l)).elementType=Le,e.lanes=a,e;case He:return xi(t,l,a,n);case Fe:return(e=yi(24,t,n,l)).elementType=Fe,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ne:i=10;break e;case Ce:i=9;break e;case ze:i=11;break e;case Ae:i=14;break e;case Ue:i=16,r=null;break e;case Me:i=22;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(n=yi(i,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function Ei(e,n,t,r){return(e=yi(7,e,r,n)).lanes=t,e}function xi(e,n,t,r){return(e=yi(23,e,r,n)).elementType=He,e.lanes=t,e}function Pi(e,n,t){return(e=yi(6,e,null,n)).lanes=t,e}function Ri(e,n,t){return(n=yi(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ti(e,n,t){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=st(0),this.expirationTimes=st(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0)}function _i(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Pe,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Ni(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e))}return null===(e=qe(n))?null:e.stateNode}function Ci(e,n,t,r){var l=n.current,a=ja(),i=Wa(l);e:if(t){t=t._reactInternals;n:{if(Oe(t)!==t||1!==t.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break n;case 1:if(qn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break n}}o=o.return}while(null!==o);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===t.tag){var u=t.type;if(qn(u)){t=Gn(t,u,o);break e}}t=o}else t=jn;return null===n.context?n.context=t:n.pendingContext=t,(n=rr(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),lr(l,n),Oa(l,i,a),i}function zi(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=Ni(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}ia=function(e,n,t){var r=n.lanes;if(null!==e)if(e.memoizedProps!==n.pendingProps||On.current)bl=!0;else{if(0==(t&r)){switch(bl=!1,n.tag){case 3:Nl(n);break;case 5:_r(n);break;case 1:qn(n.type)&&Kn(n);break;case 4:Rr(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value;var l=n.type._context;Bn(Vt,l._currentValue2),l._currentValue2=r;break;case 13:if(null!==n.memoizedState)return 0!=(t&n.child.childLanes)?Ul(e,n,t):(Bn(Cr,1&Cr.current),null!==(n=jl(e,n,t))?n.sibling:null);Bn(Cr,1&Cr.current);break;case 19:if(r=0!=(t&n.childLanes),0!=(64&e.flags)){if(r)return Bl(e,n,t);n.flags|=64}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),Bn(Cr,Cr.current),r)break;return null;case 23:case 24:return n.lanes=0,xl(e,n,t)}return jl(e,n,t)}bl=0!=(32768&e.flags)}else bl=!1;switch(n.lanes=0,n.tag){case 2:if(r=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=Yn(n,Wn.current),Jt(n,t),l=Or(null,n,r,e,l,t),n.flags|=1,"object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,qn(r)){var a=!0;Kn(n)}else a=!1;n.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,nr(n);var i=r.getDerivedStateFromProps;"function"==typeof i&&sr(n,r,i,e),l.updater=cr,n.stateNode=l,l._reactInternals=n,hr(n,r,e,t),n=_l(null,n,r,!0,a,t)}else n.tag=0,Sl(null,n,l,t),n=n.child;return n;case 16:l=n.elementType;e:{switch(null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=(a=l._init)(l._payload),n.type=l,a=n.tag=Si(l),e=Ot(l,e),a){case 0:n=Rl(null,n,l,e,t);break e;case 1:n=Tl(null,n,l,e,t);break e;case 11:n=kl(null,n,l,e,t);break e;case 14:n=wl(null,n,l,Ot(l.type,e),r,t);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+l+". Lazy element type must resolve to a class or function.")}return n;case 0:return r=n.type,l=n.pendingProps,Rl(e,n,r,l=n.elementType===r?l:Ot(r,l),t);case 1:return r=n.type,l=n.pendingProps,Tl(e,n,r,l=n.elementType===r?l:Ot(r,l),t);case 3:if(Nl(n),r=n.updateQueue,null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");return r=n.pendingProps,l=null!==(l=n.memoizedState)?l.element:null,tr(e,n),ir(n,r,null,t),(r=n.memoizedState.element)===l?n=jl(e,n,t):(Sl(e,n,r,t),n=n.child),n;case 5:return _r(n),r=n.pendingProps.children,Pl(e,n),Sl(e,n,r,t),n.child;case 6:return null;case 13:return Ul(e,n,t);case 4:return Rr(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=br(n,null,r,t):Sl(e,n,r,t),n.child;case 11:return r=n.type,l=n.pendingProps,kl(e,n,r,l=n.elementType===r?l:Ot(r,l),t);case 7:return Sl(e,n,n.pendingProps,t),n.child;case 8:case 12:return Sl(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,l=n.pendingProps,i=n.memoizedProps,a=l.value;var o=n.type._context;if(Bn(Vt,o._currentValue2),o._currentValue2=a,null!==i)if(o=i.value,0===(a=Qt(o,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(o,a):1073741823))){if(i.children===l.children&&!On.current){n=jl(e,n,t);break e}}else for(null!==(o=n.child)&&(o.return=n);null!==o;){var u=o.dependencies;if(null!==u){i=o.child;for(var s=u.firstContext;null!==s;){if(s.context===r&&0!=(s.observedBits&a)){1===o.tag&&((s=rr(-1,t&-t)).tag=2,lr(o,s)),o.lanes|=t,null!==(s=o.alternate)&&(s.lanes|=t),Kt(o.return,t),u.lanes|=t;break}s=s.next}}else i=10===o.tag&&o.type===n.type?null:o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===n){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}Sl(e,n,l.children,t),n=n.child}return n;case 9:return l=n.type,r=(a=n.pendingProps).children,Jt(n,t),r=r(l=Zt(l,a.unstable_observedBits)),n.flags|=1,Sl(e,n,r,t),n.child;case 14:return a=Ot(l=n.type,n.pendingProps),wl(e,n,l,a=Ot(l.type,a),r,t);case 15:return El(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Ot(r,l),null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,qn(r)?(e=!0,Kn(n)):e=!1,Jt(n,t),dr(n,r,l),hr(n,r,l,t),_l(null,n,r,!0,e,t);case 19:return Bl(e,n,t);case 23:case 24:return xl(e,n,t)}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")},on=function(e,n){var t=ca;ca|=1;try{return e(n)}finally{0===(ca=t)&&(xa=It()+500,Dt())}};var Ii=new Map,Li={findFiberByHostInstance:we,bundleType:0,version:"17.0.1-4e5d7faf5",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,zi)}},Ai={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{Zn=Ui.inject(Ai),et=Ui}catch(e){}}a.createPortal=function(e,n){return _i(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,n,t){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.dispatchCommand(e._internalInstanceHandle.stateNode.node,n,t):u.UIManager.dispatchViewManagerCommand(e._nativeTag,n,t))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=Ni(e))?e:e.canonical?e.canonical:e},a.findNodeHandle=zi,a.render=function(e,n,t){var r=Ii.get(n);if(!r){r=new Ti(n,0,!1);var l=yi(3,null,null,0);r.current=l,l.stateNode=r,nr(l),Ii.set(n,r)}Ci(e,r,null,t);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode.canonical;break e;default:e=e.child.stateNode}else e=null;return e},a.stopSurface=function(e){var n=Ii.get(e);n&&Ci(null,n,null,function(){Ii.delete(e)})},a.unmountComponentAtNode=function(e){this.stopSurface(e)}},361,[32,93,165,55,189]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),f=t(r(d[7])),v=t(r(d[8])),p=t(r(d[9])),h=t(r(d[10]));function y(t){var n=_();return function(){var u,s=(0,o.default)(t);if(n){var c=(0,o.default)(this).constructor;u=Reflect.construct(s,arguments,c)}else u=s.apply(this,arguments);return(0,l.default)(this,u)}}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var S=(function(t){(0,s.default)(o,t);var l=y(o);function o(){var t;(0,n.default)(this,o),(t=l.call(this,p.default))._supportedEvents=['change','memoryWarning','blur','focus'],t.isAvailable=!0,t._eventHandlers=t._supportedEvents.reduce(function(t,n){return t[n]=new Map,t},{}),t.currentState=p.default.getConstants().initialAppState;var u=!1;return t.addListener('appStateDidChange',function(n){u=!0,t.currentState=n.app_state}),p.default.getCurrentAppState(function(n){u||t.currentState===n.app_state||(t.currentState=n.app_state,t.emit('appStateDidChange',n))},f.default),t}return(0,u.default)(o,[{key:"addEventListener",value:function(t,n){switch((0,h.default)(-1!==this._supportedEvents.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),t){case'change':this._eventHandlers[t].set(n,this.addListener('appStateDidChange',function(t){n(t.app_state)}));break;case'memoryWarning':this._eventHandlers[t].set(n,this.addListener('memoryWarning',n));break;case'blur':case'focus':this._eventHandlers[t].set(n,this.addListener('appStateFocusChange',function(u){'blur'!==t||u||n(),'focus'===t&&u&&n()}))}}},{key:"removeEventListener",value:function(t,n){(0,h.default)(-1!==this._supportedEvents.indexOf(t),'Trying to remove listener for unknown event: "%s"',t),this._eventHandlers[t].has(n)&&(this._eventHandlers[t].get(n).remove(),this._eventHandlers[t].delete(n))}}]),o})(c.default);function b(){(0,h.default)(!1,"Cannot use AppState module when native RCTAppState is not included in the build.\nEither include it, or check AppState.isAvailable before calling any methods.")}var k=(function(t){(0,s.default)(o,t);var l=y(o);function o(){var t;(0,n.default)(this,o);for(var u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];return(t=l.call.apply(l,[this].concat(s))).isAvailable=!1,t.currentState=null,t}return(0,u.default)(o,[{key:"addEventListener",value:function(t,n){b()}},{key:"removeEventListener",value:function(t,n){b()}},{key:"addListener",value:function(){b()}},{key:"removeAllListeners",value:function(){b()}},{key:"removeSubscription",value:function(){b()}}]),o})(v.default),A=p.default?new S:new k;m.exports=A},362,[2,12,13,20,22,19,131,363,24,364,8]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];if(1===n.length&&n[0]instanceof Error){var t=n[0];console.error('Error: "'+t.message+'".  Stack:\n'+t.stack)}else console.error.apply(console,n)}},363,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var l=c?Object.getOwnPropertyDescriptor(n,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=n[p]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('AppState');e.default=n},364,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),s=l.default||u.default,c={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(t,n){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(u,l){s.multiGet([t],function(t,o){var s=o&&o[0]&&o[0][1]?o[0][1]:null,c=f(t);n&&n(c&&c[0],s),c?l(c[0]):u(s)})})},setItem:function(t,n,u){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(l,o){s.multiSet([[t,n]],function(t){var n=f(t);u&&u(n&&n[0]),n?o(n[0]):l(null)})})},removeItem:function(t,n){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(u,l){s.multiRemove([t],function(t){var o=f(t);n&&n(o&&o[0]),o?l(o[0]):u(null)})})},mergeItem:function(t,n,u){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(l,o){s.multiMerge([[t,n]],function(t){var n=f(t);u&&u(n&&n[0]),n?o(n[0]):l(null)})})},clear:function(t){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(n,u){s.clear(function(l){t&&t(v(l)),l&&v(l)?u(v(l)):n(null)})})},getAllKeys:function(t){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(n,u){s.getAllKeys(function(l,o){t&&t(v(l),o),l?u(v(l)):n(o)})})},flushGetRequests:function(){var t=this._getRequests,u=this._getKeys;this._getRequests=[],this._getKeys=[],(0,o.default)(s,'RCTAsyncStorage not available'),s.multiGet(u,function(u,l){var o={};l&&l.forEach(function(t){var u=(0,n.default)(t,2),l=u[0],s=u[1];return o[l]=s,s});for(var s=t.length,c=0;c<s;c++){var f=t[c],v=f.keys.map(function(t){return[t,o[t]]});f.callback&&f.callback(null,v),f.resolve&&f.resolve(v)}})},multiGet:function(t,n){var u=this;this._immediate||(this._immediate=setImmediate(function(){u._immediate=null,u.flushGetRequests()}));var l={keys:t,callback:n,keyIndex:this._getKeys.length,resolve:null,reject:null},o=new Promise(function(t,n){l.resolve=t,l.reject=n});return this._getRequests.push(l),t.forEach(function(t){-1===u._getKeys.indexOf(t)&&u._getKeys.push(t)}),o},multiSet:function(t,n){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(u,l){s.multiSet(t,function(t){var o=f(t);n&&n(o),o?l(o):u(null)})})},multiRemove:function(t,n){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(u,l){s.multiRemove(t,function(t){var o=f(t);n&&n(o),o?l(o):u(null)})})},multiMerge:function(t,n){return(0,o.default)(s,'RCTAsyncStorage not available'),new Promise(function(u,l){s.multiMerge(t,function(t){var o=f(t);n&&n(o),o?l(o):u(null)})})}};function f(t){return t?(Array.isArray(t)?t:[t]).map(function(t){return v(t)}):null}function v(t){if(!t)return null;var n=new Error(t.message);return n.key=t.key,n}s.multiMerge||(delete c.mergeItem,delete c.multiMerge),m.exports=c},365,[2,33,366,367,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('AsyncLocalStorage');e.default=n},366,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('AsyncSQLiteDBStorage');e.default=n},367,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports={getString:function(){return t.default.getString()},setString:function(n){t.default.setString(n)}}},368,[2,369]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('Clipboard');e.default=n},369,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),s=(function(){function s(){t(this,s)}return o(s,null,[{key:"open",value:function(t){return n.async(function(n){for(;;)switch(n.prev=n.next){case 0:throw new Error('DatePickerAndroid is not supported on this platform.');case 1:case"end":return n.stop()}},null,null,null,Promise)}}]),s})();s.dateSetAction='dateSetAction',s.dismissedAction='dismissedAction',m.exports=s},370,[283,12,13]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports=t.default},371,[2,61]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6]));function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}!(function(t){(0,f.default)(R,t);var h,v,y=(h=R,v=s(),function(){var t,n=(0,l.default)(h);if(v){var u=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,o.default)(this,t)});function R(){var t;return(0,n.default)(this,R),(t=y.call(this,c.default))._menuItems=new Map,t}(0,u.default)(R,[{key:"addMenuItem",value:function(t,n){var u=this._menuItems.get(t);null!=u?this.removeListener('didPressMenuItem',u):c.default.addMenuItem(t),this._menuItems.set(t,n),this.addListener('didPressMenuItem',function(u){u.title===t&&n()})}},{key:"reload",value:function(t){'function'==typeof c.default.reloadWithReason?c.default.reloadWithReason(null!=t?t:'Uncategorized from JS'):c.default.reload()}},{key:"onFastRefresh",value:function(){'function'==typeof c.default.onFastRefresh&&c.default.onFastRefresh()}}])})(t(r(d[7])).default);var h=(function(){function t(){(0,n.default)(this,t)}return(0,u.default)(t,[{key:"addMenuItem",value:function(t,n){}},{key:"reload",value:function(t){}},{key:"onFastRefresh",value:function(){}}]),t})();m.exports=new h},372,[2,12,13,20,22,19,373,131]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('DevSettings');e.default=n},373,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=o(r(d[1])),l=o(r(d[2])),t={canRecordVideos:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canRecordVideos(o)},canUseCamera:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canUseCamera(o)},openCameraDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={videoMode:!0,unmirrorFrontFacingCamera:!1};return null!=o.videoMode&&(s.videoMode=o.videoMode),null!=o.unmirrorFrontFacingCamera&&(s.unmirrorFrontFacingCamera=o.unmirrorFrontFacingCamera),n.default.openCameraDialog(s,t,u)},openSelectDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={showImages:!0,showVideos:!1};return null!=o.showImages&&(s.showImages=o.showImages),null!=o.showVideos&&(s.showVideos=o.showVideos),n.default.openSelectDialog(s,t,u)},removePendingVideo:function(o){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.removePendingVideo(o)},clearAllPendingVideos:function(){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.clearAllPendingVideos()}};m.exports=t},374,[2,375,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('ImagePickerIOS');e.default=n},375,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),v=t(r(d[8])),p=t(r(d[9])),R=t(r(d[10])),L=t(r(d[11])),y=t(r(d[12]));function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=(function(t){(0,f.default)(S,t);var c,h,O=(c=S,h=U(),function(){var t,n=(0,o.default)(c);if(h){var u=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function S(){return(0,n.default)(this,S),O.call(this,'ios'===v.default.OS?(0,y.default)(p.default):void 0)}return(0,u.default)(S,[{key:"addEventListener",value:function(t,n){this.addListener(t,n)}},{key:"removeEventListener",value:function(t,n){this.removeListener(t,n)}},{key:"openURL",value:function(t){return this._validateURL(t),'android'===v.default.OS?(0,y.default)(R.default).openURL(t):(0,y.default)(p.default).openURL(t)}},{key:"canOpenURL",value:function(t){return this._validateURL(t),'android'===v.default.OS?(0,y.default)(R.default).canOpenURL(t):(0,y.default)(p.default).canOpenURL(t)}},{key:"openSettings",value:function(){return'android'===v.default.OS?(0,y.default)(R.default).openSettings():(0,y.default)(p.default).openSettings()}},{key:"getInitialURL",value:function(){return'android'===v.default.OS?s.default.runAfterInteractions().then(function(){return(0,y.default)(R.default).getInitialURL()}):(0,y.default)(p.default).getInitialURL()}},{key:"sendIntent",value:function(t,n){return'android'===v.default.OS?(0,y.default)(R.default).sendIntent(t,n):new Promise(function(t,n){return n(new Error('Unsupported'))})}},{key:"_validateURL",value:function(t){(0,L.default)('string'==typeof t,'Invalid URL: should be a string. Was: '+t),(0,L.default)(t,'Invalid URL: cannot be empty')}}]),S})(c.default);m.exports=new h},376,[2,12,13,20,22,19,131,228,53,377,378,8,211]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('LinkingManager');e.default=n},377,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('IntentAndroid');e.default=n},378,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,o=r(d[0]);o(r(d[1])),o(r(d[2]));n={ignoreLogs:function(n){},ignoreAllLogs:function(n){},install:function(){},uninstall:function(){}},m.exports=n},379,[2,53,158]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),t=o.currentCentroidXOfTouchesChangedAfter,u=o.currentCentroidYOfTouchesChangedAfter,s=o.previousCentroidXOfTouchesChangedAfter,c=o.previousCentroidYOfTouchesChangedAfter,p=o.currentCentroidX,v=o.currentCentroidY,h={_initializeGestureState:function(n){n.moveX=0,n.moveY=0,n.x0=0,n.y0=0,n.dx=0,n.dy=0,n.vx=0,n.vy=0,n.numberActiveTouches=0,n._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(n,o){n.numberActiveTouches=o.numberActiveTouches,n.moveX=t(o,n._accountsForMovesUpTo),n.moveY=u(o,n._accountsForMovesUpTo);var p=n._accountsForMovesUpTo,v=s(o,p),h=t(o,p),l=c(o,p),S=u(o,p),R=n.dx+(h-v),T=n.dy+(S-l),f=o.mostRecentTimeStamp-n._accountsForMovesUpTo;n.vx=(R-n.dx)/f,n.vy=(T-n.dy)/f,n.dx=R,n.dy=T,n._accountsForMovesUpTo=o.mostRecentTimeStamp},create:function(o){var t={handle:null},u={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(n){return null!=o.onStartShouldSetPanResponder&&o.onStartShouldSetPanResponder(n,u)},onMoveShouldSetResponder:function(n){return null!=o.onMoveShouldSetPanResponder&&o.onMoveShouldSetPanResponder(n,u)},onStartShouldSetResponderCapture:function(n){return 1===n.nativeEvent.touches.length&&h._initializeGestureState(u),u.numberActiveTouches=n.touchHistory.numberActiveTouches,null!=o.onStartShouldSetPanResponderCapture&&o.onStartShouldSetPanResponderCapture(n,u)},onMoveShouldSetResponderCapture:function(n){var t=n.touchHistory;return u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),!!o.onMoveShouldSetPanResponderCapture&&o.onMoveShouldSetPanResponderCapture(n,u))},onResponderGrant:function(s){return t.handle||(t.handle=n.createInteractionHandle()),u.x0=p(s.touchHistory),u.y0=v(s.touchHistory),u.dx=0,u.dy=0,o.onPanResponderGrant&&o.onPanResponderGrant(s,u),null==o.onShouldBlockNativeResponder||o.onShouldBlockNativeResponder(s,u)},onResponderReject:function(n){l(t,o.onPanResponderReject,n,u)},onResponderRelease:function(n){l(t,o.onPanResponderRelease,n,u),h._initializeGestureState(u)},onResponderStart:function(n){var t=n.touchHistory;u.numberActiveTouches=t.numberActiveTouches,o.onPanResponderStart&&o.onPanResponderStart(n,u)},onResponderMove:function(n){var t=n.touchHistory;u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),o.onPanResponderMove&&o.onPanResponderMove(n,u))},onResponderEnd:function(n){var s=n.touchHistory;u.numberActiveTouches=s.numberActiveTouches,l(t,o.onPanResponderEnd,n,u)},onResponderTerminate:function(n){l(t,o.onPanResponderTerminate,n,u),h._initializeGestureState(u)},onResponderTerminationRequest:function(n){return null==o.onPanResponderTerminationRequest||o.onPanResponderTerminationRequest(n,u)}},getInteractionHandle:function(){return t.handle}}}};function l(o,t,u,s){o.handle&&(n.clearInteractionHandle(o.handle),o.handle=null),t&&t(u,s)}m.exports=h},380,[228,381]);
__d(function(g,r,i,a,m,e,d){var n={centroidDimension:function(t,o,u,c){var f=t.touchBank,s=0,h=0,v=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==v)v.touchActive&&v.currentTimeStamp>o&&(s+=c&&u?v.currentPageX:c&&!u?v.currentPageY:!c&&u?v.previousPageX:v.previousPageY,h=1);else for(var C=0;C<f.length;C++){var l=f[C];if(null!==l&&void 0!==l&&l.touchActive&&l.currentTimeStamp>=o){s+=c&&u?l.currentPageX:c&&!u?l.currentPageY:!c&&u?l.previousPageX:l.previousPageY,h++}}return h>0?s/h:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1};m.exports=n},381,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),s=n(r(d[1])),o=n(r(d[2])),t=n(r(d[3])),E=n(r(d[4])),A=n(r(d[5])),u=n(r(d[6])),_=n(r(d[7])),S=(r(d[8]),Object.freeze({GRANTED:'granted',DENIED:'denied',NEVER_ASK_AGAIN:'never_ask_again'})),l=Object.freeze({READ_CALENDAR:'android.permission.READ_CALENDAR',WRITE_CALENDAR:'android.permission.WRITE_CALENDAR',CAMERA:'android.permission.CAMERA',READ_CONTACTS:'android.permission.READ_CONTACTS',WRITE_CONTACTS:'android.permission.WRITE_CONTACTS',GET_ACCOUNTS:'android.permission.GET_ACCOUNTS',ACCESS_FINE_LOCATION:'android.permission.ACCESS_FINE_LOCATION',ACCESS_COARSE_LOCATION:'android.permission.ACCESS_COARSE_LOCATION',ACCESS_BACKGROUND_LOCATION:'android.permission.ACCESS_BACKGROUND_LOCATION',RECORD_AUDIO:'android.permission.RECORD_AUDIO',READ_PHONE_STATE:'android.permission.READ_PHONE_STATE',CALL_PHONE:'android.permission.CALL_PHONE',READ_CALL_LOG:'android.permission.READ_CALL_LOG',WRITE_CALL_LOG:'android.permission.WRITE_CALL_LOG',ADD_VOICEMAIL:'com.android.voicemail.permission.ADD_VOICEMAIL',USE_SIP:'android.permission.USE_SIP',PROCESS_OUTGOING_CALLS:'android.permission.PROCESS_OUTGOING_CALLS',BODY_SENSORS:'android.permission.BODY_SENSORS',SEND_SMS:'android.permission.SEND_SMS',RECEIVE_SMS:'android.permission.RECEIVE_SMS',READ_SMS:'android.permission.READ_SMS',RECEIVE_WAP_PUSH:'android.permission.RECEIVE_WAP_PUSH',RECEIVE_MMS:'android.permission.RECEIVE_MMS',READ_EXTERNAL_STORAGE:'android.permission.READ_EXTERNAL_STORAGE',WRITE_EXTERNAL_STORAGE:'android.permission.WRITE_EXTERNAL_STORAGE'}),R=new((function(){function n(){(0,t.default)(this,n),this.PERMISSIONS=l,this.RESULTS=S}return(0,E.default)(n,[{key:"checkPermission",value:function(n){return console.warn('"PermissionsAndroid.checkPermission" is deprecated. Use "PermissionsAndroid.check" instead'),console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(!1)}},{key:"check",value:function(n){return console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(!1)}},{key:"requestPermission",value:function(n,o){var t;return s.default.async(function(E){for(;;)switch(E.prev=E.next){case 0:return console.warn('"PermissionsAndroid.requestPermission" is deprecated. Use "PermissionsAndroid.request" instead'),console.warn('"PermissionsAndroid" module works only for Android platform.'),E.abrupt("return",Promise.resolve(!1));case 4:return E.next=6,s.default.awrap(this.request(n,o));case 6:return t=E.sent,E.abrupt("return",t===this.RESULTS.GRANTED);case 8:case"end":return E.stop()}},null,this,null,Promise)}},{key:"request",value:function(n,t){return s.default.async(function(E){for(;;)switch(E.prev=E.next){case 0:return console.warn('"PermissionsAndroid" module works only for Android platform.'),E.abrupt("return",Promise.resolve(this.RESULTS.DENIED));case 3:if((0,_.default)(u.default,'PermissionsAndroid is not installed correctly.'),!t){E.next=10;break}return E.next=7,s.default.awrap(u.default.shouldShowRequestPermissionRationale(n));case 7:if(!E.sent||!A.default){E.next=10;break}return E.abrupt("return",new Promise(function(s,E){var _=(0,o.default)({},t);A.default.showAlert(_,function(){return E(new Error('Error showing rationale'))},function(){return s(u.default.requestPermission(n))})}));case 10:return E.abrupt("return",u.default.requestPermission(n));case 11:case"end":return E.stop()}},null,this,null,Promise)}},{key:"requestMultiple",value:function(n){return console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve({})}}]),n})());m.exports=R},382,[2,283,32,12,13,149,383,8,53]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('PermissionsAndroid');e.default=n},383,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=new l.default(u.default),s=new Map,v=(function(){function t(n){var l=this;(0,o.default)(this,t),this._data={},this._remoteNotificationCompleteCallbackCalled=!1,this._isRemote=n.remote,this._isRemote&&(this._notificationId=n.notificationId),n.remote?Object.keys(n).forEach(function(t){var o=n[t];'aps'===t?(l._alert=o.alert,l._sound=o.sound,l._badgeCount=o.badge,l._category=o.category,l._contentAvailable=o['content-available'],l._threadID=o['thread-id']):l._data[t]=o}):(this._badgeCount=n.applicationIconBadgeNumber,this._sound=n.soundName,this._alert=n.alertBody,this._data=n.userInfo,this._category=n.category)}return(0,n.default)(t,[{key:"finish",value:function(t){this._isRemote&&this._notificationId&&!this._remoteNotificationCompleteCallbackCalled&&(this._remoteNotificationCompleteCallbackCalled=!0,(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.onFinishRemoteNotification(this._notificationId,t))}},{key:"getMessage",value:function(){return this._alert}},{key:"getSound",value:function(){return this._sound}},{key:"getCategory",value:function(){return this._category}},{key:"getAlert",value:function(){return this._alert}},{key:"getContentAvailable",value:function(){return this._contentAvailable}},{key:"getBadgeCount",value:function(){return this._badgeCount}},{key:"getData",value:function(){return this._data}},{key:"getThreadID",value:function(){return this._threadID}}],[{key:"presentLocalNotification",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.presentLocalNotification(t)}},{key:"scheduleLocalNotification",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.scheduleLocalNotification(t)}},{key:"cancelAllLocalNotifications",value:function(){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.cancelAllLocalNotifications()}},{key:"removeAllDeliveredNotifications",value:function(){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.removeAllDeliveredNotifications()}},{key:"getDeliveredNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getDeliveredNotifications(t)}},{key:"removeDeliveredNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.removeDeliveredNotifications(t)}},{key:"setApplicationIconBadgeNumber",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.setApplicationIconBadgeNumber(t)}},{key:"getApplicationIconBadgeNumber",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getApplicationIconBadgeNumber(t)}},{key:"cancelLocalNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.cancelLocalNotifications(t)}},{key:"getScheduledLocalNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getScheduledLocalNotifications(t)}},{key:"addEventListener",value:function(o,n){var l;(0,c.default)('notification'===o||'register'===o||'registrationError'===o||'localNotification'===o,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'),'notification'===o?l=f.addListener("remoteNotificationReceived",function(o){n(new t(o))}):'localNotification'===o?l=f.addListener("localNotificationReceived",function(o){n(new t(o))}):'register'===o?l=f.addListener("remoteNotificationsRegistered",function(t){n(t.deviceToken)}):'registrationError'===o&&(l=f.addListener("remoteNotificationRegistrationError",function(t){n(t)})),s.set(o,l)}},{key:"removeEventListener",value:function(t,o){(0,c.default)('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events');var n=s.get(t);n&&(n.remove(),s.delete(t))}},{key:"requestPermissions",value:function(t){var o={alert:!0,badge:!0,sound:!0};return t&&(o={alert:!!t.alert,badge:!!t.badge,sound:!!t.sound}),(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.requestPermissions(o)}},{key:"abandonPermissions",value:function(){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.abandonPermissions()}},{key:"checkPermissions",value:function(t){(0,c.default)('function'==typeof t,'Must provide a valid callback'),(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.checkPermissions(t)}},{key:"getInitialNotification",value:function(){return(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getInitialNotification().then(function(o){return o&&new t(o)})}}]),t})();v.FetchResult={NewData:'UIBackgroundFetchResultNewData',NoData:'UIBackgroundFetchResultNoData',ResultFailed:'UIBackgroundFetchResultFailed'},m.exports=v},384,[2,12,13,131,385,8]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('PushNotificationManager');e.default=n},385,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),c=t(r(d[3])),l=t(r(d[4])),u=[],f={_settings:c.default&&c.default.getConstants().settings,get:function(t){return this._settings[t]},set:function(t){this._settings=(0,s.default)(this._settings,t),c.default.setValues(t)},watchKeys:function(t,s){'string'==typeof t&&(t=[t]),(0,l.default)(Array.isArray(t),'keys should be a string or array of strings');var n=u.length;return u.push({keys:t,callback:s}),n},clearWatch:function(t){t<u.length&&(u[t]={keys:[],callback:null})},_sendObservations:function(t){var s=this;Object.keys(t).forEach(function(n){var c=t[n],l=s._settings[n]!==c;s._settings[n]=c,l&&u.forEach(function(t){-1!==t.keys.indexOf(n)&&t.callback&&t.callback()})})}};n.default.addListener('settingsUpdated',f._sendObservations.bind(f)),m.exports=f},386,[2,32,11,387,8]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('SettingsManager');e.default=n},387,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=(t(r(d[1])),t(r(d[2]))),n=t(r(d[3])),s=t(r(d[4])),u=(t(r(d[5])),r(d[6]),r(d[7])),c=r(d[8]),l=(function(){function t(){(0,o.default)(this,t)}return(0,n.default)(t,null,[{key:"share",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u('object'==typeof t&&null!==t,'Content to share must be a valid object'),u('string'==typeof t.url||'string'==typeof t.message,'At least one of URL and message is required'),u('object'==typeof o&&null!==o,'Options must be a valid object'),new Promise(function(n,l){var f=c(o.tintColor);u(null==f||'number'==typeof f,'Unexpected color given for options.tintColor'),u(s.default,'NativeActionSheetManager is not registered on iOS, but it should be.'),s.default.showShareActionSheetWithOptions({message:'string'==typeof t.message?t.message:void 0,url:'string'==typeof t.url?t.url:void 0,subject:o.subject,tintColor:'number'==typeof f?f:void 0,excludedActivityTypes:o.excludedActivityTypes},function(t){return l(t)},function(t,o){n(t?{action:'sharedAction',activityType:o}:{action:'dismissedAction',activityType:null})})})}}]),t})();l.sharedAction='sharedAction',l.dismissedAction='dismissedAction',m.exports=l},388,[2,32,12,13,345,389,53,8,68]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('ShareModule');e.default=n},389,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),c=t(r(d[4])),o=t(r(d[5])),l=t(r(d[6])),s=t(r(d[7]));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=(function(t){(0,f.default)(y,t);var l,s,h=(l=y,s=p(),function(){var t,n=(0,o.default)(l);if(s){var u=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function y(){return(0,u.default)(this,y),h.apply(this,arguments)}return(0,n.default)(y)})(l.default);m.exports=new h(s.default)},390,[2,13,12,20,22,19,131,333]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={show:function(o,t){console.warn('ToastAndroid is not supported on this platform.')},showWithGravity:function(o,t,n){console.warn('ToastAndroid is not supported on this platform.')},showWithGravityAndOffset:function(o,t,n,s,p){console.warn('ToastAndroid is not supported on this platform.')}};m.exports=o},391,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,n.useMemo)(function(){return{getCurrentValue:function(){return o.default.getColorScheme()},subscribe:function(t){return o.default.addChangeListener(t),function(){return o.default.removeChangeListener(t)}}}},[]);return(0,u.useSubscription)(t)};var n=r(d[1]),u=r(d[2]),o=t(r(d[3]))},392,[2,55,393,346]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},393,[394]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);e.useSubscription=function(u){return t.useSyncExternalStore(u.subscribe,u.getCurrentValue)}},394,[395]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},395,[396]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);var n="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},u=t.useState,s=t.useEffect,c=t.useLayoutEffect,o=t.useDebugValue;function f(t){var u=t.getSnapshot;t=t.value;try{var s=u();return!n(t,s)}catch(t){return!0}}e.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:function(t,n){var S=n(),v=u({inst:{value:S,getSnapshot:n}}),l=v[0].inst,y=v[1];return c(function(){l.value=S,l.getSnapshot=n,f(l)&&y({inst:l})},[t,S,n]),s(function(){return f(l)&&y({inst:l}),t(function(){f(l)&&y({inst:l})})},[t]),o(S),S}},396,[55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,f.useState)(function(){return u.default.get('window')}),c=(0,n.default)(t,2),o=c[0],l=c[1];return(0,f.useEffect)(function(){function t(t){var n=t.window;o.width===n.width&&o.height===n.height&&o.scale===n.scale&&o.fontScale===n.fontScale||l(n)}return u.default.addEventListener('change',t),t({window:u.default.get('window')}),function(){u.default.removeEventListener('change',t)}},[o]),o};var n=t(r(d[1])),u=t(r(d[2])),f=r(d[3])},397,[2,33,60,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var A=r(d[0])({BOM:"\ufeff",BULLET:"\u2022",BULLET_SP:"\xa0\u2022\xa0",MIDDOT:"\xb7",MIDDOT_SP:"\xa0\xb7\xa0",MIDDOT_KATAKANA:"\u30fb",MDASH:"\u2014",MDASH_SP:"\xa0\u2014\xa0",NDASH:"\u2013",NDASH_SP:"\xa0\u2013\xa0",NBSP:"\xa0",PIZZA:"\ud83c\udf55",TRIANGLE_LEFT:"\u25c0",TRIANGLE_RIGHT:"\u25b6"});m.exports=A},398,[47]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=(r(d[2]),!1),o=0,u=400;function f(f){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||(n=!0,0===f[0]&&(t.default.vibrate(u),f=f.slice(1)),0!==f.length?setTimeout(function(){return l(++o,f,v,1)},f[0]):n=!1)}function l(f,v,c,s){if(n&&f===o){if(t.default.vibrate(u),s>=v.length){if(!c)return void(n=!1);s=0}setTimeout(function(){return l(f,v,c,s+1)},v[s])}}var v={vibrate:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n)if('number'==typeof o)t.default.vibrate(o);else{if(!Array.isArray(o))throw new Error('Vibration pattern should be a number or array');f(o,l)}},cancel:function(){n=!1}};m.exports=v},399,[2,400,53]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('Vibration');e.default=n},400,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),c=r(d[3]),o=r(d[4]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l,s=r(d[5]);r(d[6]);l=(function(l){u(v,l);var s,y,p=(s=v,y=f(),function(){var t,n=o(s);if(y){var u=o(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return c(this,t)});function v(){return t(this,v),p.apply(this,arguments)}return n(v,[{key:"render",value:function(){return null}}],[{key:"ignoreWarnings",value:function(t){}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}]),v})(s.Component),m.exports=l},401,[12,13,20,22,19,55,379]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicColorIOS=void 0;var o=r(d[0]);e.DynamicColorIOS=function(t){return(0,o.DynamicColorIOSPrivate)({light:t.light,dark:t.dark})}},402,[67]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),s=n.shape({x:n.number,y:n.number});m.exports=s},403,[70]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),c=r(d[3]),l=c.NativeModules.RNBackgroundTimer,o=new c.NativeEventEmitter(l),s=new((function(){function t(){var u=this;(0,n.default)(this,t),this.uniqueId=0,this.callbacks={},o.addListener('backgroundTimer.timeout',function(t){if(u.callbacks[t]){var n=u.callbacks[t].callback;u.callbacks[t].interval?l.setTimeout(t,u.callbacks[t].timeout):delete u.callbacks[t],n()}})}return(0,u.default)(t,[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return l.start(t)}},{key:"stop",value:function(){return l.stop()}},{key:"runBackgroundTimer",value:function(t,n){var u=this,l=c.Platform.select({ios:function(){return c.NativeAppEventEmitter},android:function(){return c.DeviceEventEmitter}})();this.start(0),this.backgroundListener=l.addListener('backgroundTimer',function(){u.backgroundListener.remove(),u.backgroundClockMethod(t,n)})}},{key:"backgroundClockMethod",value:function(t,n){var u=this;this.backgroundTimer=this.setTimeout(function(){t(),u.backgroundClockMethod(t,n)},n)}},{key:"stopBackgroundTimer",value:function(){this.stop(),this.clearTimeout(this.backgroundTimer)}},{key:"setTimeout",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!1,timeout:n},l.setTimeout(u,n),u}},{key:"clearTimeout",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}},{key:"setInterval",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!0,timeout:n},l.setTimeout(u,n),u}},{key:"clearInterval",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}}]),t})());e.default=s},404,[2,12,13,7]);
__d(function(g,r,i,a,m,e,d){(0,r(d[0]).setupURLPolyfill)()},405,[406]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={setupURLPolyfill:!0};e.setupURLPolyfill=function(){g.REACT_NATIVE_URL_POLYFILL=o.name+"@"+o.version,(0,n.polyfillGlobal)('URL',function(){return r(d[3]).URL}),(0,n.polyfillGlobal)('URLSearchParams',function(){return r(d[4]).URLSearchParams})},r(d[0]);var n=r(d[1]),o=r(d[2]),l=r(d[3]);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}}))});var u=r(d[4]);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))})},406,[407,109,408,409,424]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=parseInt(t.Platform.Version,10);'ios'===t.Platform.OS&&10===n&&null==Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,'byteLength')&&Object.defineProperty(ArrayBuffer.prototype,'byteLength',{configurable:!0,enumerable:!1,get:function(){return null}})},407,[7]);
__d(function(e,t,i,r,a,n,s){a.exports={name:"react-native-url-polyfill",version:"1.3.0",description:"A lightweight and trustworthy URL polyfill for React Native",keywords:["URL","URLSearchParams","polyfill","react native","whatwg-url"],bugs:{url:"https://github.com/charpeni/react-native-url-polyfill/issues"},homepage:"https://github.com/charpeni/react-native-url-polyfill",readme:"https://github.com/charpeni/react-native-url-polyfill#readme",repository:{type:"git",url:"https://github.com/charpeni/react-native-url-polyfill.git"},main:"index.js",types:"index.d.ts",scripts:{test:"jest",lint:"eslint .","bundle-size":"node scripts/bundle-size"},author:"Nicolas Charpentier <nicolas.charpentier079@gmail.com>",license:"MIT",dependencies:{"whatwg-url-without-unicode":"8.0.0-3"},devDependencies:{"@react-native-community/eslint-config":"^2.0.0",chalk:"^4.0.0",eslint:"^7.1.0","eslint-plugin-prettier":"^3.1.3",execa:"^5.0.0",filesize:"^6.1.0",husky:">=1",jest:"^26.0.1","lint-staged":">=8","metro-react-native-babel-preset":"^0.65.0",ora:"^5.3.0","prepend-file":"^1.3.1",prettier:"^2.0.5",react:"16.13.1","react-native":"0.63.4",rmfr:"^2.0.0","source-map-explorer":"^2.4.2",tmp:"^0.2.1",typescript:"^4.1.3",uuid:"^8.1.0"},peerDependencies:{"react-native":"*"},jest:{preset:"react-native",testPathIgnorePatterns:["/node_modules/","./detox/"]},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.js":["eslint --fix","git add"]}}},408,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var t=r(d[0]),o=r(d[1]),n=null,f=t.NativeModules.BlobModule;f&&'string'==typeof f.BLOB_URI_SCHEME&&(n=f.BLOB_URI_SCHEME+':','string'==typeof f.BLOB_URI_HOST&&(n+="//"+f.BLOB_URI_HOST+"/")),o.URL.createObjectURL=function(t){if(null===n)throw new Error('Cannot create URL for blob!');return""+n+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size},o.URL.revokeObjectURL=function(t){};var L=o.URL;e.URL=L},409,[7,410]);
__d(function(g,r,i,a,m,e,d){"use strict";var s=r(d[0]),t=s.URL,n=s.URLSearchParams,U=r(d[1]),L=r(d[2]),R={};t.install(R),n.install(R),e.URL=R.URL,e.URLSearchParams=R.URLSearchParams,e.parseURL=U.parseURL,e.basicURLParse=U.basicURLParse,e.serializeURL=U.serializeURL,e.serializeHost=U.serializeHost,e.serializeInteger=U.serializeInteger,e.serializeURLOrigin=U.serializeURLOrigin,e.setTheUsername=U.setTheUsername,e.setThePassword=U.setThePassword,e.cannotHaveAUsernamePasswordPort=U.cannotHaveAUsernamePasswordPort,e.percentDecode=L.percentDecode},410,[411,416,421]);
__d(function(g,r,i,a,m,e,d){"use strict";var c=r(d[0]),s=r(d[1]);e.URL=c,e.URLSearchParams=s},411,[412,422]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),o=r(d[1]),n=r(d[2]);function s(t,o){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=h(t))||o&&t&&"number"==typeof t.length){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,o){if(t){if("string"==typeof t)return l(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,o):void 0}}function l(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,s=new Array(o);n<o;n++)s[n]=t[n];return s}var p=r(d[3]),c=r(d[4]),u=c.implSymbol,f=c.ctorRegistrySymbol,v={_mixedIntoPredicates:[],is:function(t){if(t){if(c.hasOwn(t,u)&&t[u]instanceof y.implementation)return!0;for(var o,n=s(m.exports._mixedIntoPredicates);!(o=n()).done;){if((0,o.value)(t))return!0}}return!1},isImpl:function(t){if(t){if(t instanceof y.implementation)return!0;for(var o,n=c.wrapperForImpl(t),h=s(m.exports._mixedIntoPredicates);!(o=h()).done;){if((0,o.value)(n))return!0}}return!1},convert:function(t){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,n=void 0===o?"The provided value":o;if(m.exports.is(t))return c.implForWrapper(t);throw new TypeError(n+" is not of type 'URL'.")},create:function(t,o,n){if(void 0===t[f])throw new Error("Internal error: invalid global object");var s=t[f].URL;if(void 0===s)throw new Error("Internal error: constructor URL is not installed on the passed global object");var h=Object.create(s.prototype);return h=v.setup(h,t,o,n)},createImpl:function(t,o,n){var s=v.create(t,o,n);return c.implForWrapper(s)},_internalSetup:function(t){},setup:function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s.wrapper=t,v._internalSetup(t),Object.defineProperty(t,u,{value:new y.implementation(o,n,s),configurable:!0}),t[u][c.wrapperSymbol]=t,y.init&&y.init(t[u],s),t},install:function(s){var h=(function(){function t(n){if(o(this,t),arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");var h=[],l=arguments[0];l=p.USVString(l,{context:"Failed to construct 'URL': parameter 1"}),h.push(l);var c=arguments[1];return void 0!==c&&(c=p.USVString(c,{context:"Failed to construct 'URL': parameter 2"})),h.push(c),v.setup(Object.create(this.constructor.prototype),s,h)}return n(t,[{key:"toJSON",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].toJSON()}},{key:"href",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].href},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'href' property on 'URL': The provided value"}),this[u].href=t}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].href}},{key:"origin",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].origin}},{key:"protocol",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].protocol},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'protocol' property on 'URL': The provided value"}),this[u].protocol=t}},{key:"username",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].username},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'username' property on 'URL': The provided value"}),this[u].username=t}},{key:"password",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].password},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'password' property on 'URL': The provided value"}),this[u].password=t}},{key:"host",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].host},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'host' property on 'URL': The provided value"}),this[u].host=t}},{key:"hostname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].hostname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'hostname' property on 'URL': The provided value"}),this[u].hostname=t}},{key:"port",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].port},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'port' property on 'URL': The provided value"}),this[u].port=t}},{key:"pathname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].pathname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'pathname' property on 'URL': The provided value"}),this[u].pathname=t}},{key:"search",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].search},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'search' property on 'URL': The provided value"}),this[u].search=t}},{key:"searchParams",get:function(){var t=this;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return c.getSameObject(this,"searchParams",function(){return c.tryWrapperForImpl(t[u].searchParams)})}},{key:"hash",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[u].hash},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'hash' property on 'URL': The provided value"}),this[u].hash=t}}]),t})();Object.defineProperties(h.prototype,t({toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0}},Symbol.toStringTag,{value:"URL",configurable:!0})),void 0===s[f]&&(s[f]=Object.create(null)),s[f].URL=h,Object.defineProperty(s,"URL",{configurable:!0,writable:!0,value:h})}};m.exports=v;var y=r(d[5])},412,[253,12,13,413,414,415]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n,t){return(t&&t.context?t.context:"Value")+" "+n+"."}function t(n){if(null===n)return"Null";switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";case"object":case"function":default:return"Object"}}function o(n){return s(n>0&&n%1==.5&&0==(1&n)||n<0&&n%1==-.5&&1==(1&n)?Math.floor(n):Math.round(n))}function u(n){return s(Math.trunc(n))}function f(n){return n<0?-1:1}function c(n,t){var o=n%t;return f(t)!==f(o)?o+t:o}function s(n){return 0===n?0:n}function l(t,f){var l,y,w=!f.unsigned;64===t?(y=Math.pow(2,53)-1,l=w?1-Math.pow(2,53):0):w?(l=-Math.pow(2,t-1),y=Math.pow(2,t-1)-1):(l=0,y=Math.pow(2,t)-1);var h=Math.pow(2,t),p=Math.pow(2,t-1);return function(t,f){void 0===f&&(f={});var b=+t;if(b=s(b),f.enforceRange){if(!Number.isFinite(b))throw new TypeError(n("is not a finite number",f));if((b=u(b))<l||b>y)throw new TypeError(n("is outside the accepted range of "+l+" to "+y+", inclusive",f));return b}return!Number.isNaN(b)&&f.clamp?b=o(b=Math.min(Math.max(b,l),y)):Number.isFinite(b)&&0!==b?(b=u(b))>=l&&b<=y?b:(b=c(b,h),w&&b>=p?b-h:b):0}}function y(t,o){if("function"!=typeof t)throw new TypeError(n("is not a function",o));return t}e.any=function(n){return n},e.void=function(){},e.boolean=function(n){return!!n},e.byte=l(8,{unsigned:!1}),e.octet=l(8,{unsigned:!0}),e.short=l(16,{unsigned:!1}),e["unsigned short"]=l(16,{unsigned:!0}),e.long=l(32,{unsigned:!1}),e["unsigned long"]=l(32,{unsigned:!0}),e["long long"]=l(64,{unsigned:!1}),e["unsigned long long"]=l(64,{unsigned:!0}),e.double=function(t,o){var u=+t;if(!Number.isFinite(u))throw new TypeError(n("is not a finite floating-point value",o));return u},e["unrestricted double"]=function(n){return+n},e.float=function(t,o){var u=+t;if(!Number.isFinite(u))throw new TypeError(n("is not a finite floating-point value",o));if(Object.is(u,-0))return u;var f=Math.fround(u);if(!Number.isFinite(f))throw new TypeError(n("is outside the range of a single-precision floating-point value",o));return f},e["unrestricted float"]=function(n){var t=+n;return isNaN(t)?t:Object.is(t,-0)?t:Math.fround(t)},e.DOMString=function(t,o){if(void 0===o&&(o={}),o.treatNullAsEmptyString&&null===t)return"";if("symbol"==typeof t)throw new TypeError(n("is a symbol, which cannot be converted to a string",o));return String(t)},e.ByteString=function(t,o){for(var u,f=e.DOMString(t,o),c=0;void 0!==(u=f.codePointAt(c));++c)if(u>255)throw new TypeError(n("is not a valid ByteString",o));return f},e.USVString=function(n,t){for(var o=e.DOMString(n,t),u=o.length,f=[],c=0;c<u;++c){var s=o.charCodeAt(c);if(s<55296||s>57343)f.push(String.fromCodePoint(s));else if(56320<=s&&s<=57343)f.push(String.fromCodePoint(65533));else if(c===u-1)f.push(String.fromCodePoint(65533));else{var l=o.charCodeAt(c+1);if(56320<=l&&l<=57343){var y=1023&s,w=1023&l;f.push(String.fromCodePoint(65536+1024*y+w)),++c}else f.push(String.fromCodePoint(65533))}}return f.join("")},e.object=function(o,u){if("Object"!==t(o))throw new TypeError(n("is not an object",u));return o};var w=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function h(n){try{return w.call(n),!0}catch(n){return!1}}e.ArrayBuffer=function(t,o){if(!h(t))throw new TypeError(n("is not a view on an ArrayBuffer object",o));return t};var p=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;e.DataView=function(t,o){try{return p.call(t),t}catch(t){throw new TypeError(n("is not a view on an DataView object",o))}},[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(function(t){var o=t.name,u=/^[AEIOU]/.test(o)?"an":"a";e[o]=function(t,f){if(!ArrayBuffer.isView(t)||t.constructor.name!==o)throw new TypeError(n("is not "+u+" "+o+" object",f));return t}}),e.ArrayBufferView=function(t,o){if(!ArrayBuffer.isView(t))throw new TypeError(n("is not a view on an ArrayBuffer object",o));return t},e.BufferSource=function(t,o){if(!ArrayBuffer.isView(t)&&!h(t))throw new TypeError(n("is not an ArrayBuffer object or a view on one",o));return t},e.DOMTimeStamp=e["unsigned long long"],e.Function=y,e.VoidFunction=y},413,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=Symbol("wrapper"),o=Symbol("impl"),p=Symbol("SameObject caches"),n=Symbol.for("[webidl2js]  constructor registry");function y(o){return o?o[t]:null}function l(t){return t?t[o]:null}var s=Symbol("internal"),u=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));var c=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;var b=Symbol("supports property index"),S=Symbol("supported property indices"),f=Symbol("supports property name"),x=Symbol("supported property names"),O=Symbol("indexed property get"),w=Symbol("indexed property set new"),j=Symbol("indexed property set existing"),P=Symbol("named property get"),I=Symbol("named property set new"),v=Symbol("named property set existing"),h=Symbol("named property delete");m.exports={isObject:function(t){return"object"==typeof t&&null!==t||"function"==typeof t},hasOwn:function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},wrapperSymbol:t,implSymbol:o,getSameObject:function(t,o,n){return t[p]||(t[p]=Object.create(null)),o in t[p]?t[p][o]:(t[p][o]=n(),t[p][o])},ctorRegistrySymbol:n,wrapperForImpl:y,implForWrapper:l,tryWrapperForImpl:function(t){var o=y(t);return o||t},tryImplForWrapper:function(t){var o=l(t);return o||t},iterInternalSymbol:s,IteratorPrototype:u,isArrayBuffer:function(t){try{return c.call(t),!0}catch(t){return!1}},isArrayIndexPropName:function(t){if("string"!=typeof t)return!1;var o=t>>>0;return o!==Math.pow(2,32)-1&&t===""+o},supportsPropertyIndex:b,supportedPropertyIndices:S,supportsPropertyName:f,supportedPropertyNames:x,indexedGet:O,indexedSetNew:w,indexedSetExisting:j,namedGet:P,namedSetNew:I,namedSetExisting:v,namedDelete:h}},414,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=r(d[1]),n=r(d[2]),u=r(d[3]),l=r(d[4]);e.implementation=(function(){function h(s,u){t(this,h);var o=u[0],_=u[1],c=null;if(void 0!==_&&null===(c=n.basicURLParse(_)))throw new TypeError("Invalid base URL: "+_);var f=n.basicURLParse(o,{baseURL:c});if(null===f)throw new TypeError("Invalid URL: "+o);var y=null!==f.query?f.query:"";this._url=f,this._query=l.createImpl(s,[y],{doNotStripQMark:!0}),this._query._url=this}return s(h,[{key:"href",get:function(){return n.serializeURL(this._url)},set:function(t){var s=n.basicURLParse(t);if(null===s)throw new TypeError("Invalid URL: "+t);this._url=s,this._query._list.splice(0);var l=s.query;null!==l&&(this._query._list=u.parseUrlencoded(l))}},{key:"origin",get:function(){return n.serializeURLOrigin(this._url)}},{key:"protocol",get:function(){return this._url.scheme+":"},set:function(t){n.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}},{key:"username",get:function(){return this._url.username},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setTheUsername(this._url,t)}},{key:"password",get:function(){return this._url.password},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setThePassword(this._url,t)}},{key:"host",get:function(){var t=this._url;return null===t.host?"":null===t.port?n.serializeHost(t.host):n.serializeHost(t.host)+":"+n.serializeInteger(t.port)},set:function(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"host"})}},{key:"hostname",get:function(){return null===this._url.host?"":n.serializeHost(this._url.host)},set:function(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}},{key:"port",get:function(){return null===this._url.port?"":n.serializeInteger(this._url.port)},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||(""===t?this._url.port=null:n.basicURLParse(t,{url:this._url,stateOverride:"port"}))}},{key:"pathname",get:function(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")},set:function(t){this._url.cannotBeABaseURL||(this._url.path=[],n.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}},{key:"search",get:function(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query},set:function(t){var s=this._url;if(""===t)return s.query=null,void(this._query._list=[]);var l="?"===t[0]?t.substring(1):t;s.query="",n.basicURLParse(l,{url:s,stateOverride:"query"}),this._query._list=u.parseUrlencoded(l)}},{key:"searchParams",get:function(){return this._query}},{key:"hash",get:function(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment},set:function(t){if(""!==t){var s="#"===t[0]?t.substring(1):t;this._url.fragment="",n.basicURLParse(s,{url:this._url,stateOverride:"fragment"})}else this._url.fragment=null}},{key:"toJSON",value:function(){return this.href}}]),h})()},415,[12,13,416,421,422]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,h){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=s(t))||h&&t&&"number"==typeof t.length){n&&(t=n);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,s){if(t){if("string"==typeof t)return h(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,s):void 0}}function h(t,s){(null==s||s>t.length)&&(s=t.length);for(var h=0,n=new Array(s);h<s;h++)n[h]=t[h];return n}var n=r(d[0]).Buffer,u=r(d[1]),o=r(d[2]),l=r(d[3]),p=l.percentEncode,f=l.percentDecode,c={ftp:21,file:null,http:80,https:443,ws:80,wss:443},b=Symbol("failure");function v(t){return u.ucs2.decode(t).length}function y(t,s){var h=t[s];return isNaN(h)?void 0:String.fromCodePoint(h)}function A(t){return"."===t||"%2e"===t.toLowerCase()}function w(t){return 2===t.length&&o.isASCIIAlpha(t.codePointAt(0))&&(":"===t[1]||"|"===t[1])}function I(t){return void 0!==c[t]}function S(t){return I(t.scheme)}function E(t){return!I(t.scheme)}function O(t){return c[t]}function C(t){for(var s=n.from(t),h="",u=0;u<s.length;++u)h+=p(s[u]);return h}function q(t){return t<=31||t>126}var N=new Set([47,58,59,61,64,91,92,93,94,124]);function x(t){return B(t)||N.has(t)}var L=new Set([32,34,60,62,96]);function U(t){return q(t)||L.has(t)}var R=new Set([35,63,123,125]);function B(t){return U(t)||R.has(t)}function F(t,s){var h=String.fromCodePoint(t);return s(t)?C(h):h}function P(t){var s=10;if(t.length>=2&&"0"===t.charAt(0)&&"x"===t.charAt(1).toLowerCase()?(t=t.substring(2),s=16):t.length>=2&&"0"===t.charAt(0)&&(t=t.substring(1),s=8),""===t)return 0;var h=/[^0-7]/;return 10===s&&(h=/[^0-9]/),16===s&&(h=/[^0-9A-Fa-f]/),h.test(t)?b:parseInt(t,s)}function H(s){var h=s.split(".");if(""===h[h.length-1]&&h.length>1&&h.pop(),h.length>4)return s;for(var n,u=[],o=t(h);!(n=o()).done;){var l=n.value;if(""===l)return s;var p=P(l);if(p===b)return s;u.push(p)}for(var f=0;f<u.length-1;++f)if(u[f]>255)return b;if(u[u.length-1]>=Math.pow(256,5-u.length))return b;for(var c=u.pop(),v=0,y=0,A=u;y<A.length;y++){c+=A[y]*Math.pow(256,3-v),++v}return c}function k(t){for(var s="",h=t,n=1;n<=4;++n)s=String(h%256)+s,4!==n&&(s="."+s),h=Math.floor(h/256);return s}function D(t){var s=[0,0,0,0,0,0,0,0],h=0,n=null,l=0;if(58===(t=u.ucs2.decode(t))[l]){if(58!==t[l+1])return b;l+=2,n=++h}for(;l<t.length;){if(8===h)return b;if(58!==t[l]){for(var p=0,f=0;f<4&&o.isASCIIHex(t[l]);)p=16*p+parseInt(y(t,l),16),++l,++f;if(46===t[l]){if(0===f)return b;if(l-=f,h>6)return b;for(var c=0;void 0!==t[l];){var v=null;if(c>0){if(!(46===t[l]&&c<4))return b;++l}if(!o.isASCIIDigit(t[l]))return b;for(;o.isASCIIDigit(t[l]);){var A=parseInt(y(t,l));if(null===v)v=A;else{if(0===v)return b;v=10*v+A}if(v>255)return b;++l}s[h]=256*s[h]+v,2!==++c&&4!==c||++h}if(4!==c)return b;break}if(58===t[l]){if(void 0===t[++l])return b}else if(void 0!==t[l])return b;s[h]=p,++h}else{if(null!==n)return b;++l,n=++h}}if(null!==n){var w=h-n;for(h=7;0!==h&&w>0;){var I=s[n+w-1];s[n+w-1]=s[h],s[h]=I,--h,--w}}else if(null===n&&8!==h)return b;return s}function T(t){for(var s="",h=j(t).idx,n=!1,u=0;u<=7;++u){if(!n||0!==t[u])if(n&&(n=!1),h!==u)s+=t[u].toString(16),7!==u&&(s+=":");else s+=0===u?"::":":",n=!0}return s}function z(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("["===t[0])return"]"!==t[t.length-1]?b:D(t.substring(1,t.length-1));if(s)return M(t);var h=_(f(n.from(t)).toString());if(h===b)return b;if(-1!==h.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return b;var u=H(h);return"number"==typeof u||u===b?u:h}function M(t){if(-1!==t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return b;for(var s="",h=u.ucs2.decode(t),n=0;n<h.length;++n)s+=F(h[n],q);return s}function j(t){for(var s=null,h=1,n=null,u=0,o=0;o<t.length;++o)0!==t[o]?(u>h&&(s=n,h=u),n=null,u=0):(null===n&&(n=o),++u);return u>h&&(s=n,h=u),{idx:s,len:h}}function $(t){return"number"==typeof t?k(t):t instanceof Array?"["+T(t)+"]":t}function _(t){return null===t?b:t}function Z(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function G(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function J(t){var s,h=t.path;0!==h.length&&("file"===t.scheme&&1===h.length&&(s=h[0],/^[A-Za-z]:$/.test(s))||h.pop())}function K(t){return""!==t.username||""!==t.password}function Q(t,s,h,n,o){if(this.pointer=0,this.input=t,this.base=s||null,this.encodingOverride=h||"utf-8",this.stateOverride=o,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};var l=Z(this.input);l!==this.input&&(this.parseError=!0),this.input=l}var p=G(this.input);for(p!==this.input&&(this.parseError=!0),this.input=p,this.state=o||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=u.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){var f=this.input[this.pointer],c=isNaN(f)?void 0:String.fromCodePoint(f),v=this["parse "+this.state](f,c);if(!v)break;if(v===b){this.failure=!0;break}}}Q.prototype["parse scheme start"]=function(t,s){if(o.isASCIIAlpha(t))this.buffer+=s.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,b;this.state="no scheme",--this.pointer}return!0},Q.prototype["parse scheme"]=function(t,s){if(o.isASCIIAlphanumeric(t)||43===t||45===t||46===t)this.buffer+=s.toLowerCase();else if(58===t){if(this.stateOverride){if(S(this.url)&&!I(this.buffer))return!1;if(!S(this.url)&&I(this.buffer))return!1;if((K(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===O(this.url.scheme)&&(this.url.port=null),!1;this.buffer="","file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):S(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":S(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,b;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},Q.prototype["parse no scheme"]=function(t){return null===this.base||this.base.cannotBeABaseURL&&35!==t?b:(this.base.cannotBeABaseURL&&35===t?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},Q.prototype["parse special relative or authority"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},Q.prototype["parse path or authority"]=function(t){return 47===t?this.state="authority":(this.state="path",--this.pointer),!0},Q.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===t?this.state="relative slash":63===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):S(this.url)&&92===t?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},Q.prototype["parse relative slash"]=function(t){return!S(this.url)||47!==t&&92!==t?47===t?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===t&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},Q.prototype["parse special authority slashes"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},Q.prototype["parse special authority ignore slashes"]=function(t){return 47!==t&&92!==t?(this.state="authority",--this.pointer):this.parseError=!0,!0},Q.prototype["parse authority"]=function(t,s){if(64===t){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;for(var h=v(this.buffer),n=0;n<h;++n){var u=this.buffer.codePointAt(n);if(58!==u||this.passwordTokenSeenFlag){var o=F(u,x);this.passwordTokenSeenFlag?this.url.password+=o:this.url.username+=o}else this.passwordTokenSeenFlag=!0}this.buffer=""}else if(isNaN(t)||47===t||63===t||35===t||S(this.url)&&92===t){if(this.atFlag&&""===this.buffer)return this.parseError=!0,b;this.pointer-=v(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=s;return!0},Q.prototype["parse hostname"]=Q.prototype["parse host"]=function(t,s){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==t||this.arrFlag)if(isNaN(t)||47===t||63===t||35===t||S(this.url)&&92===t){if(--this.pointer,S(this.url)&&""===this.buffer)return this.parseError=!0,b;if(this.stateOverride&&""===this.buffer&&(K(this.url)||null!==this.url.port))return this.parseError=!0,!1;var h=z(this.buffer,E(this.url));if(h===b)return b;if(this.url.host=h,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===t?this.arrFlag=!0:93===t&&(this.arrFlag=!1),this.buffer+=s;else{if(""===this.buffer)return this.parseError=!0,b;var n=z(this.buffer,E(this.url));if(n===b)return b;if(this.url.host=n,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},Q.prototype["parse port"]=function(t,s){if(o.isASCIIDigit(t))this.buffer+=s;else{if(!(isNaN(t)||47===t||63===t||35===t||S(this.url)&&92===t||this.stateOverride))return this.parseError=!0,b;if(""!==this.buffer){var h=parseInt(this.buffer);if(h>Math.pow(2,16)-1)return this.parseError=!0,b;this.url.port=h===O(this.url.scheme)?null:h,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};var V=new Set([47,92,63,35]);function W(t,s){var h,n,u=t.length-s;return u>=2&&(h=t[s],n=t[s+1],o.isASCIIAlpha(h)&&(58===n||124===n))&&(2===u||V.has(t[s+2]))}Q.prototype["parse file"]=function(t){return this.url.scheme="file",47===t||92===t?(92===t&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(t)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(W(this.input,this.pointer)?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),J(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},Q.prototype["parse file slash"]=function(t){var s;return 47===t||92===t?(92===t&&(this.parseError=!0),this.state="file host"):(null===this.base||"file"!==this.base.scheme||W(this.input,this.pointer)||(2===(s=this.base.path[0]).length&&o.isASCIIAlpha(s.codePointAt(0))&&":"===s[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},Q.prototype["parse file host"]=function(t,s){if(isNaN(t)||47===t||92===t||63===t||35===t)if(--this.pointer,!this.stateOverride&&w(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{var h=z(this.buffer,E(this.url));if(h===b)return b;if("localhost"===h&&(h=""),this.url.host=h,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=s;return!0},Q.prototype["parse path start"]=function(t){return S(this.url)?(92===t&&(this.parseError=!0),this.state="path",47!==t&&92!==t&&--this.pointer):this.stateOverride||63!==t?this.stateOverride||35!==t?void 0!==t&&(this.state="path",47!==t&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},Q.prototype["parse path"]=function(t){if(isNaN(t)||47===t||S(this.url)&&92===t||!this.stateOverride&&(63===t||35===t)){if(S(this.url)&&92===t&&(this.parseError=!0),".."===(s=(s=this.buffer).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(J(this.url),47===t||S(this.url)&&92===t||this.url.path.push("")):!A(this.buffer)||47===t||S(this.url)&&92===t?A(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&w(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===t||63===t||35===t))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===t&&(this.url.query="",this.state="query"),35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=F(t,B);var s;return!0},Q.prototype["parse cannot-be-a-base-URL path"]=function(t){return 63===t?(this.url.query="",this.state="query"):35===t?(this.url.fragment="",this.state="fragment"):(isNaN(t)||37===t||(this.parseError=!0),37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN(t)||(this.url.path[0]+=F(t,q))),!0},Q.prototype["parse query"]=function(t,s){if(isNaN(t)||!this.stateOverride&&35===t){S(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");for(var h=n.from(this.buffer),u=0;u<h.length;++u)h[u]<33||h[u]>126||34===h[u]||35===h[u]||60===h[u]||62===h[u]||39===h[u]&&S(this.url)?this.url.query+=p(h[u]):this.url.query+=String.fromCodePoint(h[u]);this.buffer="",35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=s;return!0},Q.prototype["parse fragment"]=function(t){return isNaN(t)||(0===t?this.parseError=!0:(37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=F(t,U))),!0},m.exports.serializeURL=function(s,h){var n=s.scheme+":";if(null!==s.host?(n+="//",""===s.username&&""===s.password||(n+=s.username,""!==s.password&&(n+=":"+s.password),n+="@"),n+=$(s.host),null!==s.port&&(n+=":"+s.port)):null===s.host&&"file"===s.scheme&&(n+="//"),s.cannotBeABaseURL)n+=s.path[0];else for(var u,o=t(s.path);!(u=o()).done;)n+="/"+u.value;return null!==s.query&&(n+="?"+s.query),h||null===s.fragment||(n+="#"+s.fragment),n},m.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return m.exports.serializeURLOrigin(m.exports.parseURL(t.path[0]))}catch(t){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return s={scheme:t.scheme,host:t.host,port:t.port},h=s.scheme+"://",h+=$(s.host),null!==s.port&&(h+=":"+s.port),h;case"file":default:return"null"}var s,h},m.exports.basicURLParse=function(t,s){void 0===s&&(s={});var h=new Q(t,s.baseURL,s.encodingOverride,s.url,s.stateOverride);return h.failure?null:h.url},m.exports.setTheUsername=function(t,s){t.username="";for(var h=u.ucs2.decode(s),n=0;n<h.length;++n)t.username+=F(h[n],x)},m.exports.setThePassword=function(t,s){t.password="";for(var h=u.ucs2.decode(s),n=0;n<h.length;++n)t.password+=F(h[n],x)},m.exports.serializeHost=$,m.exports.cannotHaveAUsernamePasswordPort=function(t){return null===t.host||""===t.host||t.cannotBeABaseURL||"file"===t.scheme},m.exports.serializeInteger=function(t){return String(t)},m.exports.parseURL=function(t,s){return void 0===s&&(s={}),m.exports.basicURLParse(t,{baseURL:s.baseURL,encodingOverride:s.encodingOverride})}},416,[417,419,420,421]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50;var f=2147483647;function u(t){if(t>f)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return Object.setPrototypeOf(n,s.prototype),n}function s(t,n,o){if('number'==typeof t){if('string'==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return h(t,n,o)}function h(t,n,o){if('string'==typeof t)return y(t,n);if(ArrayBuffer.isView(t))return v(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return b(t,n,o);if('undefined'!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return b(t,n,o);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var f=t.valueOf&&t.valueOf();if(null!=f&&f!==t)return s.from(f,n,o);var u=E(t);if(u)return u;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]('string'),n,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function p(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t,n,o){return p(t),t<=0?u(t):void 0!==n?'string'==typeof o?u(t).fill(n,o):u(t).fill(n):u(t)}function l(t){return p(t),u(t<0?0:0|B(t))}function y(t,n){if('string'==typeof n&&''!==n||(n='utf8'),!s.isEncoding(n))throw new TypeError('Unknown encoding: '+n);var o=0|A(t,n),f=u(o),h=f.write(t,n);return h!==o&&(f=f.slice(0,h)),f}function w(t){for(var n=t.length<0?0:0|B(t.length),o=u(n),f=0;f<n;f+=1)o[f]=255&t[f];return o}function v(t){if(Q(t,Uint8Array)){var n=new Uint8Array(t);return b(n.buffer,n.byteOffset,n.byteLength)}return w(t)}function b(t,n,o){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(o||0))throw new RangeError('"length" is outside of buffer bounds');var f;return f=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),Object.setPrototypeOf(f,s.prototype),f}function E(t){if(s.isBuffer(t)){var n=0|B(t.length),o=u(n);return 0===o.length?o:(t.copy(o,0,0,n),o)}return void 0!==t.length?'number'!=typeof t.length||tt(t.length)?u(0):w(t):'Buffer'===t.type&&Array.isArray(t.data)?w(t.data):void 0}function B(t){if(t>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+' bytes');return 0|t}function A(t,n){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var o=t.length,f=arguments.length>2&&!0===arguments[2];if(!f&&0===o)return 0;for(var u=!1;;)switch(n){case'ascii':case'latin1':case'binary':return o;case'utf8':case'utf-8':return Z(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*o;case'hex':return o>>>1;case'base64':return H(t).length;default:if(u)return f?-1:Z(t).length;n=(''+n).toLowerCase(),u=!0}}function U(t,n,o){var f=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return'';if((void 0===o||o>this.length)&&(o=this.length),o<=0)return'';if((o>>>=0)<=(n>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return D(this,n,o);case'utf8':case'utf-8':return k(this,n,o);case'ascii':return j(this,n,o);case'latin1':case'binary':return z(this,n,o);case'base64':return P(this,n,o);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return F(this,n,o);default:if(f)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),f=!0}}function T(t,n,o){var f=t[n];t[n]=t[o],t[o]=f}function I(t,n,o,f,u){if(0===t.length)return-1;if('string'==typeof o?(f=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),tt(o=+o)&&(o=u?0:t.length-1),o<0&&(o=t.length+o),o>=t.length){if(u)return-1;o=t.length-1}else if(o<0){if(!u)return-1;o=0}if('string'==typeof n&&(n=s.from(n,f)),s.isBuffer(n))return 0===n.length?-1:L(t,n,o,f,u);if('number'==typeof n)return n&=255,'function'==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(t,n,o):Uint8Array.prototype.lastIndexOf.call(t,n,o):L(t,[n],o,f,u);throw new TypeError('val must be string, number or Buffer')}function L(t,n,o,f,u){var s,h=1,p=t.length,c=n.length;if(void 0!==f&&('ucs2'===(f=String(f).toLowerCase())||'ucs-2'===f||'utf16le'===f||'utf-16le'===f)){if(t.length<2||n.length<2)return-1;h=2,p/=2,c/=2,o/=2}function l(t,n){return 1===h?t[n]:t.readUInt16BE(n*h)}if(u){var y=-1;for(s=o;s<p;s++)if(l(t,s)===l(n,-1===y?0:s-y)){if(-1===y&&(y=s),s-y+1===c)return y*h}else-1!==y&&(s-=s-y),y=-1}else for(o+c>p&&(o=p-c),s=o;s>=0;s--){for(var w=!0,v=0;v<c;v++)if(l(t,s+v)!==l(n,v)){w=!1;break}if(w)return s}return-1}function S(t,n,o,f){o=Number(o)||0;var u=t.length-o;f?(f=Number(f))>u&&(f=u):f=u;var s=n.length;f>s/2&&(f=s/2);for(var h=0;h<f;++h){var p=parseInt(n.substr(2*h,2),16);if(tt(p))return h;t[o+h]=p}return h}function O(t,n,o,f){return K(Z(n,t.length-o),t,o,f)}function R(t,n,o,f){return K($(n),t,o,f)}function x(t,n,o,f){return K(H(n),t,o,f)}function C(t,n,o,f){return K(G(n,t.length-o),t,o,f)}function P(n,o,f){return 0===o&&f===n.length?t.fromByteArray(n):t.fromByteArray(n.slice(o,f))}function k(t,n,o){o=Math.min(t.length,o);for(var f=[],u=n;u<o;){var s,h,p,c,l=t[u],y=null,w=l>239?4:l>223?3:l>191?2:1;if(u+w<=o)switch(w){case 1:l<128&&(y=l);break;case 2:128==(192&(s=t[u+1]))&&(c=(31&l)<<6|63&s)>127&&(y=c);break;case 3:s=t[u+1],h=t[u+2],128==(192&s)&&128==(192&h)&&(c=(15&l)<<12|(63&s)<<6|63&h)>2047&&(c<55296||c>57343)&&(y=c);break;case 4:s=t[u+1],h=t[u+2],p=t[u+3],128==(192&s)&&128==(192&h)&&128==(192&p)&&(c=(15&l)<<18|(63&s)<<12|(63&h)<<6|63&p)>65535&&c<1114112&&(y=c)}null===y?(y=65533,w=1):y>65535&&(y-=65536,f.push(y>>>10&1023|55296),y=56320|1023&y),f.push(y),u+=w}return _(f)}e.kMaxLength=f,s.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}})(),s.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,'parent',{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,'offset',{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,n,o){return h(t,n,o)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,n,o){return c(t,n,o)},s.allocUnsafe=function(t){return l(t)},s.allocUnsafeSlow=function(t){return l(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,n){if(Q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),Q(n,Uint8Array)&&(n=s.from(n,n.offset,n.byteLength)),!s.isBuffer(t)||!s.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var o=t.length,f=n.length,u=0,h=Math.min(o,f);u<h;++u)if(t[u]!==n[u]){o=t[u],f=n[u];break}return o<f?-1:f<o?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},s.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var o;if(void 0===n)for(n=0,o=0;o<t.length;++o)n+=t[o].length;var f=s.allocUnsafe(n),u=0;for(o=0;o<t.length;++o){var h=t[o];if(Q(h,Uint8Array))u+h.length>f.length?s.from(h).copy(f,u):Uint8Array.prototype.set.call(f,h,u);else{if(!s.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(f,u)}u+=h.length}return f},s.byteLength=A,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var n=0;n<t;n+=2)T(this,n,n+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var n=0;n<t;n+=4)T(this,n,n+3),T(this,n+1,n+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var n=0;n<t;n+=8)T(this,n,n+7),T(this,n+1,n+6),T(this,n+2,n+5),T(this,n+3,n+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?k(this,0,t):U.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t='',n=e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,n).replace(/(.{2})/g,'$1 ').trim(),this.length>n&&(t+=' ... '),'<Buffer '+t+'>'},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(t,n,o,f,u){if(Q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===n&&(n=0),void 0===o&&(o=t?t.length:0),void 0===f&&(f=0),void 0===u&&(u=this.length),n<0||o>t.length||f<0||u>this.length)throw new RangeError('out of range index');if(f>=u&&n>=o)return 0;if(f>=u)return-1;if(n>=o)return 1;if(n>>>=0,o>>>=0,f>>>=0,u>>>=0,this===t)return 0;for(var h=u-f,p=o-n,c=Math.min(h,p),l=this.slice(f,u),y=t.slice(n,o),w=0;w<c;++w)if(l[w]!==y[w]){h=l[w],p=y[w];break}return h<p?-1:p<h?1:0},s.prototype.includes=function(t,n,o){return-1!==this.indexOf(t,n,o)},s.prototype.indexOf=function(t,n,o){return I(this,t,n,o,!0)},s.prototype.lastIndexOf=function(t,n,o){return I(this,t,n,o,!1)},s.prototype.write=function(t,n,o,f){if(void 0===n)f='utf8',o=this.length,n=0;else if(void 0===o&&'string'==typeof n)f=n,o=this.length,n=0;else{if(!isFinite(n))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');n>>>=0,isFinite(o)?(o>>>=0,void 0===f&&(f='utf8')):(f=o,o=void 0)}var u=this.length-n;if((void 0===o||o>u)&&(o=u),t.length>0&&(o<0||n<0)||n>this.length)throw new RangeError('Attempt to write outside buffer bounds');f||(f='utf8');for(var s=!1;;)switch(f){case'hex':return S(this,t,n,o);case'utf8':case'utf-8':return O(this,t,n,o);case'ascii':case'latin1':case'binary':return R(this,t,n,o);case'base64':return x(this,t,n,o);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return C(this,t,n,o);default:if(s)throw new TypeError('Unknown encoding: '+f);f=(''+f).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function _(t){var n=t.length;if(n<=M)return String.fromCharCode.apply(String,t);for(var o='',f=0;f<n;)o+=String.fromCharCode.apply(String,t.slice(f,f+=M));return o}function j(t,n,o){var f='';o=Math.min(t.length,o);for(var u=n;u<o;++u)f+=String.fromCharCode(127&t[u]);return f}function z(t,n,o){var f='';o=Math.min(t.length,o);for(var u=n;u<o;++u)f+=String.fromCharCode(t[u]);return f}function D(t,n,o){var f=t.length;(!n||n<0)&&(n=0),(!o||o<0||o>f)&&(o=f);for(var u='',s=n;s<o;++s)u+=rt[t[s]];return u}function F(t,n,o){for(var f=t.slice(n,o),u='',s=0;s<f.length-1;s+=2)u+=String.fromCharCode(f[s]+256*f[s+1]);return u}function N(t,n,o){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+n>o)throw new RangeError('Trying to access beyond buffer length')}function Y(t,n,o,f,u,h){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>u||n<h)throw new RangeError('"value" argument is out of bounds');if(o+f>t.length)throw new RangeError('Index out of range')}function q(t,n,o,f,u,s){if(o+f>t.length)throw new RangeError('Index out of range');if(o<0)throw new RangeError('Index out of range')}function V(t,o,f,u,s){return o=+o,f>>>=0,s||q(t,0,f,4),n.write(t,o,f,u,23,4),f+4}function W(t,o,f,u,s){return o=+o,f>>>=0,s||q(t,0,f,8),n.write(t,o,f,u,52,8),f+8}s.prototype.slice=function(t,n){var o=this.length;t=~~t,n=void 0===n?o:~~n,t<0?(t+=o)<0&&(t=0):t>o&&(t=o),n<0?(n+=o)<0&&(n=0):n>o&&(n=o),n<t&&(n=t);var f=this.subarray(t,n);return Object.setPrototypeOf(f,s.prototype),f},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=this[t],u=1,s=0;++s<n&&(u*=256);)f+=this[t+s]*u;return f},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=this[t+--n],u=1;n>0&&(u*=256);)f+=this[t+--n]*u;return f},s.prototype.readUint8=s.prototype.readUInt8=function(t,n){return t>>>=0,n||N(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,n){return t>>>=0,n||N(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,n){return t>>>=0,n||N(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,n){return t>>>=0,n||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,n){return t>>>=0,n||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=this[t],u=1,s=0;++s<n&&(u*=256);)f+=this[t+s]*u;return f>=(u*=128)&&(f-=Math.pow(2,8*n)),f},s.prototype.readIntBE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=n,u=1,s=this[t+--f];f>0&&(u*=256);)s+=this[t+--f]*u;return s>=(u*=128)&&(s-=Math.pow(2,8*n)),s},s.prototype.readInt8=function(t,n){return t>>>=0,n||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,n){t>>>=0,n||N(t,2,this.length);var o=this[t]|this[t+1]<<8;return 32768&o?4294901760|o:o},s.prototype.readInt16BE=function(t,n){t>>>=0,n||N(t,2,this.length);var o=this[t+1]|this[t]<<8;return 32768&o?4294901760|o:o},s.prototype.readInt32LE=function(t,n){return t>>>=0,n||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,n){return t>>>=0,n||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,o){return t>>>=0,o||N(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,o){return t>>>=0,o||N(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,o){return t>>>=0,o||N(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,o){return t>>>=0,o||N(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,n,o,f){(t=+t,n>>>=0,o>>>=0,f)||Y(this,t,n,o,Math.pow(2,8*o)-1,0);var u=1,s=0;for(this[n]=255&t;++s<o&&(u*=256);)this[n+s]=t/u&255;return n+o},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,n,o,f){(t=+t,n>>>=0,o>>>=0,f)||Y(this,t,n,o,Math.pow(2,8*o)-1,0);var u=o-1,s=1;for(this[n+u]=255&t;--u>=0&&(s*=256);)this[n+u]=t/s&255;return n+o},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,1,255,0),this[n]=255&t,n+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},s.prototype.writeIntLE=function(t,n,o,f){if(t=+t,n>>>=0,!f){var u=Math.pow(2,8*o-1);Y(this,t,n,o,u-1,-u)}var s=0,h=1,p=0;for(this[n]=255&t;++s<o&&(h*=256);)t<0&&0===p&&0!==this[n+s-1]&&(p=1),this[n+s]=(t/h>>0)-p&255;return n+o},s.prototype.writeIntBE=function(t,n,o,f){if(t=+t,n>>>=0,!f){var u=Math.pow(2,8*o-1);Y(this,t,n,o,u-1,-u)}var s=o-1,h=1,p=0;for(this[n+s]=255&t;--s>=0&&(h*=256);)t<0&&0===p&&0!==this[n+s+1]&&(p=1),this[n+s]=(t/h>>0)-p&255;return n+o},s.prototype.writeInt8=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},s.prototype.writeInt16LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},s.prototype.writeInt16BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},s.prototype.writeInt32LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},s.prototype.writeInt32BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},s.prototype.writeFloatLE=function(t,n,o){return V(this,t,n,!0,o)},s.prototype.writeFloatBE=function(t,n,o){return V(this,t,n,!1,o)},s.prototype.writeDoubleLE=function(t,n,o){return W(this,t,n,!0,o)},s.prototype.writeDoubleBE=function(t,n,o){return W(this,t,n,!1,o)},s.prototype.copy=function(t,n,o,f){if(!s.isBuffer(t))throw new TypeError('argument should be a Buffer');if(o||(o=0),f||0===f||(f=this.length),n>=t.length&&(n=t.length),n||(n=0),f>0&&f<o&&(f=o),f===o)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError('targetStart out of bounds');if(o<0||o>=this.length)throw new RangeError('Index out of range');if(f<0)throw new RangeError('sourceEnd out of bounds');f>this.length&&(f=this.length),t.length-n<f-o&&(f=t.length-n+o);var u=f-o;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,o,f):Uint8Array.prototype.set.call(t,this.subarray(o,f),n),u},s.prototype.fill=function(t,n,o,f){if('string'==typeof t){if('string'==typeof n?(f=n,n=0,o=this.length):'string'==typeof o&&(f=o,o=this.length),void 0!==f&&'string'!=typeof f)throw new TypeError('encoding must be a string');if('string'==typeof f&&!s.isEncoding(f))throw new TypeError('Unknown encoding: '+f);if(1===t.length){var u=t.charCodeAt(0);('utf8'===f&&u<128||'latin1'===f)&&(t=u)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<o)throw new RangeError('Out of range index');if(o<=n)return this;var h;if(n>>>=0,o=void 0===o?this.length:o>>>0,t||(t=0),'number'==typeof t)for(h=n;h<o;++h)this[h]=t;else{var p=s.isBuffer(t)?t:s.from(t,f),c=p.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(h=0;h<o-n;++h)this[h+n]=p[h%c]}return this};var X=/[^+/0-9A-Za-z-_]/g;function J(t){if((t=(t=t.split('=')[0]).trim().replace(X,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function Z(t,n){var o;n=n||1/0;for(var f=t.length,u=null,s=[],h=0;h<f;++h){if((o=t.charCodeAt(h))>55295&&o<57344){if(!u){if(o>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(h+1===f){(n-=3)>-1&&s.push(239,191,189);continue}u=o;continue}if(o<56320){(n-=3)>-1&&s.push(239,191,189),u=o;continue}o=65536+(u-55296<<10|o-56320)}else u&&(n-=3)>-1&&s.push(239,191,189);if(u=null,o<128){if((n-=1)<0)break;s.push(o)}else if(o<2048){if((n-=2)<0)break;s.push(o>>6|192,63&o|128)}else if(o<65536){if((n-=3)<0)break;s.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error('Invalid code point');if((n-=4)<0)break;s.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return s}function $(t){for(var n=[],o=0;o<t.length;++o)n.push(255&t.charCodeAt(o));return n}function G(t,n){for(var o,f,u,s=[],h=0;h<t.length&&!((n-=2)<0);++h)f=(o=t.charCodeAt(h))>>8,u=o%256,s.push(u),s.push(f);return s}function H(n){return t.toByteArray(J(n))}function K(t,n,o,f){for(var u=0;u<f&&!(u+o>=n.length||u>=t.length);++u)n[u+o]=t[u];return u}function Q(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function tt(t){return t!=t}var rt=(function(){for(var t=new Array(256),n=0;n<16;++n)for(var o=16*n,f=0;f<16;++f)t[o+f]="0123456789abcdef"[n]+"0123456789abcdef"[f];return t})()},417,[135,418]);
__d(function(g,r,i,a,m,e,d){e.read=function(o,t,h,M,f){var w,p,n=8*f-M-1,N=(1<<n)-1,u=N>>1,s=-7,c=h?f-1:0,l=h?-1:1,v=o[t+c];for(c+=l,w=v&(1<<-s)-1,v>>=-s,s+=n;s>0;w=256*w+o[t+c],c+=l,s-=8);for(p=w&(1<<-s)-1,w>>=-s,s+=M;s>0;p=256*p+o[t+c],c+=l,s-=8);if(0===w)w=1-u;else{if(w===N)return p?NaN:1/0*(v?-1:1);p+=Math.pow(2,M),w-=u}return(v?-1:1)*p*Math.pow(2,w-M)},e.write=function(o,t,h,M,f,w){var p,n,N,u=8*w-f-1,s=(1<<u)-1,c=s>>1,l=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,v=M?0:w-1,_=M?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(n=isNaN(t)?1:0,p=s):(p=Math.floor(Math.log(t)/Math.LN2),t*(N=Math.pow(2,-p))<1&&(p--,N*=2),(t+=p+c>=1?l/N:l*Math.pow(2,1-c))*N>=2&&(p++,N/=2),p+c>=s?(n=0,p=s):p+c>=1?(n=(t*N-1)*Math.pow(2,f),p+=c):(n=t*Math.pow(2,c-1)*Math.pow(2,f),p=0));f>=8;o[h+v]=255&n,v+=_,n/=256,f-=8);for(p=p<<f|n,u+=f;u>0;o[h+v]=255&p,v+=_,p/=256,u-=8);o[h+v-_]|=128*b}},418,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function t(n,t){var u="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(u)return(u=u.call(n)).next.bind(u);if(Array.isArray(n)||(u=o(n))||t&&n&&"number"==typeof n.length){u&&(n=u);var f=0;return function(){return f>=n.length?{done:!0}:{done:!1,value:n[f++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(n,t){if(n){if("string"==typeof n)return u(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(n,t):void 0}}function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,u=new Array(t);o<t;o++)u[o]=n[o];return u}var f=2147483647,l=/^xn--/,v=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},p=Math.floor,h=String.fromCharCode;function b(n){throw new RangeError(s[n])}function y(n,t){for(var o=[],u=n.length;u--;)o[u]=t(n[u]);return o}function w(n,t){var o=n.split('@'),u='';return o.length>1&&(u=o[0]+'@',n=o[1]),u+y((n=n.replace(c,'.')).split('.'),t).join('.')}function A(n){for(var t=[],o=0,u=n.length;o<u;){var f=n.charCodeAt(o++);if(f>=55296&&f<=56319&&o<u){var l=n.charCodeAt(o++);56320==(64512&l)?t.push(((1023&f)<<10)+(1023&l)+65536):(t.push(f),o--)}else t.push(f)}return t}var C=function(n,t){return n+22+75*(n<26)-((0!=t)<<5)},S=function(n,t,o){var u=0;for(n=o?p(n/700):n>>1,n+=p(n/t);n>455;u+=36)n=p(n/35);return p(u+36*n/(n+38))},x=function(n){var t,o=[],u=n.length,l=0,v=128,c=72,s=n.lastIndexOf("-");s<0&&(s=0);for(var h=0;h<s;++h)n.charCodeAt(h)>=128&&b('not-basic'),o.push(n.charCodeAt(h));for(var y=s>0?s+1:0;y<u;){for(var w=l,A=1,C=36;;C+=36){y>=u&&b('invalid-input');var x=(t=n.charCodeAt(y++))>=48&&t<58?t-48+26:t>=65&&t<91?t-65:t>=97&&t<123?t-97:36;x>=36&&b('invalid-input'),x>p((f-l)/A)&&b('overflow'),l+=x*A;var I=C<=c?1:C>=c+26?26:C-c;if(x<I)break;var j=36-I;A>p(f/j)&&b('overflow'),A*=j}var F=o.length+1;c=S(l-w,F,0==w),p(l/F)>f-v&&b('overflow'),v+=p(l/F),l%=F,o.splice(l++,0,v)}return String.fromCodePoint.apply(String,o)},I=function(n){for(var o,u=[],l=(n=A(n)).length,v=128,c=0,s=72,y=t(n);!(o=y()).done;){var w=o.value;w<128&&u.push(h(w))}var x=u.length,I=x;for(x&&u.push("-");I<l;){for(var j,F=f,E=t(n);!(j=E()).done;){var O=j.value;O>=v&&O<F&&(F=O)}var k=I+1;F-v>p((f-c)/k)&&b('overflow'),c+=(F-v)*k,v=F;for(var M,P=t(n);!(M=P()).done;){var U=M.value;if(U<v&&++c>f&&b('overflow'),U===v){for(var _=c,L=36;;L+=36){var R=L<=s?1:L>=s+26?26:L-s;if(_<R)break;var T=_-R,$=36-R;u.push(h(C(R+T%$,0))),_=p(T/$)}u.push(h(C(_,0))),s=S(c,k,I===x),c=0,++I}}++c,++v}return u.join('')},j={version:'2.1.0',ucs2:{decode:A,encode:function(t){return String.fromCodePoint.apply(String,n(t))}},decode:x,encode:I,toASCII:function(n){return w(n,function(n){return v.test(n)?'xn--'+I(n):n})},toUnicode:function(n){return w(n,function(n){return l.test(n)?x(n.slice(4).toLowerCase()):n})}};m.exports=j},419,[41]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){return n>=48&&n<=57}function t(n){return n>=65&&n<=90||n>=97&&n<=122}m.exports={isASCIIDigit:n,isASCIIAlpha:t,isASCIIAlphanumeric:function(u){return t(u)||n(u)},isASCIIHex:function(t){return n(t)||t>=65&&t<=70||t>=97&&t<=102}}},420,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);function t(n,t){var f="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(f)return(f=f.call(n)).next.bind(f);if(Array.isArray(n)||(f=o(n))||t&&n&&"number"==typeof n.length){f&&(n=f);var u=0;return function(){return u>=n.length?{done:!0}:{done:!1,value:n[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(n,t){if(n){if("string"==typeof n)return f(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(n,t):void 0}}function f(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,f=new Array(t);o<t;o++)f[o]=n[o];return f}var u=r(d[1]).Buffer,l=r(d[2]).isASCIIHex;function c(n,t){for(var o=[],f=0,u=n.indexOf(t);u>=0;)o.push(n.slice(f,u)),f=u+1,u=n.indexOf(t,f);return f!==n.length&&o.push(n.slice(f)),o}function v(n,t,o){for(var f=n.indexOf(t);f>=0;)n[f]=o,f=n.indexOf(t,f+1);return n}function s(n){var t=n.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function h(n){for(var t=u.alloc(n.byteLength),o=0,f=0;f<n.length;++f)37===n[f]&&l(n[f+1])&&l(n[f+2])?(t[o++]=parseInt(n.slice(f+1,f+3).toString(),16),f+=2):t[o++]=n[f];return t.slice(0,o)}function p(n){for(var o,f=[],l=t(c(n,38));!(o=l()).done;){var s=o.value;if(0!==s.length){var p=void 0,y=void 0,b=s.indexOf(61);b>=0?(p=s.slice(0,b),y=s.slice(b+1)):(p=s,y=u.alloc(0)),p=v(u.from(p),43,32),y=v(u.from(y),43,32),f.push([h(p).toString(),h(y).toString()])}}return f}function y(n){for(var o,f="",u=t(n);!(o=u()).done;){var l=o.value;f+=32===l?"+":42===l||45===l||46===l||l>=48&&l<=57||l>=65&&l<=90||95===l||l>=97&&l<=122?String.fromCodePoint(l):s(l)}return f}m.exports={percentEncode:s,percentDecode:h,parseUrlencoded:function(n){return p(u.from(n))},serializeUrlencoded:function(o){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l="utf-8";void 0!==f&&(l=f);for(var c,v="",s=t(o.entries());!(c=s()).done;){var h=c.value,p=n(h,2),b=p[0],S=p[1],x=y(u.from(S[0])),A=S[1];S.length>2&&void 0!==S[2]&&("hidden"===S[2]&&"_charset_"===x?A=l:"file"===S[2]&&(A=A.name)),A=y(u.from(A)),0!==b&&(v+="&"),v+=x+"="+A}return v}}},421,[33,417,420]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]);function s(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var l=0;return function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=t[o];return l}var p=r(d[4]),h=r(d[5]),f=h.implSymbol,v=h.ctorRegistrySymbol,y=Object.create(h.IteratorPrototype,o({next:{value:function(){var t=this[h.iterInternalSymbol],n=t.target,o=t.kind,s=t.index,u=Array.from(n[f]);if(s>=u.length)return{value:void 0,done:!0};var c=u[s];t.index=s+1;var p,v=c.map(h.tryWrapperForImpl),y=l(v,2),b=y[0],S=y[1];switch(o){case"key":p=b;break;case"value":p=S;break;case"key+value":p=[b,S]}return{value:p,done:!1}},writable:!0,enumerable:!0,configurable:!0}},Symbol.toStringTag,{value:"URLSearchParams Iterator",configurable:!0})),b={_mixedIntoPredicates:[],is:function(t){if(t){if(h.hasOwn(t,f)&&t[f]instanceof S.implementation)return!0;for(var n,o=s(m.exports._mixedIntoPredicates);!(n=o()).done;){if((0,n.value)(t))return!0}}return!1},isImpl:function(t){if(t){if(t instanceof S.implementation)return!0;for(var n,o=h.wrapperForImpl(t),l=s(m.exports._mixedIntoPredicates);!(n=l()).done;){if((0,n.value)(o))return!0}}return!1},convert:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,o=void 0===n?"The provided value":n;if(m.exports.is(t))return h.implForWrapper(t);throw new TypeError(o+" is not of type 'URLSearchParams'.")},createDefaultIterator:function(t,n){var o=Object.create(y);return Object.defineProperty(o,h.iterInternalSymbol,{value:{target:t,kind:n,index:0},configurable:!0}),o},create:function(t,n,o){if(void 0===t[v])throw new Error("Internal error: invalid global object");var l=t[v].URLSearchParams;if(void 0===l)throw new Error("Internal error: constructor URLSearchParams is not installed on the passed global object");var s=Object.create(l.prototype);return s=b.setup(s,t,n,o)},createImpl:function(t,n,o){var l=b.create(t,n,o);return h.implForWrapper(l)},_internalSetup:function(t){},setup:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.wrapper=t,b._internalSetup(t),Object.defineProperty(t,f,{value:new S.implementation(n,o,l),configurable:!0}),t[f][h.wrapperSymbol]=t,S.init&&S.init(t[f],l),t},install:function(u){var c,y=(function(){function o(){t(this,o);var n=[],l=arguments[0];if(void 0!==l)if(h.isObject(l))if(void 0!==l[Symbol.iterator]){if(!h.isObject(l))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");for(var c,f=[],v=s(l);!(c=v()).done;){var y=c.value;if(!h.isObject(y))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");for(var S,w=[],x=s(y);!(S=x()).done;){var U=S.value;U=p.USVString(U,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element"}),w.push(U)}y=w,f.push(y)}l=f}else{if(!h.isObject(l))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");for(var P,I=Object.create(null),E=s(Reflect.ownKeys(l));!(P=E()).done;){var R=P.value,F=Object.getOwnPropertyDescriptor(l,R);if(F&&F.enumerable){var T=R;T=p.USVString(T,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key"});var L=l[R];L=p.USVString(L,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value"}),I[T]=L}}l=I}else l=p.USVString(l,{context:"Failed to construct 'URLSearchParams': parameter 1"});else l="";return n.push(l),b.setup(Object.create(this.constructor.prototype),u,n)}return n(o,[{key:"append",value:function(t,n){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var l=[],s=arguments[0];s=p.USVString(s,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1"}),l.push(s);var u=arguments[1];return u=p.USVString(u,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2"}),l.push(u),(o=this[f]).append.apply(o,l)}},{key:"delete",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1"}),o.push(l),(n=this[f]).delete.apply(n,o)}},{key:"get",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1"}),o.push(l),(n=this[f]).get.apply(n,o)}},{key:"getAll",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1"}),o.push(l),h.tryWrapperForImpl((n=this[f]).getAll.apply(n,o))}},{key:"has",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1"}),o.push(l),(n=this[f]).has.apply(n,o)}},{key:"set",value:function(t,n){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var l=[],s=arguments[0];s=p.USVString(s,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1"}),l.push(s);var u=arguments[1];return u=p.USVString(u,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2"}),l.push(u),(o=this[f]).set.apply(o,l)}},{key:"sort",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[f].sort()}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[f].toString()}},{key:"keys",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key")}},{key:"values",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"value")}},{key:"entries",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key+value")}},{key:"forEach",value:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1 is not a function.");for(var n=arguments[1],o=Array.from(this[f]),s=0;s<o.length;){var u=o[s].map(h.tryWrapperForImpl),c=l(u,2),p=c[0],v=c[1];t.call(n,v,p,this),o=Array.from(this[f]),s++}}}]),o})();Object.defineProperties(y.prototype,(o(c={append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0}},Symbol.toStringTag,{value:"URLSearchParams",configurable:!0}),o(c,Symbol.iterator,{value:y.prototype.entries,configurable:!0,writable:!0}),c)),void 0===u[v]&&(u[v]=Object.create(null)),u[v].URLSearchParams=y,Object.defineProperty(u,"URLSearchParams",{configurable:!0,writable:!0,value:y})}};m.exports=b;var S=r(d[6])},422,[12,13,253,33,413,414,423]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]);function s(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=l(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,n){if(t){if("string"==typeof t)return o(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,n):void 0}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,l=new Array(n);s<n;s++)l[s]=t[s];return l}var u=r(d[2]);e.implementation=(function(l){function o(n,l,c){var h=c.doNotStripQMark,f=void 0!==h&&h;t(this,o);var v=l[0];if(this._list=[],this._url=null,f||"string"!=typeof v||"?"!==v[0]||(v=v.slice(1)),Array.isArray(v))for(var p,y=s(v);!(p=y()).done;){var _=p.value;if(2!==_.length)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([_[0],_[1]])}else if("object"==typeof v&&null===Object.getPrototypeOf(v))for(var b=0,S=Object.keys(v);b<S.length;b++){var k=S[b],A=v[k];this._list.push([k,A])}else this._list=u.parseUrlencoded(v)}return n(o,[{key:"_updateSteps",value:function(){if(null!==this._url){var t=u.serializeUrlencoded(this._list);""===t&&(t=null),this._url._url.query=t}}},{key:"append",value:function(t,n){this._list.push([t,n]),this._updateSteps()}},{key:"delete",value:function(t){for(var n=0;n<this._list.length;)this._list[n][0]===t?this._list.splice(n,1):n++;this._updateSteps()}},{key:"get",value:function(t){for(var n,l=s(this._list);!(n=l()).done;){var o=n.value;if(o[0]===t)return o[1]}return null}},{key:"getAll",value:function(t){for(var n,l=[],o=s(this._list);!(n=o()).done;){var u=n.value;u[0]===t&&l.push(u[1])}return l}},{key:"has",value:function(t){for(var n,l=s(this._list);!(n=l()).done;){if(n.value[0]===t)return!0}return!1}},{key:"set",value:function(t,n){for(var s=!1,l=0;l<this._list.length;)this._list[l][0]===t?s?this._list.splice(l,1):(s=!0,this._list[l][1]=n,l++):l++;s||this._list.push([t,n]),this._updateSteps()}},{key:"sort",value:function(){var t,n;this._list=(t=this._list,n=function(t,n){return t[0]>n[0]},t.map(function(t,n){return{item:t,index:n}}).sort(function(t,s){return n(t.item,s.item)||t.index-s.index}).map(function(t){return t.item})),this._updateSteps()}},{key:l,value:function(){return this._list[Symbol.iterator]()}},{key:"toString",value:function(){return u.serializeUrlencoded(this._list)}}]),o})(Symbol.iterator)},423,[12,13,421]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"URLSearchParams",{enumerable:!0,get:function(){return n.URLSearchParams}});var n=r(d[0])},424,[410]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4]));function f(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=s(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,n){if(t){if("string"==typeof t)return h(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var y=(function(){function t(n){var u=this;(0,o.default)(this,t),this._keyPrefix=n;var l=this._initializeAsync();l&&(this._initializing=l,l.finally(function(){u._initializing===l&&(u._initializing=void 0)}))}return(0,u.default)(t,[{key:"clear",value:function(){for(var t=0,n=Object.keys(this);t<n.length;t++){var o=n[t];this.removeItem(o)}}},{key:"getItem",value:function(t){return this.hasOwnProperty(t)?this[t]:null}},{key:"_getItemAsync",value:function(t){var n=this;return(this._initializing||Promise.resolve()).catch(function(){}).then(function(){return n.getItem(t)})}},{key:"_initializeAsync",value:function(){var t=this;if(void 0!==this._keyPrefix)return new Promise(function(o){l.default.getAllKeys().then(function(){for(var u=arguments.length,s=new Array(u),h=0;h<u;h++)s[h]=arguments[h];var y=s[s.length-1].filter(function(n){return n.startsWith(t._keyPrefix)});l.default.multiGet(y).then(function(){for(var u,l,s=(u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u],h=t._keyPrefix&&t._keyPrefix.length,y=f(s);!(l=y()).done;){var c=l.value,v=(0,n.default)(c,2),k=v[0],_=v[1];k=k.substring(h),t.hasOwnProperty(k)||(t[k]=_)}o()})})})}},{key:"key",value:function(t){var n=Object.keys(this);return t<n.length?n[t]:null}},{key:"length",get:function(){return Object.keys(this).length}},{key:"removeItem",value:function(t){delete this[t],void 0===this._keyPrefix||l.default.removeItem(""+String(this._keyPrefix)+t)}},{key:"setItem",value:function(t,n){n=String(n),this[t]=n,void 0===this._keyPrefix||l.default.setItem(""+String(this._keyPrefix)+t,n)}}]),t})();e.default=y},425,[2,33,12,13,426]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Object.defineProperty(e,"useAsyncStorage",{enumerable:!0,get:function(){return n.useAsyncStorage}});var u=t(r(d[1])),n=r(d[2]),o=u.default;e.default=o},426,[2,427,430]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2]));if(!u.default)throw new Error("[@RNC/AsyncStorage]: NativeModule: AsyncStorage is null.\n\nTo fix this issue try these steps:\n\n  \u2022 Run `react-native link @react-native-async-storage/async-storage` in the project root.\n\n  \u2022 Rebuild and restart the app.\n\n  \u2022 Run the packager with `--reset-cache` flag.\n\n  \u2022 If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app.\n\n  \u2022 If this happens while testing with Jest, check out docs how to integrate AsyncStorage with it: https://react-native-async-storage.github.io/async-storage/docs/advanced/jest\n\nIf none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-async-storage/react-native-async-storage/issues\n");function o(t,n){var u=arguments.length>1;if('string'!=typeof t&&console.warn("[AsyncStorage] Using "+typeof t+" type for key is not supported. This can lead to unexpected behavior/errors. Use string instead.\nKey passed: "+t+"\n"),u&&'string'!=typeof n){if(null==n)throw new Error("[AsyncStorage] Passing null/undefined as value is not supported. If you want to remove value, Use .remove method instead.\nPassed value: "+n+"\nPassed key: "+t+"\n");console.warn("[AsyncStorage] The value for key \""+t+"\" is not a string. This can lead to unexpected behavior/errors. Consider stringifying it.\nPassed value: "+n+"\nPassed key: "+t+"\n")}}function s(t,n){if(!Array.isArray(t)||0===t.length||!Array.isArray(t[0]))throw new Error('[AsyncStorage] Expected array of key-value pairs as first argument to multiSet');if(n&&'function'!=typeof n){if(Array.isArray(n))throw new Error('[AsyncStorage] Expected function as second argument to multiSet. Did you forget to wrap key-value pairs in an array for the first argument?');throw new Error('[AsyncStorage] Expected function as second argument to multiSet')}}var l={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(t,n){return new Promise(function(s,l){o(t),u.default.multiGet([t],function(t,u){var o=u&&u[0]&&u[0][1]?u[0][1]:null,f=c(t);n&&n(f&&f[0],o),f?l(f[0]):s(o)})})},setItem:function(t,n,s){return new Promise(function(l,f){o(t,n),u.default.multiSet([[t,n]],function(t){var n=c(t);s&&s(n&&n[0]),n?f(n[0]):l(null)})})},removeItem:function(t,n){return new Promise(function(s,l){o(t),u.default.multiRemove([t],function(t){var u=c(t);n&&n(u&&u[0]),u?l(u[0]):s(null)})})},mergeItem:function(t,n,s){return new Promise(function(l,f){o(t,n),u.default.multiMerge([[t,n]],function(t){var n=c(t);s&&s(n&&n[0]),n?f(n[0]):l(null)})})},clear:function(t){return new Promise(function(n,o){u.default.clear(function(u){var s=f(u);t&&t(s),s?o(s):n(null)})})},getAllKeys:function(t){return new Promise(function(n,o){u.default.getAllKeys(function(u,s){var l=f(u);t&&t(l,s),l?o(l):n(s)})})},flushGetRequests:function(){var t=this._getRequests,o=this._getKeys;this._getRequests=[],this._getKeys=[],u.default.multiGet(o,function(u,o){var s={};o&&o.forEach(function(t){var u=(0,n.default)(t,2),o=u[0],l=u[1];return s[o]=l,l});for(var l=t.length,c=0;c<l;c++){var f=t[c],y=f.keys.map(function(t){return[t,s[t]]});f.callback&&f.callback(null,y),f.resolve&&f.resolve(y)}})},multiGet:function(t,n){var u=this;this._immediate||(this._immediate=setImmediate(function(){u._immediate=null,u.flushGetRequests()}));var o={keys:t,callback:n,keyIndex:this._getKeys.length,resolve:null,reject:null},s=new Promise(function(t,n){o.resolve=t,o.reject=n});return this._getRequests.push(o),t.forEach(function(t){-1===u._getKeys.indexOf(t)&&u._getKeys.push(t)}),s},multiSet:function(t,l){return s(t,l),new Promise(function(s,f){t.forEach(function(t){var u=(0,n.default)(t,2);o(u[0],u[1])}),u.default.multiSet(t,function(t){var n=c(t);l&&l(n),n?f(n):s(null)})})},multiRemove:function(t,n){return new Promise(function(s,l){t.forEach(function(t){return o(t)}),u.default.multiRemove(t,function(t){var u=c(t);n&&n(u),u?l(u):s(null)})})},multiMerge:function(t,n){return new Promise(function(o,s){u.default.multiMerge(t,function(t){var u=c(t);n&&n(u),u?s(u):o(null)})})}};function c(t){return!t||Array.isArray(t)&&0===t.length?null:(Array.isArray(t)?t:[t]).map(function(t){return f(t)})}function f(t){if(!t)return null;var n=new Error(t.message);return n.key=t.key,n}u.default.multiMerge||(delete l.mergeItem,delete l.multiMerge);var y=l;e.default=y},427,[2,33,428]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),o=t.NativeModules,c=t.TurboModuleRegistry,l=r(d[1]),S=o.PlatformLocalStorage||o.RNC_AsyncSQLiteDBStorage||o.RNCAsyncStorage;!S&&l()&&(S=c?c.get('AsyncSQLiteDBStorage')||c.get('AsyncLocalStorage'):o.AsyncSQLiteDBStorage||o.AsyncLocalStorage);var n=S;e.default=n},428,[7,429]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]).NativeModules;m.exports=function(){var t,o,u=null==(t=n.NativeUnimoduleProxy)?void 0:null==(o=t.modulesConstants)?void 0:o.ExponentConstants;if(u&&(u.appOwnership&&!u.executionEnvironment||['storeClient','standalone'].includes(u.executionEnvironment)))return!0;return!1}},429,[7]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useAsyncStorage=function(t){return{getItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.getItem.apply(n.default,[t].concat(f))},setItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.setItem.apply(n.default,[t].concat(f))},mergeItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.mergeItem.apply(n.default,[t].concat(f))},removeItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.removeItem.apply(n.default,[t].concat(f))}}};var n=t(r(d[1]))},430,[2,427]);
__d(function(g,r,i,a,m,e,d){function t(t){this.options=t||{locator:{}}}function n(t,n,c){if(!t){if(n instanceof o)return n;t=n}var s={},u=t instanceof Function;function h(n){var o=t[n];!o&&u&&(o=2==t.length?function(o){t(n,o)}:t),s[n]=o&&function(t){o('[xmldom '+n+']\t'+t+l(c))}||function(){}}return c=c||{},h('warning'),h('error'),h('fatalError'),s}function o(){this.cdata=!1}function c(t,n){n.lineNumber=t.lineNumber,n.columnNumber=t.columnNumber}function l(t){if(t)return'\n@'+(t.systemId||'')+'#[line:'+t.lineNumber+',col:'+t.columnNumber+']'}function s(t,n,o){return'string'==typeof t?t.substr(n,o):t.length>=n+o||n?new java.lang.String(t,n,o)+'':t}function u(t,n){t.currentElement?t.currentElement.appendChild(n):t.doc.appendChild(n)}t.prototype.parseFromString=function(t,c){var l=this.options,s=new p,u=l.domBuilder||new o,f=l.errorHandler,D=l.locator,E=l.xmlns||{},w=/\/x?html?$/.test(c),y=w?h.entityMap:{lt:'<',gt:'>',amp:'&',quot:'"',apos:"'"};return D&&u.setDocumentLocator(D),s.errorHandler=n(f,u,D),s.domBuilder=l.domBuilder||u,w&&(E['']='http://www.w3.org/1999/xhtml'),E.xml=E.xml||'http://www.w3.org/XML/1998/namespace',t&&'string'==typeof t?s.parse(t,E,y):s.errorHandler.error("invalid doc source"),u.doc},o.prototype={startDocument:function(){this.doc=(new E).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,n,o,l){var s=this.doc,h=s.createElementNS(t,o||n),f=l.length;u(this,h),this.currentElement=h,this.locator&&c(this.locator,h);for(var p=0;p<f;p++){t=l.getURI(p);var D=l.getValue(p),E=(o=l.getQName(p),s.createAttributeNS(t,o));this.locator&&c(l.getLocator(p),E),E.value=E.nodeValue=D,h.setAttributeNode(E)}},endElement:function(t,n,o){var c=this.currentElement;c.tagName;this.currentElement=c.parentNode},startPrefixMapping:function(t,n){},endPrefixMapping:function(t){},processingInstruction:function(t,n){var o=this.doc.createProcessingInstruction(t,n);this.locator&&c(this.locator,o),u(this,o)},ignorableWhitespace:function(t,n,o){},characters:function(t,n,o){if(t=s.apply(this,arguments)){if(this.cdata)var l=this.doc.createCDATASection(t);else l=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(l):/^\s*$/.test(t)&&this.doc.appendChild(l),this.locator&&c(this.locator,l)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,n,o){t=s.apply(this,arguments);var l=this.doc.createComment(t);this.locator&&c(this.locator,l),u(this,l)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,n,o){var l=this.doc.implementation;if(l&&l.createDocumentType){var s=l.createDocumentType(t,n,o);this.locator&&c(this.locator,s),u(this,s)}},warning:function(t){console.warn('[xmldom warning]\t'+t,l(this.locator))},error:function(t){console.error('[xmldom error]\t'+t,l(this.locator))},fatalError:function(t){throw new D(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){o.prototype[t]=function(){return null}});var h=r(d[0]),f=r(d[1]),p=f.XMLReader,D=f.ParseError,E=e.DOMImplementation=r(d[2]).DOMImplementation;e.XMLSerializer=r(d[2]).XMLSerializer,e.DOMParser=t,e.__DOMHandler=o},431,[432,433,434]);
__d(function(g,r,i,a,m,e,d){e.entityMap={lt:'<',gt:'>',amp:'&',quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}},432,[]);
__d(function(g,r,i,a,m,e,d){var t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp('^'+t.source+n.source+'*(?::'+t.source+n.source+'*)?$'),c=0,u=1,o=2,l=3,f=4,h=5,w=6,p=7;function b(t,n){this.message=t,this.locator=n,Error.captureStackTrace&&Error.captureStackTrace(this,b)}function x(){}function v(t,n,s,c,u){function o(t){if(t>65535){var n=55296+((t-=65536)>>10),s=56320+(1023&t);return String.fromCharCode(n,s)}return String.fromCharCode(t)}function l(t){var n=t.slice(1,-1);return n in s?s[n]:'#'===n.charAt(0)?o(parseInt(n.substr(1).replace('x','0x'))):(u.error('entity not found:'+t),t)}function f(n){if(n>S){var s=t.substring(S,n).replace(/&#?\w+;/g,l);v&&h(S),c.characters(s,0,n-S),S=n}}function h(n,s){for(;n>=p&&(s=x.exec(t));)w=s.index,p=w+s[0].length,v.lineNumber++;v.columnNumber=n-w+1}for(var w=0,p=0,x=/.*(?:\r\n?|\n)|.*$/g,v=c.locator,C=[{currentNSMap:n}],O={},S=0;;){try{var $=t.indexOf('<',S);if($<0){if(!t.substr(S).match(/^\s*$/)){var y=c.doc,q=y.createTextNode(t.substr(S));y.appendChild(q),c.currentElement=q}return}switch($>S&&f($),t.charAt($+1)){case'/':var I=t.indexOf('>',$+3),L=t.substring($+2,I),P=C.pop();I<0?(L=t.substring($+2).replace(/[\s<].*/,''),u.error("end tag name: "+L+' is not complete:'+P.tagName),I=$+1+L.length):L.match(/\s</)&&(L=L.replace(/[\s<].*/,''),u.error("end tag name: "+L+' maybe not complete'),I=$+1+L.length);var R=P.localNSMap,V=P.tagName==L;if(V||P.tagName&&P.tagName.toLowerCase()==L.toLowerCase()){if(c.endElement(P.uri,P.localName,L),R)for(var _ in R)c.endPrefixMapping(_);V||u.fatalError("end tag name: "+L+' is not match the current start tagName:'+P.tagName)}else C.push(P);I++;break;case'?':v&&h($),I=T(t,$,c);break;case'!':v&&h($),I=A(t,$,c,u);break;default:v&&h($);var B=new M,U=C[C.length-1].currentNSMap,X=(I=F(t,$,B,U,l,u),B.length);if(!B.closed&&D(t,I,B.tagName,O)&&(B.closed=!0,s.nbsp||u.warning('unclosed xml attribute')),v&&X){for(var z=N(v,{}),H=0;H<X;H++){var Q=B[H];h(Q.offset),Q.locator=N(v,{})}c.locator=z,E(B,c,U)&&C.push(B),c.locator=v}else E(B,c,U)&&C.push(B);'http://www.w3.org/1999/xhtml'!==B.uri||B.closed?I++:I=k(t,I,B.tagName,l,c)}}catch(t){if(t instanceof b)throw t;u.error('element parse error: '+t),I=-1}I>S?S=I:f(Math.max($,S)+1)}}function N(t,n){return n.lineNumber=t.lineNumber,n.columnNumber=t.columnNumber,n}function F(t,n,s,b,x,v){function N(t,n,c){t in s.attributeNames&&v.fatalError('Attribute '+t+' redefined'),s.addValue(t,n,c)}for(var F,E=++n,k=c;;){var D=t.charAt(E);switch(D){case'=':if(k===u)F=t.slice(n,E),k=l;else{if(k!==o)throw new Error('attribute equal must after attrName');k=l}break;case'\'':case'"':if(k===l||k===u){if(k===u&&(v.warning('attribute value must after "="'),F=t.slice(n,E)),n=E+1,!((E=t.indexOf(D,n))>0))throw new Error('attribute value no end \''+D+'\' match');N(F,C=t.slice(n,E).replace(/&#?\w+;/g,x),n-1),k=h}else{if(k!=f)throw new Error('attribute value must after "="');N(F,C=t.slice(n,E).replace(/&#?\w+;/g,x),n),v.warning('attribute "'+F+'" missed start quot('+D+')!!'),n=E+1,k=h}break;case'/':switch(k){case c:s.setTagName(t.slice(n,E));case h:case w:case p:k=p,s.closed=!0;case f:case u:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case'':return v.error('unexpected end of input'),k==c&&s.setTagName(t.slice(n,E)),E;case'>':switch(k){case c:s.setTagName(t.slice(n,E));case h:case w:case p:break;case f:case u:'/'===(C=t.slice(n,E)).slice(-1)&&(s.closed=!0,C=C.slice(0,-1));case o:k===o&&(C=F),k==f?(v.warning('attribute "'+C+'" missed quot(")!'),N(F,C.replace(/&#?\w+;/g,x),n)):('http://www.w3.org/1999/xhtml'===b['']&&C.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+C+'" missed value!! "'+C+'" instead!!'),N(C,C,n));break;case l:throw new Error('attribute value missed!!')}return E;case"\x80":D=' ';default:if(D<=' ')switch(k){case c:s.setTagName(t.slice(n,E)),k=w;break;case u:F=t.slice(n,E),k=o;break;case f:var C=t.slice(n,E).replace(/&#?\w+;/g,x);v.warning('attribute "'+C+'" missed quot(")!!'),N(F,C,n);case h:k=w}else switch(k){case o:s.tagName;'http://www.w3.org/1999/xhtml'===b['']&&F.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+F+'" missed value!! "'+F+'" instead2!!'),N(F,F,n),n=E,k=u;break;case h:v.warning('attribute space is required"'+F+'"!!');case w:k=u,n=E;break;case l:k=f,n=E;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}E++}}function E(t,n,s){for(var c=t.tagName,u=null,o=t.length;o--;){var l=t[o],f=l.qName,h=l.value;if((x=f.indexOf(':'))>0)var w=l.prefix=f.slice(0,x),p=f.slice(x+1),b='xmlns'===w&&p;else p=f,w=null,b='xmlns'===f&&'';l.localName=p,!1!==b&&(null==u&&(u={},C(s,s={})),s[b]=u[b]=h,l.uri='http://www.w3.org/2000/xmlns/',n.startPrefixMapping(b,h))}for(o=t.length;o--;){(w=(l=t[o]).prefix)&&('xml'===w&&(l.uri='http://www.w3.org/XML/1998/namespace'),'xmlns'!==w&&(l.uri=s[w||'']))}var x;(x=c.indexOf(':'))>0?(w=t.prefix=c.slice(0,x),p=t.localName=c.slice(x+1)):(w=null,p=t.localName=c);var v=t.uri=s[w||''];if(n.startElement(v,p,c,t),!t.closed)return t.currentNSMap=s,t.localNSMap=u,!0;if(n.endElement(v,p,c),u)for(w in u)n.endPrefixMapping(w)}function k(t,n,s,c,u){if(/^(?:script|textarea)$/i.test(s)){var o=t.indexOf('</'+s+'>',n),l=t.substring(n+1,o);if(/[&<]/.test(l))return/^script$/i.test(s)?(u.characters(l,0,l.length),o):(l=l.replace(/&#?\w+;/g,c),u.characters(l,0,l.length),o)}return n+1}function D(t,n,s,c){var u=c[s];return null==u&&((u=t.lastIndexOf('</'+s+'>'))<n&&(u=t.lastIndexOf('</'+s)),c[s]=u),u<n}function C(t,n){for(var s in t)n[s]=t[s]}function A(t,n,s,c){switch(t.charAt(n+2)){case'-':return'-'===t.charAt(n+3)?(u=t.indexOf('--\x3e',n+4))>n?(s.comment(t,n+4,u-n-4),u+3):(c.error("Unclosed comment"),-1):-1;default:if('CDATA['==t.substr(n+3,6)){var u=t.indexOf(']]>',n+9);return s.startCDATA(),s.characters(t,n+9,u-n-9),s.endCDATA(),u+3}var o=O(t,n),l=o.length;if(l>1&&/!doctype/i.test(o[0][0])){var f=o[1][0],h=!1,w=!1;l>3&&(/^public$/i.test(o[2][0])?(h=o[3][0],w=l>4&&o[4][0]):/^system$/i.test(o[2][0])&&(w=o[3][0]));var p=o[l-1];return s.startDTD(f,h,w),s.endDTD(),p.index+p[0].length}}return-1}function T(t,n,s){var c=t.indexOf('?>',n);if(c){var u=t.substring(n,c).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(u){u[0].length;return s.processingInstruction(u[1],u[2]),c+2}return-1}return-1}function M(){this.attributeNames={}}function O(t,n){var s,c=[],u=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(u.lastIndex=n,u.exec(t);s=u.exec(t);)if(c.push(s),s[1])return c}b.prototype=new Error,b.prototype.name=b.name,x.prototype={parse:function(t,n,s){var c=this.domBuilder;c.startDocument(),C(n,n={}),v(t,n,s,c,this.errorHandler),c.endDocument()}},M.prototype={setTagName:function(t){if(!s.test(t))throw new Error('invalid tagName:'+t);this.tagName=t},addValue:function(t,n,c){if(!s.test(t))throw new Error('invalid attribute:'+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:n,offset:c}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=x,e.ParseError=b},433,[]);
__d(function(g,r,i,a,m,e,d){function t(t,n){for(var o in t)n[o]=t[o]}function n(n,o){var u=n.prototype;if(!(u instanceof o)){var s=function(){};s.prototype=o.prototype,t(u,s=new s),n.prototype=u=s}u.constructor!=n&&('function'!=typeof n&&console.error("unknow Class:"+n),u.constructor=n)}var o='http://www.w3.org/1999/xhtml',u={},s=u.ELEMENT_NODE=1,l=u.ATTRIBUTE_NODE=2,c=u.TEXT_NODE=3,h=u.CDATA_SECTION_NODE=4,p=u.ENTITY_REFERENCE_NODE=5,f=u.ENTITY_NODE=6,N=u.PROCESSING_INSTRUCTION_NODE=7,v=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,E=u.DOCUMENT_TYPE_NODE=10,y=u.DOCUMENT_FRAGMENT_NODE=11,T=u.NOTATION_NODE=12,b={},_={},D=(b.INDEX_SIZE_ERR=(_[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),S=(b.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),b.NOT_FOUND_ERR=(_[8]="Not found",8)),C=(b.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));b.INVALID_STATE_ERR=(_[11]="Invalid state",11),b.SYNTAX_ERR=(_[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),b.NAMESPACE_ERR=(_[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function I(t,n){if(n instanceof Error)var o=n;else o=this,Error.call(this,_[t]),this.message=_[t],Error.captureStackTrace&&Error.captureStackTrace(this,I);return o.code=t,n&&(this.message=this.message+": "+n),o}function x(){}function A(t,n){this._node=t,this._refresh=n,R(this)}function R(n){var o=n._node._inc||n._node.ownerDocument._inc;if(n._inc!=o){var u=n._refresh(n._node);he(n,'length',u.length),t(u,n),n._inc=o}}function O(){}function U(t,n){for(var o=t.length;o--;)if(t[o]===n)return o}function M(t,n,o,u){if(u?n[U(n,u)]=o:n[n.length++]=o,t){o.ownerElement=t;var s=t.ownerDocument;s&&(u&&Y(s,t,u),j(s,t,o))}}function B(t,n,o){var u=U(n,o);if(!(u>=0))throw I(S,new Error(t.tagName+'@'+o));for(var s=n.length-1;u<s;)n[u]=n[++u];if(n.length=s,t){var l=t.ownerDocument;l&&(Y(l,t,o),o.ownerElement=null)}}function P(t){if(this._features={},t)for(var n in t)this._features=t[n]}function L(){}function V(t){return('<'==t?'&lt;':'>'==t&&'&gt;')||'&'==t&&'&amp;'||'"'==t&&'&quot;'||'&#'+t.charCodeAt()+';'}function k(t,n){if(n(t))return!0;if(t=t.firstChild)do{if(k(t,n))return!0}while(t=t.nextSibling)}function F(){}function j(t,n,o){t&&t._inc++,'http://www.w3.org/2000/xmlns/'==o.namespaceURI&&(n._nsMap[o.prefix?o.localName:'']=o.value)}function Y(t,n,o,u){t&&t._inc++,'http://www.w3.org/2000/xmlns/'==o.namespaceURI&&delete n._nsMap[o.prefix?o.localName:'']}function $(t,n,o){if(t&&t._inc){t._inc++;var u=n.childNodes;if(o)u[u.length++]=o;else{for(var s=n.firstChild,l=0;s;)u[l++]=s,s=s.nextSibling;u.length=l}}}function z(t,n){var o=n.previousSibling,u=n.nextSibling;return o?o.nextSibling=u:t.firstChild=u,u?u.previousSibling=o:t.lastChild=o,$(t.ownerDocument,t),n}function X(t,n,o){var u=n.parentNode;if(u&&u.removeChild(n),n.nodeType===y){var s=n.firstChild;if(null==s)return n;var l=n.lastChild}else s=l=n;var c=o?o.previousSibling:t.lastChild;s.previousSibling=c,l.nextSibling=o,c?c.nextSibling=s:t.firstChild=s,null==o?t.lastChild=l:o.previousSibling=l;do{s.parentNode=t}while(s!==l&&(s=s.nextSibling));return $(t.ownerDocument||t,t),n.nodeType==y&&(n.firstChild=n.lastChild=null),n}function G(t,n){var o=n.parentNode;if(o){var u=t.lastChild;o.removeChild(n);u=t.lastChild}u=t.lastChild;return n.parentNode=t,n.previousSibling=u,n.nextSibling=null,u?u.nextSibling=n:t.firstChild=n,t.lastChild=n,$(t.ownerDocument,t,n),n}function H(){this._nsMap={}}function W(){}function q(){}function Z(){}function Q(){}function J(){}function K(){}function ee(){}function te(){}function ne(){}function re(){}function ie(){}function oe(){}function ae(t,n){var o=[],u=9==this.nodeType&&this.documentElement||this,s=u.prefix,l=u.namespaceURI;if(l&&null==s&&null==(s=u.lookupPrefix(l)))var c=[{namespace:l,prefix:null}];return se(this,o,t,n,c),o.join('')}function ue(t,n,o){var u=t.prefix||'',s=t.namespaceURI;if(!u&&!s)return!1;if("xml"===u&&"http://www.w3.org/XML/1998/namespace"===s||'http://www.w3.org/2000/xmlns/'==s)return!1;for(var l=o.length;l--;){var c=o[l];if(c.prefix==u)return c.namespace!=s}return!0}function se(t,n,u,f,T){if(f){if(!(t=f(t)))return;if('string'==typeof t)return void n.push(t)}switch(t.nodeType){case s:T||(T=[]);T.length;var b=t.attributes,_=b.length,D=t.firstChild,S=t.tagName;u=o===t.namespaceURI||u,n.push('<',S);for(var C=0;C<_;C++){'xmlns'==(I=b.item(C)).prefix?T.push({prefix:I.localName,namespace:I.value}):'xmlns'==I.nodeName&&T.push({prefix:'',namespace:I.value})}for(C=0;C<_;C++){var I;if(ue(I=b.item(C),0,T)){var x=I.prefix||'',A=I.namespaceURI,R=x?' xmlns:'+x:" xmlns";n.push(R,'="',A,'"'),T.push({prefix:x,namespace:A})}se(I,n,u,f,T)}if(ue(t,0,T)){x=t.prefix||'';if(A=t.namespaceURI){R=x?' xmlns:'+x:" xmlns";n.push(R,'="',A,'"'),T.push({prefix:x,namespace:A})}}if(D||u&&!/^(?:meta|link|img|br|hr|input)$/i.test(S)){if(n.push('>'),u&&/^script$/i.test(S))for(;D;)D.data?n.push(D.data):se(D,n,u,f,T),D=D.nextSibling;else for(;D;)se(D,n,u,f,T),D=D.nextSibling;n.push('</',S,'>')}else n.push('/>');return;case w:case y:for(D=t.firstChild;D;)se(D,n,u,f,T),D=D.nextSibling;return;case l:return n.push(' ',t.name,'="',t.value.replace(/[<&"]/g,V),'"');case c:return n.push(t.data.replace(/[<&]/g,V).replace(/]]>/g,']]&gt;'));case h:return n.push('<![CDATA[',t.data,']]>');case v:return n.push("\x3c!--",t.data,"--\x3e");case E:var O=t.publicId,U=t.systemId;if(n.push('<!DOCTYPE ',t.name),O)n.push(' PUBLIC ',O),U&&'.'!=U&&n.push(' ',U),n.push('>');else if(U&&'.'!=U)n.push(' SYSTEM ',U,'>');else{var M=t.internalSubset;M&&n.push(" [",M,"]"),n.push(">")}return;case N:return n.push("<?",t.target," ",t.data,"?>");case p:return n.push('&',t.nodeName,';');default:n.push('??',t.nodeName)}}function le(t,n,o){var u;switch(n.nodeType){case s:(u=n.cloneNode(!1)).ownerDocument=t;case y:break;case l:o=!0}if(u||(u=n.cloneNode(!1)),u.ownerDocument=t,u.parentNode=null,o)for(var c=n.firstChild;c;)u.appendChild(le(t,c,o)),c=c.nextSibling;return u}function ce(t,n,o){var u=new n.constructor;for(var c in n){var h=n[c];'object'!=typeof h&&h!=u[c]&&(u[c]=h)}switch(n.childNodes&&(u.childNodes=new x),u.ownerDocument=t,u.nodeType){case s:var p=n.attributes,f=u.attributes=new O,N=p.length;f._ownerElement=u;for(var v=0;v<N;v++)u.setAttributeNode(ce(t,p.item(v),!0));break;case l:o=!0}if(o)for(var w=n.firstChild;w;)u.appendChild(ce(t,w,o)),w=w.nextSibling;return u}function he(t,n,o){t[n]=o}I.prototype=Error.prototype,t(b,I),x.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,n){for(var o=[],u=0;u<this.length;u++)se(this[u],o,t,n);return o.join('')}},A.prototype.item=function(t){return R(this),this[t]},n(A,x),O.prototype={length:0,item:x.prototype.item,getNamedItem:function(t){for(var n=this.length;n--;){var o=this[n];if(o.nodeName==t)return o}},setNamedItem:function(t){var n=t.ownerElement;if(n&&n!=this._ownerElement)throw new I(C);var o=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,o),o},setNamedItemNS:function(t){var n,o=t.ownerElement;if(o&&o!=this._ownerElement)throw new I(C);return n=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var n=this.getNamedItem(t);return B(this._ownerElement,this,n),n},removeNamedItemNS:function(t,n){var o=this.getNamedItemNS(t,n);return B(this._ownerElement,this,o),o},getNamedItemNS:function(t,n){for(var o=this.length;o--;){var u=this[o];if(u.localName==n&&u.namespaceURI==t)return u}return null}},P.prototype={hasFeature:function(t,n){var o=this._features[t.toLowerCase()];return!(!o||n&&!(n in o))},createDocument:function(t,n,o){var u=new F;if(u.implementation=this,u.childNodes=new x,u.doctype=o,o&&u.appendChild(o),n){var s=u.createElementNS(t,n);u.appendChild(s)}return u},createDocumentType:function(t,n,o){var u=new K;return u.name=t,u.nodeName=t,u.publicId=n,u.systemId=o,u}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,n){return X(this,t,n)},replaceChild:function(t,n){this.insertBefore(t,n),n&&this.removeChild(n)},removeChild:function(t){return z(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return ce(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var n=t.nextSibling;n&&n.nodeType==c&&t.nodeType==c?(this.removeChild(n),t.appendData(n.data)):(t.normalize(),t=n)}},isSupported:function(t,n){return this.ownerDocument.implementation.hasFeature(t,n)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var n=this;n;){var o=n._nsMap;if(o)for(var u in o)if(o[u]==t)return u;n=n.nodeType==l?n.ownerDocument:n.parentNode}return null},lookupNamespaceURI:function(t){for(var n=this;n;){var o=n._nsMap;if(o&&t in o)return o[t];n=n.nodeType==l?n.ownerDocument:n.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},t(u,L),t(u,L.prototype),F.prototype={nodeName:'#document',nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,n){if(t.nodeType==y){for(var o=t.firstChild;o;){var u=o.nextSibling;this.insertBefore(o,n),o=u}return t}return null==this.documentElement&&t.nodeType==s&&(this.documentElement=t),X(this,t,n),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),z(this,t)},importNode:function(t,n){return le(this,t,n)},getElementById:function(t){var n=null;return k(this.documentElement,function(o){if(o.nodeType==s&&o.getAttribute('id')==t)return n=o,!0}),n},getElementsByClassName:function(t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return new A(this,function(t){var o=[];return k(t.documentElement,function(u){u!==t&&u.nodeType==s&&n.test(u.getAttribute('class'))&&o.push(u)}),o})},createElement:function(t){var n=new H;return n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.childNodes=new x,(n.attributes=new O)._ownerElement=n,n},createDocumentFragment:function(){var t=new re;return t.ownerDocument=this,t.childNodes=new x,t},createTextNode:function(t){var n=new Z;return n.ownerDocument=this,n.appendData(t),n},createComment:function(t){var n=new Q;return n.ownerDocument=this,n.appendData(t),n},createCDATASection:function(t){var n=new J;return n.ownerDocument=this,n.appendData(t),n},createProcessingInstruction:function(t,n){var o=new ie;return o.ownerDocument=this,o.tagName=o.target=t,o.nodeValue=o.data=n,o},createAttribute:function(t){var n=new W;return n.ownerDocument=this,n.name=t,n.nodeName=t,n.localName=t,n.specified=!0,n},createEntityReference:function(t){var n=new ne;return n.ownerDocument=this,n.nodeName=t,n},createElementNS:function(t,n){var o=new H,u=n.split(':'),s=o.attributes=new O;return o.childNodes=new x,o.ownerDocument=this,o.nodeName=n,o.tagName=n,o.namespaceURI=t,2==u.length?(o.prefix=u[0],o.localName=u[1]):o.localName=n,s._ownerElement=o,o},createAttributeNS:function(t,n){var o=new W,u=n.split(':');return o.ownerDocument=this,o.nodeName=n,o.name=n,o.namespaceURI=t,o.specified=!0,2==u.length?(o.prefix=u[0],o.localName=u[1]):o.localName=n,o}},n(F,L),H.prototype={nodeType:s,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var n=this.getAttributeNode(t);return n&&n.value||''},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,n){var o=this.ownerDocument.createAttribute(t);o.value=o.nodeValue=""+n,this.setAttributeNode(o)},removeAttribute:function(t){var n=this.getAttributeNode(t);n&&this.removeAttributeNode(n)},appendChild:function(t){return t.nodeType===y?this.insertBefore(t,null):G(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,n){var o=this.getAttributeNodeNS(t,n);o&&this.removeAttributeNode(o)},hasAttributeNS:function(t,n){return null!=this.getAttributeNodeNS(t,n)},getAttributeNS:function(t,n){var o=this.getAttributeNodeNS(t,n);return o&&o.value||''},setAttributeNS:function(t,n,o){var u=this.ownerDocument.createAttributeNS(t,n);u.value=u.nodeValue=""+o,this.setAttributeNode(u)},getAttributeNodeNS:function(t,n){return this.attributes.getNamedItemNS(t,n)},getElementsByTagName:function(t){return new A(this,function(n){var o=[];return k(n,function(u){u===n||u.nodeType!=s||'*'!==t&&u.tagName!=t||o.push(u)}),o})},getElementsByTagNameNS:function(t,n){return new A(this,function(o){var u=[];return k(o,function(l){l===o||l.nodeType!==s||'*'!==t&&l.namespaceURI!==t||'*'!==n&&l.localName!=n||u.push(l)}),u})}},F.prototype.getElementsByTagName=H.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=H.prototype.getElementsByTagNameNS,n(H,L),W.prototype.nodeType=l,n(W,L),q.prototype={data:'',substringData:function(t,n){return this.data.substring(t,t+n)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,n){this.replaceData(t,0,n)},appendChild:function(t){throw new Error(_[D])},deleteData:function(t,n){this.replaceData(t,n,"")},replaceData:function(t,n,o){o=this.data.substring(0,t)+o+this.data.substring(t+n),this.nodeValue=this.data=o,this.length=o.length}},n(q,L),Z.prototype={nodeName:"#text",nodeType:c,splitText:function(t){var n=this.data,o=n.substring(t);n=n.substring(0,t),this.data=this.nodeValue=n,this.length=n.length;var u=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling),u}},n(Z,q),Q.prototype={nodeName:"#comment",nodeType:v},n(Q,q),J.prototype={nodeName:"#cdata-section",nodeType:h},n(J,q),K.prototype.nodeType=E,n(K,L),ee.prototype.nodeType=T,n(ee,L),te.prototype.nodeType=f,n(te,L),ne.prototype.nodeType=p,n(ne,L),re.prototype.nodeName="#document-fragment",re.prototype.nodeType=y,n(re,L),ie.prototype.nodeType=N,n(ie,L),oe.prototype.serializeToString=function(t,n,o){return ae.call(t,n,o)},L.prototype.toString=ae;try{if(Object.defineProperty){var pe=function t(n){switch(n.nodeType){case s:case y:var o=[];for(n=n.firstChild;n;)7!==n.nodeType&&8!==n.nodeType&&o.push(t(n)),n=n.nextSibling;return o.join('');default:return n.nodeValue}};Object.defineProperty(A.prototype,'length',{get:function(){return R(this),this.$$length}}),Object.defineProperty(L.prototype,'textContent',{get:function(){return pe(this)},set:function(t){switch(this.nodeType){case s:case y:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),he=function(t,n,o){t['$$'+n]=o}}}catch(t){}e.Node=L,e.DOMException=I,e.DOMImplementation=P,e.XMLSerializer=oe},434,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]),l=r(d[1]),t={},n=[],s=o.levels.TRACE;m.exports={addGlobalTransport:function(l){o.addGlobalTransport(l)},removeGlobalTransport:function(l){o.removeGlobalTransport(l)},setGlobalOptions:function(l){o.setGlobalOptions(l)},getLogger:function(l,v,f){var u=new o(s,l,v,f);return l?(t[l]=t[l]||[],t[l].push(u)):n.push(u),u},setLogLevelById:function(o,l){for(var s=l?t[l]||[]:n,v=0;v<s.length;v++)s[v].setLevel(o)},setLogLevel:function(o){s=o;for(var l=0;l<n.length;l++)n[l].setLevel(o);for(var v in t){var f=t[v]||[];for(l=0;l<f.length;l++)f[l].setLevel(o)}},levels:o.levels,LogCollector:l}},435,[436,437]);
__d(function(g,r,i,a,m,e,d){var t={trace:0,debug:1,info:2,log:3,warn:4,error:5};c.consoleTransport=console;var n=[c.consoleTransport];c.addGlobalTransport=function(t){-1===n.indexOf(t)&&n.push(t)},c.removeGlobalTransport=function(t){var o=n.indexOf(t);-1!==o&&n.splice(o,1)};var o={};function l(){var t={methodName:"",fileLocation:"",line:null,column:null},n=new Error,o=n.stack?n.stack.split("\n"):[];if(!o||o.length<3)return t;var l=null;return o[3]&&(l=o[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!l||l.length<=4?(0===o[2].indexOf("log@")?t.methodName=o[3].substr(0,o[3].indexOf("@")):t.methodName=o[2].substr(0,o[2].indexOf("@")),t):(t.methodName=l[1],t.fileLocation=l[2],t.line=l[3],t.column=l[4],t)}function s(){var s=arguments[0],c=arguments[1],f=Array.prototype.slice.call(arguments,2);if(!(t[c]<s.level))for(var h=!(s.options.disableCallerInfo||o.disableCallerInfo)&&l(),p=n.concat(s.transports),u=0;u<p.length;u++){var v=p[u],b=v[c];if(b&&"function"==typeof b){var O=[];O.push((new Date).toISOString()),s.id&&O.push("["+s.id+"]"),h&&h.methodName.length>1&&O.push("<"+h.methodName+">: ");var N=O.concat(f);b.bind(v).apply(v,N)}}}function c(n,o,l,c){this.id=o,this.options=c||{},this.transports=l,this.transports||(this.transports=[]),this.level=t[n];for(var f=Object.keys(t),h=0;h<f.length;h++)this[f[h]]=s.bind(null,this,f[h])}c.setGlobalOptions=function(t){o=t||{}},c.prototype.setLevel=function(n){this.level=t[n]},m.exports=c,c.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},436,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function s(s,o){this.logStorage=s,this.stringifyObjects=!(!o||!o.stringifyObjects)&&o.stringifyObjects,this.storeInterval=o&&o.storeInterval?o.storeInterval:3e4,this.maxEntryLength=o&&o.maxEntryLength?o.maxEntryLength:1e4,Object.keys(t.levels).forEach(function(s){this[t.levels[s]]=function(){this._log.apply(this,arguments)}.bind(this,s)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}s.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return'[object with circular refs?]'}},s.prototype.formatLogMessage=function(s){for(var o='',h=1,n=arguments.length;h<n;h++){var u=arguments[h];!this.stringifyObjects&&s!==t.levels.ERROR||'object'!=typeof u||(u=this.stringify(u)),o+=u,h!==n-1&&(o+=' ')}return o.length?o:null},s.prototype._log=function(){var t=arguments[1],s=this.formatLogMessage.apply(this,arguments);if(s){var o=this.queue[this.queue.length-1];(o&&o.text)===s?o.count+=1:(this.queue.push({text:s,timestamp:t,count:1}),this.totalLen+=s.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},s.prototype.start=function(){this._reschedulePublishInterval()},s.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},s.prototype.flush=function(){this._flush(!1,!0)},s.prototype._flush=function(t,s){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),s&&this._reschedulePublishInterval()},s.prototype.stop=function(){this._flush(!1,!1)},m.exports=s},437,[436]);
__d(function(e,r,t,a,s,i,n){s.exports={name:"react-native",version:"0.64.1",bin:"./cli.js",description:"A framework for building native apps using React",license:"MIT",repository:"github:facebook/react-native",engines:{node:">=12"},"jest-junit":{outputDirectory:"reports/junit",outputName:"js-test-results.xml"},files:["!template/node_modules","!template/package-lock.json","!template/yarn.lock","android","cli.js","flow","flow-typed","index.js","interface.js","jest-preset.js","jest","Libraries","LICENSE","local-cli","React-Core.podspec","react-native.config.js","react.gradle","React.podspec","React","ReactAndroid","ReactCommon","README.md","rn-get-polyfills.js","scripts/compose-source-maps.js","scripts/generate-specs.sh","scripts/generate-specs-cli.js","scripts/ios-configure-glog.sh","scripts/launchPackager.bat","scripts/launchPackager.command","scripts/node-binary.sh","scripts/packager.sh","scripts/react_native_pods.rb","scripts/react-native-xcode.sh","scripts/find-node.sh","template.config.js","template","third-party-podspecs"],scripts:{start:"react-native start",test:"jest","test-ci":"jest --maxWorkers=2 --ci --reporters=\"default\" --reporters=\"jest-junit\"",flow:"flow","flow-check-ios":"flow check","flow-check-android":"flow check --flowconfig-name .flowconfig.android",lint:"eslint .","lint-ci":"./scripts/circleci/analyze_code.sh && yarn shellcheck",shellcheck:"./scripts/circleci/analyze_scripts.sh","clang-format":"clang-format -i --glob=*/**/*.{h,cpp,m,mm}",format:"npm run prettier && npm run clang-format",prettier:"prettier --write \"./**/*.{js,md,yml}\"","format-check":"prettier --list-different \"./**/*.{js,md,yml}\"","update-lock":"npx yarn-deduplicate","docker-setup-android":"docker pull reactnativecommunity/react-native-android:2.1","docker-build-android":"docker build -t reactnativeci/android -f .circleci/Dockerfiles/Dockerfile.android .","test-android-run-instrumentation":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-instrumentation-tests.sh","test-android-run-unit":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-unit-tests.sh","test-android-run-e2e":"docker run --privileged -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-ci-e2e-tests.sh --android --js","test-android-all":"yarn run docker-build-android && yarn run test-android-run-unit && yarn run test-android-run-instrumentation && yarn run test-android-run-e2e","test-android-instrumentation":"yarn run docker-build-android && yarn run test-android-run-instrumentation","test-android-unit":"yarn run docker-build-android && yarn run test-android-run-unit","test-android-e2e":"yarn run docker-build-android && yarn run test-android-run-e2e","build-ios-e2e":"detox build -c ios.sim.release","test-ios-e2e":"detox test -c ios.sim.release packages/rn-tester/e2e","test-ios":"./scripts/objc-test.sh test"},peerDependencies:{react:"17.0.1"},dependencies:{"@jest/create-cache-key-function":"^26.5.0","@react-native-community/cli":"^5.0.1-alpha.0","@react-native-community/cli-platform-android":"^5.0.1-alpha.0","@react-native-community/cli-platform-ios":"^5.0.1-alpha.0","@react-native/assets":"1.0.0","@react-native/normalize-color":"1.0.0","@react-native/polyfills":"1.0.0","abort-controller":"^3.0.0",anser:"^1.4.9","base64-js":"^1.1.2","event-target-shim":"^5.0.1","hermes-engine":"~0.7.0",invariant:"^2.2.4","jsc-android":"^245459.0.0","metro-babel-register":"0.64.0","metro-react-native-babel-transformer":"0.64.0","metro-runtime":"0.64.0","metro-source-map":"0.64.0",nullthrows:"^1.1.1","pretty-format":"^26.5.2",promise:"^8.0.3","prop-types":"^15.7.2","react-devtools-core":"^4.6.0","react-native-codegen":"^0.0.6","react-refresh":"^0.4.0","regenerator-runtime":"^0.13.2",scheduler:"^0.20.1",shelljs:"^0.8.4","stacktrace-parser":"^0.1.3","use-subscription":"^1.0.0","whatwg-fetch":"^3.0.0",ws:"^6.1.4"},devDependencies:{"flow-bin":"^0.137.0",react:"17.0.1"},detox:{"test-runner":"jest","runner-config":"packages/rn-tester/e2e/config.json",specs:"",configurations:{"android.emu.release":{binaryPath:"packages/rn-tester/android/app/build/outputs/apk/hermes/release/app-hermes-x86-release.apk",testBinaryPath:"packages/rn-tester/android/app/build/outputs/apk/androidTest/hermes/release/app-hermes-release-androidTest.apk",build:"./gradlew :packages:rn-tester:android:app:assembleRelease :packages:rn-tester:android:app:assembleAndroidTest -DtestBuildType=release",type:"android.emulator",device:{avdName:"Nexus_6_API_29"}},"android.emu.debug":{binaryPath:"packages/rn-tester/android/app/build/outputs/apk/hermes/debug/app-hermes-x86-debug.apk",testBinaryPath:"packages/rn-tester/android/app/build/outputs/apk/androidTest/hermes/debug/app-hermes-debug-androidTest.apk",build:"./gradlew :packages:rn-tester:android:app:assembleDebug :packages:rn-tester:android:app:assembleAndroidTest -DtestBuildType=debug",type:"android.emulator",device:{avdName:"Nexus_6_API_29"}},"ios.sim.release":{binaryPath:"packages/rn-tester/build/Build/Products/Release-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace packages/rn-tester/RNTesterPods.xcworkspace -scheme RNTester -configuration Release -sdk iphonesimulator -derivedDataPath packages/rn-tester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 8"},"ios.sim.debug":{binaryPath:"packages/rn-tester/build/Build/Products/Debug-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace packages/rn-tester/RNTesterPods.xcworkspace -scheme RNTester -configuration Debug -sdk iphonesimulator -derivedDataPath packages/rn-tester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 8"}}}}},438,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]),t=n(r(d[2]));!(function(n){void 0===n.MediaStream&&(n.MediaStream=o.MediaStream),void 0===n.MediaStreamTrack&&(n.MediaStreamTrack=o.MediaStreamTrack),void 0===n.RTCIceCandidate&&(n.RTCIceCandidate=o.RTCIceCandidate),void 0===n.RTCPeerConnection&&(n.RTCPeerConnection=t.default),void 0===n.RTCPeerConnection&&(n.webkitRTCPeerConnection=t.default),void 0===n.RTCSessionDescription&&(n.RTCSessionDescription=o.RTCSessionDescription);var s=n.navigator;s&&(void 0===s.mediaDevices&&(s.mediaDevices=o.mediaDevices),void 0===s.permissions&&(s.permissions=o.permissions))})(g||window||this)},439,[2,440,464]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MediaStream",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"MediaStreamTrack",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"RTCIceCandidate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"RTCPeerConnection",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"RTCSessionDescription",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"RTCView",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"ScreenCapturePickerView",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"mediaDevices",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"permissions",{enumerable:!0,get:function(){return v.default}}),e.registerGlobals=function(){if('object'!=typeof navigator)throw new Error('navigator is not an object');navigator.mediaDevices||(navigator.mediaDevices={});navigator.mediaDevices.getUserMedia=s.default.getUserMedia.bind(s.default),navigator.mediaDevices.getDisplayMedia=s.default.getDisplayMedia.bind(s.default),navigator.mediaDevices.enumerateDevices=s.default.enumerateDevices.bind(s.default),g.RTCPeerConnection=u.default,g.RTCIceCandidate=o.default,g.RTCSessionDescription=f.default,g.MediaStream=l.default,g.MediaStreamTrack=b.default};var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),b=t(r(d[7])),s=t(r(d[8])),v=t(r(d[9]))},440,[2,441,442,455,454,458,445,447,459,463]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,r(d[0]).requireNativeComponent)('ScreenCapturePickerView');e.default=t},441,[7]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6])),l=r(d[7]),p=r(d[8]),h=t(r(d[9])),v=t(r(d[10])),C=(t(r(d[11])),t(r(d[12]))),_=t(r(d[13])),S=t(r(d[14])),w=t(r(d[15])),y=t(r(d[16])),I=t(r(d[17])),O=t(r(d[18])),k=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=D(n);if(o&&o.has(t))return o.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var f=u?Object.getOwnPropertyDescriptor(t,s):null;f&&(f.get||f.set)?Object.defineProperty(c,s,f):c[s]=t[s]}c.default=t,o&&o.set(t,c);return c})(r(d[19])),E=t(r(d[20]));function D(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(D=function(t){return t?o:n})(t)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var R=p.NativeModules.WebRTCModule,L=0,P=(function(t){(0,u.default)(P,t);var l,p,D=(l=P,p=b(),function(){var t,n=(0,f.default)(l);if(p){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function P(t){var n;return(0,o.default)(this,P),(n=D.call(this)).signalingState='stable',n.iceGatheringState='new',n.connectionState='new',n.iceConnectionState='new',n._localStreams=[],n._remoteStreams=[],n._peerConnectionId=L++,R.peerConnectionInit(t,n._peerConnectionId),n._registerEvents(),n}return(0,c.default)(P,[{key:"addStream",value:function(t){-1===this._localStreams.indexOf(t)&&(R.peerConnectionAddStream(t._reactTag,this._peerConnectionId),this._localStreams.push(t))}},{key:"removeStream",value:function(t){var n=this._localStreams.indexOf(t);-1!==n&&(this._localStreams.splice(n,1),R.peerConnectionRemoveStream(t._reactTag,this._peerConnectionId))}},{key:"createOffer",value:function(t){var n=this;return new Promise(function(o,c){R.peerConnectionCreateOffer(n._peerConnectionId,k.normalizeOfferAnswerOptions(t),function(t,n){t?o(n):c(n)})})}},{key:"createAnswer",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(o,c){R.peerConnectionCreateAnswer(t._peerConnectionId,k.normalizeOfferAnswerOptions(n),function(t,n){t?o(n):c(n)})})}},{key:"setConfiguration",value:function(t){R.peerConnectionSetConfiguration(t,this._peerConnectionId)}},{key:"setLocalDescription",value:function(t){var o,c;return n.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return o=t?t.toJSON?t.toJSON():t:null,u.next=3,n.default.awrap(R.peerConnectionSetLocalDescription(this._peerConnectionId,o));case 3:c=u.sent,this.localDescription=new w.default(c);case 5:case"end":return u.stop()}},null,this,null,Promise)}},{key:"setRemoteDescription",value:function(t){var n=this;return new Promise(function(o,c){R.peerConnectionSetRemoteDescription(t.toJSON?t.toJSON():t,n._peerConnectionId,function(t,u){t?(n.remoteDescription=new w.default(u),o()):c(u)})})}},{key:"addIceCandidate",value:function(t){var o;return n.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t&&t.candidate){c.next=2;break}return c.abrupt("return");case 2:return c.next=4,n.default.awrap(R.peerConnectionAddICECandidate(this._peerConnectionId,t.toJSON?t.toJSON():t));case 4:o=c.sent,this.remoteDescription=new w.default(o);case 6:case"end":return c.stop()}},null,this,null,Promise)}},{key:"getStats",value:function(){return R.peerConnectionGetStats(this._peerConnectionId).then(function(t){return new Map(JSON.parse(t))})}},{key:"getLocalStreams",value:function(){return this._localStreams.slice()}},{key:"getRemoteStreams",value:function(){return this._remoteStreams.slice()}},{key:"close",value:function(){R.peerConnectionClose(this._peerConnectionId)}},{key:"restartIce",value:function(){R.peerConnectionRestartIce(this._peerConnectionId)}},{key:"_getTrack",value:function(t,n){var o=this._remoteStreams.find(function(n){return n._reactTag===t});return o&&o._tracks.find(function(t){return t.id===n})}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var t=this;this._subscriptions=[E.default.addListener('peerConnectionOnRenegotiationNeeded',function(n){n.id===t._peerConnectionId&&t.dispatchEvent(new O.default('negotiationneeded'))}),E.default.addListener('peerConnectionIceConnectionChanged',function(n){n.id===t._peerConnectionId&&(t.iceConnectionState=n.iceConnectionState,t.dispatchEvent(new O.default('iceconnectionstatechange')),'closed'===n.iceConnectionState&&t._unregisterEvents())}),E.default.addListener('peerConnectionStateChanged',function(n){n.id===t._peerConnectionId&&(t.connectionState=n.connectionState,t.dispatchEvent(new O.default('connectionstatechange')),'closed'===n.connectionState&&t._unregisterEvents())}),E.default.addListener('peerConnectionSignalingStateChanged',function(n){n.id===t._peerConnectionId&&(t.signalingState=n.signalingState,t.dispatchEvent(new O.default('signalingstatechange')))}),E.default.addListener('peerConnectionAddedStream',function(n){if(n.id===t._peerConnectionId){var o=new h.default(n);t._remoteStreams.push(o),t.remoteDescription=new w.default(n.sdp),t.dispatchEvent(new v.default('addstream',{stream:o}))}}),E.default.addListener('peerConnectionRemovedStream',function(n){if(n.id===t._peerConnectionId){var o=t._remoteStreams.find(function(t){return t._reactTag===n.streamId});if(o){var c=t._remoteStreams.indexOf(o);-1!==c&&t._remoteStreams.splice(c,1)}t.remoteDescription=new w.default(n.sdp),t.dispatchEvent(new v.default('removestream',{stream:o}))}}),E.default.addListener('mediaStreamTrackMuteChanged',function(n){if(n.peerConnectionId===t._peerConnectionId){var o=t._getTrack(n.streamReactTag,n.trackId);if(o){o.muted=n.muted;var c=n.muted?'mute':'unmute';o.dispatchEvent(new C.default(c,{track:o}))}}}),E.default.addListener('peerConnectionGotICECandidate',function(n){if(n.id===t._peerConnectionId){t.localDescription=new w.default(n.sdp);var o=new y.default(n.candidate),c=new I.default('icecandidate',{candidate:o});t.dispatchEvent(c)}}),E.default.addListener('peerConnectionIceGatheringChanged',function(n){n.id===t._peerConnectionId&&(t.iceGatheringState=n.iceGatheringState,'complete'===t.iceGatheringState&&(t.localDescription=new w.default(n.sdp),t.dispatchEvent(new I.default('icecandidate',null))),t.dispatchEvent(new O.default('icegatheringstatechange')))}),E.default.addListener('peerConnectionDidOpenDataChannel',function(n){if(n.id===t._peerConnectionId){var o=new _.default(n.dataChannel);t.dispatchEvent(new S.default('datachannel',{channel:o}))}})]}},{key:"createDataChannel",value:function(t,n){if(n&&'id'in n){var o=n.id;if('number'!=typeof o)throw new TypeError('DataChannel id must be a number: '+o)}var c=R.createDataChannel(this._peerConnectionId,t,n);if(null===c)throw new TypeError('Failed to create new DataChannel');return new _.default(c)}}]),P})(l.defineCustomEventTarget.apply(void 0,['connectionstatechange','icecandidate','icecandidateerror','iceconnectionstatechange','icegatheringstatechange','negotiationneeded','signalingstatechange','datachannel','addstream','removestream']));e.default=P},442,[2,283,12,13,20,22,19,443,7,445,448,447,449,450,452,454,455,456,457,446,453]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=r(d[1]),u=r(d[2]),l=r(d[3]),c=r(d[4]),s=r(d[5]),f=r(d[6]),p=r(d[7]),v=r(d[8]),b=r(d[9]),y=r(d[10]);function h(t){var n=E();return function(){var o,u=f(t);if(n){var l=f(this).constructor;o=Reflect.construct(u,arguments,l)}else o=u.apply(this,arguments);return s(this,o)}}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function R(t,n){if(!t){for(var o=arguments.length,u=new Array(o>2?o-2:0),l=2;l<o;l++)u[l-2]=arguments[l];throw new TypeError(k(n,u))}}function k(t,n){var o=0;return t.replace(/%[os]/g,function(){return P(n[o++])})}function P(t){return"object"!=typeof t||null===t?String(t):Object.prototype.toString.call(t)}function T(n){try{var o=n instanceof Error?n:new Error(P(n));if(t)return void t(o);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:o,message:o.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",o);console.error(o)}catch(t){}}Object.defineProperty(e,'__esModule',{value:!0});var w,O="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==g?g:"undefined"!=typeof globalThis?globalThis:void 0;var _=(function(){function t(n,o){b(this,t),this.code=n,this.message=o}return y(t,[{key:"warn",value:function(){var t;try{for(var n,o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];if(w)return void w(v({},this,{args:u}));var c=(null!==(t=(new Error).stack)&&void 0!==t?t:"").replace(/^(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?\n){2}/g,"\n");(n=console).warn.apply(n,[this.message].concat(u,[c]))}catch(t){}}}]),t})(),F=new _("W01","Unable to initialize event under dispatching."),A=new _("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),I=new _("W03","Assigning any truthy value to 'returnValue' property has no effect."),D=new _("W04","Unable to preventDefault on non-cancelable events."),S=new _("W05","Unable to preventDefault inside passive event listener invocation."),N=new _("W06","An event listener wasn't added because it has been added already: %o, %o"),B=new _("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),j=new _("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),L=new _("W09","Event attribute handler must be a function: %o"),C=(function(){function t(n,o){b(this,t),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});var u=null!==o&&void 0!==o?o:{};H.set(this,{type:String(n),bubbles:Boolean(u.bubbles),cancelable:Boolean(u.cancelable),composed:Boolean(u.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}return y(t,[{key:"type",get:function(){return G(this).type}},{key:"target",get:function(){return G(this).target}},{key:"srcElement",get:function(){return G(this).target}},{key:"currentTarget",get:function(){return G(this).currentTarget}},{key:"composedPath",value:function(){var t=G(this).currentTarget;return t?[t]:[]}},{key:"NONE",get:function(){return U}},{key:"CAPTURING_PHASE",get:function(){return W}},{key:"AT_TARGET",get:function(){return M}},{key:"BUBBLING_PHASE",get:function(){return V}},{key:"eventPhase",get:function(){return G(this).dispatchFlag?2:0}},{key:"stopPropagation",value:function(){G(this).stopPropagationFlag=!0}},{key:"cancelBubble",get:function(){return G(this).stopPropagationFlag},set:function(t){t?G(this).stopPropagationFlag=!0:A.warn()}},{key:"stopImmediatePropagation",value:function(){var t=G(this);t.stopPropagationFlag=t.stopImmediatePropagationFlag=!0}},{key:"bubbles",get:function(){return G(this).bubbles}},{key:"cancelable",get:function(){return G(this).cancelable}},{key:"returnValue",get:function(){return!G(this).canceledFlag},set:function(t){t?I.warn():x(G(this))}},{key:"preventDefault",value:function(){x(G(this))}},{key:"defaultPrevented",get:function(){return G(this).canceledFlag}},{key:"composed",get:function(){return G(this).composed}},{key:"isTrusted",get:function(){return!1}},{key:"timeStamp",get:function(){return G(this).timeStamp}},{key:"initEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=G(this);u.dispatchFlag?F.warn():H.set(this,v({},u,{type:String(t),bubbles:Boolean(n),cancelable:Boolean(o),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1}))}}],[{key:"NONE",get:function(){return U}},{key:"CAPTURING_PHASE",get:function(){return W}},{key:"AT_TARGET",get:function(){return M}},{key:"BUBBLING_PHASE",get:function(){return V}}]),t})(),U=0,W=1,M=2,V=3,H=new WeakMap;function G(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",o=H.get(t);return R(null!=o,"'%s' must be an object that Event constructor created, but got another one: %o",n,t),o}function x(t){t.inPassiveListenerFlag?S.warn():t.cancelable?t.canceledFlag=!0:D.warn()}Object.defineProperty(C,"NONE",{enumerable:!0}),Object.defineProperty(C,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(C,"AT_TARGET",{enumerable:!0}),Object.defineProperty(C,"BUBBLING_PHASE",{enumerable:!0});for(var Y,X=Object.getOwnPropertyNames(C.prototype),Q=0;Q<X.length;++Q)"constructor"!==X[Q]&&Object.defineProperty(C.prototype,X[Q],{enumerable:!0});void 0!==O&&void 0!==O.Event&&Object.setPrototypeOf(C.prototype,O.Event.prototype);var Z={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function z(t){for(var n=Object.keys(Z),o=function(){var o=n[u],l=Z[o];Object.defineProperty(t,o,{get:function(){return l},configurable:!0,enumerable:!0})},u=0;u<n.length;++u)o()}var K=(function(t){c(s,C);var n=h(s);function s(t){var o,c,p;b(this,s),p=n.call(this,t.type,{bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed}),t.cancelBubble&&u((o=l(p),f(s.prototype)),"stopPropagation",o).call(o),t.defaultPrevented&&u((c=l(p),f(s.prototype)),"preventDefault",c).call(c),q.set(l(p),{original:t});for(var v=Object.keys(t),y=0;y<v.length;++y){var h=v[y];h in l(p)||Object.defineProperty(l(p),h,ne(t,h))}return p}return y(s,[{key:"stopPropagation",value:function(){u(f(s.prototype),"stopPropagation",this).call(this);var t=J(this).original;"stopPropagation"in t&&t.stopPropagation()}},{key:"cancelBubble",get:function(){return u(f(s.prototype),"cancelBubble",this)},set:function(t){o(f(s.prototype),"cancelBubble",t,this,!0);var n=J(this).original;"cancelBubble"in n&&(n.cancelBubble=t)}},{key:"stopImmediatePropagation",value:function(){u(f(s.prototype),"stopImmediatePropagation",this).call(this);var t=J(this).original;"stopImmediatePropagation"in t&&t.stopImmediatePropagation()}},{key:"returnValue",get:function(){return u(f(s.prototype),"returnValue",this)},set:function(t){o(f(s.prototype),"returnValue",t,this,!0);var n=J(this).original;"returnValue"in n&&(n.returnValue=t)}},{key:"preventDefault",value:function(){u(f(s.prototype),"preventDefault",this).call(this);var t=J(this).original;"preventDefault"in t&&t.preventDefault()}},{key:"timeStamp",get:function(){var t=J(this).original;return"timeStamp"in t?t.timeStamp:u(f(s.prototype),"timeStamp",this)}}],[{key:"wrap",value:function(t){return new(ee(t))(t)}}]),s})(),q=new WeakMap;function J(t){var n=q.get(t);return R(null!=n,"'this' is expected an Event object, but got",t),n}var $=new WeakMap;function ee(t){var n=Object.getPrototypeOf(t);if(null==n)return K;var o=$.get(n);return null==o&&(o=te(ee(n),n),$.set(n,o)),o}function te(t,n){for(var o=(function(n){c(u,t);var o=h(u);function u(){return b(this,u),o.apply(this,arguments)}return y(u)})(),u=Object.keys(n),l=0;l<u.length;++l)Object.defineProperty(o.prototype,u[l],ne(n,u[l]));return o}function ne(t,n){var o=Object.getOwnPropertyDescriptor(t,n);return{get:function(){var t=J(this).original,o=t[n];return"function"==typeof o?o.bind(t):o},set:function(t){J(this).original[n]=t},configurable:o.configurable,enumerable:o.enumerable}}function re(t,n,o,u,l,c){return{callback:t,flags:(n?1:0)|(o?2:0)|(u?4:0),signal:l,signalListener:c}}function oe(t){t.flags|=8}function ae(t){return 1==(1&t.flags)}function ie(t){return 2==(2&t.flags)}function ue(t){return 4==(4&t.flags)}function le(t){return 8==(8&t.flags)}function ce(t,n,o){var u=t.callback;try{"function"==typeof u?u.call(n,o):"function"==typeof u.handleEvent&&u.handleEvent(o)}catch(t){T(t)}}function se(t,n,o){for(var u=t.listeners,l=0;l<u.length;++l)if(u[l].callback===n&&ae(u[l])===o)return l;return-1}function fe(t,o,u,l,c,s){var f;s&&(f=pe.bind(null,t,o,u),s.addEventListener("abort",f));var p=re(o,u,l,c,s,f);return t.cow?(t.cow=!1,t.listeners=[].concat(n(t.listeners),[p])):t.listeners.push(p),p}function pe(t,n,o){var u=se(t,n,o);return-1!==u&&ge(t,u)}function ge(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=t.listeners[n];return oe(u),u.signal&&u.signal.removeEventListener("abort",u.signalListener),t.cow&&!o?(t.cow=!1,t.listeners=t.listeners.filter(function(t,o){return o!==n}),!1):(t.listeners.splice(n,1),!0)}function ve(t,n){var o;return null!==(o=t[n])&&void 0!==o?o:t[n]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}$.set(Object.prototype,K),void 0!==O&&void 0!==O.Event&&$.set(O.Event.prototype,K);var de=(function(){function t(){b(this,t),be.set(this,Object.create(null))}return y(t,[{key:"addEventListener",value:function(t,n,o){var u=ye(this),l=he(t,n,o),c=l.callback,s=l.capture,f=l.once,p=l.passive,v=l.signal,b=l.type;if(null!=c&&(null===v||void 0===v||!v.aborted)){var y=ve(u,b),h=se(y,c,s);-1===h?fe(y,c,s,p,f,v):Re(y.listeners[h],p,f,v)}}},{key:"removeEventListener",value:function(t,n,o){var u=ye(this),l=Ee(t,n,o),c=l.callback,s=l.capture,f=u[l.type];null!=c&&f&&pe(f,c,s)}},{key:"dispatchEvent",value:function(t){var n=ye(this)[String(t.type)];if(null==n)return!0;var o,u=t instanceof C?t:K.wrap(t),s=G(u,"event");if(s.dispatchFlag)throw o="This event has been in dispatching.",O.DOMException?new O.DOMException(o,"InvalidStateError"):(null==Y&&(Y=(function(t){c(o,t);var n=h(o);function o(t){var u;return b(this,o),u=n.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(l(u),o),u}return y(o,[{key:"code",get:function(){return 11}},{key:"name",get:function(){return"InvalidStateError"}}]),o})(p(Error)),Object.defineProperties(Y.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),z(Y),z(Y.prototype)),new Y(o));if(s.dispatchFlag=!0,s.target=s.currentTarget=this,!s.stopPropagationFlag){var f=n.cow,v=n.listeners;n.cow=!0;for(var E=0;E<v.length;++E){var R=v[E];if(!le(R)&&(ue(R)&&ge(n,E,!f)&&(E-=1),s.inPassiveListenerFlag=ie(R),ce(R,this,u),s.inPassiveListenerFlag=!1,s.stopImmediatePropagationFlag))break}f||(n.cow=!1)}return s.target=null,s.currentTarget=null,s.stopImmediatePropagationFlag=!1,s.stopPropagationFlag=!1,s.dispatchFlag=!1,!s.canceledFlag}}]),t})(),be=new WeakMap;function ye(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",o=be.get(t);return R(null!=o,"'%s' must be an object that EventTarget constructor created, but got another one: %o",n,t),o}function he(t,n,o){var u;return me(n),"object"==typeof o&&null!==o?{type:String(t),callback:null!==n&&void 0!==n?n:void 0,capture:Boolean(o.capture),passive:Boolean(o.passive),once:Boolean(o.once),signal:null!==(u=o.signal)&&void 0!==u?u:void 0}:{type:String(t),callback:null!==n&&void 0!==n?n:void 0,capture:Boolean(o),passive:!1,once:!1,signal:void 0}}function Ee(t,n,o){return me(n),"object"==typeof o&&null!==o?{type:String(t),callback:null!==n&&void 0!==n?n:void 0,capture:Boolean(o.capture)}:{type:String(t),callback:null!==n&&void 0!==n?n:void 0,capture:Boolean(o)}}function me(t){if("function"!=typeof t&&("object"!=typeof t||null===t||"function"!=typeof t.handleEvent)){if(null!=t&&"object"!=typeof t)throw new TypeError(k(j.message,[t]));j.warn(t)}}function Re(t,n,o,u){N.warn(ae(t)?"capture":"bubble",t.callback),ie(t)!==n&&B.warn("passive"),ue(t)!==o&&B.warn("once"),t.signal!==u&&B.warn("signal")}for(var ke=Object.getOwnPropertyNames(de.prototype),Pe=0;Pe<ke.length;++Pe)"constructor"!==ke[Pe]&&Object.defineProperty(de.prototype,ke[Pe],{enumerable:!0});function Te(t,n){var o,u;return null!==(u=null===(o=ye(t,"target")[n])||void 0===o?void 0:o.attrCallback)&&void 0!==u?u:null}function we(t,n,o){null!=o&&"function"!=typeof o&&L.warn(o),"function"==typeof o||"object"==typeof o&&null!==o?Oe(t,n,o):_e(t,n)}function Oe(t,n,o){var u=ve(ye(t,"target"),String(n));u.attrCallback=o,null==u.attrListener&&(u.attrListener=fe(u,Fe(u),!1,!1,!1,void 0))}function _e(t,n){var o=ye(t,"target")[String(n)];o&&o.attrListener&&(pe(o,o.attrListener.callback,!1),o.attrCallback=o.attrListener=void 0)}function Fe(t){return function(n){var o=t.attrCallback;"function"==typeof o&&o.call(this,n)}}function Ae(t,n,o){Object.defineProperty(t,"on"+n,{get:function(){return Te(this,n)},set:function(t){we(this,n,t)},configurable:!0,enumerable:!0})}void 0!==O&&void 0!==O.EventTarget&&Object.setPrototypeOf(de.prototype,O.EventTarget.prototype),e.Event=C,e.EventTarget=de,e.default=de,e.defineCustomEventTarget=function(){for(var t=(function(t){c(o,de);var n=h(o);function o(){return b(this,o),n.apply(this,arguments)}return y(o)})(),n=0;n<arguments.length;++n)Ae(t.prototype,n<0||arguments.length<=n?void 0:arguments[n]);return t},e.defineEventAttribute=Ae,e.getEventAttributeValue=Te,e.setErrorHandler=function(n){R("function"==typeof n||void 0===n,"The error handler must be a function or undefined, but got %o.",n),t=n},e.setEventAttributeValue=we,e.setWarningHandler=function(t){R("function"==typeof t||void 0===t,"The warning handler must be a function or undefined, but got %o.",t),w=t}},443,[41,444,17,23,20,22,19,100,32,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);function o(f,u,c,p){return(o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(o,f,u,c){var p,s=t(o,f);if(s){if((p=Object.getOwnPropertyDescriptor(s,f)).set)return p.set.call(c,u),!0;if(!p.writable)return!1}if(p=Object.getOwnPropertyDescriptor(c,f)){if(!p.writable)return!1;p.value=u,Object.defineProperty(c,f,p)}else n(c,f,u);return!0})(f,u,c,p)}m.exports=function(t,n,f,u,c){if(!o(t,n,f,u||t)&&c)throw new TypeError('failed to set property');return f},m.exports.__esModule=!0,m.exports.default=m.exports},444,[18,253]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),s=r(d[7]),v=r(d[8]),k=r(d[9]),y=t(r(d[10]));function h(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=p(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,n){if(t){if("string"==typeof t)return T(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?T(t,n):void 0}}function T(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var b=s.NativeModules.WebRTCModule,R=(function(t){(0,u.default)(T,t);var s,v,p=(s=T,v=_(),function(){var t,n=(0,f.default)(s);if(v){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function T(t){var n;if((0,o.default)(this,T),(n=p.call(this)).active=!0,n._tracks=[],n.id=(0,k.uniqueID)(),n._reactTag=n.id,void 0===t)b.mediaStreamCreate(n.id);else if(t instanceof T){b.mediaStreamCreate(n.id);for(var c,u=h(t.getTracks());!(c=u()).done;){var l=c.value;n.addTrack(l)}}else if(Array.isArray(t)){b.mediaStreamCreate(n.id);for(var f,s=h(t);!(f=s()).done;){var v=f.value;n.addTrack(v)}}else{if(!('object'==typeof t&&t.streamId&&t.streamReactTag&&t.tracks))throw new TypeError("invalid type: "+typeof t);n.id=t.streamId,n._reactTag=t.streamReactTag;for(var _,R=h(t.tracks);!(_=R()).done;){var S=_.value;n._tracks.push(new y.default(S))}}return n}return(0,c.default)(T,[{key:"addTrack",value:function(t){-1===this._tracks.indexOf(t)&&(this._tracks.push(t),b.mediaStreamAddTrack(this._reactTag,t.id))}},{key:"removeTrack",value:function(t){var n=this._tracks.indexOf(t);-1!==n&&(this._tracks.splice(n,1),b.mediaStreamRemoveTrack(this._reactTag,t.id))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTrackById",value:function(t){return this._tracks.find(function(n){return n.id===t})}},{key:"getAudioTracks",value:function(){return this._tracks.filter(function(t){return'audio'===t.kind})}},{key:"getVideoTracks",value:function(){return this._tracks.filter(function(t){return'video'===t.kind})}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"toURL",value:function(){return this._reactTag}},{key:"release",value:function(){for(var t,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=h((0,n.default)(this._tracks));!(t=c()).done;){var u=t.value;this.removeTrack(u),o&&u.release()}b.mediaStreamRelease(this._reactTag)}}]),T})(v.defineCustomEventTarget.apply(void 0,['active','inactive','addtrack','removetrack']));e.default=R},445,[2,41,12,13,20,22,19,7,443,446,447]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=y,e.normalizeConstraints=function(t){for(var n=y(t),o=0,f=['audio','video'];o<f.length;o++){var c=f[o],h=n[c],v=typeof h;if('undefined'!==v)if('boolean'===v)h&&(n[c]=u(c));else{if('object'!==v)throw new TypeError("constraints."+c+" is neither a boolean nor a dictionary");n[c]=l(h,c)}}return n},e.normalizeOfferAnswerOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={};if(!t)return o;t.mandatory&&(t=t.mandatory);for(var f=0,c=Object.entries(t);f<c.length;f++){var u=c[f],v=(0,n.default)(u,2),s=v[0],l=v[1],w=h[s.toLowerCase()];w&&(o[w]=String(Boolean(l)))}return o},e.uniqueID=function(){return""+w()+w()+"-"+w()+"-"+w()+"-"+w()+"-"+w()+w()+w()};var n=t(r(d[1])),o={},f={facingMode:'user',frameRate:30,height:720,width:1280},c=1.7777777777777777,h={icerestart:'IceRestart',offertoreceiveaudio:'OfferToReceiveAudio',offertoreceivevideo:'OfferToReceiveVideo',voiceactivitydetection:'VoiceActivityDetection'};function u(t){switch(t){case'audio':return o;case'video':return f;default:throw new TypeError("Invalid media type: "+t)}}function v(t,n){var o=t[n],f=typeof o;if('object'===f)for(var c=0,h=['exact','ideal'];c<h.length;c++){var u=h[c];if(o[u])return o[u]}else if('string'===f)return o}function s(t,n){var o=t[n],f=typeof o;if('number'===f)return Number.parseInt(o);if('object'===f)for(var c=0,h=['exact','ideal','min','max'];c<h.length;c++){var u=h[c];if(o[u])return Number.parseInt(o[u])}}function l(t,n){switch(n){case'audio':return t;case'video':var o;return(o=t.mandatory?{deviceId:v(t.optional||{},'sourceId'),facingMode:v(t,'facingMode'),frameRate:s(t.mandatory,'minFrameRate'),height:s(t.mandatory,'minHeight'),width:s(t.mandatory,'minWidth')}:{deviceId:v(t,'deviceId'),facingMode:v(t,'facingMode'),frameRate:s(t,'frameRate'),height:s(t,'height'),width:s(t,'width')}).deviceId||delete o.deviceId,(!o.facingMode||'user'!==o.facingMode&&'environment'!==o.facingMode)&&(o.facingMode=f.facingMode),o.frameRate||(o.frameRate=f.frameRate),o.height||o.width?o.height?o.width||(o.width=Math.round(o.height*c)):o.height=Math.round(o.width/c):(o.height=f.height,o.width=f.width),o;default:throw new TypeError("Invalid media type: "+n)}}function w(){return Math.random().toString(16).slice(-4)}function y(t){return JSON.parse(JSON.stringify(t))}},446,[2,33]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),c=r(d[6]),f=r(d[7]),h=r(d[8]);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=c.NativeModules.WebRTCModule,p=(function(t){(0,l.default)(k,t);var c,f,p=(c=k,f=v(),function(){var t,n=(0,s.default)(c);if(f){var o=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function k(t){var o;(0,n.default)(this,k),(o=p.call(this))._constraints=t.constraints||{},o._enabled=t.enabled,o._settings=t.settings||{},o.id=t.id,o.kind=t.kind,o.label=t.label,o.muted=!1,o.remote=t.remote;var l=t.readyState.toLowerCase();return o.readyState='initializing'===l||'live'===l?'live':'ended',o}return(0,o.default)(k,[{key:"enabled",get:function(){return this._enabled},set:function(t){t!==this._enabled&&(y.mediaStreamTrackSetEnabled(this.id,!this._enabled),this._enabled=!this._enabled,this.muted=!this._enabled)}},{key:"stop",value:function(){y.mediaStreamTrackSetEnabled(this.id,!1),this.readyState='ended'}},{key:"_switchCamera",value:function(){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');y.mediaStreamTrackSwitchCamera(this.id)}},{key:"applyConstraints",value:function(){throw new Error('Not implemented.')}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"getCapabilities",value:function(){throw new Error('Not implemented.')}},{key:"getConstraints",value:function(){return(0,h.deepClone)(this._constraints)}},{key:"getSettings",value:function(){return(0,h.deepClone)(this._settings)}},{key:"release",value:function(){y.mediaStreamTrackRelease(this.id)}}]),k})(f.defineCustomEventTarget.apply(void 0,['ended','mute','unmute']));e.default=p},447,[2,12,13,20,22,19,7,443,446]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=t(r(d[3])),n=(0,f.default)(function t(f,n){(0,l.default)(this,t),this.type=f.toString(),(0,u.default)(this,n)});e.default=n},448,[2,32,13,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=t(r(d[3])),n=(0,f.default)(function t(f,n){(0,l.default)(this,t),this.type=f.toString(),(0,u.default)(this,n)});e.default=n},449,[2,32,13,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=r(d[6]),l=t(r(d[7])),y=r(d[8]),h=t(r(d[9])),_=t(r(d[10])),p=t(r(d[11]));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var b=f.NativeModules.WebRTCModule,T=(function(t){(0,s.default)(k,t);var f,y,T=(f=k,y=v(),function(){var t,n=(0,c.default)(f);if(y){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function k(t){var o;return(0,n.default)(this,k),(o=T.call(this)).binaryType='arraybuffer',o.bufferedAmount=0,o.bufferedAmountLowThreshold=0,o._peerConnectionId=t.peerConnectionId,o._reactTag=t.reactTag,o._label=t.label,o._id=-1===t.id?null:t.id,o._ordered=Boolean(t.ordered),o._maxPacketLifeTime=t.maxPacketLifeTime,o._maxRetransmits=t.maxRetransmits,o._protocol=t.protocol||'',o._negotiated=Boolean(t.negotiated),o._readyState=t.readyState,o._registerEvents(),o}return(0,o.default)(k,[{key:"label",get:function(){return this._label}},{key:"id",get:function(){return this._id}},{key:"ordered",get:function(){return this._ordered}},{key:"maxPacketLifeTime",get:function(){return this._maxPacketLifeTime}},{key:"maxRetransmits",get:function(){return this._maxRetransmits}},{key:"protocol",get:function(){return this._protocol}},{key:"negotiated",get:function(){return this._negotiated}},{key:"readyState",get:function(){return this._readyState}},{key:"send",value:function(t){if('string'!=typeof t){if(ArrayBuffer.isView(t))t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);else{if(!(t instanceof ArrayBuffer))throw new TypeError('Data must be either string, ArrayBuffer, or ArrayBufferView');t=new Uint8Array(t)}b.dataChannelSend(this._peerConnectionId,this._reactTag,l.default.fromByteArray(t),'binary')}else b.dataChannelSend(this._peerConnectionId,this._reactTag,t,'text')}},{key:"close",value:function(){'closing'!==this._readyState&&'closed'!==this._readyState&&b.dataChannelClose(this._peerConnectionId,this._reactTag)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var t=this;this._subscriptions=[p.default.addListener('dataChannelStateChanged',function(n){n.reactTag===t._reactTag&&(t._readyState=n.state,null===t._id&&-1!==n.id&&(t._id=n.id),'open'===t._readyState?t.dispatchEvent(new _.default('open',{channel:t})):'closing'===t._readyState?t.dispatchEvent(new _.default('closing',{channel:t})):'closed'===t._readyState&&(t.dispatchEvent(new _.default('close',{channel:t})),t._unregisterEvents(),b.dataChannelDispose(t._peerConnectionId,t._reactTag)))}),p.default.addListener('dataChannelReceiveMessage',function(n){if(n.reactTag===t._reactTag){var o=n.data;'binary'===n.type&&(o=l.default.toByteArray(n.data).buffer),t.dispatchEvent(new h.default('message',{data:o}))}})]}}]),k})(y.defineCustomEventTarget.apply(void 0,['open','message','bufferedamountlow','closing','close','error']));e.default=T},450,[2,12,13,20,22,19,7,135,443,451,452,453]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=t(r(d[3])),n=(0,f.default)(function t(f,n){(0,l.default)(this,t),this.type=f.toString(),(0,u.default)(this,n)});e.default=n},451,[2,32,13,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=t(r(d[3])),n=(0,f.default)(function t(f,n){(0,l.default)(this,t),this.type=f.toString(),(0,u.default)(this,n)});e.default=n},452,[2,32,13,12]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),u=t.NativeModules.WebRTCModule,l=new t.NativeEventEmitter(u);e.default=l},453,[7]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),p=(function(){function t(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,sdp:''};(0,n.default)(this,t),this._sdp=u.sdp,this._type=u.type}return(0,u.default)(t,[{key:"sdp",get:function(){return this._sdp}},{key:"type",get:function(){return this._type}},{key:"toJSON",value:function(){return{sdp:this._sdp,type:this._type}}}]),t})();e.default=p},454,[2,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=(function(){function t(s){(0,n.default)(this,t),this.candidate=s.candidate,this.sdpMLineIndex=s.sdpMLineIndex,this.sdpMid=s.sdpMid}return(0,s.default)(t,[{key:"toJSON",value:function(){return{candidate:this.candidate,sdpMLineIndex:this.sdpMLineIndex,sdpMid:this.sdpMid}}}]),t})();e.default=u},455,[2,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=(0,n.default)(function t(n,l){(0,u.default)(this,t),this.type=n.toString(),this.candidate=null,l&&l.candidate&&(this.candidate=l.candidate)});e.default=l},456,[2,13,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=t(r(d[3])),n=(0,f.default)(function t(f,n){(0,l.default)(this,t),this.type=f.toString(),(0,u.default)(this,n)});e.default=n},457,[2,32,13,12]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,r(d[0]).requireNativeComponent)('RTCVideoView');e.default=o},458,[7]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),c=t(r(d[4])),o=t(r(d[5])),l=r(d[6]),s=r(d[7]),v=t(r(d[8])),y=t(r(d[9]));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=l.NativeModules.WebRTCModule,R=new((function(t){(0,f.default)(M,t);var l,s,R=(l=M,s=p(),function(){var t,n=(0,o.default)(l);if(s){var u=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function M(){return(0,n.default)(this,M),R.apply(this,arguments)}return(0,u.default)(M,[{key:"enumerateDevices",value:function(){return new Promise(function(t){return h.enumerateDevices(t)})}},{key:"getDisplayMedia",value:function(t){return(0,v.default)(t)}},{key:"getUserMedia",value:function(t){return(0,y.default)(t)}}]),M})(s.defineCustomEventTarget.apply(void 0,['devicechange'])));e.default=R},459,[2,12,13,20,22,19,7,443,460,462]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new Promise(function(t,n){c.getDisplayMedia().then(function(n){var o=n.streamId,c=n.track,f={streamId:o,streamReactTag:o,tracks:[c]},l=new u.default(f);t(l)},function(t){n(new o.default(t))})})};var n=r(d[1]),u=t(r(d[2])),o=t(r(d[3])),c=n.NativeModules.WebRTCModule},460,[2,7,445,461]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=(0,n.default)(function t(n){(0,s.default)(this,t),this.name=n.name,this.message=n.message,this.constraintName=n.constraintName});e.default=u},461,[2,13,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if('object'!=typeof t)return Promise.reject(new TypeError('constraints is not a dictionary'));if(!(void 0!==t.audio&&t.audio||void 0!==t.video&&t.video))return Promise.reject(new TypeError('audio and/or video is required'));var o=[];(t=u.normalizeConstraints(t)).audio?o.push(l.default.request({name:'microphone'})):o.push(Promise.resolve(!1));t.video?o.push(l.default.request({name:'camera'})):o.push(Promise.resolve(!1));return new Promise(function(l,c){Promise.all(o).then(function(o){var v=(0,n.default)(o,2),y=v[0],h=v[1];if(y||h){y||delete t.audio,h||delete t.video;b.getUserMedia(t,function(n,o){for(var f,c=p(o);!(f=c()).done;){var v=f.value,y=t[v.kind];'object'==typeof y&&(v.constraints=u.deepClone(y))}var b={streamId:n,streamReactTag:n,tracks:o};l(new s.default(b))},function(t,n){var o;switch(t){case'TypeError':o=new TypeError(n)}o||(o=new f.default({message:n,name:t}));c(o)})}else{c(new f.default({message:'Permission denied.',name:'SecurityError'}))}})})};var n=t(r(d[1])),o=r(d[2]),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=c(n);if(o&&o.has(t))return o.get(t);var u={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var l=s?Object.getOwnPropertyDescriptor(t,f):null;l&&(l.get||l.set)?Object.defineProperty(u,f,l):u[f]=t[f]}u.default=t,o&&o.set(t,u);return u})(r(d[3])),s=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6]));function c(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(c=function(t){return t?o:n})(t)}function p(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=v(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,n){if(t){if("string"==typeof t)return y(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var b=o.NativeModules.WebRTCModule},462,[2,33,7,446,445,461,463]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[1])),t=n(r(d[2])),s=r(d[3]),u=s.NativeModules.WebRTCModule,P=new((function(){function n(){(0,o.default)(this,n),this.RESULT={DENIED:'denied',GRANTED:'granted',PROMPT:'prompt'},this.VALID_PERMISSIONS=['camera','microphone'],this._lastReq=Promise.resolve()}return(0,t.default)(n,[{key:"_requestPermissionAndroid",value:function(n){return new Promise(function(o,t){s.PermissionsAndroid.request(n).then(function(n){return o(!0===n||n===s.PermissionsAndroid.RESULTS.GRANTED)},function(){return o(!1)})})}},{key:"_validatePermissionDescriptior",value:function(n){if('object'!=typeof n)throw new TypeError('Argument 1 of Permissions.query is not an object.');if(void 0===n.name)throw new TypeError("Missing required 'name' member of PermissionDescriptor.");if(-1===this.VALID_PERMISSIONS.indexOf(n.name))throw new TypeError("'name' member of PermissionDescriptor is not a valid value for enumeration PermissionName.")}},{key:"query",value:function(n){var o=this;try{this._validatePermissionDescriptior(n)}catch(n){return Promise.reject(n)}if('android'===s.Platform.OS){var t='camera'===n.name?s.PermissionsAndroid.PERMISSIONS.CAMERA:s.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;return new Promise(function(n,u){s.PermissionsAndroid.check(t).then(function(t){return n(t?o.RESULT.GRANTED:o.RESULT.PROMPT)},function(){return n(o.RESULT.PROMPT)})})}return'ios'===s.Platform.OS||'macos'===s.Platform.OS?u.checkPermission(n.name):Promise.reject(new TypeError('Unsupported platform.'))}},{key:"request",value:function(n){var o=this;try{this._validatePermissionDescriptior(n)}catch(n){return Promise.reject(n)}if('android'===s.Platform.OS){var t='camera'===n.name?s.PermissionsAndroid.PERMISSIONS.CAMERA:s.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,P=function(){return o._requestPermissionAndroid(t)};return this._lastReq=this._lastReq.then(P,P),this._lastReq}return'ios'===s.Platform.OS||'macos'===s.Platform.OS?u.requestPermission(n.name):Promise.reject(new TypeError('Unsupported platform.'))}}]),n})());e.default=P},463,[2,12,13,7]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),f=t(r(d[4])),s=t(r(d[5])),c=t(r(d[6])),l=t(r(d[7])),v=t(r(d[8])),p=r(d[9]),h=r(d[10]);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var _=(function(t){(0,c.default)(_,t);var n,p,h=(n=_,p=y(),function(){var t,o=(0,v.default)(n);if(p){var u=(0,v.default)(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function _(){var t;(0,u.default)(this,_);for(var n=arguments.length,o=new Array(n),f=0;f<n;f++)o[f]=arguments[f];return(t=h.call.apply(h,[this].concat(o))).onaddstream=function(){for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t._onaddstreamQueue?t._queueOnaddstream:t._invokeOnaddstream).apply((0,s.default)(t),o)},Object.defineProperty((0,s.default)(t),'onaddstream',{configurable:!0,enumerable:!0,get:function(){return this._onaddstream},set:function(t){this._onaddstream=t}}),t}return(0,f.default)(_,[{key:"_invokeOnaddstream",value:function(){for(var t=this._onaddstream,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t&&t.apply(this,o)}},{key:"_invokeQueuedOnaddstream",value:function(t){var n=this;t&&t.forEach(function(t){try{n._invokeOnaddstream.apply(n,(0,o.default)(t))}catch(t){console.error(t)}})}},{key:"_queueOnaddstream",value:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this._onaddstreamQueue.push(Array.from(n))}},{key:"setRemoteDescription",value:function(t){var n=this;O(t).catch(function(n){return n&&console.error(n),t}).then(function(t){return b.bind(n)(t)})}}]),_})(h.RTCPeerConnection);function b(t){var n=this;return new Promise(function(o,u){n._onaddstreamQueue=[],h.RTCPeerConnection.prototype.setRemoteDescription.call(n,t).then(function(){var t;try{o.apply(void 0,arguments)}finally{t=n._onaddstreamQueue,n._onaddstreamQueue=void 0}n._invokeQueuedOnaddstream(t)},function(){n._onaddstreamQueue=void 0,u.apply(void 0,arguments)})})}e.default=_,_.prototype.setRemoteDescription=function(t){var n=this;return O(t).catch(function(n){return n&&console.log(n),t}).then(function(t){return b.bind(n)(t)})};var k=(function(){var t=p.NativeModules.POSIX;if(t){var o=t.getaddrinfo;if('function'==typeof o)return function(t){return o(t,void 0).then(function(t){return(0,n.default)(t,1)[0].ai_addr})}}var u=p.NativeModules.NAT64AddrInfo;if(u){var f=u.getIPv6Address;if('function'==typeof f)return f}return function(){return Promise.reject("The impossible just happened! No POSIX.getaddrinfo or NAT64AddrInfo.getIPv6Address!")}})();function O(t){return new Promise(function(n){return n(P(t))}).then(function(n){var o=n.ips,u=n.lines;return Promise.all(Array.from(o.values())).then(function(){return A(t,o,u)})})}function P(t){var n=t.sdp,o=0,u=[],f=new Map;do{var s=n.indexOf('\r\n',o),c=void 0;if(-1===s?(c=n.substring(o),o=void 0):(c=n.substring(o,s),o=s+2),c.startsWith('a=candidate:')){var l=c.split(' ');if(l.length>=10&&'typ'===l[6]){for(var v=[l[4]],p=!1,h=8;h<l.length;++h)if('raddr'===l[h]){v.push(l[++h]);break}for(var y=function(t){if(-1!==t.indexOf(':'))return p=!0,"break";f.has(t)||f.set(t,new Promise(function(n,o){var u=f.get(t);u&&'string'==typeof u?n(u):k(t).then(function(o){o&&-1!==o.indexOf(':')&&o!==f.get(t)?f.set(t,o):f.delete(t),n(o)},o)}))},_=0,b=v;_<b.length;_++){if("break"===y(b[_]))break}if(p){f.clear();break}c=l}}u.push(c)}while(o);return{ips:f,lines:u}}function A(t,n,o){if(0===n.size)return t;for(var u=0;u<o.length;++u){var f=o[u];if('string'!=typeof f){var s=f[4],c=n.get(s);c&&(f[4]=c);for(var l=8;l<f.length;++l)if('raddr'===f[l]){s=f[++l],(c=n.get(s))&&(f[l]=c);break}o[u]=f.join(' ')}}return new h.RTCSessionDescription({sdp:o.join('\r\n'),type:t.type})}},464,[2,33,41,12,13,23,20,22,19,7,440]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]);window.csioReactNative=!0,window.RTCPeerConnection||(window.RTCPeerConnection=n.RTCPeerConnection),window.webkitRTCPeerConnection||(window.webkitRTCPeerConnection=n.RTCPeerConnection),window.performance||(window.performance={}),window.performance.timing||(window.performance.timing={},window.performance.timing.navigationStart=0),Date.now=Date.now||function(){return(new Date).getTime()},window.performance.now||(window.performance.now=function(){return Date.now()}),window.location||(window.location={},window.location.href='react-native'),window.atob||(window.atob=r(d[2]).decode),window.btoa||(window.btoa=r(d[2]).encode);window.csiosign=function(n,o,w){var t=new(r(d[3]))('SHA-256','TEXT');t.setHMACKey(o,'TEXT'),t.update(n);var c,f=t.getHMAC('BYTES');return w(null,n+='.'+(c=f,window.btoa(c).replace(/\+/g,'-').replace(/\//g,'_').replace(/\=+$/,'')))},window.csioGetOsName=function(){return o.Platform.OS},window.csioGetOsVer=function(){return o.Platform.Version+''}},465,[440,7,466,467]);
__d(function(g,r,i,a,m,e,d){!(function(t){var n='object'==typeof e&&e,o='object'==typeof m&&m&&m.exports==n&&m,c='object'==typeof g&&g;c.global!==c&&c.window!==c||(t=c);var h=function(t){this.message=t};(h.prototype=new Error).name='InvalidCharacterError';var f=function(t){throw new h(t)},s='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',A=/[\t\n\f\r ]/g,l={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&f("The string to be encoded contains characters outside of the Latin1 range.");for(var n,o,c,h,A=t.length%3,l='',p=-1,u=t.length-A;++p<u;)n=t.charCodeAt(p)<<16,o=t.charCodeAt(++p)<<8,c=t.charCodeAt(++p),l+=s.charAt((h=n+o+c)>>18&63)+s.charAt(h>>12&63)+s.charAt(h>>6&63)+s.charAt(63&h);return 2==A?(n=t.charCodeAt(p)<<8,o=t.charCodeAt(++p),l+=s.charAt((h=n+o)>>10)+s.charAt(h>>4&63)+s.charAt(h<<2&63)+'='):1==A&&(h=t.charCodeAt(p),l+=s.charAt(h>>2)+s.charAt(h<<4&63)+'=='),l},decode:function(t){var n=(t=String(t).replace(A,'')).length;n%4==0&&(n=(t=t.replace(/==?$/,'')).length),(n%4==1||/[^+a-zA-Z0-9/]/.test(t))&&f('Invalid character: the string to be decoded is not correctly encoded.');for(var o,c,h=0,l='',p=-1;++p<n;)c=s.indexOf(t.charAt(p)),o=h%4?64*o+c:c,h++%4&&(l+=String.fromCharCode(255&o>>(-2*h&6)));return l},version:'0.1.0'};if('function'==typeof define&&'object'==typeof define.amd&&define.amd)define(function(){return l});else if(n&&!n.nodeType)if(o)o.exports=l;else for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p]);else t.base64=l})(this)},466,[]);
__d(function(g,r,i,a,m,e,d){var n,t;n=this,t=function(){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="ARRAYBUFFER not supported by this environment",u="UINT8ARRAY not supported by this environment";function o(n,t,u,o){var s,h,f,c=t||[0],w=(u=u||0)>>>3,l=-1===o?3:0;for(s=0;s<n.length;s+=1)h=(f=s+w)>>>2,c.length<=h&&c.push(0),c[h]|=n[s]<<8*(l+o*(f%4));return{value:c,binLen:8*n.length+u}}function s(s,h,f){switch(h){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(s){case"HEX":return function(n,t,u){return(function(n,t,u,o){var s,h,f,c;if(0!=n.length%2)throw new Error("String of HEX type must be in byte increments");var w=t||[0],l=(u=u||0)>>>3,p=-1===o?3:0;for(s=0;s<n.length;s+=2){if(h=parseInt(n.substr(s,2),16),isNaN(h))throw new Error("String of HEX type contains invalid characters");for(f=(c=(s>>>1)+l)>>>2;w.length<=f;)w.push(0);w[f]|=h<<8*(p+o*(c%4))}return{value:w,binLen:4*n.length+u}})(n,t,u,f)};case"TEXT":return function(n,t,u){return(function(n,u,o,s,h){var f,c,w,l,p,v,A,M,I=0,y=t||[0],b=(s=s||0)>>>3;if("UTF8"===u)for(A=-1===h?3:0,w=0;w<n.length;w+=1)for(c=[],128>(f=n.charCodeAt(w))?c.push(f):2048>f?(c.push(192|f>>>6),c.push(128|63&f)):55296>f||57344<=f?c.push(224|f>>>12,128|f>>>6&63,128|63&f):(w+=1,f=65536+((1023&f)<<10|1023&n.charCodeAt(w)),c.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|63&f)),l=0;l<c.length;l+=1){for(p=(v=I+b)>>>2;y.length<=p;)y.push(0);y[p]|=c[l]<<8*(A+h*(v%4)),I+=1}else for(A=-1===h?2:0,M="UTF16LE"===u&&1!==h||"UTF16LE"!==u&&1===h,w=0;w<n.length;w+=1){for(f=n.charCodeAt(w),!0===M&&(f=(l=255&f)<<8|f>>>8),p=(v=I+b)>>>2;y.length<=p;)y.push(0);y[p]|=f<<8*(A+h*(v%4)),I+=2}return{value:y,binLen:8*I+s}})(n,h,0,u,f)};case"B64":return function(t,u,o){return(function(t,u,o,s){var h,f,c,w,l,p,v=0,A=u||[0],M=(o=o||0)>>>3,I=-1===s?3:0,y=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==y&&y<t.length)throw new Error("Invalid '=' found in base-64 string");for(h=0;h<t.length;h+=4){for(w=t.substr(h,4),c=0,f=0;f<w.length;f+=1)c|=n.indexOf(w.charAt(f))<<18-6*f;for(f=0;f<w.length-1;f+=1){for(l=(p=v+M)>>>2;A.length<=l;)A.push(0);A[l]|=(c>>>16-8*f&255)<<8*(I+s*(p%4)),v+=1}}return{value:A,binLen:8*v+o}})(t,u,o,f)};case"BYTES":return function(n,t,u){return(function(n,u,o,s){var h,f,c,w,l=t||[0],p=(o=o||0)>>>3,v=-1===s?3:0;for(f=0;f<n.length;f+=1)h=n.charCodeAt(f),c=(w=f+p)>>>2,l.length<=c&&l.push(0),l[c]|=h<<8*(v+s*(w%4));return{value:l,binLen:8*n.length+o}})(n,0,u,f)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(n){throw new Error(t)}return function(n,t,u){return(function(n,t,u,s){return o(new Uint8Array(n),t,u,s)})(n,t,u,f)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(n){throw new Error(u)}return function(n,t,u){return o(n,t,u,f)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function h(o,s,h,f){switch(o){case"HEX":return function(n){return(function(n,t,u,o){var h,f,c="0123456789abcdef",w="",l=s/8,p=-1===u?3:0;for(h=0;h<l;h+=1)f=n[h>>>2]>>>8*(p+u*(h%4)),w+=c.charAt(f>>>4&15)+c.charAt(15&f);return o.outputUpper?w.toUpperCase():w})(n,0,h,f)};case"B64":return function(t){return(function(t,u,o,s){var h,f,c,w,l,p="",v=u/8,A=-1===o?3:0;for(h=0;h<v;h+=3)for(w=h+1<v?t[h+1>>>2]:0,l=h+2<v?t[h+2>>>2]:0,c=(t[h>>>2]>>>8*(A+o*(h%4))&255)<<16|(w>>>8*(A+o*((h+1)%4))&255)<<8|l>>>8*(A+o*((h+2)%4))&255,f=0;f<4;f+=1)p+=8*h+6*f<=u?n.charAt(c>>>6*(3-f)&63):s.b64Pad;return p})(t,s,h,f)};case"BYTES":return function(n){return(function(n,t,u){var o,h,f="",c=s/8,w=-1===u?3:0;for(o=0;o<c;o+=1)h=n[o>>>2]>>>8*(w+u*(o%4))&255,f+=String.fromCharCode(h);return f})(n,0,h)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(n){throw new Error(t)}return function(n){return(function(n,t,u){var o,h=s/8,f=new ArrayBuffer(h),c=new Uint8Array(f),w=-1===u?3:0;for(o=0;o<h;o+=1)c[o]=n[o>>>2]>>>8*(w+u*(o%4))&255;return f})(n,0,h)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(n){throw new Error(u)}return function(n){return(function(n,t,u){var o,h=s/8,f=-1===u?3:0,c=new Uint8Array(h);for(o=0;o<h;o+=1)c[o]=n[o>>>2]>>>8*(f+u*(o%4))&255;return c})(n,0,h)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var f=4294967296,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],l=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],p="Chosen SHA variant is not supported",v="Cannot set numRounds with MAC";function A(n,t){var u,o,s=n.binLen>>>3,h=t.binLen>>>3,f=s<<3,c=4-s<<3;if(s%4!=0){for(u=0;u<h;u+=4)o=s+u>>>2,n.value[o]|=t.value[u>>>2]<<f,n.value.push(0),n.value[o+1]|=t.value[u>>>2]>>>c;return(n.value.length<<2)-4>=h+s&&n.value.pop(),{value:n.value,binLen:n.binLen+t.binLen}}return{value:n.value.concat(t.value),binLen:n.binLen+t.binLen}}function M(n){var t={outputUpper:!1,b64Pad:"=",outputLen:-1},u=n||{},o="Output length must be a multiple of 8";if(t.outputUpper=u.outputUpper||!1,u.b64Pad&&(t.b64Pad=u.b64Pad),u.outputLen){if(u.outputLen%8!=0)throw new Error(o);t.outputLen=u.outputLen}else if(u.shakeLen){if(u.shakeLen%8!=0)throw new Error(o);t.outputLen=u.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function I(n,t,u,o){var h=n+" must include a value and format";if(!t){if(!o)throw new Error(h);return o}if(void 0===t.value||!t.format)throw new Error(h);return s(t.format,t.encoding||"UTF8",u)(t.value)}var y=(function(){function n(n,t,u){var o=u||{};if(this.t=t,this.i=o.encoding||"UTF8",this.numRounds=o.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=n,this.u=[],this.h=0,this.v=!1,this.A=0,this.l=!1,this.H=[],this.S=[]}return n.prototype.update=function(n){var t,u=0,o=this.p>>>5,s=this.m(n,this.u,this.h),h=s.binLen,f=s.value,c=h>>>5;for(t=0;t<c;t+=o)u+this.p<=h&&(this.U=this.R(f.slice(t,t+o),this.U),u+=this.p);return this.A+=u,this.u=f.slice(u>>>5),this.h=h%this.p,this.v=!0,this},n.prototype.getHash=function(n,t){var u,o,s=this.T,f=M(t);if(this.C){if(-1===f.outputLen)throw new Error("Output length must be specified in options");s=f.outputLen}var c=h(n,s,this.F,f);if(this.l&&this.K)return c(this.K(f));for(o=this.g(this.u.slice(),this.h,this.A,this.L(this.U),s),u=1;u<this.numRounds;u+=1)this.C&&s%32!=0&&(o[o.length-1]&=16777215>>>24-s%32),o=this.g(o,s,0,this.B(this.o),s);return c(o)},n.prototype.setHMACKey=function(n,t,u){if(!this.k)throw new Error("Variant does not support HMAC");if(this.v)throw new Error("Cannot set MAC key after calling update");var o=s(t,(u||{}).encoding||"UTF8",this.F);this.Y(o(n))},n.prototype.Y=function(n){var t,u=this.p>>>3,o=u/4-1;if(1!==this.numRounds)throw new Error(v);if(this.l)throw new Error("MAC key already set");for(u<n.binLen/8&&(n.value=this.g(n.value,n.binLen,0,this.B(this.o),this.T));n.value.length<=o;)n.value.push(0);for(t=0;t<=o;t+=1)this.H[t]=909522486^n.value[t],this.S[t]=1549556828^n.value[t];this.U=this.R(this.H,this.U),this.A=this.p,this.l=!0},n.prototype.getHMAC=function(n,t){var u=M(t);return h(n,this.T,this.F,u)(this.N())},n.prototype.N=function(){var n;if(!this.l)throw new Error("Cannot call getHMAC without first setting MAC key");var t=this.g(this.u.slice(),this.h,this.A,this.L(this.U),this.T);return n=this.R(this.S,this.B(this.o)),this.g(t,this.T,this.p,n,this.T)},n})(),b=function(n,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u])})(n,t)};function E(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function u(){this.constructor=n}b(n,t),n.prototype=null===t?Object.create(t):(u.prototype=t.prototype,new u)}function H(n,t){return n<<t|n>>>32-t}function K(n,t){return n>>>t|n<<32-t}function L(n,t){return n>>>t}function C(n,t,u){return n^t^u}function U(n,t,u){return n&t^~n&u}function S(n,t,u){return n&t^n&u^t&u}function T(n){return K(n,2)^K(n,13)^K(n,22)}function R(n,t){var u=(65535&n)+(65535&t);return(65535&(n>>>16)+(t>>>16)+(u>>>16))<<16|65535&u}function F(n,t,u,o){var s=(65535&n)+(65535&t)+(65535&u)+(65535&o);return(65535&(n>>>16)+(t>>>16)+(u>>>16)+(o>>>16)+(s>>>16))<<16|65535&s}function k(n,t,u,o,s){var h=(65535&n)+(65535&t)+(65535&u)+(65535&o)+(65535&s);return(65535&(n>>>16)+(t>>>16)+(u>>>16)+(o>>>16)+(s>>>16)+(h>>>16))<<16|65535&h}function N(n){return K(n,7)^K(n,18)^L(n,3)}function B(n){return K(n,6)^K(n,11)^K(n,25)}function Y(n){return[1732584193,4023233417,2562383102,271733878,3285377520]}function _(n,t){var u,o,s,h,f,c,w,l=[];for(u=t[0],o=t[1],s=t[2],h=t[3],f=t[4],w=0;w<80;w+=1)l[w]=w<16?n[w]:H(l[w-3]^l[w-8]^l[w-14]^l[w-16],1),c=w<20?k(H(u,5),U(o,s,h),f,1518500249,l[w]):w<40?k(H(u,5),C(o,s,h),f,1859775393,l[w]):w<60?k(H(u,5),S(o,s,h),f,2400959708,l[w]):k(H(u,5),C(o,s,h),f,3395469782,l[w]),f=h,h=s,s=H(o,30),o=u,u=c;return t[0]=R(u,t[0]),t[1]=R(o,t[1]),t[2]=R(s,t[2]),t[3]=R(h,t[3]),t[4]=R(f,t[4]),t}function O(n,t,u,o){for(var s,h=15+(t+65>>>9<<4),c=t+u;n.length<=h;)n.push(0);for(n[t>>>5]|=128<<24-t%32,n[h]=4294967295&c,n[h-1]=c/f|0,s=0;s<n.length;s+=16)o=_(n.slice(s,s+16),o);return o}var X=(function(n){function t(t,u,o){var h=this;if("SHA-1"!==t)throw new Error(p);var f=o||{};return(h=n.call(this,t,u,o)||this).k=!0,h.K=h.N,h.F=-1,h.m=s(h.t,h.i,h.F),h.R=_,h.L=function(n){return n.slice()},h.B=Y,h.g=O,h.U=[1732584193,4023233417,2562383102,271733878,3285377520],h.p=512,h.T=160,h.C=!1,f.hmacKey&&h.Y(I("hmacKey",f.hmacKey,h.F)),h}return E(t,n),t})(y);function j(n){return"SHA-224"==n?w.slice():l.slice()}function z(n,t){var u,o,s,h,f,w,l,p,v,A,M,I,y=[];for(u=t[0],o=t[1],s=t[2],h=t[3],f=t[4],w=t[5],l=t[6],p=t[7],M=0;M<64;M+=1)y[M]=M<16?n[M]:F(K(I=y[M-2],17)^K(I,19)^L(I,10),y[M-7],N(y[M-15]),y[M-16]),v=k(p,B(f),U(f,w,l),c[M],y[M]),A=R(T(u),S(u,o,s)),p=l,l=w,w=f,f=R(h,v),h=s,s=o,o=u,u=R(v,A);return t[0]=R(u,t[0]),t[1]=R(o,t[1]),t[2]=R(s,t[2]),t[3]=R(h,t[3]),t[4]=R(f,t[4]),t[5]=R(w,t[5]),t[6]=R(l,t[6]),t[7]=R(p,t[7]),t}var P=(function(n){function t(t,u,o){var h=this;if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(p);var c=o||{};return(h=n.call(this,t,u,o)||this).K=h.N,h.k=!0,h.F=-1,h.m=s(h.t,h.i,h.F),h.R=z,h.L=function(n){return n.slice()},h.B=j,h.g=function(n,u,o,s){return(function(n,t,u,s,h){for(var c,w=15+(t+65>>>9<<4),l=t+o;n.length<=w;)n.push(0);for(n[t>>>5]|=128<<24-t%32,n[w]=4294967295&l,n[w-1]=l/f|0,c=0;c<n.length;c+=16)s=z(n.slice(c,c+16),s);return"SHA-224"===h?[s[0],s[1],s[2],s[3],s[4],s[5],s[6]]:s})(n,u,0,s,t)},h.U=j(t),h.p=512,h.T="SHA-224"===t?224:256,h.C=!1,c.hmacKey&&h.Y(I("hmacKey",c.hmacKey,h.F)),h}return E(t,n),t})(y),x=function(n,t){this.I=n,this.M=t};function V(n,t){var u;return t>32?(u=64-t,new x(n.M<<t|n.I>>>u,n.I<<t|n.M>>>u)):0!==t?(u=32-t,new x(n.I<<t|n.M>>>u,n.M<<t|n.I>>>u)):n}function Z(n,t){var u;return t<32?(u=32-t,new x(n.I>>>t|n.M<<u,n.M>>>t|n.I<<u)):(u=64-t,new x(n.M>>>t|n.I<<u,n.I>>>t|n.M<<u))}function q(n,t){return new x(n.I>>>t,n.M>>>t|n.I<<32-t)}function D(n,t,u){return new x(n.I&t.I^~n.I&u.I,n.M&t.M^~n.M&u.M)}function G(n,t,u){return new x(n.I&t.I^n.I&u.I^t.I&u.I,n.M&t.M^n.M&u.M^t.M&u.M)}function J(n){var t=Z(n,28),u=Z(n,34),o=Z(n,39);return new x(t.I^u.I^o.I,t.M^u.M^o.M)}function Q(n,t){var u,o;u=(65535&n.M)+(65535&t.M);var s=(65535&(o=(n.M>>>16)+(t.M>>>16)+(u>>>16)))<<16|65535&u;return u=(65535&n.I)+(65535&t.I)+(o>>>16),o=(n.I>>>16)+(t.I>>>16)+(u>>>16),new x((65535&o)<<16|65535&u,s)}function W(n,t,u,o){var s,h;s=(65535&n.M)+(65535&t.M)+(65535&u.M)+(65535&o.M);var f=(65535&(h=(n.M>>>16)+(t.M>>>16)+(u.M>>>16)+(o.M>>>16)+(s>>>16)))<<16|65535&s;return s=(65535&n.I)+(65535&t.I)+(65535&u.I)+(65535&o.I)+(h>>>16),h=(n.I>>>16)+(t.I>>>16)+(u.I>>>16)+(o.I>>>16)+(s>>>16),new x((65535&h)<<16|65535&s,f)}function $(n,t,u,o,s){var h,f;h=(65535&n.M)+(65535&t.M)+(65535&u.M)+(65535&o.M)+(65535&s.M);var c=(65535&(f=(n.M>>>16)+(t.M>>>16)+(u.M>>>16)+(o.M>>>16)+(s.M>>>16)+(h>>>16)))<<16|65535&h;return h=(65535&n.I)+(65535&t.I)+(65535&u.I)+(65535&o.I)+(65535&s.I)+(f>>>16),f=(n.I>>>16)+(t.I>>>16)+(u.I>>>16)+(o.I>>>16)+(s.I>>>16)+(h>>>16),new x((65535&f)<<16|65535&h,c)}function nn(n,t){return new x(n.I^t.I,n.M^t.M)}function tn(n){var t=Z(n,1),u=Z(n,8),o=q(n,7);return new x(t.I^u.I^o.I,t.M^u.M^o.M)}function en(n){var t=Z(n,14),u=Z(n,18),o=Z(n,41);return new x(t.I^u.I^o.I,t.M^u.M^o.M)}var rn=[new x(c[0],3609767458),new x(c[1],602891725),new x(c[2],3964484399),new x(c[3],2173295548),new x(c[4],4081628472),new x(c[5],3053834265),new x(c[6],2937671579),new x(c[7],3664609560),new x(c[8],2734883394),new x(c[9],1164996542),new x(c[10],1323610764),new x(c[11],3590304994),new x(c[12],4068182383),new x(c[13],991336113),new x(c[14],633803317),new x(c[15],3479774868),new x(c[16],2666613458),new x(c[17],944711139),new x(c[18],2341262773),new x(c[19],2007800933),new x(c[20],1495990901),new x(c[21],1856431235),new x(c[22],3175218132),new x(c[23],2198950837),new x(c[24],3999719339),new x(c[25],766784016),new x(c[26],2566594879),new x(c[27],3203337956),new x(c[28],1034457026),new x(c[29],2466948901),new x(c[30],3758326383),new x(c[31],168717936),new x(c[32],1188179964),new x(c[33],1546045734),new x(c[34],1522805485),new x(c[35],2643833823),new x(c[36],2343527390),new x(c[37],1014477480),new x(c[38],1206759142),new x(c[39],344077627),new x(c[40],1290863460),new x(c[41],3158454273),new x(c[42],3505952657),new x(c[43],106217008),new x(c[44],3606008344),new x(c[45],1432725776),new x(c[46],1467031594),new x(c[47],851169720),new x(c[48],3100823752),new x(c[49],1363258195),new x(c[50],3750685593),new x(c[51],3785050280),new x(c[52],3318307427),new x(c[53],3812723403),new x(c[54],2003034995),new x(c[55],3602036899),new x(c[56],1575990012),new x(c[57],1125592928),new x(c[58],2716904306),new x(c[59],442776044),new x(c[60],593698344),new x(c[61],3733110249),new x(c[62],2999351573),new x(c[63],3815920427),new x(3391569614,3928383900),new x(3515267271,566280711),new x(3940187606,3454069534),new x(4118630271,4000239992),new x(116418474,1914138554),new x(174292421,2731055270),new x(289380356,3203993006),new x(460393269,320620315),new x(685471733,587496836),new x(852142971,1086792851),new x(1017036298,365543100),new x(1126000580,2618297676),new x(1288033470,3409855158),new x(1501505948,4234509866),new x(1607167915,987167468),new x(1816402316,1246189591)];function un(n){return"SHA-384"===n?[new x(3418070365,w[0]),new x(1654270250,w[1]),new x(2438529370,w[2]),new x(355462360,w[3]),new x(1731405415,w[4]),new x(41048885895,w[5]),new x(3675008525,w[6]),new x(1203062813,w[7])]:[new x(l[0],4089235720),new x(l[1],2227873595),new x(l[2],4271175723),new x(l[3],1595750129),new x(l[4],2917565137),new x(l[5],725511199),new x(l[6],4215389547),new x(l[7],327033209)]}function on(n,t){var u,o,s,h,f,c,w,l,p,v,A,M,I,y,b,E,H=[];for(u=t[0],o=t[1],s=t[2],h=t[3],f=t[4],c=t[5],w=t[6],l=t[7],A=0;A<80;A+=1)A<16?(M=2*A,H[A]=new x(n[M],n[M+1])):H[A]=W((y=void 0,b=void 0,E=void 0,y=Z(I=H[A-2],19),b=Z(I,61),E=q(I,6),new x(y.I^b.I^E.I,y.M^b.M^E.M)),H[A-7],tn(H[A-15]),H[A-16]),p=$(l,en(f),D(f,c,w),rn[A],H[A]),v=Q(J(u),G(u,o,s)),l=w,w=c,c=f,f=Q(h,p),h=s,s=o,o=u,u=Q(p,v);return t[0]=Q(u,t[0]),t[1]=Q(o,t[1]),t[2]=Q(s,t[2]),t[3]=Q(h,t[3]),t[4]=Q(f,t[4]),t[5]=Q(c,t[5]),t[6]=Q(w,t[6]),t[7]=Q(l,t[7]),t}var sn=(function(n){function t(t,u,o){var h=this;if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(p);var c=o||{};return(h=n.call(this,t,u,o)||this).K=h.N,h.k=!0,h.F=-1,h.m=s(h.t,h.i,h.F),h.R=on,h.L=function(n){return n.slice()},h.B=un,h.g=function(n,u,o,s){return(function(n,t,u,s,h){for(var c,w=31+(t+129>>>10<<5),l=t+o;n.length<=w;)n.push(0);for(n[t>>>5]|=128<<24-t%32,n[w]=4294967295&l,n[w-1]=l/f|0,c=0;c<n.length;c+=32)s=on(n.slice(c,c+32),s);return"SHA-384"===h?[s[0].I,s[0].M,s[1].I,s[1].M,s[2].I,s[2].M,s[3].I,s[3].M,s[4].I,s[4].M,s[5].I,s[5].M]:[s[0].I,s[0].M,s[1].I,s[1].M,s[2].I,s[2].M,s[3].I,s[3].M,s[4].I,s[4].M,s[5].I,s[5].M,s[6].I,s[6].M,s[7].I,s[7].M]})(n,u,0,s,t)},h.U=un(t),h.p=1024,h.T="SHA-384"===t?384:512,h.C=!1,c.hmacKey&&h.Y(I("hmacKey",c.hmacKey,h.F)),h}return E(t,n),t})(y),an=[new x(0,1),new x(0,32898),new x(2147483648,32906),new x(2147483648,2147516416),new x(0,32907),new x(0,2147483649),new x(2147483648,2147516545),new x(2147483648,32777),new x(0,138),new x(0,136),new x(0,2147516425),new x(0,2147483658),new x(0,2147516555),new x(2147483648,139),new x(2147483648,32905),new x(2147483648,32771),new x(2147483648,32770),new x(2147483648,128),new x(0,32778),new x(2147483648,2147483658),new x(2147483648,2147516545),new x(2147483648,32896),new x(0,2147483649),new x(2147483648,2147516424)],hn=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function fn(n){var t,u=[];for(t=0;t<5;t+=1)u[t]=[new x(0,0),new x(0,0),new x(0,0),new x(0,0),new x(0,0)];return u}function cn(n){var t,u=[];for(t=0;t<5;t+=1)u[t]=n[t].slice();return u}function wn(n,t){var u,o,s,h,f,c,w,l,p,v=[],A=[];if(null!==n)for(o=0;o<n.length;o+=2)t[(o>>>1)%5][(o>>>1)/5|0]=nn(t[(o>>>1)%5][(o>>>1)/5|0],new x(n[o+1],n[o]));for(u=0;u<24;u+=1){for(h=fn(),o=0;o<5;o+=1)v[o]=(f=t[o][0],c=t[o][1],w=t[o][2],l=t[o][3],p=t[o][4],new x(f.I^c.I^w.I^l.I^p.I,f.M^c.M^w.M^l.M^p.M));for(o=0;o<5;o+=1)A[o]=nn(v[(o+4)%5],V(v[(o+1)%5],1));for(o=0;o<5;o+=1)for(s=0;s<5;s+=1)t[o][s]=nn(t[o][s],A[o]);for(o=0;o<5;o+=1)for(s=0;s<5;s+=1)h[s][(2*o+3*s)%5]=V(t[o][s],hn[o][s]);for(o=0;o<5;o+=1)for(s=0;s<5;s+=1)t[o][s]=nn(h[o][s],new x(~h[(o+1)%5][s].I&h[(o+2)%5][s].I,~h[(o+1)%5][s].M&h[(o+2)%5][s].M));t[0][0]=nn(t[0][0],an[u])}return t}function ln(n){var t,u,o=0,s=[0,0],h=[4294967295&n,n/f&2097151];for(t=6;t>=0;t--)0==(u=h[t>>2]>>>8*t&255)&&0===o||(s[o+1>>2]|=u<<8*(o+1),o+=1);return o=0!==o?o:1,s[0]|=o,{value:o+1>4?s:[s[0]],binLen:8+8*o}}function pn(n){return A(ln(n.binLen),n)}function vn(n,t){var u,o=ln(t),s=t>>>2,h=(s-(o=A(o,n)).value.length%s)%s;for(u=0;u<h;u++)o.value.push(0);return o.value}var An=(function(n){function t(t,u,o){var h=this,f=6,c=0,w=o||{};if(1!==(h=n.call(this,t,u,o)||this).numRounds){if(w.kmacKey||w.hmacKey)throw new Error(v);if("CSHAKE128"===h.o||"CSHAKE256"===h.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(h.F=1,h.m=s(h.t,h.i,h.F),h.R=wn,h.L=cn,h.B=fn,h.U=fn(),h.C=!1,t){case"SHA3-224":h.p=c=1152,h.T=224,h.k=!0,h.K=h.N;break;case"SHA3-256":h.p=c=1088,h.T=256,h.k=!0,h.K=h.N;break;case"SHA3-384":h.p=c=832,h.T=384,h.k=!0,h.K=h.N;break;case"SHA3-512":h.p=c=576,h.T=512,h.k=!0,h.K=h.N;break;case"SHAKE128":f=31,h.p=c=1344,h.T=-1,h.C=!0,h.k=!1,h.K=null;break;case"SHAKE256":f=31,h.p=c=1088,h.T=-1,h.C=!0,h.k=!1,h.K=null;break;case"KMAC128":f=4,h.p=c=1344,h.X(o),h.T=-1,h.C=!0,h.k=!1,h.K=h.O;break;case"KMAC256":f=4,h.p=c=1088,h.X(o),h.T=-1,h.C=!0,h.k=!1,h.K=h.O;break;case"CSHAKE128":h.p=c=1344,f=h.j(o),h.T=-1,h.C=!0,h.k=!1,h.K=null;break;case"CSHAKE256":h.p=c=1088,f=h.j(o),h.T=-1,h.C=!0,h.k=!1,h.K=null;break;default:throw new Error(p)}return h.g=function(n,t,u,o,s){return(function(n,t,u,o,s,h,f){var c,w,l=0,p=[],v=s>>>5,A=t>>>5;for(c=0;c<A&&t>=s;c+=v)o=wn(n.slice(c,c+v),o),t-=s;for(n=n.slice(c),t%=s;n.length<v;)n.push(0);for(n[(c=t>>>3)>>2]^=h<<c%4*8,n[v-1]^=2147483648,o=wn(n,o);32*p.length<f&&(w=o[l%5][l/5|0],p.push(w.M),!(32*p.length>=f));)p.push(w.I),0==64*(l+=1)%s&&(wn(null,o),l=0);return p})(n,t,0,o,c,f,s)},w.hmacKey&&h.Y(I("hmacKey",w.hmacKey,h.F)),h}return E(t,n),t.prototype.j=function(n,t){var u=(function(n){var t=n||{};return{funcName:I("funcName",t.funcName,1,{value:[],binLen:0}),customization:I("Customization",t.customization,1,{value:[],binLen:0})}})(n||{});t&&(u.funcName=t);var o=A(pn(u.funcName),pn(u.customization));if(0!==u.customization.binLen||0!==u.funcName.binLen){for(var s=vn(o,this.p>>>3),h=0;h<s.length;h+=this.p>>>5)this.U=this.R(s.slice(h,h+(this.p>>>5)),this.U),this.A+=this.p;return 4}return 31},t.prototype.X=function(n){var t=(function(n){var t=n||{};return{kmacKey:I("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:I("Customization",t.customization,1,{value:[],binLen:0})}})(n||{});this.j(n,t.funcName);for(var u=vn(pn(t.kmacKey),this.p>>>3),o=0;o<u.length;o+=this.p>>>5)this.U=this.R(u.slice(o,o+(this.p>>>5)),this.U),this.A+=this.p;this.l=!0},t.prototype.O=function(n){var t=A({value:this.u.slice(),binLen:this.h},(function(n){var t,u,o=0,s=[0,0],h=[4294967295&n,n/f&2097151];for(t=6;t>=0;t--)0==(u=h[t>>2]>>>8*t&255)&&0===o||(s[o>>2]|=u<<8*o,o+=1);return s[(o=0!==o?o:1)>>2]|=o<<8*o,{value:o+1>4?s:[s[0]],binLen:8+8*o}})(n.outputLen));return this.g(t.value,t.binLen,this.A,this.L(this.U),n.outputLen)},t})(y);return(function(){function n(n,t,u){if("SHA-1"==n)this._=new X(n,t,u);else if("SHA-224"==n||"SHA-256"==n)this._=new P(n,t,u);else if("SHA-384"==n||"SHA-512"==n)this._=new sn(n,t,u);else{if("SHA3-224"!=n&&"SHA3-256"!=n&&"SHA3-384"!=n&&"SHA3-512"!=n&&"SHAKE128"!=n&&"SHAKE256"!=n&&"CSHAKE128"!=n&&"CSHAKE256"!=n&&"KMAC128"!=n&&"KMAC256"!=n)throw new Error(p);this._=new An(n,t,u)}}return n.prototype.update=function(n){return this._.update(n),this},n.prototype.getHash=function(n,t){return this._.getHash(n,t)},n.prototype.setHMACKey=function(n,t,u){this._.setHMACKey(n,t,u)},n.prototype.getHMAC=function(n,t){return this._.getHMAC(n,t)},n})()},"object"==typeof e&&void 0!==m?m.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).jsSHA=t()},467,[]);
__d(function(e,t,n,r,i,o,a){var s=t(a[0]);!(function e(n,r,i){function o(s,c){if(!r[s]){if(!n[s]){var u="function"==typeof t&&t;if(!c&&u)return u(s,!0);if(a)return a(s,!0);throw(c=new Error("Cannot find module '"+s+"'")).code="MODULE_NOT_FOUND",c}u=r[s]={exports:{}},n[s][0].call(u.exports,function(e){return o(n[s][1][e]||e)},u,u.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o})({1:[function(e,t,n){var r,i;r=this,i=function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t,n){return(i=(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){}}})()?Reflect.construct:function(e,t,n){var i=[null];return i.push.apply(i,t),t=new(Function.bind.apply(e,i)),n&&r(t,n.prototype),t}).apply(null,arguments)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n,r;if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator])return(n=e[Symbol.iterator]()).next.bind(n);if(Array.isArray(e)||(n=(function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s="3.0.0",c=(s.includes("beta"),["devices","activedevice","getinstallinfo","Version","setmmifocus","setactivedevice2","setbusylight","setremotemmilightaction"]),u=((_=e.ErrorCodes||(e.ErrorCodes={}))[_.NoError=0]="NoError",_[_.SSLError=1]="SSLError",_[_.CertError=2]="CertError",_[_.NetworkError=3]="NetworkError",_[_.DownloadError=4]="DownloadError",_[_.ParseError=5]="ParseError",_[_.OtherError=6]="OtherError",_[_.DeviceInfoError=7]="DeviceInfoError",_[_.FileNotAccessible=8]="FileNotAccessible",_[_.FileNotCompatible=9]="FileNotCompatible",_[_.Device_NotFound=10]="Device_NotFound",_[_.Parameter_fail=11]="Parameter_fail",_[_.Authorization_failed=12]="Authorization_failed",_[_.FileNotAvailable=13]="FileNotAvailable",_[_.ConfigParseError=14]="ConfigParseError",_[_.SetSettings_Fail=15]="SetSettings_Fail",_[_.Device_Reboot=16]="Device_Reboot",_[_.Device_ReadFail=17]="Device_ReadFail",_[_.Device_NotReady=18]="Device_NotReady",_[_.FilePartiallyCompatible=19]="FilePartiallyCompatible",(_=e.ErrorReturnCodes||(e.ErrorReturnCodes={}))[_.Return_Ok=0]="Return_Ok",_[_.Device_Unknown=1]="Device_Unknown",_[_.Device_Invalid=2]="Device_Invalid",_[_.Not_Supported=3]="Not_Supported",_[_.Return_ParameterFail=4]="Return_ParameterFail",_[_.ProtectedSetting_Write=5]="ProtectedSetting_Write",_[_.No_Information=6]="No_Information",_[_.NetworkRequest_Fail=7]="NetworkRequest_Fail",_[_.Device_WriteFail=8]="Device_WriteFail",_[_.Device_ReadFails=9]="Device_ReadFails",_[_.No_FactorySupported=10]="No_FactorySupported",_[_.System_Error=11]="System_Error",_[_.Device_BadState=12]="Device_BadState",_[_.FileWrite_Fail=13]="FileWrite_Fail",_[_.File_AlreadyExists=14]="File_AlreadyExists",_[_.File_Not_Accessible=15]="File_Not_Accessible",_[_.Firmware_UpToDate=16]="Firmware_UpToDate",_[_.Firmware_Available=17]="Firmware_Available",_[_.Return_Async=18]="Return_Async",_[_.Invalid_Authorization=19]="Invalid_Authorization",_[_.FWU_Application_Not_Available=20]="FWU_Application_Not_Available",_[_.Device_AlreadyConnected=21]="Device_AlreadyConnected",_[_.Device_NotConnected=22]="Device_NotConnected",_[_.CannotClear_DeviceConnected=23]="CannotClear_DeviceConnected",_[_.Device_Rebooted=24]="Device_Rebooted",_[_.Upload_AlreadyInProgress=25]="Upload_AlreadyInProgress",_[_.Download_AlreadyInProgress=26]="Download_AlreadyInProgress",(function(e){function n(t,n,r){var i=e.call(this,"Command "+t+" failed with error  message "+n+" and details: "+JSON.stringify(r||{}))||this;return i.command=t,i.errmessage=n,i.data=r,i.name="CommandError",i}return t(n,e),n})((function(e){var t="function"==typeof Map?new Map:void 0;return(function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return i(e,arguments,n(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r(o,e)})(e)})(Error))),l=new Map,d=(["mute","unmute","device attached","device detached","acceptcall","endcall","reject","flash","online","offline","linebusy","lineidle","redial","key0","key1","key2","key3","key4","key5","key6","key7","key8","key9","keyStar","keyPound","keyClear","Online","speedDial","voiceMail","LineBusy","outOfRange","intoRange","pseudoAcceptcall","pseudoEndcall","button1","button2","button3","volumeUp","volumeDown","fireAlarm","jackConnection","jackDisConnection","qdConnection","qdDisconnection","headsetConnection","headsetDisConnection","devlog","busylight","hearThrough","batteryStatus","gnpButton","mmi","error"].forEach(function(e){return l.set(e,[])}),(_=e.DeviceFeature||(e.DeviceFeature={}))[_.BusyLight=1e3]="BusyLight",_[_.FactoryReset=1001]="FactoryReset",_[_.PairingList=1002]="PairingList",_[_.RemoteMMI=1003]="RemoteMMI",_[_.MusicEqualizer=1004]="MusicEqualizer",_[_.EarbudInterconnectionStatus=1005]="EarbudInterconnectionStatus",_[_.StepRate=1006]="StepRate",_[_.HeartRate=1007]="HeartRate",_[_.RRInterval=1008]="RRInterval",_[_.RingtoneUpload=1009]="RingtoneUpload",_[_.ImageUpload=1010]="ImageUpload",_[_.NeedsExplicitRebootAfterOta=1011]="NeedsExplicitRebootAfterOta",_[_.NeedsToBePutIncCradleToCompleteFwu=1012]="NeedsToBePutIncCradleToCompleteFwu",_[_.RemoteMMIv2=1013]="RemoteMMIv2",_[_.Logging=1014]="Logging",_[_.PreferredSoftphoneListInDevice=1015]="PreferredSoftphoneListInDevice",_[_.VoiceAssistant=1016]="VoiceAssistant",_[_.PlayRingtone=1017]="PlayRingtone",(_=e.RemoteMmiType||(e.RemoteMmiType={}))[_.MMI_TYPE_MFB=0]="MMI_TYPE_MFB",_[_.MMI_TYPE_VOLUP=1]="MMI_TYPE_VOLUP",_[_.MMI_TYPE_VOLDOWN=2]="MMI_TYPE_VOLDOWN",_[_.MMI_TYPE_VCB=3]="MMI_TYPE_VCB",_[_.MMI_TYPE_APP=4]="MMI_TYPE_APP",_[_.MMI_TYPE_TR_FORW=5]="MMI_TYPE_TR_FORW",_[_.MMI_TYPE_TR_BACK=6]="MMI_TYPE_TR_BACK",_[_.MMI_TYPE_PLAY=7]="MMI_TYPE_PLAY",_[_.MMI_TYPE_MUTE=8]="MMI_TYPE_MUTE",_[_.MMI_TYPE_HOOK_OFF=9]="MMI_TYPE_HOOK_OFF",_[_.MMI_TYPE_HOOK_ON=10]="MMI_TYPE_HOOK_ON",_[_.MMI_TYPE_BLUETOOTH=11]="MMI_TYPE_BLUETOOTH",_[_.MMI_TYPE_JABRA=12]="MMI_TYPE_JABRA",_[_.MMI_TYPE_BATTERY=13]="MMI_TYPE_BATTERY",_[_.MMI_TYPE_PROG=14]="MMI_TYPE_PROG",_[_.MMI_TYPE_LINK=15]="MMI_TYPE_LINK",_[_.MMI_TYPE_ANC=16]="MMI_TYPE_ANC",_[_.MMI_TYPE_LISTEN_IN=17]="MMI_TYPE_LISTEN_IN",_[_.MMI_TYPE_DOT3=18]="MMI_TYPE_DOT3",_[_.MMI_TYPE_DOT4=19]="MMI_TYPE_DOT4",_[_.MMI_TYPE_BUSYLIGHT=128]="MMI_TYPE_BUSYLIGHT",(_=e.RemoteMmiSequence||(e.RemoteMmiSequence={}))[_.MMI_LED_SEQUENCE_OFF=0]="MMI_LED_SEQUENCE_OFF",_[_.MMI_LED_SEQUENCE_ON=1]="MMI_LED_SEQUENCE_ON",_[_.MMI_LED_SEQUENCE_SLOW=2]="MMI_LED_SEQUENCE_SLOW",_[_.MMI_LED_SEQUENCE_FAST=3]="MMI_LED_SEQUENCE_FAST",(_=e.RemoteMmiActionInput||(e.RemoteMmiActionInput={}))[_.MMI_ACTION_UP=1]="MMI_ACTION_UP",_[_.MMI_ACTION_DOWN=2]="MMI_ACTION_DOWN",_[_.MMI_ACTION_TAP=4]="MMI_ACTION_TAP",_[_.MMI_ACTION_DOUBLE_TAP=8]="MMI_ACTION_DOUBLE_TAP",_[_.MMI_ACTION_PRESS=16]="MMI_ACTION_PRESS",_[_.MMI_ACTION_LONG_PRESS=32]="MMI_ACTION_LONG_PRESS",_[_.MMI_ACTION_X_LONG_PRESS=64]="MMI_ACTION_X_LONG_PRESS",e.logLevel=2,new((function(){function t(){}var n=t.prototype;return n.trace=function(t){4<=e.logLevel&&console.log(t)},n.info=function(t){3<=e.logLevel&&console.log(t)},n.warn=function(t){2<=e.logLevel&&console.warn(t)},n.error=function(t){1<=e.logLevel&&console.error(t)},t})())),f=Math.random().toString(36).substr(2,9),p=new Map,h=1,y={};function v(e){var t;return Array.isArray(e)?(t=[].concat.apply([],e.map(v)),t=Array.from(new Set(t).values()),[].concat(t)):e instanceof RegExp?Array.from(l.keys()).filter(function(t){return e.test(t)}):l.has(e)?[e]:(d.warn("Unknown event "+e+" ignored when adding/removing eventlistener"),[])}function g(e,t){v(e).map(function(e){(e=l.get(e)).find(function(e){return e===t})||e.push(t)})}function m(){return S("getactivedevice")}function b(){return S("getdevices")}function w(e,t,n){if(void 0===t&&(t=null),(n=void 0===n||n)&&!y.initialized)throw new Error("Browser integration not initialized");n={direction:"jabra-headset-extension-from-page-script",message:e,args:t||{},requestId:(h++).toString(),apiClientId:f,version_jsapi:s},d.trace("Sending command to content script: "+JSON.stringify(n)),window.postMessage(n,"*")}function S(e,t,n){var r;return void 0===t&&(t=null),!(n=void 0===n||n)||y.initialized?(r=(h++).toString(),new Promise(function(n,i){p.set(r,{cmd:e,resolve:n,reject:i}),n={direction:"jabra-headset-extension-from-page-script",message:e,args:t||{},requestId:r,apiClientId:f,version_jsapi:s},d.trace("Sending command to content script expecting result: "+JSON.stringify(n)),window.postMessage(n,"*")})):Promise.reject(new Error("Browser integration not initialized"))}function k(e,t,n){function r(e,t){var n=e.productID.toString(16).padStart(4,"0");return t.findIndex(function(e){return 0<=e.indexOf("(0b0e:"+n)})}function i(e,t,n){return n.find(function(n){return n.groupId==e&&n.kind==t})}var o,a,s,c,u,l;e&&e.deviceName&&(l=s=a=u=void 0,0<=(o=(function(n){if(0<n.length){var i=r(e,n);if(0<=i)return i;var o=t.find(function(t){return t.deviceID===e.connectedDeviceID});if(o&&0<=(i=r(o,n)))return i}return-1})((n=n.filter(function(e){return e.label&&e.label.toLowerCase().includes("jabra")&&("audioinput"===e.kind||"audiooutput"===e.kind)})).map(function(e){return e.label})))&&(u=(o=n[o]).groupId,l=o.label,"audioinput"===o.kind?(a=o.deviceId,(c=i(u,"audiooutput",n))&&(s=c.deviceId)):"audiooutput"===o.kind&&(s=o.deviceId,(c=i(u,"audioinput",n))&&(a=c.deviceId))),u&&(e.browserGroupId=u),l&&(e.browserLabel=l),a&&(e.browserAudioInputId=a),s&&(e.browserAudioOutputId=s))}function C(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?y.initialized?"https:"!==location.protocol?Promise.reject(new Error("Your browser needs https for lookup to work")):Promise.all([m(),b(),navigator.mediaDevices.enumerateDevices()]).then(function(e){var t=e[0];return k(t,e[1],e[2]),t}):Promise.reject(new Error("Browser integration not initialized")):Promise.reject(new Error("Your browser does not support required media api"))}function T(e){if(""!==e&&("string"==typeof e||e instanceof String))return"true"===e||"1"===e;if("boolean"==typeof e)return e;throw new Error("Illegal/missing argument - boolean or string expected")}function P(e){if(""!==e&&("string"==typeof e||e instanceof String))return parseInt(e);if("number"==typeof e)return e;throw new Error("Illegal/missing argument - number or string expected")}var _=(function(){function e(){this.listeners=new Map}var t=e.prototype;return t.addEventListener=function(e,t){var n=this.listeners.get(e)||[];this.listeners.set(e,[].concat(n,[t]))},t.on=function(e,t){this.addEventListener(e,t)},t.removeEventListener=function(e,t){var n=this.listeners.get(e)||[];this.listeners.set(e,n.filter(function(e){return e!==t}))},t.off=function(e,t){this.removeEventListener(e,t)},t.emit=function(e,t){(e=this.listeners.get(e))&&e.forEach(function(e){e(t)})},e})(),O={Speech_Analysis_TX:{eventType:"txspeech",valueType:"boolean"},Speech_Analysis_RX:{eventType:"rxspeech",valueType:"boolean"},"TX Acoustic Logging Level":{eventType:"txacousticlevel",valueType:"number"},"RX Acoustic Logging Level":{eventType:"rxacousticlevel",valueType:"number"},"TX Acoustic Logging Peak":{eventType:"txacousticpeak",valueType:"number"},"RX Acoustic Logging Peak":{eventType:"rxacousticpeak",valueType:"number"},"Boom Position Guidance OK":{eventType:"armpositionok",valueType:"boolean"},"Bad_Mic_detect Flag":{eventType:"badmic",valueType:"boolean"},"Mute State":{eventType:"mute",valueType:"boolean"}},E=function(e,t,n){this.type=e,this.value=t,this.timestamp=n||Date.now()},I=(function(){function e(){this.events=[]}var t=e.prototype;return t.add=function(e){var t=this.events.findIndex(function(t){return e.timestamp<t.timestamp});return-1===t&&(t=this.events.length),this.events=[].concat(this.events.slice(0,t),[e],this.events.slice(t)),e},t.newest=function(e){if(e){for(var t=this.events.length-1;0<t;t--){var n=this.events[t];if(n.type===e)return n}return null}return this.events[this.events.length-1]||null},t.find=function(e){var t,n,r,i,o=this.events;return e&&(t=e.eventType,n=e.limit,r=e.interval,i=e.limitEvent,e=e.offsetEvent,i&&(o=o.slice(0,this.events.indexOf(i))),e&&(o=o.slice(this.events.indexOf(e))),(t||r)&&(o=o.filter(function(e){var n=e.type;e=e.timestamp;return!(t&&!t.includes(n)||r&&r.start&&e<r.start||r&&r.end&&e>r.end)})),n&&(o=0<n?o.slice(0,n):o.slice(n))),o},t.clear=function(){this.events=[]},e})();_=(function(e){function n(t){var n;return void 0===t&&(t=null),(n=e.call(this)||this).events=new I,g("devlog",function(e){!n.startTime||n.stopTime||t&&t!==e.data.deviceID||(e=(function(e){if("ID"in e.data)switch(e.data.ID){case"VOLUP TAP":return new E("volumeup",!0,e.data.TimeStampMs);case"VOLDOWN TAP":return new E("volumedown",!0,e.data.TimeStampMs)}for(var t in O)if(t in e.data){var n=O[t],r=e.data[t];switch(n.valueType){case"boolean":r="true"===r.toLowerCase();break;case"number":r=Number(r)}return new E(n.eventType,r,e.data.TimeStampMs)}return null})(e))&&(n.events.add(e),n.emit(e.type,e))}),console.warn("WARNING: The Analytics APIs are pre-release and subject to change without warning in future releases. Only use for evaluation purposes."),n}t(n,e);var r=n.prototype;return r.start=function(){this.clear(),this.startTime=Date.now(),this.stopTime=void 0},r.stop=function(){this.stopTime=Date.now()},r.clear=function(){this.events.clear()},r.getSpeechStatus=function(){var e=this.events.newest("txspeech"),t=this.events.newest("rxspeech"),n=(e=!!e&&e.value,t=!!t&&t.value,e&&t);return{isSilent:!e&&!t,isCrosstalking:n,isTXSpeaking:!n&&e,isRXSpeaking:!n&&t}},r.getSpeechTime=function(e,t){var n,r,i,o={eventType:"txspeech rxspeech"},s=(o=(e&&t&&(o.interval={start:e,end:t}),this.events.find(o)),e||this.startTime||0),c=t||this.stopTime||Date.now(),u=0,l=0,d=0;e&&t&&(e=this.events.find({eventType:"txspeech",limitEvent:o[0],limit:-1})[0],t=this.events.find({eventType:"rxspeech",limitEvent:o[0],limit:-1})[0],e&&!0===e.value&&o.unshift(new E("txspeech",!0,s)),t&&!0===t.value&&o.unshift(new E("rxspeech",!0,s)),o.push(new E("txspeech",!1,c),new E("rxspeech",!1,c)));for(var f=a(o);!(p=f()).done;){var p=p.value,h="txspeech"===p.type,y="rxspeech"===p.type;h&&!0===p.value&&!n&&(n=p),y&&!0===p.value&&!r&&(r=p),h&&!1===p.value&&n&&(i?(d+=p.timestamp-i.timestamp,i=void 0,r=r&&p):u+=p.timestamp-n.timestamp,n=void 0),y&&!1===p.value&&r&&(i?(d+=p.timestamp-i.timestamp,i=void 0,n=n&&p):l+=p.timestamp-r.timestamp,r=void 0),n&&r&&!i&&(i=p,h&&(l+=p.timestamp-r.timestamp),y&&(u+=p.timestamp-n.timestamp))}function v(e){return+(Math.round(100*e/g+"e+2")+"e-2")}var g=c-s;e=g-(u+l+d);return{totalTime:g,txSpeechTime:u,txSpeechTimePct:v(u),rxSpeechTime:l,rxSpeechTimePct:v(l),crosstalkTime:d,crosstalkTimePct:v(d),silenceTime:e,silenceTimePct:v(e)}},r.getMutedStatus=function(){var e=this.events.newest("mute");return!!e&&e.value},r.getMutedCount=function(){return this.events.find({eventType:"mute"}).filter(function(e){return e.value}).length},r.getBoomArmStatus=function(){var e=this.events.newest("boomarm");return e?e.value:void 0},r.getBoomArmMisalignedCount=function(){return this.events.find({eventType:"boomarm"}).filter(function(e){return e.value}).length},r.getVolumeUpCount=function(){return this.events.find({eventType:"volumeup"}).filter(function(e){return e.value}).length},r.getVolumeDownCount=function(){return this.events.find({eventType:"volumedown"}).filter(function(e){return e.value}).length},r.getAudioExposure=function(e){return this.events.find({limit:e=void 0===e?-15:e,eventType:"rxacousticlevel"})},r.getAverageAudioExposure=function(e,t){return this.getAverageAcousticLevel("rxacousticlevel",e,t)},r.getBackgroundNoise=function(e){return this.events.find({limit:e=void 0===e?-15:e,eventType:"txacousticlevel"})},r.getAverageBackgroundNoise=function(e,t){return this.getAverageAcousticLevel("txacousticlevel",e,t)},r.getAverageAcousticLevel=function(e,t,n){var r;if(0===(r=t&&n?(t=this.events.find({eventType:e,interval:{start:t,end:n}}),n=this.events.find({eventType:e,limitEvent:t[0],limit:-1}),[].concat(n,t)):this.events.find({eventType:e})).length)return 0;if(1===r.length)return r[0].value;for(var i=0,o=0,a=0;a<r.length-1;a++){var s=r[a],c=r[a+1].timestamp-s.timestamp;i+=c*s.value,o+=c}return Math.round(i/o)},n})(_);e.Analytics=_,e.CommandError=u,e._getEvents=v,e._setActiveDeviceId=function(e){var t=P(e);w("setactivedevice "+e.toString(),{id:t})},e.addEventListener=g,e.apiVersion=s,e.getActiveDevice=function(e){return(T(e=void 0!==e&&e)?C:m)()},e.getDevices=function(e){return T(e=void 0!==e&&e)?navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?y.initialized?"https:"===location.protocol?Promise.all([b(),navigator.mediaDevices.enumerateDevices()]).then(function(e){var t=e[0],n=e[1];return t.forEach(function(e){k(e,t,n)}),t}):Promise.reject(new Error("Your browser needs https for lookup to work")):Promise.reject(new Error("Browser integration not initialized")):Promise.reject(new Error("Your browser does not support required media api")):b()},e.getInstallInfo=function(){return S("getinstallinfo")},e.getUserDeviceMediaExt=function(e){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?y.initialized?("https:"!==location.protocol&&d.warn("This function needs to run under https for best UX experience (persisted permissions)"),null!=e&&"object"!=typeof e?Promise.reject(new Error("Optional constraints parameter must be an object")):navigator.mediaDevices.getUserMedia(t({audio:!0},e)).then(function(n){return C().then(function(r){return n.getTracks().forEach(function(e){e.stop()}),r&&r.browserAudioInputId?navigator.mediaDevices.getUserMedia(t({audio:{deviceId:r.browserAudioInputId}},e)).then(function(e){return{stream:e,deviceInfo:r}}):Promise.reject(new Error("Could not find a Jabra device with a microphone"))})})):Promise.reject(new Error("Browser integration not initialized")):Promise.reject(new Error("Your browser does not support required media api"));function t(e,n){if(null==n||"object"!=typeof e)return e;var r,i={};for(r in n)i[r]=n[r];for(r in e)i[r]=t(e[r],n[r]);return i}},e.hold=function(){w("hold")},e.init=function(){return new Promise(function(t,n){if(!/Chrome/.test(navigator.userAgent)||!/Google Inc/.test(navigator.vendor))return n(new Error("Jabra Browser Integration: Only supported by <a href='https://google.com/chrome'>Google Chrome</a>."));if(y.initialized||y.initializing)return n(new Error("Jabra Browser Integration already initialized"));y.initializing=!0,p.clear();var r=!0;function i(e,t){var n=l.get(e);n?n.forEach(function(e){e(t)}):d.error("Unexpected unknown eventName: "+e)}function o(e){var t;return e?(t=p.get(e),p.delete(e)):1===p.size?(t=(e=p.entries().next().value)[1],p.delete(e[0])):t=void 0,10<(e=p.size)&&e%10==0&&d.warn("Memory leak found - Request result map is getting too large (size #"+e+")"),t}y.eventCallback=function(a){if(a.source===window&&a.data.direction&&"jabra-headset-extension-from-content-script"===a.data.direction){var p=a.data.apiClientId||"",h=a.data.requestId||"";if(f===p||""===p)if(d.trace("Receiving event from content script: "+JSON.stringify(a.data)),"na"===a.data.message&&delete a.data.message,a.data.message&&a.data.message.startsWith("Error:")&&(a.data.error=a.data.message,delete a.data.message),a.data.message){d.trace("Got message: "+JSON.stringify(a.data));var y=a.data.message.substring(7);if(!y.startsWith("logLevel")){if(0<=(p=c.findIndex(function(e){return y.startsWith(e)})))"getinstallinfo"!==y&&!y.startsWith("Version ")||(a.data.data||(a.data.data={}),a.data.data.version_jsapi=s),"getinstallinfo"===y&&(a.data.data.installationOk=!((m=[(g=a.data.data).version_browserextension,g.version_chromehost,g.version_jsapi]).some(function(e){return!e})||!g.version_nativesdk||!m.map(function(e){var t=e.lastIndexOf("beta");if(0<=t&&e.length>t+4)return e.substr(t+4)}).filter(function(e){return e}).every(function(e,t,n){return e===n[0]}))),(g=o(h))?(a.data.data?v=a.data.data:(m=c[p].length+1,v={},(p=y.substring(m))&&(v.legacy_result=p)),g.resolve(v)):(p="Result target information missing for message "+a.data.message+". This is likely due to some software components that have not been updated or a software bug. Please upgrade extension and/or chromehost",d.error(p),i("error",{error:p,message:a.data.message}));else{if(!l.has(y))return d.warn("Unknown message: "+a.data.message),void i("error",{error:"Unknown message: ",message:a.data.message});var v=JSON.parse(JSON.stringify(a.data));delete v.direction,delete v.apiClientId,delete v.requestId,i(v.message=y,v)}return r?(r=!1,t()):void 0}e.logLevel=parseInt(a.data.message.substring(16)),d.trace("Logger set to level "+e.logLevel)}else if(a.data.error&&(d.error("Got error: "+a.data.error),p=a.data.error.substring(7),(v=o(h))?v.reject(new u(v.cmd,p,a.data.data)):(delete(h=JSON.parse(JSON.stringify(a.data))).direction,delete h.apiClientId,delete h.requestId,h.error=p,i("error",h)),r))return r=!1,n(new Error(a.data.error))}var g,m},window.addEventListener("message",y.eventCallback),setTimeout(function(){S("getversion",null,!1).then(function(e){e="string"==typeof e||e instanceof String?e:JSON.stringify(e,null,2),d.trace("getversion returned successfully with : "+e),w("logLevel",null,!1)}).catch(function(e){d.error(e)})},1e3),setTimeout(function(){!0===r&&(r=!1,n(new Error("Jabra Browser Integration: You need to use this <a href='https://chrome.google.com/webstore/detail/okpeabepajdgiepelmhkfhkjlhhmofma'>Extension</a> and then reload this page")))},5e3),y.initialized=!0,y.initializing=!1})},e.isDeviceSelectedForInput=function(e,t){if(!e||!t)throw Error("Call to isDeviceSelectedForInput has argument(s) missing");for(var n=e.getAudioTracks(),r=0,i=n.length;r<i;r++)if(n[r].getCapabilities().deviceId!==t.browserAudioInputId)return!1;return!0},e.mute=function(){w("mute")},e.offHook=function(e){w("offhook",{continueRinger:!!e&&T(e)})},e.onHook=function(e){w("onhook",{continueRinger:!!e&&T(e)})},e.removeEventListener=function(e,t){v(e).map(function(e){var n=(e=l.get(e)).findIndex(function(e){return e===t});0<=n&&e.splice(n,1)})},e.resume=function(){w("resume")},e.ring=function(){w("ring")},e.setActiveDeviceId=function(e){return S("setactivedevice2",{id:P(e)})},e.setBusyLight=function(e){return S("setbusylight",{busy:T(e)})},e.setMmiFocus=function(e,t){return S("setmmifocus",{type:P(e),capture:T(t)})},e.setRemoteMmiLightAction=function(e,t,n){return S("setremotemmilightaction",{type:P(e),color:(function(e){var t;if(""!==e&&("string"==typeof e||e instanceof String))return[(t=parseInt(e,16))>>16&255,t>>8&255,255&t];if("number"==typeof e)return[e>>16&255,e>>8&255,255&e];if(Array.isArray(e)){if(3!=e.length)throw new Error("Illegal argument - wrong dimension of number array (3 expected)");return e}throw new Error("Illegal/missing argument - number array or hex string expected")})(t),effect:P(n)})},e.shutdown=function(){return y.initialized?(window.removeEventListener("message",y.eventCallback),y.eventCallback=void 0,p.clear(),h=1,y.initialized=!1,l.forEach(function(e,t){}),Promise.resolve()):Promise.reject(new Error("Browser integration not initialized"))},e.trySetDeviceOutput=function(e,t){return e&&t?"function"!=typeof e.setSinkId?Promise.reject(new Error("Your browser does not support required Audio Output Devices API")):e.setSinkId(t.browserAudioOutputId).then(function(){return e.sinkId===t.browserAudioOutputId}):Promise.reject(new Error("Call to trySetDeviceOutput has argument(s) missing"))},e.unmute=function(){w("unmute")},e.unring=function(){w("unring")},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).jabra={})},{}],2:[function(t,n,r){(function(e,t,i){(function(){var o,a;o=function(){return(function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(o)return o(a,!0);throw(s=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}c=n[a]={exports:{}},t[a][0].call(c.exports,function(e){return i(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i})({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=(e=new t(e)).promise();return e.setHowMany(1),e.setUnwrap(),e.init(),n}e.any=n,e.prototype.any=function(){return n(this)}}},{}],2:[function(t,n,r){"use strict";var i;try{throw new Error}catch(t){i=t}var o=t("./schedule"),a=t("./queue");function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=o}function c(e){for(;0<e.length();){n=t=r=n=void 0;var t,n=e,r=n.shift();"function"!=typeof r?r._settlePromises():(t=n.shift(),n=n.shift(),r.call(t,n))}}s.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.prototype.invokeLater=function(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()},s.prototype.invoke=function(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()},s.prototype.settlePromises=function(e){this._normalQueue._pushOne(e),this._queueTick()},s.prototype._drainQueues=function(){c(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,c(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},n.exports=s,n.exports.firstLineError=i},{"./queue":26,"./schedule":29}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){function i(e,t){this._reject(t)}function o(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(i,i,null,this,e)}function a(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)}function s(e,t){t.promiseRejectionQueued||this._reject(e)}var c=!1;e.prototype.bind=function(i){c||(c=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());i=n(i);var u,l=new e(t),d=(l._propagateFrom(this,1),this._target());return l._setBoundTo(i),i instanceof e?(d._then(t,o,void 0,l,u={promiseRejectionQueued:!1,promise:l,target:d,bindingPromise:i}),i._then(a,s,void 0,l,u),l._setOnCancel(i)):l._resolveCallback(d),l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r,i=Object.create;i&&(r=i(null),i=i(null),r[" size"]=i[" size"]=0),t.exports=function(t){var n=e("./util"),r=n.canEvaluate;function i(e,r){var i;if("function"!=typeof(i=null!=e?e[r]:i))throw e="Object "+n.classString(e)+" has no method '"+n.toString(r)+"'",new t.TypeError(e);return i}function o(e){return i(e,this.pop()).apply(e,this)}function a(e){return e[this]}function s(e){var t=+this;return e[t=t<0?Math.max(0,t+e.length):t]}n.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(o,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;return t="number"==typeof e?s:r&&null!==(t=(void 0)(e))?t:a,this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){var n;if(o.isArray(e))for(var r=0;r<e.length;++r)this._doInvokeOnCancel(e[r],t);else void 0!==e&&("function"==typeof e?t||(n=a(e).call(this._boundValue()))===s&&(this._attachExtraTrace(n.e),c.throwLater(n.e)):e._resultCancelled(this))},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(e,a,s){return function(c){var u=s._boundValue();e:for(var l=0;l<e.length;++l){var d=e[l];if(d===Error||null!=d&&d.prototype instanceof Error){if(c instanceof d)return i(a).call(u,c)}else if("function"==typeof d){var f=i(d).call(u,c);if(f===o)return f;if(f)return i(a).call(u,c)}else if(n.isObject(c)){for(var p=r(d),h=0;h<p.length;++h){var y=p[h];if(d[y]!=c[y])continue e}return i(a).call(u,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var e=n.length-1;if(0<=e)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){var e,t;return void 0!==this._trace?(t=(e=n.pop())._promiseCreated,e._promiseCreated=null,t):null},r.CapturedTrace=null,r.create=function(){if(t)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=c,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},r}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r,i,o){var a,s,c,u,l,d=n._async,f=t("./errors").Warning,p=t("./util"),h=t("./es5"),y=p.canAttachTrace,v=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,g=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,b=null,w=null,S=!1,k=!(0==p.env("BLUEBIRD_DEBUG")),C=!(0==p.env("BLUEBIRD_WARNINGS")||!k&&!p.env("BLUEBIRD_WARNINGS")),T=(k=!(0==p.env("BLUEBIRD_LONG_STACK_TRACES")||!k&&!p.env("BLUEBIRD_LONG_STACK_TRACES")),0!=p.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(C||!!p.env("BLUEBIRD_W_FORGOTTEN_RETURN")));function P(){for(var e=0;e<l.length;++e)l[e]._notifyUnhandledRejection();_()}function _(){l.length=0}l=[],u=function(e){l.push(e),setTimeout(P,1)},h.defineProperty(n,"_unhandledRejectionCheck",{value:P}),h.defineProperty(n,"_unhandledRejectionClear",{value:_}),n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),u(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){K("rejectionHandled",a,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){var e;this._isRejectionUnhandled()&&(e=this._settledValue(),this._setUnhandledRejectionIsNotified(),K("unhandledRejection",s,e,this))},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},n.prototype._warn=function(e,t,n){return z(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=n._getContext();s=p.contextBind(t,e)},n.onUnhandledRejectionHandled=function(e){var t=n._getContext();a=p.contextBind(t,e)};var O=function(){},E=(n.longStackTraces=function(){if(d.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");var e,t,i;!ie.longStackTraces&&$()&&(e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace,i=n.prototype._dereferenceTrace,ie.longStackTraces=!0,O=function(){if(d.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,n.prototype._dereferenceTrace=i,r.deactivateLongStackTraces(),ie.longStackTraces=!1},n.prototype._captureStackTrace=V,n.prototype._attachExtraTrace=q,n.prototype._dereferenceTrace=G,r.activateLongStackTraces())},n.hasLongStackTraces=function(){return ie.longStackTraces&&$()},{unhandledrejection:{before:function(){var e=p.global.onunhandledrejection;return p.global.onunhandledrejection=null,e},after:function(e){p.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=p.global.onrejectionhandled;return p.global.onrejectionhandled=null,e},after:function(e){p.global.onrejectionhandled=e}}}),I=(function(){function e(e,t){if(!e)return!p.global.dispatchEvent(t);var n;try{return n=e.before(),!p.global.dispatchEvent(t)}finally{e.after(n)}}var t;try{return"function"==typeof CustomEvent?(t=new CustomEvent("CustomEvent"),p.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=new CustomEvent(t,{detail:n,cancelable:!0});return h.defineProperty(r,"promise",{value:n.promise}),h.defineProperty(r,"reason",{value:n.reason}),e(E[t],r)}):"function"==typeof Event?(t=new Event("CustomEvent"),p.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=new Event(t,{cancelable:!0});return r.detail=n,h.defineProperty(r,"promise",{value:n.promise}),h.defineProperty(r,"reason",{value:n.reason}),e(E[t],r)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),p.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!0,n),e(E[t],r)})}catch(t){}return function(){return!1}})(),R=p.isNode?function(){return e.emit.apply(e,arguments)}:p.global?function(e){return e="on"+e.toLowerCase(),!!(e=p.global[e])&&(e.apply(p.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function M(e,t){return{promise:t}}var j={promiseCreated:M,promiseFulfilled:M,promiseRejected:M,promiseResolved:M,promiseCancelled:M,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:M},x=function(e){var t=!1;try{t=R.apply(null,arguments)}catch(e){d.throwLater(e),t=!0}var n=!1;try{n=I(e,j[e].apply(null,arguments))}catch(e){d.throwLater(e),n=!0}return n||t};function F(){return!1}function D(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+p.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function A(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?p.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function L(){return this._onCancelField}function N(e){this._onCancelField=e}function B(){this._cancellationParent=void 0,this._onCancelField=void 0}function W(e,t){var n;0!=(1&t)&&(n=(this._cancellationParent=e)._branchesRemainingToCancel,e._branchesRemainingToCancel=(n=void 0===n?0:n)+1),0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}n.config=function(e){var t;if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&O()),"warnings"in e&&(t=e.warnings,ie.warnings=!!t,T=ie.warnings,p.isObject(t)&&"wForgottenReturn"in t&&(T=!!t.wForgottenReturn)),"cancellation"in e&&e.cancellation&&!ie.cancellation){if(d.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=B,n.prototype._propagateFrom=W,n.prototype._onCancel=L,n.prototype._setOnCancel=N,n.prototype._attachCancellationCallback=A,n.prototype._execute=D,H=W,ie.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!ie.monitoring?(ie.monitoring=!0,n.prototype._fireEvent=x):!e.monitoring&&ie.monitoring&&(ie.monitoring=!1,n.prototype._fireEvent=F)),"asyncHooks"in e&&p.nodeSupportsAsyncResource&&ie.asyncHooks!==(t=!!e.asyncHooks)&&((ie.asyncHooks=t)?i:o)(),n},n.prototype._fireEvent=F,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var H=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function U(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function V(){this._trace=new ne(this._peekContext())}function q(e,t){var n;y(e)&&(void 0!==(n=void 0!==(n=this._trace)&&t?n._parent:n)?n.attachExtraTrace(e):e.__stackCleaned__||(t=J(e),p.notEnumerableProp(e,"stack",t.message+"\n"+t.stack.join("\n")),p.notEnumerableProp(e,"__stackCleaned__",!0)))}function G(){this._trace=void 0}function z(e,t,r){ie.warnings&&(e=new f(e),t?r._attachExtraTrace(e):ie.longStackTraces&&(t=n._peekContext())?t.attachExtraTrace(e):(r=J(e),e.stack=r.message+"\n"+r.stack.join("\n")),x("warning",e)||Q(e,"",!0))}function Y(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||b.test(r),o=i&&Z(r);i&&!o&&(S&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function J(e){var t=e.stack,n=e.toString();t="string"==typeof t&&0<t.length?(function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||b.test(r))break}return 0<n&&"SyntaxError"!=e.name?t.slice(n):t})(e):["    (No stack trace)"];return{message:n,stack:"SyntaxError"==e.name?t:Y(t)}}function Q(e,t,n){var r;"undefined"!=typeof console&&(r=p.isObject(e)?(r=e.stack,t+w(r,e)):t+String(e),"function"==typeof c?c(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r))}function K(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){d.throwLater(e)}"unhandledRejection"===e?x(e,n,r)||i||Q(n,"Unhandled rejection "):x(e,r)}function X(e){if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():p.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{var t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+(function(e){return e.length<41?e:e.substr(0,38)+"..."})(t)+">, no stack trace)"}function $(){return"function"==typeof re}var Z=function(){return!1},ee=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function te(e){if(e=e.match(ee))return{fileName:e[1],line:parseInt(e[2],10)}}function ne(e){this._parent=e,this._promisesCreated=0,e=this._length=1+(void 0===e?0:e._length),re(this,ne),32<e&&this.uncycle()}p.inherits(ne,Error),(r.CapturedTrace=ne).prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;0<=r;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<e;++r){var a=n[t[r].stack];if(void 0!==a&&a!==r){0<a&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;for(var s=0<r?t[r-1]:this,c=(a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1),s._length+1),u=r-2;0<=u;--u)t[u]._length=c,c++;return}}}},ne.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=J(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(Y(i.stack.split("\n"))),i=i._parent;for(var o=r,a=o[0],s=1;s<o.length;++s){for(var c=o[s],u=a.length-1,l=a[u],d=-1,f=c.length-1;0<=f;--f)if(c[f]===l){d=f;break}for(f=d;0<=f;--f){var h=c[f];if(a[u]!==h)break;a.pop(),u--}a=c}for(var y=r,v=0;v<y.length;++v)(0===y[v].length||v+1<y.length&&y[v][0]===y[v+1][0])&&(y.splice(v,1),v--);p.notEnumerableProp(e,"stack",(function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")})(n,r)),p.notEnumerableProp(e,"__stackCleaned__",!0)}};var re=(function(){function e(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():X(t)}var t,n=/^\s*at\s*/;if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace)return Error.stackTraceLimit+=6,b=n,w=e,t=Error.captureStackTrace,Z=function(e){return v.test(e)},function(e,n){Error.stackTraceLimit+=6,t(e,n),Error.stackTraceLimit-=6};var r,i=new Error;if("string"==typeof i.stack&&0<=i.stack.split("\n")[0].indexOf("stackDetection@"))return b=/@/,w=e,S=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(w=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?X(t):t.toString()},null):(b=n,w=e,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})})(),ie=("undefined"!=typeof console&&void 0!==console.warn&&(c=function(e){console.warn(e)},p.isNode&&e.stderr.isTTY?c=function(e,t){console.warn((t?"\x1b[33m":"\x1b[31m")+e+"\x1b[0m\n")}:p.isNode||"string"!=typeof(new Error).stack||(c=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")})),{warnings:C,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1});return k&&n.longStackTraces(),{asyncHooks:function(){return ie.asyncHooks},longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return H},boundValueFunction:function(){return U},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&T&&(void 0===i||!i._returnedNonUndefined())&&0!=(65535&r._bitField)){n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=Y(s),u=c.length-1;0<=u;--u){var l=c[u];if(!g.test(l)){(l=l.match(m))&&(o="at "+l[1]+":"+l[2]+":"+l[3]+" ");break}}if(0<c.length){var d=c[0];for(u=0;u<s.length;++u)if(s[u]===d){0<u&&(a="\n"+s[u-1]);break}}}r._warn("a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a,!0,t)}},setBounds:function(e,t){if($()){for(var n,r,i=(e.stack||"").split("\n"),o=(t.stack||"").split("\n"),a=-1,s=-1,c=0;c<i.length;++c)if(u=te(i[c])){n=u.fileName,a=u.line;break}var u;for(c=0;c<o.length;++c)if(u=te(o[c])){r=u.fileName,s=u.line;break}a<0||s<0||!n||!r||n!==r||s<=a||(Z=function(e){return!!v.test(e)||!!((e=te(e))&&e.fileName===n&&a<=e.line&&e.line<=s)})}},warn:z,deprecated:function(e,t){return e+=" is deprecated and will be removed in a future version.",t&&(e+=" Use "+t+" instead."),z(e)},CapturedTrace:ne,fireDomEvent:I,fireGlobalEvent:R}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){var t;return arguments.length<=1?this._then(void 0,n,void 0,{reason:e},void 0):(t=arguments[1],this.caught(e,function(){throw t}))},e.prototype.catchReturn=function(n){var r;return arguments.length<=1?(n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0)):((r=arguments[1])instanceof e&&r.suppressUnhandledRejections(),this.caught(n,function(){return r}))}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce,r=e.all;function i(){return r(this)}e.prototype.each=function(e){return n(this,e,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,r){return n(e,r,t,0)._then(i,void 0,void 0,e,void 0)},e.mapSeries=function(e,r){return n(e,r,t,t)}}},{}],12:[function(e,t,n){"use strict";var r,i,o=e("./es5"),a=o.freeze,s=(e=e("./util")).inherits,c=e.notEnumerableProp;function u(e,t){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"==typeof r?r:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return s(n,Error),n}e=u("Warning","warning");var l=u("CancellationError","cancellation error"),d=u("TimeoutError","timeout error"),f=u("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(e){r=u("TypeError","type error"),i=u("RangeError","range error")}for(var p="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),h=0;h<p.length;++h)"function"==typeof Array.prototype[p[h]]&&(f.prototype[p[h]]=Array.prototype[p[h]]);o.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var y=0;function v(e){if(!(this instanceof v))return new v(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}f.prototype.toString=function(){var e="\n"+Array(4*y+1).join(" ")+"AggregateError of:\n";y++;for(var t=Array(4*y+1).join(" "),n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return y--,e},s(v,Error);var g=Error.__BluebirdErrorTypes__;g||(g=a({CancellationError:l,TimeoutError:d,OperationalError:v,RejectionError:v,AggregateError:f}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:e}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r,i,o,a=(function(){"use strict";return void 0===this})();a?t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(e,t){return!((e=Object.getOwnPropertyDescriptor(e,t))&&!e.writable&&!e.set)}}:(r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,t.exports={isArray:function(e){try{return"[object Array]"===i.call(e)}catch(e){return!1}},keys:t=function(e){var t,n=[];for(t in e)r.call(e,t)&&n.push(t);return n},names:t,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return o}},isES5:a,propertyIsWritable:function(){return!0}})},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=t.CancellationError,a=i.errorObj,s=e("./catch_filter")(r);function c(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function u(e){this.finallyHandler=e}function l(e,t){return null!=e.cancelPromise&&(1<arguments.length?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,1)}function d(){return p.call(this,this.promise._target()._settledValue())}function f(e){if(!l(this,e))return a.e=e,a}function p(e){var i=this.promise,s=this.handler;if(!this.called){if(this.called=!0,(s=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),e))===r)return s;var c;if(void 0!==s)if(i._setReturnedNonUndefined(),(s=n(s,i))instanceof t){if(null!=this.cancelPromise){if(s._isCancelled())return c=new o("late cancellation observer"),i._attachExtraTrace(c),a.e=c,a;s.isPending()&&s._attachCancellationCallback(new u(this))}return s._then(d,f,void 0,this,void 0)}}return i.isRejected()?(l(this),a.e=e,a):(l(this),e)}return c.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){l(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new c(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,p,p)},t.prototype.tap=function(e){return this._passThrough(e,1,p)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,p);for(var r=new Array(n-1),o=0,a=0;a<n-1;++a){var c=arguments[a];if(!i.isObject(c))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(c)));r[o++]=c}return r.length=o,this._passThrough(s(r,arguments[a],this),1,void 0,p)},c}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./errors").TypeError,c=e("./util"),u=c.errorObj,l=c.tryCatch,d=[];function f(e,n,i,o){var s,c;a.cancellation()?(s=new t(r),c=this._finallyPromise=new t(r),this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)):(this._promise=new t(r))._captureStackTrace(),this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(f,o),f.prototype._isResolved=function(){return null===this._promise},f.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){var e;this._isResolved()||(e=void 0!==this._generator.return?(this._promise._pushContext(),l(this._generator.return).call(this._generator,void 0)):(e=new t.CancellationError("generator .return() sentinel"),t.coroutine.returnSentinel=e,this._promise._attachExtraTrace(e),this._promise._pushContext(),l(this._generator.throw).call(this._generator,e)),this._promise._popContext(),this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e))},f.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext(),e=l(this._generator.next).call(this._generator,e),this._promise._popContext(),this._continue(e)},f.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext(),e=l(this._generator.throw).call(this._generator,e),this._promise._popContext(),this._continue(e)},f.prototype._resultCancelled=function(){var e;this._yieldedPromise instanceof t&&(e=this._yieldedPromise,this._yieldedPromise=null,e.cancel())},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(e){var n,r=this._promise;return e===u?(this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(e.e,!1)):(n=e.value,!0===e.done?(this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(n)):void((e=i(n,this._promise))instanceof t||null!==(e=(function(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=l(n[o])(e);if(r._popContext(),a===u)return r._pushContext(),s=t.reject(u.e),r._popContext(),s;var s=i(a,r);if(s instanceof t)return s}return null})(e,this._yieldHandlers,this._promise))?0==(50397184&(r=(e=e._target())._bitField))?(this._yieldedPromise=e)._proxy(this,null):0!=(33554432&r)?t._async.invoke(this._promiseFulfilled,this,e._value()):0!=(16777216&r)?t._async.invoke(this._promiseRejected,this,e._reason()):this._promiseCancelled():this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))))},t.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=f,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("expecting a function but got "+c.classString(e));d.push(e)},t.spawn=function(e){var r;return a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e?n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n"):(r=(e=new f(e,this)).promise(),e._run(t.spawn),r)}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util");a.canEvaluate,a.tryCatch,a.errorObj,t.join=function(){var e,t=(0<(t=arguments.length-1)&&"function"==typeof arguments[t]&&(e=arguments[t]),[].slice.call(arguments));e&&t.pop(),t=new n(t).promise();return void 0!==e?t.spread(e):t}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util"),c=s.tryCatch,u=s.errorObj,l=t._async;function d(e,n,r,i){this.constructor$(e),this._promise._captureStackTrace();var a=t._getContext();if(this._callback=s.contextBind(a,n),this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0),s.isArray(e))for(var c=0;c<e.length;++c){var u=e[c];u instanceof t&&u.suppressUnhandledRejections()}}function f(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+s.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+s.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(i.concurrency)));a=i.concurrency}return new d(e,n,a="number"==typeof a&&isFinite(a)&&1<=a?a:0,o).promise()}s.inherits(d,n),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(r[n=-1*n-1]=e,1<=l&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=l&&this._inFlight>=l)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var d=this._promise,f=this._callback,p=d._boundValue();f=(d._pushContext(),c(f).call(p,e,n,o)),p=d._popContext();if(a.checkForgottenReturns(f,p,null!==s?"Promise.filter":"Promise.map",d),f===u)return this._reject(f.e),!0;if((e=i(f,this._promise))instanceof t){if(0==(50397184&(p=(e=e._target())._bitField)))return 1<=l&&this._inFlight++,(r[n]=e)._proxy(this,-1*(n+1)),!1;if(0==(33554432&p))return 0!=(16777216&p)?this._reject(e._reason()):this._cancel(),!0;f=e._value()}r[n]=f}return o<=++this._totalResolved&&(null!==s?this._filter(r,s):this._resolve(r),!0)},d.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;0<e.length&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},d.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},d.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return f(this,e,t,null)},t.map=f}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n),i=(r._captureStackTrace(),r._pushContext(),s(e).apply(this,arguments)),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){var r,c,u;return"function"!=typeof e?i("expecting a function but got "+a.classString(e)):((r=new t(n))._captureStackTrace(),r._pushContext(),c=1<arguments.length?(o.deprecated("calling Promise.try with more than 1 argument"),u=arguments[1],c=arguments[2],a.isArray(u)?s(e).apply(c,u):s(e).call(c,u)):s(e)(),u=r._popContext(),o.checkForgottenReturns(c,u,"Promise.try",r),r._resolveFromSyncValue(c),r)},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";var r=e("./util"),i=r.maybeWrapAsError,o=e("./errors").OperationalError,a=e("./es5"),s=/^(?:name|message|stack|cause)$/;function c(e){var t,n;if((n=e)instanceof Error&&a.getPrototypeOf(n)===Error.prototype){(t=new o(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var i=a.keys(e),c=0;c<i.length;++c){var u=i[c];s.test(u)||(t[u]=e[u])}return t}return r.markAsOriginatingFromRejection(e),e}t.exports=function(e,t){return function(n,r){null!==e&&(n?(n=c(i(n)),e._attachExtraTrace(n),e._reject(n)):t?(n=[].slice.call(arguments,1),e._fulfill(n)):e._fulfill(r),e=null)}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=t._async,i=n.tryCatch,o=n.errorObj;function a(e,t){if(!n.isArray(e))return s.call(this,e,t);(t=i(t).apply(this._boundValue(),[null].concat(e)))===o&&r.throwLater(t.e)}function s(e,t){var n=this._boundValue();(t=void 0===e?i(t).call(n,null):i(t).call(n,null,e))===o&&r.throwLater(t.e)}function c(e,t){e||((n=new Error(e+"")).cause=e,e=n);var n=i(t).call(this._boundValue(),e);n===o&&r.throwLater(n.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){var n;return"function"==typeof e&&(n=s,void 0!==t&&Object(t).spread&&(n=a),this._then(n,c,void 0,this,e)),this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")}function i(){return new j.PromiseInspection(this._target())}function o(e){return j.reject(new m(e))}function a(){}function s(){return{domain:d(),async:null}}function c(){return{domain:d(),async:new f("Bluebird::Promise")}}var u={},l=t("./util"),d=(l.setReflectHandler(i),function(){var t=e.domain;return void 0===t?null:t}),f=l.isNode&&l.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,p=l.isNode?s:function(){return null},h=(l.notEnumerableProp(j,"_getContext",p),t("./es5")),y=t("./async"),v=new y,g=(h.defineProperty(j,"_async",{value:v}),t("./errors")),m=j.TypeError=g.TypeError,b=(j.RangeError=g.RangeError,j.CancellationError=g.CancellationError),w=(j.TimeoutError=g.TimeoutError,j.OperationalError=g.OperationalError,j.RejectionError=g.OperationalError,j.AggregateError=g.AggregateError,function(){}),S={},k={},C=t("./thenables")(j,w),T=t("./promise_array")(j,w,C,o,a),P=(g=t("./context")(j)).create,_=t("./debuggability")(j,g,function(){p=c,l.notEnumerableProp(j,"_getContext",c)},function(){p=s,l.notEnumerableProp(j,"_getContext",s)}),O=(_.CapturedTrace,t("./finally")(j,C,k)),E=t("./catch_filter")(k),I=t("./nodeback"),R=l.errorObj,M=l.tryCatch;function j(e){if(e!==w){var t=e;if(null==this||this.constructor!==j)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new m("expecting a function but got "+l.classString(t))}this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function x(e){this.promise._resolveCallback(e)}function F(e){this.promise._rejectCallback(e,!1)}function D(e){var t=new j(w);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return j.prototype.toString=function(){return"[object Promise]"},j.prototype.caught=j.prototype.catch=function(e){var t=arguments.length;if(1<t){for(var n=new Array(t-1),r=0,i=0;i<t-1;++i){var a=arguments[i];if(!l.isObject(a))return o("Catch statement predicate: expecting an object but got "+l.classString(a));n[r++]=a}if(n.length=r,"function"!=typeof(e=arguments[i]))throw new m("The last argument to .catch() must be a function, got "+l.toString(e));return this.then(void 0,E(n,e,this))}return this.then(void 0,e)},j.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},j.prototype.then=function(e,t){var n;return _.warnings()&&0<arguments.length&&"function"!=typeof e&&"function"!=typeof t&&(n=".then() only accepts functions but was passed: "+l.classString(e),1<arguments.length&&(n+=", "+l.classString(t)),this._warn(n)),this._then(e,t,void 0,void 0,void 0)},j.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},j.prototype.spread=function(e){return"function"!=typeof e?o("expecting a function but got "+l.classString(e)):this.all()._then(e,void 0,void 0,S,void 0)},j.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},j.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},j.prototype.error=function(e){return this.caught(l.originatesFromRejection,e)},j.getNewLibraryCopy=n.exports,j.is=function(e){return e instanceof j},j.fromNode=j.fromCallback=function(e){var t=new j(w),n=(t._captureStackTrace(),1<arguments.length&&!!Object(arguments[1]).multiArgs);return(e=M(e)(I(t,n)))===R&&t._rejectCallback(e.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},j.all=function(e){return new T(e).promise()},j.resolve=j.fulfilled=j.cast=function(e){var t=C(e);return t instanceof j||((t=new j(w))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},j.reject=j.rejected=function(e){var t=new j(w);return t._captureStackTrace(),t._rejectCallback(e,!0),t},j.setScheduler=function(e){if("function"!=typeof e)throw new m("expecting a function but got "+l.classString(e));return v.setScheduler(e)},j.prototype._then=function(e,t,n,r,i){i=(d=void 0!==i)?i:new j(w);var o,a,s,c=this._target(),u=c._bitField,d=(d||(i._propagateFrom(this,3),i._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,i)),p());return 0!=(50397184&u)?(s=c._settlePromiseCtx,0!=(33554432&u)?(a=c._rejectionHandler0,o=e):0!=(16777216&u)?(a=c._fulfillmentHandler0,o=t,c._unsetRejectionIsUnhandled()):(s=c._settlePromiseLateCancellationObserver,a=new b("late cancellation observer"),c._attachExtraTrace(a),o=t),v.invoke(s,c,{handler:l.contextBind(d,o),promise:i,receiver:r,value:a})):c._addCallbacks(e,t,i,r,d),i},j.prototype._length=function(){return 65535&this._bitField},j.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},j.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},j.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},j.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},j.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},j.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},j.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},j.prototype._isFinal=function(){return 0<(4194304&this._bitField)},j.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},j.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},j.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},j.prototype._setAsyncGuaranteed=function(){var e;v.hasCustomScheduler()||(e=this._bitField,this._bitField=e|(536870912&e)>>2^134217728)},j.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},j.prototype._receiverAt=function(e){if((e=0===e?this._receiver0:this[4*e-4+3])!==u)return void 0===e&&this._isBound()?this._boundValue():e},j.prototype._promiseAt=function(e){return this[4*e-4+2]},j.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4]},j.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},j.prototype._boundValue=function(){},j.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,r=e._promise0;e=e._receiverAt(0);this._addCallbacks(t,n,r,e=void 0===e?u:e,null)},j.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t);e=e._receiverAt(t);this._addCallbacks(n,r,i,e=void 0===e?u:e,null)},j.prototype._addCallbacks=function(e,t,n,r,i){var o,a=this._length();return 65531<=a&&this._setLength(a=0),0===a?(this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=l.contextBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=l.contextBind(i,t))):(this[2+(o=4*a-4)]=n,this[3+o]=r,"function"==typeof e&&(this[o]=l.contextBind(i,e)),"function"==typeof t&&(this[1+o]=l.contextBind(i,t))),this._setLength(a+1),a},j.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},j.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(r(),!1);var n=C(e,this);if(!(n instanceof j))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)this._reject(r());else if(0==(50397184&(e=i._bitField))){var o=this._length();0<o&&i._migrateCallback0(this);for(var a=1;a<o;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else 0!=(33554432&e)?this._fulfill(i._value()):0!=(16777216&e)?this._reject(i._reason()):(t=new b("late cancellation observer"),i._attachExtraTrace(t),this._reject(t))}},j.prototype._rejectCallback=function(e,t,n){var r=l.ensureErrorObject(e),i=r===e;i||n||!_.warnings()||(n="a promise was rejected with a non-error: "+l.classString(e),this._warn(n,!0)),this._attachExtraTrace(r,!!t&&i),this._reject(e)},j.prototype._resolveFromExecutor=function(e){var t,n;e!==w&&((t=this)._captureStackTrace(),this._pushContext(),n=!0,e=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)}),n=!1,this._popContext(),void 0!==e&&t._rejectCallback(e,!0))},j.prototype._settlePromiseFromHandler=function(e,t,n,r){var i;0==(65536&r._bitField)&&(r._pushContext(),t===S?n&&"number"==typeof n.length?i=M(e).apply(this._boundValue(),n):(i=R).e=new m("cannot .spread() a non-array: "+l.classString(n)):i=M(e).call(t,n),e=r._popContext(),0==(65536&r._bitField)&&(i===k?r._reject(n):i===R?r._rejectCallback(i.e,!1):(_.checkForgottenReturns(i,e,"",r,this),r._resolveCallback(i))))},j.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},j.prototype._followee=function(){return this._rejectionHandler0},j.prototype._setFollowee=function(e){this._rejectionHandler0=e},j.prototype._settlePromise=function(e,t,n,r){var o=e instanceof j,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(o&&e._invokeInternalOnCancel(),n instanceof O&&n.isFinallyHandler()?(n.cancelPromise=e,M(t).call(n,r)===R&&e._reject(R.e)):t===i?e._fulfill(i.call(n)):n instanceof a?n._promiseCancelled(e):o||e instanceof T?e._cancel():n.cancel()):"function"==typeof t?o?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,r,e)):t.call(n,r,e):n instanceof a?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(r,e):n._promiseRejected(r,e)):o&&(c&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(r):e._reject(r))},j.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver;e=e.value;"function"==typeof t?n instanceof j?this._settlePromiseFromHandler(t,r,e,n):t.call(r,e,n):n instanceof j&&n._reject(e)},j.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},j.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},j.prototype._clearCallbackDataAtIndex=function(e){this[2+(e=4*e-4)]=this[3+e]=this[e]=this[1+e]=void 0},j.prototype._fulfill=function(e){var t,n=this._bitField;if(!((117506048&n)>>>16)){if(e===this)return t=r(),this._attachExtraTrace(t),this._reject(t);this._setFulfilled(),this._rejectionHandler0=e,0<(65535&n)&&(0!=(134217728&n)?this._settlePromises():v.settlePromises(this),this._dereferenceTrace())}},j.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return v.fatalError(e,l.isNode);0<(65535&t)?v.settlePromises(this):this._ensurePossibleRejectionHandled()}},j.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},j.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},j.prototype._settlePromises=function(){var e,t=this._bitField,n=65535&t;0<n&&(0!=(16842752&t)?(e=this._fulfillmentHandler0,this._settlePromise0(this._rejectionHandler0,e,t),this._rejectPromises(n,e)):(e=this._rejectionHandler0,this._settlePromise0(this._fulfillmentHandler0,e,t),this._fulfillPromises(n,e)),this._setLength(0)),this._clearCancellationData()},j.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&h.defineProperty(j.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),j.defer=j.pending=function(){return _.deprecated("Promise.defer","new Promise"),{promise:new j(w),resolve:x,reject:F}},l.notEnumerableProp(j,"_makeSelfResolutionError",r),t("./method")(j,w,C,o,_),t("./bind")(j,w,C,_),t("./cancel")(j,T,o,_),t("./direct_resolve")(j),t("./synchronous_inspection")(j),t("./join")(j,T,C,w,v),(j.Promise=j).version="3.7.2",t("./call_get.js")(j),t("./generators.js")(j,o,w,C,a,_),t("./map.js")(j,T,o,C,w,_),t("./nodeify.js")(j),t("./promisify.js")(j,w),t("./props.js")(j,T,C,o),t("./race.js")(j,w,C,o),t("./reduce.js")(j,T,o,C,w,_),t("./settle.js")(j,T,_),t("./some.js")(j,T,o),t("./timers.js")(j,w,_),t("./using.js")(j,o,C,P,w,_),t("./any.js")(j),t("./each.js")(j,w),t("./filter.js")(j,w),l.toFastProperties(j),l.toFastProperties(j.prototype),D({a:1}),D({b:2}),D({c:3}),D(1),D(function(){}),D(void 0),D(!1),D(new j(w)),_.setBounds(y.firstLineError,l.lastLineError),j}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util");function s(e){var r=this._promise=new t(n);e instanceof t&&(r._propagateFrom(e,3),e.suppressUnhandledRejections()),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){if((s=r(this._values,this._promise))instanceof t){var s,c=(s=s._target())._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}null===(s=a.asArray(s))?(c=i("expecting an array or an iterable object but got "+a.classString(s)).reason(),this._promise._rejectCallback(c,!1)):0===s.length?-5===o?this._resolveEmptyArray():this._resolve((function(e){switch(o){case-2:return[];case-3:return{};case-6:return new Map}})()):this._iterate(s)},s.prototype._iterate=function(e){for(var n=this.getActualLength(e.length),i=(this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values,this._promise),o=!1,a=null,s=0;s<n;++s){var c=r(e[s],i);a=c instanceof t?(c=c._target())._bitField:null;o?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var r={},i=e("./util"),o=e("./nodeback"),a=i.withAppended,s=i.maybeWrapAsError,c=i.canEvaluate,u=e("./errors").TypeError,l={__isPromisified__:!0},d=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),f=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function p(e){return!d.test(e)}function h(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function y(e,t,n,r){for(var o,a=i.inheritedDataKeys(e),s=[],c=0;c<a.length;++c){var d=a[c],p=e[d],y=r===f||f(d,p,e);"function"!=typeof p||h(p)||(o=e,(o=i.getDataPropertyOrDefault(o,d+t,l))&&h(o))||!r(d,p,e,y)||s.push(d,p)}for(var v=s,g=t,m=n,b=0;b<v.length;b+=2){var w=v[b];if(m.test(w))for(var S=w.replace(m,""),k=0;k<v.length;k+=2)if(v[k]===S)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",g))}return s}var v=c?void 0:function(e,c,u,l,d,f){var p=(function(){return this})(),h=e;function y(){var i=c,u=(c===r&&(i=this),new t(n)),l=(u._captureStackTrace(),"string"==typeof h&&this!==p?this[h]:e),d=o(u,f);try{l.apply(i,a(arguments,d))}catch(i){u._rejectCallback(s(i),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}return"string"==typeof h&&(e=l),i.notEnumerableProp(y,"__isPromisified__",!0),y};function g(e,t,n,o,a){for(var s=new RegExp(t.replace(/([$])/,"\\$")+"$"),c=y(e,t,s,n),u=0,l=c.length;u<l;u+=2){var d,f=c[u],p=c[u+1],h=f+t;o===v?e[h]=v(f,r,f,p,t,a):(d=o(p,function(){return v(f,r,f,p,t,a)}),i.notEnumerableProp(d,"__isPromisified__",!0),e[h]=d)}return i.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new u("expecting a function but got "+i.classString(e));var n;return h(e)?e:(n=void 0===(t=Object(t)).context?r:t.context,t=!!t.multiArgs,n=v(e,n,void 0,e,null,t),i.copyDescriptors(e,n,p),n)},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix,o=t.filter,a=("function"!=typeof o&&(o=f),t.promisifier);if("function"!=typeof a&&(a=v),!i.isIdentifier(r="string"!=typeof r?"Async":r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(e),c=0;c<s.length;++c){var l=e[s[c]];"constructor"!==s[c]&&i.isClass(l)&&(g(l.prototype,r,o,a,n),g(l,r,o,a,n))}return g(e,r,o,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o,a,s,c=e("./util"),u=c.isObject,l=e("./es5"),d=("function"==typeof Map&&(o=Map),s=0,function(e){a=e.size,s=0;var t=new Array(2*e.size);return e.forEach(f,t),t});function f(e,t){this[s]=e,this[s+a]=t,s++}function p(e){var t=!1;if(void 0!==o&&e instanceof o)i=d(e),t=!0;else for(var n=l.keys(e),r=n.length,i=new Array(2*r),a=0;a<r;++a){var s=n[a];i[a]=e[s],i[a+r]=s}this.constructor$(i),this._isMap=t,this._init$(void 0,t?-6:-3)}function h(e){var n;e=r(e);return u(e)?(n=e instanceof t?e._then(t.props,void 0,void 0,void 0,void 0):new p(e).promise(),e instanceof t&&n._propagateFrom(e,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}c.inherits(p,n),p.prototype._init=function(){},p.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){if(this._isMap)n=(function(e){for(var t=new o,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],a=e[r];t.set(i,a)}return t})(this._values);else for(var n={},r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i];return this._resolve(n),!0}return!1},p.prototype.shouldCopyValues=function(){return!1},p.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return h(this)},t.props=h}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this[(this._checkCapacity(t+1),this._front+t&this._capacity-1)]=e,this._length=t+1},r.prototype.push=function(e,t,n){var r,i,o=this.length()+3;this._willBeOverCapacity(o)?(this._pushOne(e),this._pushOne(t),this._pushOne(n)):(r=this._front+o-3,this._checkCapacity(o),this[r&(i=this._capacity-1)]=e,this[1+r&i]=t,this[2+r&i]=n,this._length=o)},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;for(var n=t,r=e=this._front+this._length&t-1,i=0;i<r;++i)this[i+n]=this[i+0],this[i+0]=void 0},t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){return e.then(function(t){return s(t,e)})}var a=e("./util");function s(e,s){var c=r(e);if(c instanceof t)return o(c);if(null===(e=a.asArray(e)))return i("expecting an array or an iterable object but got "+a.classString(e));for(var u=new t(n),l=(void 0!==s&&u._propagateFrom(s,3),u._fulfill),d=u._reject,f=0,p=e.length;f<p;++f){var h=e[f];(void 0!==h||f in e)&&t.cast(h)._then(l,d,void 0,u,null)}return u}t.race=function(e){return s(e,void 0)},t.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util"),c=s.tryCatch;function u(e,n,r,i){this.constructor$(e),e=t._getContext(),this._fn=s.contextBind(e,n),void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function d(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+s.classString(t)):new u(e,t,n,i).promise()}function f(e){return this.accum=e,this.array._gotAccum(e),(e=i(this.value,this.array._promise))instanceof t?(this.array._currentCancellable=e)._then(p,void 0,void 0,this,void 0):p.call(this,e)}function p(e){var n=this.array,r=n._promise,i=c(n._fn);r._pushContext(),(i=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=i),e=r._popContext();return a.checkForgottenReturns(i,e,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),i}s.inherits(u,n),u.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},u.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},u.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},u.prototype._iterate=function(e){var n=(this._values=e).length,r=void 0!==this._initialValue?(s=this._initialValue,0):(s=t.resolve(e[0]),1);this._currentCancellable=s;for(var i=r;i<n;++i){var o=e[i];o instanceof t&&o.suppressUnhandledRejections()}if(!s.isRejected())for(;r<n;++r){var a={accum:null,value:e[r],index:r,length:n,array:this},s=s._then(f,void 0,void 0,a,void 0);0==(127&r)&&s._setNoAsyncGuarantee()}(s=void 0!==this._eachValues?s._then(this._eachComplete,void 0,void 0,this,void 0):s)._then(l,l,void 0,s,this)},t.prototype.reduce=function(e,t){return d(this,e,t,null)},t.reduce=d}},{"./util":36}],29:[function(n,r,o){"use strict";var a,s,c,u=(n=n("./util")).getNativePromise();n=n.isNode&&"undefined"==typeof MutationObserver?(a=t.setImmediate,s=e.nextTick,n.isRecentNode?function(e){a.call(t,e)}:function(t){s.call(e,t)}):"function"==typeof u&&"function"==typeof u.resolve?(c=u.resolve(),function(e){c.then(e)}):"undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?(function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");return new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t),function(i){var o=new MutationObserver(function(){o.disconnect(),i()});o.observe(e,t),n||(n=!0,r.classList.toggle("foo"))}})():void 0!==i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},r.exports=n},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=t.PromiseInspection;function o(e){this.constructor$(e)}e("./util").inherits(o,n),o.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},o.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new o(e).promise()},t.allSettled=function(e){return new o(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=e("./errors").RangeError,a=e("./errors").AggregateError,s=i.isArray,c={};function u(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(e,t){var n;return(0|t)!==t||t<0?r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n"):(n=(e=new u(e)).promise(),e.setHowMany(t),e.init(),n)}i.inherits(u,n),u.prototype._init=function(){var e;this._initialized&&(0===this._howMany?this._resolve([]):(this._init$(void 0,-5),e=s(this._values),!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))))},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(e){this._howMany=e},u.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},u.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==c&&e.push(this._values[t]);return 0<e.length?this._reject(e):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(e){this._values.push(e)},u.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(e){return e="Input array must contain at least "+this._howMany+" items but contains only "+e+" items",new o(e)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=l,t.prototype.some=function(e){return l(this,e)},t._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(this.isFulfilled())return this._settledValue();throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")},r=t.prototype.error=t.prototype.reason=function(){if(this.isRejected())return this._settledValue();throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util"),i=r.errorObj,o=r.isObject,a={}.hasOwnProperty;return function(e,s){if(o(e)){if(e instanceof t)return e;var c,u,l,d,f=(function(e){try{return e.then}catch(e){return i.e=e,i}})(e);if(f===i)return s&&s._pushContext(),c=t.reject(f.e),s&&s._popContext(),c;if("function"==typeof f)return(function(e){try{return a.call(e,"_promise0")}catch(e){}})(e)?(c=new t(n),e._then(c._fulfill,c._reject,void 0,c,null),c):(c=e,f=f,s=s,l=u=new t(n),s&&s._pushContext(),u._captureStackTrace(),s&&s._popContext(),d=!0,s=r.tryCatch(f).call(c,function(e){u&&(u._resolveCallback(e),u=null)},function(e){u&&(u._rejectCallback(e,d,!0),u=null)}),d=!1,u&&s===i&&(u._rejectCallback(s.e,!0,!0),u=null),l)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=t.TimeoutError;function a(e){this.handle=e}function s(e){return c(+this).thenReturn(e)}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=t.delay=function(e,i){var o;return void 0!==i?(o=t.resolve(i)._then(s,null,null,e,void 0),r.cancellation()&&i instanceof t&&o._setOnCancel(i)):(o=new t(n),i=setTimeout(function(){o._fulfill()},+e),r.cancellation()&&o._setOnCancel(new a(i)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function u(e){return clearTimeout(this.handle),e}function l(e){throw clearTimeout(this.handle),e}t.prototype.delay=function(e){return c(e,this)},t.prototype.timeout=function(e,t){e=+e;var n,s;e=new a(setTimeout(function(){var e,r,a;n.isPending()&&(e=n,a=s,r="string"!=typeof(r=t)?r instanceof Error?r:new o("operation timed out"):new o(r),i.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=a&&a.cancel())},e));return r.cancellation()?(s=this.then(),(n=s._then(u,l,void 0,e,void 0))._setOnCancel(e)):n=this._then(u,l,void 0,e,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util"),c=e("./errors").TypeError,u=e("./util").inherits,l=s.errorObj,d=s.tryCatch,f={};function p(e){setTimeout(function(){throw e},0)}function h(e,n){var i=0,a=e.length,s=new t(o);return(function o(){if(a<=i)return s._fulfill();u=e[i++],(c=r(u))!==u&&"function"==typeof u._isDisposable&&"function"==typeof u._getDisposer&&u._isDisposable()&&c._setDisposable(u._getDisposer());var c,u=c;if(u instanceof t&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),e.promise)}catch(o){return p(o)}if(u instanceof t)return u._then(o,p,null,null,null)}o()})(),s}function y(e,t,n){this._data=e,this._promise=t,this._context=n}function v(e,t,n){this.constructor$(e,t,n)}function g(e){return y.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function m(e){this.length=e,this.promise=null,this[e-1]=null}y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},y.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext(),t=t!==f?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,t},y.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},u(v,y),v.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},m.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[e-1];if("function"!=typeof o)return n("expecting a function but got "+s.classString(o));for(var c=!0,u=(2===e&&Array.isArray(arguments[0])?(e=(i=arguments[0]).length,c=!1):(i=arguments,e--),new m(e)),f=0;f<e;++f){var p,v=i[f];y.isDisposer(v)?(v=(p=v).promise())._setDisposable(p):(p=r(v))instanceof t&&(v=p._then(g,null,null,{resources:u,index:f},void 0)),u[f]=v}var b=new Array(u.length);for(f=0;f<b.length;++f)b[f]=t.resolve(u[f]).reflect();var w=t.all(b).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}S._pushContext(),o=d(o);var r=c?o.apply(void 0,e):o(e),i=S._popContext();return a.checkForgottenReturns(r,i,"Promise.using",S),r}),S=w.lastly(function(){var e=new t.PromiseInspection(w);return h(u,e)});return(u.promise=S)._setOnCancel(u),S},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return 0<(131072&this._bitField)},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new v(e,this,i());throw new c}}},{"./errors":12,"./util":36}],36:[function(n,r,i){"use strict";var o,a=n("./es5"),s="undefined"==typeof navigator,c={e:{}},u="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0!==this?this:null;function l(){try{var e=o;return o=null,e.apply(this,arguments)}catch(e){return c.e=e,c}}function d(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function f(e,t,n){return d(e)||a.defineProperty(e,t,{value:n,configurable:!0,enumerable:!1,writable:!0}),e}var p=(function(){function e(e){for(var t=0;t<r.length;++t)if(r[t]===e)return 1}var t,n,r=[Array.prototype,Object.prototype,Function.prototype];return a.isES5?(t=Object.getOwnPropertyNames,function(n){for(var r,i=[],o=Object.create(null);null!=n&&!e(n);){try{r=t(n)}catch(n){return i}for(var s=0;s<r.length;++s){var c,u=r[s];o[u]||(o[u]=!0,null!=(c=Object.getOwnPropertyDescriptor(n,u))&&null==c.get&&null==c.set&&i.push(u))}n=a.getPrototypeOf(n)}return i}):(n={}.hasOwnProperty,function(t){if(e(t))return[];var i=[];e:for(var o in t){if(!n.call(t,o))for(var a=0;a<r.length;++a)if(n.call(r[a],o))continue e;i.push(o)}return i})})(),h=/this\s*\.\s*\S+\s*=/;var y=/^[a-z$_][a-z$_0-9]*$/i;function v(e){try{return e+""}catch(e){return"[no string representation]"}}function g(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function m(e){return g(e)&&a.propertyIsWritable(e,"stack")}var b="stack"in new Error?function(e){return m(e)?e:new Error(v(e))}:function(e){if(m(e))return e;try{throw new Error(v(e))}catch(e){return e}};function w(e){return{}.toString.call(e)}var S,k,C=function(e){return a.isArray(e)?e:null},T=("undefined"!=typeof Symbol&&Symbol.iterator&&(S="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n},C=function(e){return a.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?S(e):null}),void 0!==e&&"[object process]"===w(e).toLowerCase()),P=void 0!==e&&void 0!==e.env;var _={setReflectHandler:function(e){k=e},isClass:function(e){try{if("function"==typeof e){var t=a.names(e.prototype),n=a.isES5&&1<t.length,r=0<t.length&&!(1===t.length&&"constructor"===t[0]),i=h.test(e+"")&&0<a.names(e).length;if(n||r||i)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return y.test(e)},inheritedDataKeys:p,getDataPropertyOrDefault:function(e,t,n){var r;return a.isES5?null!=(r=Object.getOwnPropertyDescriptor(e,t))?null==r.get&&null==r.set?r.value:n:void 0:{}.hasOwnProperty.call(e,t)?e[t]:void 0},thrower:function(e){throw e},isArray:a.isArray,asArray:C,notEnumerableProp:f,isPrimitive:d,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:g,canEvaluate:s,errorObj:c,tryCatch:function(e){return o=e,l},inherits:function(e,t){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=e,(this.constructor$=t).prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}return r.prototype=t.prototype,e.prototype=new r,e.prototype},withAppended:function(e,t){for(var n=e.length,r=new Array(n+1),i=0;i<n;++i)r[i]=e[i];return r[i]=t,r},maybeWrapAsError:function(e){return d(e)?new Error(v(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;var n=new t;function r(){n.foo}return r(),r(),e},filledRange:function(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r},toString:v,canAttachTrace:m,ensureErrorObject:b,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{f(e,"isOperational",!0)}catch(e){}},classString:w,copyDescriptors:function(e,t,n){for(var r=a.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{a.defineProperty(t,o,a.getDescriptor(e,o))}catch(e){}}},isNode:T,hasEnvVariables:P,env:function(t){return P?e.env[t]:void 0},global:u,getNativePromise:function(){if("function"==typeof Promise)try{if("[object Promise]"===w(new Promise(function(){})))return Promise}catch(e){}},contextBind:function(e,t){var n,r;return null!==e&&"function"==typeof t&&t!==k&&(null!==e.domain&&(t=e.domain.bind(t)),null!==(n=e.async)&&(r=t,t=function(){var e=new Array(2).concat([].slice.call(arguments));return e[0]=r,e[1]=this,n.runInAsyncScope.apply(n,e)})),t}};_.isRecentNode=_.isNode&&(function(){var t;return e.versions&&e.versions.node?t=e.versions.node.split(".").map(Number):e.version&&(t=e.version.split(".").map(Number)),0===t[0]&&10<t[1]||0<t[0]})(),_.nodeSupportsAsyncResource=_.isNode&&(function(){var e=!1;try{e="function"==typeof n("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(t){e=!1}return e})(),_.isNode&&_.toFastProperties(e);try{throw new Error}catch(n){_.lastLineError=n}r.exports=_},{"./es5":13,async_hooks:void 0}]},{},[4])(4)},"object"==typeof r&&void 0!==n?n.exports=o():"function"==typeof define&&define.amd?define([],o):("undefined"!=typeof window?a=window:void 0!==t?a=t:"undefined"!=typeof self&&(a=self),a.Promise=o()),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this)}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{_process:29,timers:30}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PreCallTest=void 0;var r=e("./turnConnection"),i=e("./tests/rttTest"),o=e("./tests/throughputTest"),a=e("./tests/lossTest"),s=e("./utility/resultsHandler"),c=e("./utility/onlineCheck"),u=e("./utility/stats/detectbrowser"),l=e("./mlPipeline/mlPipeline"),d=e("./mlPipeline/notification");function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=e("bluebird"),h="rtt",y="loss",v="throughput";(function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)})(g,[{key:"start",value:function(e,t,n){this.browserInfo.browserName!==u.Constants.browserName.msie?(this.iceServers=e,this.callback=n,this.active?this.callback&&this.callback(null,"Not started: already in progress"):0<this.callsInProgress?this.callback&&this.callback(null,"Not started: call in progress"):e?(this.turnTestCounter=0,this.resultsHandler=new s.ResultsHandler,t&&(this.resultsHandler.setProvider(t.provider),this.resultsHandler.setisRunManually(t.isRunManually),this.resultsHandler.setrunByUser(t.runByUser),this.resultsHandler.setEnableMLNotification(t.enableMLNotification)),n={type:"browser",os:this.browserInfo.os,osVersion:this.browserInfo.osVersion,buildName:this.browserInfo.browserName,buildVersion:this.browserInfo.browserVersion,userAgent:this.browserInfo.userAgent},this.resultsHandler.add("endpointInfo",n),this.onlineCheck.start(),this.active=!0,this._start()):this.callback&&this.callback(null,"Not started: no ICE servers given")):this.callback&&this.callback(null,"Not started: disabled for IE")}},{key:"_start",value:function(){var e=this;this.active&&(this.turnConnection=new r.TurnConnection(this.browserInfo),this.turnConnection.connect(this.iceServers).then(function(){e.active?(e.resultsHandler&&e.resultsHandler.setStatusSuccess(),e.startTurnTests().then(function(){e.stop()},function(t){e.stop()})):e.stop()},function(t){var n=t.continueFlag;if(e.resultsHandler&&e.resultsHandler.failure(t),n)!e.resultsHandler||(e.resultsHandler.setStatusFailed(),10<=e.resultsHandler.getFailureNumber())?e.stop():(e.turnConnection.disconnect(),setTimeout(function(){e._start()},0));else{e.turnConnection.disconnect(),e.active=!1;var r="";try{r=t.stack}catch(n){r=t.toString()}r&&""!==r||(r=t.toString()),e.resultsHandler&&e.resultsHandler.setStatusFailed(),e.callback(null,r)}}))}},{key:"stop",value:function(){var e,t=this;this.browserInfo.browserName!==u.Constants.browserName.msie&&this.active&&(this.active=!1,this.activeTurnTest&&this.activeTurnTest.forceStop(),e=this.onlineCheck.stop(),this.resultsHandler&&this.resultsHandler.add("onlineStatus",e),this.turnConnection.getIceResults().then(function(e){t.resultsHandler&&t.resultsHandler.add("ice",e),t.turnConnection.disconnect(),t.sendResults()},function(e){t.resultsHandler&&t.resultsHandler.failure(e),t.turnConnection.disconnect(),t.sendResults()}))}},{key:"sendResults",value:function(){if(this.resultsHandler){var e=this.resultsHandler.getResults();if(this.callback){if(this.resultsHandler.enableMLNotification){var t=null;try{t=this.MLPipeline.run({throughput:e.tests.throughput.average,rtt:e.tests.rtt.median,lossFraction:e.tests.throughput.fractionLostBytes,jitter:e.tests.rtt.variance,localIP:e.tests.ice.localIP})}catch(e){(t=new d.Notification).setErrorMessage="ML Pipeline execution error:"+e.message,t=t.get()}e.mlNotification=t}this.resultsHandler=null,this.callback(e,null)}}else this.callback&&this.callback(null,"No results present")}},{key:"callStarts",value:function(){this.callsInProgress+=1,this.resultsHandler&&this.resultsHandler.setStatusStopped(),this.stop()}},{key:"callFinished",value:function(){--this.callsInProgress}},{key:"getId",value:function(){return this.resultsHandler?this.resultsHandler.getId():null}},{key:"crashDisconnect",value:function(){try{this.turnConnection.disconnect()}catch(e){}}},{key:"startTurnTests",value:function(){var e=this;if(this.turnTestCounter>=this.turnTests.length)return new p(function(e,t){e()});var t=this.turnTests[this.turnTestCounter],n=null;switch(t){case h:n=new i.RttTest(this.turnConnection);break;case y:n=new a.LossTest(this.turnConnection);break;case v:n=new o.ThroughputTest(this.turnConnection,this.rtt,this.fractionLostBytes);break;default:return new p(function(e,n){n(new Error("Unknown test: "+t))})}return this.activeTurnTest=n,this.active?n.start().then(function(){return e.handleTestResults(t,n.getResults()),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()},function(r){return e.handleTestResults(t,n.getResults(),r),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()}):new p(function(e,t){t(new Error("Test trying to start while testing is not active"))})}},{key:"handleTestResults",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null==n&&e==h?this.rtt=t.median:null==n&&e==y&&(this.fractionLostBytes=t.fractionLostBytes),this.resultsHandler&&this.resultsHandler.add(e,t)}}]),e=g;function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.browserInfo=(0,u.detect)(),this.onlineCheck=new c.OnlineCheck,this.callsInProgress=0,this.turnTests=[h,y,v],this.active=!1,this.rtt=null,this.fractionLostBytes=-1,this.resultsHandler=null,this.MLPipeline=new l.MLPipeline}n.PreCallTest=e},{"./mlPipeline/mlPipeline":10,"./mlPipeline/notification":12,"./tests/lossTest":15,"./tests/rttTest":16,"./tests/throughputTest":17,"./turnConnection":19,"./utility/onlineCheck":21,"./utility/resultsHandler":24,"./utility/stats/detectbrowser":25,bluebird:2}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.config={WINDOW_SIZE:4,MIN_WINDOW_SIZE:4,SCT_METRICS_LIST:["throughput","rtt","jitter","lossFraction"],TIME_INTERVAL:36e5,notificationStatusMessage:{Ready:"Ready",Default:"Wait for more data",Error:"Wait for more data"},THROUGHPUT_MODEL:{EXCELLENT_INTERVAL:[1e3,1/0],GOOD_INTERVAL:[300,1e3],FAIR_INTERVAL:[150,300],POOR_INTERVAL:[24,150],BAD_INTERVAL:[0,24]},RTT_MODEL:{GOOD_INTERVAL:[0,150],OK_INTERVAL:[150,300],BAD_INTERVAL:[300,1/0]},LOSS_FRACTION_MODEL:{GOOD_INTERVAL:[0,.05],OK_INTERVAL:[.05,.1],BAD_INTERVAL:[.1,1]},JITTER_MODEL:{GOOD_INTERVAL:[0,40],OK_INTERVAL:[40,100],BAD_INTERVAL:[100,1/0]},DATA_COLLECTOR_NETWORK_PROPERTIES:["localID","networkType","localIP","status","siteID","deviceID","runManually","isp","city","country"],NOTIFICATION_NETWORK_PROPERTIES:["localIP","networkType","deviceID","isp","city","country"]}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InvalidTimestampError=n.SlidingWindow=n.DataCollector=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e},i=e("./config.js");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=(function(){function e(t){return s(this,e),(t=(function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).name="InvalidTimestampError",t}var t=e,n=Error;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n),e})(),u=(r(d,[{key:"setWindowSize",value:function(e){this.windowSize=e}},{key:"getWindow",value:function(){return this.newData=!1,this.window}},{key:"hasNewData",value:function(){return this.newData}},{key:"checkWindow",value:function(){return this.validWindow}},{key:"clear",value:function(){this.window=[],this.counters.clear(),this.newData=!1,this.validWindow=!1}},{key:"calcMajority",value:function(){var e=this;if(0===this.counters.size)return null;this.newData=!1;var t=Math.max.apply(Math,a(this.counters.values())),n=[].concat(a(this.counters.keys())).filter(function(n){return e.counters.get(n)===t});return 1<n.length?this._calcAverageFloor(this.window):n[0]}},{key:"add",value:function(e,t){return null!==this.latestTimeBoundary&&e<this.latestTimeBoundary-this.minTimeInterval/5?(this.newData=!1,new c("Invalid timestamp: "+e+". \n        The timestamp is earlier than the time boundary: "+this.latestTimeBoundary+".")):(this.latestTimeBoundary=this._getTimeBoundary(e),this._add(t),null)}},{key:"_add",value:function(e){var t;this.window.push(e),this.counters.has(e)?(t=this.counters.get(e),this.counters.set(e,t+1)):this.counters.set(e,1),this.window.length>this.windowSize&&(t=this.window.shift(),e=this.counters.get(t),this.counters.set(t,e-1)),this.window.length>=this.minWindowSize?this.validWindow=!0:this.validWindow=!1,this.newData=!0}},{key:"_getTimeBucket",value:function(e){return[e-=e%this.minTimeInterval,e+this.minTimeInterval]}},{key:"_getTimeBoundary",value:function(e){return this._getTimeBucket(e)[1]}},{key:"_calcAverageFloor",value:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];var r=t/e.length;return Math.floor(r)}}]),d);r(l,[{key:"setNewNetworkContext",value:function(e){this.newNetworkContext=e}},{key:"getSlidingWindows",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,o=this.sctMetricsList[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e[a]=this.slidingWindows[a].getWindow()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}},{key:"getNetworkContext",value:function(){return this.networkContext}},{key:"checkWindows",value:function(){var e=!0,t=!0,n=!1,r=void 0;try{for(var i,o=this.sctMetricsList[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.slidingWindows[a].hasNewData()&&this.slidingWindows[a].checkWindow()||(e=!1)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}},{key:"checkNetworkContext",value:function(){return this.newNetworkContext}},{key:"calcSlidingWindowsMajority",value:function(){return{throughput:this.slidingWindows.throughput.calcMajority(),rtt:this.slidingWindows.rtt.calcMajority(),lossFraction:this.slidingWindows.lossFraction.calcMajority(),jitter:this.slidingWindows.jitter.calcMajority()}}},{key:"add",value:function(e){try{this._updateNetworkContext(e)}catch(e){return new Error("Unable to update network context.")}var t=e.timestamp;if(!0===this.newNetworkContext){var n=!0,r=!1,i=void 0;try{for(var o,a=this.sctMetricsList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.slidingWindows[s].clear()}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}if(!("throughputRating"in e))return new Error("Missing throughput rating.");if(!("rttRating"in e))return new Error("Missing rtt rating.");if(!("lossFractionRating"in e))return new Error("Missing loss fraction rating.");if(!("jitterRating"in e))return new Error("Missing jitter rating.");r=null;try{r=this.slidingWindows.throughput.add(t,e.throughputRating)}catch(e){return e}try{r=this.slidingWindows.rtt.add(t,e.rttRating)}catch(e){return e}try{r=this.slidingWindows.lossFraction.add(t,e.lossFractionRating)}catch(e){return e}try{r=this.slidingWindows.jitter.add(t,e.jitterRating)}catch(e){return e}return null!=r?r:null}},{key:"_updateNetworkContext",value:function(e){e.hasOwnProperty("localIP")&&this.networkContext.localIP!==e.localIP?this.newNetworkContext=!0:this.newNetworkContext=!1;var t=!0,n=!1,r=void 0;try{for(var o,a=i.config.DATA_COLLECTOR_NETWORK_PROPERTIES[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;s in e&&(this.networkContext[s]=e[s])}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}}]),e=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=(s(this,l),this.newNetworkContext=!1,this.networkContext={},this.sctMetricsList=i.config.SCT_METRICS_LIST,this.slidingWindows={},this.timeInterval=null!==e?e:i.config.TIME_INTERVAL,!0),n=!1,r=void 0;try{for(var o,a=this.sctMetricsList[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var c=o.value;this.slidingWindows[c]=new u(i.config.WINDOW_SIZE,this.timeInterval,i.config.MIN_WINDOW_SIZE)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}var d=!0;n=!1,r=void 0;try{for(var f,p=i.config.DATA_COLLECTOR_NETWORK_PROPERTIES[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var h=f.value;this.networkContext[h]=null}}catch(e){n=!0,r=e}finally{try{!d&&p.return&&p.return()}finally{if(n)throw r}}}function d(e,t,n){s(this,d),this.counters=new Map,this.latestTimeBoundary=null,this.minTimeInterval=t,this.minWindowSize=n,this.newData=!1,this.windowSize=e,this.window=[],this.validWindow=!1}n.DataCollector=e,n.SlidingWindow=u,n.InvalidTimestampError=c},{"./config.js":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.throughputQuality=n.Quality=n.SimpleThroughputQualityRater=n.SimpleQualityRater=n.DataPreprocessor=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e},i=e("./config.js");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s={GOOD:3,OK:2,BAD:1,toString:function(e){return e==this.GOOD?"GOOD":e==this.BAD?"BAD":e==this.OK?"OK":void 0}},c={EXCELLENT:5,GOOD:4,FAIR:3,POOR:2,BAD:1,toString:function(e){return e==this.GOOD?"GOOD":e==this.BAD?"BAD":e==this.POOR?"POOR":e==this.EXCELLENT?"EXCELLENT":e==this.FAIR?"FAIR":void 0}},u=(Object.freeze(s),Object.freeze(c),r(f,[{key:"classifyQuality",value:function(e){return null===e?-1:e>=this.goodInterval[0]&&e<this.goodInterval[1]?s.GOOD:e>=this.okInterval[0]&&e<this.okInterval[1]?s.OK:e>=this.badInterval[0]&&e<=this.badInterval[1]?s.BAD:-1}}]),f),l=(function(){function e(t,n,r,i,o){return a(this,e),(n=(function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,null,o))).excellentInterval=t,n.fairInterval=r,n.poorInterval=i,n}var t=e,n=u;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n),r(e,[{key:"classifyQuality",value:function(e){return null===e?-1:e>=this.excellentInterval[0]&&e<=this.excellentInterval[1]?c.EXCELLENT:e>=this.goodInterval[0]&&e<this.goodInterval[1]?c.GOOD:e>=this.fairInterval[0]&&e<this.fairInterval[1]?c.FAIR:e>=this.poorInterval[0]&&e<this.poorInterval[1]?c.POOR:e>=this.badInterval[0]&&e<this.badInterval[1]?c.BAD:-1}}]),e})();function d(){a(this,d),this.throughputRater=new l(i.config.THROUGHPUT_MODEL.EXCELLENT_INTERVAL,i.config.THROUGHPUT_MODEL.GOOD_INTERVAL,i.config.THROUGHPUT_MODEL.FAIR_INTERVAL,i.config.THROUGHPUT_MODEL.POOR_INTERVAL,i.config.THROUGHPUT_MODEL.BAD_INTERVAL),this.rttRater=new u(i.config.RTT_MODEL.GOOD_INTERVAL,i.config.RTT_MODEL.OK_INTERVAL,i.config.RTT_MODEL.BAD_INTERVAL),this.lossFractionRater=new u(i.config.LOSS_FRACTION_MODEL.GOOD_INTERVAL,i.config.LOSS_FRACTION_MODEL.OK_INTERVAL,i.config.LOSS_FRACTION_MODEL.BAD_INTERVAL),this.jitterRater=new u(i.config.JITTER_MODEL.GOOD_INTERVAL,i.config.JITTER_MODEL.OK_INTERVAL,i.config.JITTER_MODEL.BAD_INTERVAL)}function f(e,t,n){a(this,f),this.goodInterval=e,this.okInterval=t,this.badInterval=n}r(d,[{key:"classifyThroughputQuality",value:function(e){return this.throughputRater.classifyQuality(e)}},{key:"classifyRTTQuality",value:function(e){return this.rttRater.classifyQuality(e)}},{key:"classifyLossFractionQuality",value:function(e){return this.lossFractionRater.classifyQuality(e)}},{key:"classifyJitterQuality",value:function(e){return this.jitterRater.classifyQuality(e)}},{key:"process",value:function(e){try{e.throughputRating=this.classifyThroughputQuality(e.throughput)}catch(e){return new Error("Unable to process Throughput measurement.")}try{e.rttRating=this.classifyRTTQuality(e.rtt)}catch(e){return new Error("Unable to process RTT measurement.")}try{e.lossFractionRating=this.classifyLossFractionQuality(e.lossFraction)}catch(e){return new Error("Unable to process Loss Fraction measurement.")}try{e.jitterRating=this.classifyJitterQuality(e.jitter)}catch(e){return new Error("Unable to process Jitter measurement.")}return null}}]),n.DataPreprocessor=d,n.SimpleQualityRater=u,n.SimpleThroughputQualityRater=l,n.Quality=s,n.throughputQuality=c},{"./config.js":4}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataValidator=n.DataPreparer=n.DataCleaner=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e},i=e("./errors.js");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r(d,null,[{key:"validateMeasurement",value:function(e){return!("number"!=typeof e&&"bigint"!=typeof e||isNaN(e)||e<0)}},{key:"validateThroughput",value:function(e){return d.validateMeasurement(e)}},{key:"validateRTT",value:function(e){return d.validateMeasurement(e)}},{key:"validateLossFraction",value:function(e){return!("number"!=typeof e&&"bigint"!=typeof e||isNaN(e)||e<-1||1<e)}},{key:"validateJitter",value:function(e){return d.validateMeasurement(e)}}]);var s=d,c=(r(l,null,[{key:"cleanLossFraction",value:function(e){return e<0&-.001<=e?0:e<-.001?Math.abs(e):e}},{key:"cleanJitter",value:function(e){return Math.min(e,2e3)}}]),l);r(u,null,[{key:"prepare",value:function(e){return"throughput"in e&&s.validateThroughput(e.throughput)?"rtt"in e&&s.validateRTT(e.rtt)?"lossFraction"in e&&s.validateLossFraction(e.lossFraction)?"jitter"in e&&s.validateJitter(e.jitter)?(e.lossFraction=c.cleanLossFraction(e.lossFraction),e.jitter=c.cleanJitter(e.jitter),null):new i.InvalidJitterMeasurement("Invalid jitter measurement."):new i.InvalidLossFractionMeasurement("Invalid loss fraction measurement."):new i.InvalidRTTMeasurement("Invalid rtt measurement."):new i.InvalidThroughputMeasurement("Invalid throughput measurement.")}}]),e=u;function u(){a(this,u)}function l(){a(this,l)}function d(){a(this,d)}n.DataCleaner=c,n.DataPreparer=e,n.DataValidator=s},{"./errors.js":9}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkQualityElement=n.NetworkQuality=n.DecisionMaker=void 0;var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e},i=e("./res/sctMessages.js"),o=e("./dataPreprocessor.js");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r(f,[{key:"get",value:function(){return{code:this.code,text:this.text}}}],[{key:"fromJSON",value:function(e){return new f(e.code,e.text)}}]);var c=f,u=(r(d,[{key:"get",value:function(){return{connectivity:null!==this.connectivity?this.connectivity.get():null,status:null!==this.status?this.status.get():null,summary:null!==this.summary?this.summary.get():null,notification:null!==this.notification?this.notification.get():null,sctCode:this.sctCode}}}],[{key:"fromJSON",value:function(e){return new d({connectivity:c.fromJSON(e.connectivity),status:c.fromJSON(e.status),summary:c.fromJSON(e.summary),notification:c.fromJSON(e.notification),sctCode:e.sctCode})}}]),d);r(l,null,[{key:"getJRLTCode",value:function(e,t,n,r){return[e,t,n,r].join("")}},{key:"getNetworkQuality",value:function(e,t,n,r){return(e=this.getJRLTCode(e,t,n,r))in i.TABLE_OF_MESSAGES?[u.fromJSON(i.TABLE_OF_MESSAGES[e]).get(),null]:[null,Error("Invalid notificaton code: "+e)]}},{key:"updateNotification",value:function(e,t,n){var r,i=(r=(function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=e,r=t,i=[],o=!0;e=!1,t=void 0;try{for(var a,s=n[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!r||i.length!==r);o=!0);}catch(n){e=!0,t=n}finally{try{!o&&s.return&&s.return()}finally{if(e)throw t}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")})(this.getNetworkQuality(t.jitter,t.rtt,t.lossFraction,t.throughput),2))[0];return(r=r[1])?e.setErrorMessage(r.message):(e.jrltCode=this.getJRLTCode(t.jitter,t.rtt,t.lossFraction,t.throughput),e.queue={throughput:o.throughputQuality.toString(t.throughput),rtt:o.Quality.toString(t.rtt),lossFraction:o.Quality.toString(t.lossFraction),jitter:o.Quality.toString(t.jitter)},e.updateNetworkContext(n),e.setNetworkQuality(i)),e}}]),e=l;function l(){s(this,l)}function d(e){var t=void 0===(t=e.connectivity)?null:t,n=void 0===(n=e.status)?null:n,r=void 0===(r=e.summary)?null:r,i=void 0===(i=e.notification)?null:i;e=void 0===(e=e.sctCode)?null:e;s(this,d),this.connectivity=t,this.status=n,this.summary=r,this.notification=i,this.sctCode=e}function f(e,t){s(this,f),this.code=e,this.text=t}n.DecisionMaker=e,n.NetworkQuality=u,n.NetworkQualityElement=c},{"./dataPreprocessor.js":6,"./res/sctMessages.js":14}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),o(p,Error);var a=p,s=(o(f,Error),f),c=(o(d,Error),d),u=(o(l,Error),l);function l(e){return r(this,l),(e=i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e))).name="InvalidJitterMeasurement",e}function d(e){return r(this,d),(e=i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e))).name="InvalidLossFractionMeasurement",e}function f(e){return r(this,f),(e=i(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e))).name="InvalidRTTMeasurement",e}function p(e){return r(this,p),(e=i(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e))).name="InvalidThroughputMeasurement",e}n.InvalidThroughputMeasurement=a,n.InvalidRTTMeasurement=s,n.InvalidLossFractionMeasurement=c,n.InvalidJitterMeasurement=u},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MLPipeline=void 0;var r=e("./dataCollector.js"),i=e("./dataValidation.js"),o=e("./dataPreprocessor.js"),a=e("./decisionMaker.js"),s=e("./notification.js"),c=e("./model.js"),u=e("./notifier.js");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.dataCollector=new r.DataCollector,this.DataPreparer=i.DataPreparer,this.DataPreprocessor=new o.DataPreprocessor,this.decisionMaker=a.DecisionMaker,this.model=c.Model,this.notifier=u.Notifier}!(function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)})(d,[{key:"run",value:function(e){return this._run(e).get()}},{key:"_run",value:function(e){var t=void 0===(t=e.timestamp)?Date.now():t,n=e.runManually,r=e.status,i=e.appID,o=e.throughput,a=e.rtt,c=e.lossFraction,u=e.jitter,l=e.localID,d=e.localIP,f=e.networkType,p=e.siteID,h=e.deviceID,y=e.isp,v=e.city,g=e.country;n={runManually:void 0===n?null:n,status:void 0===r?null:r,appID:void 0===i?null:i,timestamp:t,throughput:void 0===o?null:o,rtt:void 0===a?null:a,lossFraction:void 0===c?null:c,jitter:void 0===u?null:u,localID:void 0===l?null:l,localIP:void 0===d?null:d,networkType:void 0===f?null:f,siteID:void 0===p?null:p,deviceID:void 0===h?null:h,isp:void 0===y?null:y,city:void 0===v?null:v,country:void 0===g?null:g},(r=new s.Notification).updateNetworkContext(n),i=null;try{i=this.DataPreparer.prepare(n)}catch(e){return t="Data Preparer: "+e.message,r.setErrorMessage(t),r}if(null!=i)o="Data Preparer: "+i.message,r.setErrorMessage(o);else{i=null;try{i=this.DataPreprocessor.process(n)}catch(e){return a="Data Preprocessor: "+e.message,r.setErrorMessage(a),r}if(null!=i)c="Data Preprocessor: "+i.message,r.setErrorMessage(c);else{i=null;try{i=this.dataCollector.add(n)}catch(e){return u="Data Collector: "+e.message,r.setErrorMessage(u),r}if(null!=i)l="Data Collector: "+i.message,r.setErrorMessage(l);else if(this.dataCollector.checkNetworkContext()&&r.setNewNetworkContext(),this.dataCollector.checkWindows()){d=null,i=null;try{d=this.model.predict(this.dataCollector)}catch(e){return f="Model: "+e.message,r.setErrorMessage(f),r}try{this.decisionMaker.updateNotification(r,d,this.dataCollector.getNetworkContext())}catch(e){return p="Decision Maker: "+e.message,r.setErrorMessage(p),r}try{this.notifier.enable(r)}catch(e){h="Notifier: "+e.message,r.setErrorMessage(h)}}else r.setErrorMessage("Data Collector: Invalid Sliding Window. Throughput:["+this.dataCollector.slidingWindows.throughput.window+"], RTT:["+this.dataCollector.slidingWindows.rtt.window+"], LossFraction:["+this.dataCollector.slidingWindows.lossFraction.window+"], Jitter:["+this.dataCollector.slidingWindows.jitter.window+"]")}}return r}}]),e=d,n.MLPipeline=e},{"./dataCollector.js":5,"./dataPreprocessor.js":6,"./dataValidation.js":7,"./decisionMaker.js":8,"./model.js":11,"./notification.js":12,"./notifier.js":13}],11:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),(function(e,t,n){n&&r(e,n)})(i,0,[{key:"predict",value:function(e){return e.calcSlidingWindowsMajority()}}]),n.Model=i},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Notification=void 0;var r=e("./config.js");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Date.now();if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.timestamp=e,this.statusMessage=r.config.notificationStatusMessage.Default,this.notification=null,this.notificationCode=null,this.networkContext={},this.newNetworkContext=!1,this.queue=null,this.errorMessage=null,this.jrltCode=null,this.connectivity=null,this.status=null,this.summary=null,this.sendFlag=!1,this.clearNotification=!1}!(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(o,[{key:"setErrorMessage",value:function(e){this.errorMessage=e,this.setErrorStatus(),this.suppress()}},{key:"setErrorStatus",value:function(){this.statusMessage=r.config.notificationStatusMessage.Error}},{key:"setReadyStatus",value:function(){this.statusMessage=r.config.notificationStatusMessage.Ready}},{key:"setNewNetworkContext",value:function(){this.newNetworkContext=!0}},{key:"setNetworkQuality",value:function(e){if(null===e)return this.setErrorMessage("Invalid NetworkQuality object"),new Error("Invalid NetworkQuality object");this.setNotification(e.notification),this.connectivity=e.connectivity,this.status=e.status,this.summary=e.summary,this.notificationCode=e.sctCode}},{key:"setNotification",value:function(e){null!==e&&("text"in e&&"string"==typeof e.text?this.enable():this.setErrorMessage("Invalid notification text")),this.notification=e}},{key:"clearErrorMessage",value:function(){this.errorMessage=null,this.enable()}},{key:"clear",value:function(){this.clearNotification=!0}},{key:"enable",value:function(){this.sendFlag=!0,this.clearNotification=!1,this.setReadyStatus()}},{key:"suppress",value:function(){this.sendFlag=!1}},{key:"updateNetworkContext",value:function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=r.config.NOTIFICATION_NETWORK_PROPERTIES[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;s in e&&null!==e[s]&&(this.networkContext[s]=e[s])}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"get",value:function(){var e={};return Object.entries(this).forEach(function(t){var n=(t=(function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=e,r=t,i=[],o=!0;e=!1,t=void 0;try{for(var a,s=n[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!r||i.length!==r);o=!0);}catch(n){e=!0,t=n}finally{try{!o&&s.return&&s.return()}finally{if(e)throw t}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")})(t,2))[0];null!==(t=t[1])&&(e[n]=t)}),e}}]),e=o,n.Notification=e},{"./config.js":4}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Notifier=void 0;var r=e("./notification.js");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.oldNotificationStatus=0}(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(o,null,[{key:"enable",value:function(e){if(!(e instanceof r.Notification)||null===e)return new Error("Invalid Notification.");e.status&&null!==e.status?(1!==e.status.code&&1===this.oldNotificationStatus?(e.enable(),e.clear()):1!==e.status.code||e.status.code===this.oldNotificationStatus?e.suppress():e.enable(),this.oldNotificationStatus=e.status.code):e.suppress()}}]),n.Notifier=o},{"./notification.js":12}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TABLE_OF_MESSAGES={"0001":{connectivity:{code:1,text:"no connectivity"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:1110100},"0002":{connectivity:{code:2,text:"no media device"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:2110100},1111:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1112:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1113:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1114:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1115:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1121:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1122:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1123:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1124:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1125:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1131:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1132:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1133:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1134:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1135:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1211:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1212:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1213:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1214:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1215:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1221:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1222:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},1223:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},1224:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},1225:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},1231:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1232:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},1233:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},1234:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},1235:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},1311:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},1312:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1313:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1314:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1315:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},1321:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1322:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},1323:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},1324:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},1325:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},1331:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1332:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:70,text:"Connection is Good, Poor bandwidth (audio-only and thumbnail video). "},notification:{code:700,text:"With current bandwidth you can have audio-only and thumbnail video"},sctCode:3270700},1333:{connectivity:{code:3,text:"success"},status:{code:3,text:"fair"},summary:{code:75,text:"Connection is Good, Fair bandwidth (good audio, poor video). "},notification:{code:750,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing"},sctCode:3375750},1334:{connectivity:{code:3,text:"success"},status:{code:4,text:"good"},summary:{code:90,text:"Connection and bandwidth are both good "},notification:{code:900,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality"},sctCode:3490900},1335:{connectivity:{code:3,text:"success"},status:{code:5,text:"excellent"},summary:{code:95,text:"Excellent network"},notification:{code:950,text:"You are in a good network condition"},sctCode:3595950},2111:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2112:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2113:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2114:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2115:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2121:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2122:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2123:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2124:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2125:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2131:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2132:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2133:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2134:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2135:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2211:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2212:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2213:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2214:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2215:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2221:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2222:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},2223:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},2224:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},2225:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},2231:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2232:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},2233:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},2234:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},2235:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},2311:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},2312:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2313:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2314:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2315:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},2321:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2322:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},2323:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},2324:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},2325:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},2331:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2332:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:70,text:"Connection is Good, Poor bandwidth (audio-only and thumbnail video). "},notification:{code:700,text:"With current bandwidth you can have audio-only and thumbnail video"},sctCode:3270700},2333:{connectivity:{code:3,text:"success"},status:{code:3,text:"fair"},summary:{code:75,text:"Connection is Good, Fair bandwidth (good audio, poor video). "},notification:{code:750,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing"},sctCode:3375750},2334:{connectivity:{code:3,text:"success"},status:{code:4,text:"good"},summary:{code:90,text:"Connection and bandwidth are both good "},notification:{code:900,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality"},sctCode:3490900},2335:{connectivity:{code:3,text:"success"},status:{code:5,text:"excellent"},summary:{code:95,text:"Excellent network"},notification:{code:950,text:"You are in a good network condition"},sctCode:3595950},3111:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3112:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3113:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3114:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3115:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3121:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3122:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3123:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3124:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3125:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3131:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3132:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3133:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3134:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3135:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency"},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3211:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3212:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3213:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3214:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3215:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3221:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3222:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},3223:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},3224:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},3225:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},3231:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3232:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},3233:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},3234:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},3235:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},3311:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection"},notification:{code:100,text:"We expect your call quality to be very poor"},sctCode:3110100},3312:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3313:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3314:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3315:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"High packet loss"},notification:{code:200,text:"You have poor network conditions (lossy network)"},sctCode:3120200},3321:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3322:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},3323:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},3324:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},3325:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},3331:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3332:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:70,text:"Connection is Good, Poor bandwidth (audio-only and thumbnail video). "},notification:{code:700,text:"With current bandwidth you can have audio-only and thumbnail video"},sctCode:3270700},3333:{connectivity:{code:3,text:"success"},status:{code:3,text:"fair"},summary:{code:75,text:"Connection is Good, Fair bandwidth (good audio, poor video). "},notification:{code:750,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing"},sctCode:3375750},3334:{connectivity:{code:3,text:"success"},status:{code:4,text:"good"},summary:{code:90,text:"Connection and bandwidth are both good "},notification:{code:900,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality"},sctCode:3490900},3335:{connectivity:{code:3,text:"success"},status:{code:5,text:"excellent"},summary:{code:95,text:"Excellent network"},notification:{code:950,text:"You are in a good network condition"},sctCode:3595950}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0===i?null===(e=Object.getPrototypeOf(e))?void 0:r(e,t,n):"value"in i?i.value:void 0!==(e=i.get)?e.call(n):void 0}Object.defineProperty(n,"__esModule",{value:!0}),n.LossTest=void 0;var i=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e},o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),a=e("../utility/messageMaker"),s=e("./turnTest");function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(this instanceof e)return(t=(function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).sentBytes=0,t.receivedBytes=0,t.chunkSize=1024,t.messageMaker=new a.MessageMaker(t.chunkSize),t.duration=3e3,t.sendTimer=null,t.lastMessage=null,t.numBufferFill=0,t;throw new TypeError("Cannot call a class as a function")}var t=e,n=s.TurnTest;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n),i(e,[{key:"initiate",value:function(){var e;window&&window.csioReactNative?this.handleError(new Error("Not running loss test for react-native")):(e=o.getCurrent(),this.results.startTimestamp=e,this.startSend())}},{key:"handleMessage",value:function(e){var t=this;this.isActive()&&(this.lastMessage=e,this.receivedBytes+=e.length,this.sendTimer||(this.sendTimer=setTimeout(function(){t.stop(),t.finished()},this.duration)))}},{key:"handleError",value:function(e){this.stop(),this.failed(e)}},{key:"fillBuffer",value:function(){for(var e=0;this.isActive()&&!(e>this.bufferFullThreshold);){var t=this.messageMaker.make(this.sentBytes);this.sentBytes+=t.length,e+=t.length,setTimeout(this.send(t),8)}e=0,this.numBufferFill++,2<=this.numBufferFill||this.startSend()}},{key:"startSend",value:function(){this.isActive()&&(this.bufferFullThreshold=1e3*this.chunkSize/8,this.sendChannel=this.connection.sendChannel,setTimeout(this.fillBuffer.bind(this),250))}},{key:"fillResults",value:function(){this.results.endTimestamp=o.getCurrent(),this.results.maxDuration=this.duration,this.results.forceStopped=this.forceStopped,this.results.sentBytes=this.sentBytes,this.results.bytesReceived=this.receivedBytes;var e,t=null;try{t=JSON.parse(this.lastMessage)}catch(t){return}t?(e=t.sentBytes+this.lastMessage.length,this.results.bytesSent=e,this.results.fractionLostBytes=1-this.receivedBytes/e):(this.results.bytesSent=-1,this.results.fractionLostBytes=-1)}},{key:"stop",value:function(){this.isActive()&&(clearTimeout(this.sendTimer),this.sendTimer=null,r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this),this.fillResults())}}]),e})(),n.LossTest=e},{"../utility/messageMaker":20,"../utility/timestamps":28,"./turnTest":18}],16:[function(e,t,n){"use strict";function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0===i?null===(e=Object.getPrototypeOf(e))?void 0:r(e,t,n):"value"in i?i.value:void 0!==(e=i.get)?e.call(n):void 0}Object.defineProperty(n,"__esModule",{value:!0}),n.RttTest=void 0;var i=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e},o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),a=e("./turnTest");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(this instanceof e)return(t=(function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).sendTimer=null,t.countSent=0,t.rtts=[],t;throw new TypeError("Cannot call a class as a function")}var t=e,n=a.TurnTest;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n),i(e,[{key:"initiate",value:function(){this.results.startTimestamp=o.getCurrent(),this.sendPing()}},{key:"handleMessage",value:function(e){this.isActive()&&(e=parseInt(e,10),e=this.calculateRtt(e),this.rtts.push(e),this.countSent<10?this.sendPing():this.calculateMetrics())}},{key:"handleError",value:function(e){this.fillResults(),this.failed(e)}},{key:"sendPing",value:function(){var e;this.isActive()&&(e=o.getCurrent(),this.send(e.toString()),this.countSent+=1,this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.countSent<10?this.sendTimer=setTimeout(this.sendPing.bind(this),100):this.sendTimer=setTimeout(this.calculateMetrics.bind(this),500))}},{key:"calculateRtt",value:function(e){return o.getCurrent()-e}},{key:"calculateMetrics",value:function(){this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.fillResults(),this.finished()}},{key:"fillResults",value:function(){this.results.sentMessages=this.countSent,this.results.unAckedMessages=this.countSent-this.rtts.length,this.results.maxMessages=10,this.results.forceStopped=this.forceStopped,this.results.median=this.median(),this.results.average=this.average(),this.results.variance=this.std(),this.results.endTimestamp=o.getCurrent()}},{key:"median",value:function(){if(0==this.rtts.length)return 500;this.rtts.sort();var e=Math.floor(this.rtts.length/2);return this.rtts[e]}},{key:"average",value:function(){if(0==this.rtts.length)return 500;for(var e=0,t=0;t<this.rtts.length;t++)e+=this.rtts[t];return e/this.rtts.length}},{key:"variance",value:function(){if(0==this.rtts.length)return 500;for(var e=0,t=this.average(),n=0;n<this.rtts.length;n++){var r=this.rtts[n];e+=Math.pow(r-t,2)}return e/this.rtts.length}},{key:"std",value:function(){var e=this.variance();return e<=0?0:Math.sqrt(e)}},{key:"stop",value:function(){this.isActive()&&(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this),this.fillResults())}}]),e})(),n.RttTest=e},{"../utility/timestamps":28,"./turnTest":18}],17:[function(e,t,n){"use strict";function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0===i?null===(e=Object.getPrototypeOf(e))?void 0:r(e,t,n):"value"in i?i.value:void 0!==(e=i.get)?e.call(n):void 0}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputTest=void 0;var i=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e},o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),a=e("../utility/messageMaker"),s=e("./turnTest");function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n,r){if(this instanceof e)return(t=(function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).sentBytes=0,t.receivedBytes=0,t.secondHalfBytes=0,t.secondHalfStart=null,t.bufferEmpty=1,t.chunkSize=1200,t.messageMaker=new a.MessageMaker(t.chunkSize),t.duration=5e3,null!=n&&(t.duration=Math.max(Math.min(50*n,1e4),1e3)),t.sendTimer=null,t.intervals=[],t.intervalStart=0,t.intervalLength=100,t.intervalBytes=0,t.loss=r,t.lastReceivedTimestamp=0,t;throw new TypeError("Cannot call a class as a function")}var t=e,n=s.TurnTest;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n),i(e,[{key:"initiate",value:function(){window&&window.csioReactNative?this.handleError(new Error("Not running throughput test for react-native")):this.startSend()}},{key:"handleMessage",value:function(e){var t=this;if(this.isActive()){this.lastMessage=e,this.receivedBytes+=e.length;var n=o.getCurrent();if(this.lastReceivedTimestamp=n,this.sendTimer||(this.results.startTimestamp=n,this.sendTimer=setTimeout(function(){t.stop(),t.finished()},this.duration)),0==this.intervalStart&&(this.intervalStart=n),this.intervalBytes+=e.length,n-this.intervalStart>=this.intervalLength){var r=n-this.intervalStart,i=(r=this.averageThroughput(this.intervalBytes,r),null);try{i=n-JSON.parse(this.lastMessage).timestamp}catch(e){}this.intervals.push({startTimestamp:this.intervalStart,endTimestamp:n,bytesReceived:this.intervalBytes,average:r,rtt:i}),this.intervalStart=n,this.intervalBytes=0}this.results.startTimestamp&&n-this.results.startTimestamp>this.duration/2&&(this.secondHalfStart||(this.secondHalfStart=n),this.secondHalfBytes+=e.length)}}},{key:"handleError",value:function(e){this.stop(),this.failed(e)}},{key:"averageThroughput",value:function(e,t){return 0===t?0:e/(t/1e3)*8/1024}},{key:"bufferListener",value:function(){this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this)),this.fillBuffer()}},{key:"fillBuffer",value:function(){for(0==this.sendChannel.bufferedAmount&&(this.bufferEmpty+=1);this.isActive()&&!(1e6<this.sentBytes);){if(this.sendChannel.bufferedAmount>this.bufferFullThreshold)return void(this.usePolling?setTimeout(this.fillBuffer.bind(this),250):this.sendChannel.addEventListener("bufferedamountlow",this.bufferListener.bind(this)));var e=this.messageMaker.make(this.sentBytes);this.sentBytes+=e.length,this.send(e)}this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this))}},{key:"startSend",value:function(){this.isActive()&&(this.bufferFullThreshold=1e3*this.chunkSize,this.sendChannel=this.connection.sendChannel,this.usePolling=!0,"number"==typeof this.sendChannel.bufferedAmountLowThreshold&&(this.usePolling=!1,this.sendChannel.bufferedAmountLowThreshold=this.bufferFullThreshold/10),setTimeout(this.fillBuffer.bind(this),0))}},{key:"fillResults",value:function(){this.results.endTimestamp=this.lastReceivedTimestamp,this.results.maxDuration=this.duration,this.results.forceStopped=this.forceStopped,this.results.bufferEmpty=this.bufferEmpty,this.results.intervals=this.intervals,this.results.bytesPrepared=this.sentBytes,this.results.bytesReceived=this.receivedBytes,this.results.startTimestamp||(this.results.startTimestamp=this.results.endTimestamp);var e=0,t=(this.secondHalfStart&&(t=this.results.endTimestamp-this.secondHalfStart,e=this.averageThroughput(this.secondHalfBytes,t)),this.results.endTimestamp-this.results.startTimestamp);t=this.averageThroughput(this.receivedBytes,t);this.results.average=e=e<t?t:e,this.results.fractionLostBytes=this.loss}},{key:"stop",value:function(){this.isActive()&&(clearTimeout(this.sendTimer),this.sendTimer=null,r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this),this.fillResults())}}]),e})(),n.ThroughputTest=e},{"../utility/messageMaker":20,"../utility/timestamps":28,"./turnTest":18}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("bluebird");(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)})(o,[{key:"getResults",value:function(){return this.results}},{key:"start",value:function(){var e=this,t=new i(function(t,n){e.resolveCb=t,e.rejectCb=n});return this.connection.setMessageCallback(this.handleMessage.bind(this)),this.connection.setErrorCallback(this.handleError.bind(this)),this.active=!0,this.forceStopped=!1,this.initiate(),t}},{key:"stop",value:function(){this.active=!1}},{key:"forceStop",value:function(){this.forceStopped=!0,this.stop(),this.finished()}},{key:"isActive",value:function(){return this.active}},{key:"initiate",value:function(){}},{key:"handleMessage",value:function(e){}},{key:"handleError",value:function(e){}},{key:"send",value:function(e){this.connection.send(e)}},{key:"finished",value:function(){this.active=!1,this.resolveCb&&(this.resolveCb(),this.resolveCb=null)}},{key:"failed",value:function(e){this.active=!1,this.rejectCb&&(this.rejectCb(e),this.rejectCb=null)}}]),e=o;function o(e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.connection=e,this.active=!1,this.results={}}n.TurnTest=e},{bluebird:2}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TurnConnection=void 0;var r=e("./utility/parsedIceCandidate"),i=e("./utility/stats/getstatshandler"),o=e("./utility/stats/detectbrowser");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=e("bluebird");(function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)})(c,[{key:"reset",value:function(){this.disconnect(),this.iceServers=null,this.pctpc1=null,this.pctpc2=null,this.sendChannel=null,this.messageCallback=null,this.errorCallback=null,this.parsedIceResults={},this.resolveCb=null,this.rejectCb=null,this.localIpAddressInfo=[],this.localIpAddresses=[],this.localIp=null,this.localIpType=null,this.numberOfLocalIp=0}},{key:"setMessageCallback",value:function(e){this.messageCallback=e}},{key:"setErrorCallback",value:function(e){this.errorCallback=e}},{key:"send",value:function(e){if(this.sendChannel&&"open"===this.sendChannel.readyState)try{this.sendChannel.send(e)}catch(e){this.raiseSendError(new Error("Send channel Error"))}else this.raiseSendError(new Error("No send channel"))}},{key:"raiseSendError",value:function(e){this.errorCallback&&this.errorCallback(e)}},{key:"assignEvent",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n.bind(this),!1):e.attachEvent&&e.attachEvent(t="on"+t,n.bind(this))}},{key:"connect",value:function(e){var t,n=this,r=(this.reset(),new s(function(e,t){n.resolveCb=e,n.rejectCb=t}));this.iceServers=e,e=null;try{if(RTCPeerConnection?e=RTCPeerConnection:webkitRTCPeerConnection?e=webkitRTCPeerConnection:mozRTCPeerConnection?e=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(e=window.RTCPeerConnection),!e)return(t=new Error("RTCPeerConnection not found")).continueFlag=!1,this.rejectCb(t),r}catch(t){return t.continueFlag=!1,this.rejectCb(t),r}var i={iceTransportPolicy:"all",iceServers:this.iceServers};try{this.pctpc1=new e(i),this.pctpc2=new e(i)}catch(t){return this.rejectDisconnect(!1,new Error("Error creating PCs")),r}this.connectionTimer=setTimeout(function(){delete n.connectionTimer,n.rejectDisconnect(!1,new Error("Connection timeout"))},3e4);try{this.sendChannel=this.pctpc1.createDataChannel("precalltest",{ordered:!1,maxRetransmits:0}),this.sendChannel.binaryType="arraybuffer",this.assignEvent(this.sendChannel,"error",function(e){n.raiseSendError(new Error("Datachannel error")),n.rejectDisconnect(!0,new Error("Datachannel error"))}),this.assignEvent(this.pctpc2,"datachannel",function(e){e=e.channel,n.assignEvent(e,"open",function(e){n.resolveCb&&(n.resolveCb(),n.resolveCb=null)}),n.assignEvent(e,"close",function(e){n&&n.disconnect&&n.disconnect()}),n.assignEvent(e,"message",function(e){n.messageCallback&&n.messageCallback(e.data)}),n.assignEvent(e,"error",function(e){n.errorCallback&&n.errorCallback(e),n.rejectDisconnect(!0,new Error("receiveChannel error"))})})}catch(t){return this.rejectDisconnect(!1,new Error("Error adding datachannel")),r}try{this.assignEvent(this.pctpc1,"icecandidate",function(e){n.onIceCandidate(n.pctpc1,e)}),this.assignEvent(this.pctpc1,"iceconnectionstatechange",function(e){n.onIceStateChange(n.pctpc1,e)}),this.assignEvent(this.pctpc2,"icecandidate",function(e){n.onIceCandidate(n.pctpc2,e)}),this.assignEvent(this.pctpc2,"iceconnectionstatechange",function(e){n.onIceStateChange(n.pctpc2,e)}),this.pctpc1.createOffer().then(function(e,t){n.onCreateOfferSuccess(e)},function(e){n.onCreateOfferError(n.pctpc1,e)})}catch(t){this.rejectDisconnect(!1,new Error("Error starting connection"))}return r}},{key:"rejectDisconnect",value:function(e,t){this.disconnect(),this.rejectCb&&(t.continueFlag=e,this.rejectCb(t)),this.resolveCb=null,this.rejectCb=null}},{key:"disconnect",value:function(){if(clearTimeout(this.connectionTimer),clearTimeout(this.iceTimer),this.sendChannel)try{this.sendChannel.close()}catch(e){}if(this.pctpc1)try{this.pctpc1.close()}catch(e){}if(this.pctpc1=null,this.pctpc2)try{this.pctpc2.close()}catch(e){}this.pctpc2=null}},{key:"getName",value:function(e){return e===this.pctpc1?"pctpc1":"pctpc2"}},{key:"getOtherPc",value:function(e){return e===this.pctpc1?this.pctpc2:this.pctpc1}},{key:"onCreateOfferError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to create offer"))}},{key:"onCreateAnswerError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to create answer"))}},{key:"onCreateOfferSuccess",value:function(e){var t=this;try{this.pctpc1.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc1)},function(e){t.onSetSessionDescriptionError(t.pctpc1,e)}),this.pctpc2.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc2)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc2,e)}),this.pctpc2.createAnswer().then(function(e){t.onCreateAnswerSuccess(e)},function(e){t.onCreateAnswerError(t.pctpc2,e)})}catch(e){this.rejectDisconnect(!1,new Error("Error processing offer"))}}},{key:"onSetLocalSuccess",value:function(e){}},{key:"onSetRemoteSuccess",value:function(e){}},{key:"onSetSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to set session description"))}},{key:"onSetRemoteSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to set session description"))}},{key:"onCreateAnswerSuccess",value:function(e){var t=this;try{this.pctpc2.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc2)},function(e){t.onSetSessionDescriptionError(t.pctpc2,e)}),this.pctpc1.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc1)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc1,e)})}catch(e){this.rejectDisconnect(!1,new Error("Error processing answer"))}}},{key:"onIceCandidate",value:function(e,t){var n,i=this;try{t.candidate&&t.candidate.candidate&&(n=new r.ParsedIceCandidate(t.candidate),e==this.pctpc1&&this.statshandler.codeBase==o.Constants.codeBaseType.chrome&&(n.isRelay()&&(n.isTypeTransportUdp()&&(this.parsedIceResults.relayUdpGathered=!0),n.isTypeTransportTcp()&&(this.parsedIceResults.relayTcpGathered=!0),n.isTypeTransportTls()&&(this.parsedIceResults.relayTlsGathered=!0)),n.isServerReflexive()&&(this.parsedIceResults.srflxGathered=!0)),n.isRelay()?this.getOtherPc(e).addIceCandidate(t.candidate).then(function(){i.onAddIceCandidateSuccess(e)},function(t){i.onAddIceCandidateError(e,t,n.isRelay())}):(this.localIpAddresses.includes(n.getIpAddress())||(this.localIpAddresses.push(n.getIpAddress()),this.localIpAddressInfo.push({ip:n.getIpAddress(),candidateType:n.getType(),networkType:"unknown"}),n.isPublicIp()&&this.numberOfLocalIp++),n.isPublicIp()&&null===this.localIp&&(this.localIp=n.getIpAddress(),this.localIpType=n.getType())))}catch(t){this.rejectDisconnect(!1,t)}}},{key:"onAddIceCandidateSuccess",value:function(e){}},{key:"onAddIceCandidateError",value:function(e,t,n){n&&this.rejectDisconnect(!1,new Error("failed to add ICE Candidate"))}},{key:"onIceStateChange",value:function(e,t){var n=this;try{var r="(?)";"failed"===(r=e?e.iceConnectionState:r)&&this.rejectDisconnect(!0,new Error("ICE failure")),"checking"!==r||this.iceTimer||(this.iceTimer=setTimeout(function(){delete n.iceTimer,n.rejectDisconnect(!0,new Error("ICE timeout"))},1e4)),"completed"!==r&&"connected"!==r||(clearTimeout(this.iceTimer),delete this.iceTimer)}catch(e){this.rejectDisconnect(!1,new Error("Error processing ICE state change"))}}},{key:"getIceResults",value:function(){var e=this;return new s(function(t,n){for(var r=JSON.parse(JSON.stringify(e.iceServers)),i=0;i<r.length;i++){var o=r[i];r.hasOwnProperty(o)||delete o.credential}var a,s={turnIpAddress:"",turnIpVersion:"",turnTransport:"",iceServers:r,ipv6Supported:!1,ipv4Supported:!1,relayTlsGathered:!1,relayTcpGathered:!1,relayUdpGathered:!1,srflxGathered:!1,relayTlsSuccess:!1,relayTcpSuccess:!1,relayUdpSuccess:!1,srflxSuccess:!1,localIpAddressInfo:[],localIP:"",numberOfLocalIPs:0,localIPType:"",localIPNetworkType:""};for(a in e.parsedIceResults)e.parsedIceResults.hasOwnProperty(a)&&(s[a]=e.parsedIceResults[a]);e.pctpc1?e.statshandler.getIceCandidates(e.pctpc1).then(function(n){s.localIP=e.localIp,s.localIPType=e.localIpType,s.numberOfLocalIPs=e.numberOfLocalIp;for(var r=0;r<e.localIpAddressInfo.length;r++){for(var i=e.localIpAddressInfo[r],o=0;o<n.localCandidates.length;o++){var a=n.localCandidates[o];(a.ip||a.address||a.ipAddress)===i.ip&&"unknown"!==a.networkType&&(i.networkType=a.networkType)}s.localIpAddressInfo.push(i)}for(var c=0;c<n.iceCandidatePairs.length;c++){var u=n.iceCandidatePairs[c],l="string"==typeof u.googActiveConnection?"true"===u.googActiveConnection:u.googActiveConnection,d="string"==typeof u.selected?"true"===u.selected:u.selected;if(l||d)for(var f=0;f<n.localCandidates.length;f++){var p,h=n.localCandidates[f],y=null;y=h.ip||h.address||h.ipAddress;h.id==u.localCandidateId&&(s.turnIpAddress=y,s.turnNetworkType=h.networkType,s.localIPNetworkType=h.networkType,p=-1!==y.indexOf(":"),s.turnIpVersion=p?"ipv6":"ipv4",s.turnTransport=h.mozLocalTransport),"relay"!==h.candidateType&&"relayed"!==h.candidateType||("udp"===h.mozLocalTransport&&(s.relayUdpSuccess=!0),"tcp"===h.mozLocalTransport&&(s.relayTcpSuccess=!0),"tls"===h.mozLocalTransport&&(s.relayTlsSuccess=!0)),y&&(-1!==y.indexOf(":")?s.ipv6Supported=!0:s.ipv4Supported=!0)}}for(var v=0;v<n.localCandidates.length;v++){var g=n.localCandidates[v];"relay"!==g.candidateType&&"relayed"!==g.candidateType||("udp"===g.mozLocalTransport&&(s.relayUdpGathered=!0),"tcp"===g.mozLocalTransport&&(s.relayTcpGathered=!0),"tls"===g.mozLocalTransport&&(s.relayTlsGathered=!0)),"srflx"!==g.candidateType&&"serverreflexive"!==g.candidateType||(s.srflxGathered=!0)}for(var m=0;m<n.iceCandidatePairs.length;m++){var b=n.iceCandidatePairs[m];if("succeeded"===b.state)for(var w=0;w<n.localCandidates.length;w++){var S=n.localCandidates[w];S.id==b.localCandidateId&&("relay"!==S.candidateType&&"relayed"!==S.candidateType||("udp"===S.mozLocalTransport&&(s.relayUdpSuccess=!0),"tcp"===S.mozLocalTransport&&(s.relayTcpSuccess=!0),"tls"===S.mozLocalTransport&&(s.relayTlsSuccess=!0)),"srflx"!==S.candidateType&&"serverreflexive"!==S.candidateType||(s.srflxSuccess=!0))}}t(s)},function(e){n(e)}):n(new Error("PC not available for stats"))},function(e){reject(e)})}}]),e=c;function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.reset(),this.statshandler=new i.GetStatsHandler(e)}n.TurnConnection=e},{"./utility/parsedIceCandidate":22,"./utility/stats/detectbrowser":25,"./utility/stats/getstatshandler":26,bluebird:2}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.randomAsciiString=n.MessageMaker=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps"));function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(35+58*Math.random());return t}function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1200,t=this;if(!(t instanceof a))throw new TypeError("Cannot call a class as a function");this.message={timestamp:"",sentBytes:1e4,padding:""},t=o(e-r.getCurrent().toString().length-JSON.stringify(this.message).length),this.message.padding=t}(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(a,[{key:"make",value:function(e){return this.message.timestamp=r.getCurrent(),this.message.sentBytes=e,JSON.stringify(this.message)}}]),n.MessageMaker=a,n.randomAsciiString=o},{"../utility/timestamps":28}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OnlineCheck=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps"));function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.active=!1}(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(o,[{key:"start",value:function(){var e=this;this.active=!0,this.onlineCheck=[],window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("offline",function(){e.addEntry()}),window.addEventListener("online",function(){e.addEntry()}),this.addEntry())}},{key:"addEntry",value:function(){var e,t;this.active&&(e=r.getCurrent(),navigator&&navigator.onLine&&(t=navigator.onLine,this.onlineCheck.push({timestamp:e,online:t})))}},{key:"stop",value:function(){var e=this;return this.active=!1,window&&window.removeEventListener&&"function"==typeof window.removeEventListener&&(window.removeEventListener("offline",function(){e.addEntry()}),window.removeEventListener("online",function(){e.addEntry()})),this.onlineCheck}}]),n.OnlineCheck=o},{"./timestamps":28}],22:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.iceCandidateStr=e.candidate,this.parse()}Object.defineProperty(n,"__esModule",{value:!0}),(function(e,t,n){t&&r(e.prototype,t)})(i,[{key:"parse",value:function(){var e=this.iceCandidateStr.split(" ");e.length<8||(this.protocol="1"===e[1]?"rtp":"rtcp",this.transport=e[2],this.typeTransport=this.extractTypeTransport(e[3]),this.ipv6=-1!==e[4].indexOf(":"),this.ipAddress=e[4],this.port=e[5],this.type=e[7])}},{key:"extractTypeTransport",value:function(e){var t="None";e>>=24;if("rtp"===this.protocol&&0<=e&&e<=2)switch(e){case 0:t="TLS";break;case 1:t="TCP";break;case 2:t="UDP"}return t}},{key:"getString",value:function(){return this.iceCandidateStr}},{key:"getType",value:function(){return this.type}},{key:"isHost",value:function(){return"host"===this.type.toLowerCase()}},{key:"isServerReflexive",value:function(){return"srflx"===this.type.toLowerCase()}},{key:"isPeerReflexive",value:function(){return"prflx"===this.type.toLowerCase()}},{key:"isRelay",value:function(){return"relay"===this.type.toLowerCase()||"relayed"===this.type.toLowerCase()}},{key:"isPublicIp",value:function(){return"srflx"===this.type.toLowerCase()||"prflx"===this.type.toLowerCase()}},{key:"getTypeTransport",value:function(){return this.typeTransport}},{key:"isTypeTransportUdp",value:function(){return"UDP"===this.typeTransport}},{key:"isTypeTransportTcp",value:function(){return"TCP"===this.typeTransport}},{key:"isTypeTransportTls",value:function(){return"TLS"===this.typeTransport}},{key:"getTransport",value:function(){return this.transport}},{key:"isUdp",value:function(){return"udp"===this.transport.toLowerCase()}},{key:"isTcp",value:function(){return"tcp"===this.transport.toLowerCase()}},{key:"getProtocol",value:function(){return this.protocol}},{key:"isRtp",value:function(){return"rtp"===this.protocol}},{key:"isRtcp",value:function(){return"rtcp"===this.protocol}},{key:"isIpv6",value:function(){return this.ipv6}},{key:"getIpAddress",value:function(){return this.ipAddress}},{key:"getPort",value:function(){return this.port}}]),n.ParsedIceCandidate=i},{}],23:[function(e,t,n){"use strict";function r(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=e,r=t,i=[],o=!0;e=!1,t=void 0;try{for(var a,s=n[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!r||i.length!==r);o=!0);}catch(n){e=!0,t=n}finally{try{!o&&s.return&&s.return()}finally{if(e)throw t}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTNotificationService=void 0;var i=e("../mlPipeline/dataPreprocessor.js"),o=e("../mlPipeline/decisionMaker.js"),a=e("../mlPipeline/dataValidation.js");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.dataCleaner=a.DataCleaner,this.dataValidator=a.DataValidator,this.dataPreprocessor=new i.DataPreprocessor,this.decisionMaker=o.DecisionMaker}!(function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)})(c,[{key:"makeNotification",value:function(e,t){var n={};return null===e?null:(n.jrltCode=t,"sctCode"in e&&(n.notificationCode=e.sctCode),"notification"in e&&(n.notification=e.notification.text,n.notificationTextCode=e.notification.code),"connectivity"in e&&(n.connectivity=e.connectivity),"status"in e&&(n.status=e.status),"summary"in e&&(n.summary=e.summary),n)}},{key:"getNotificationSummary",value:function(e,t){var n,o,a,s,c,u;return"success"!==t?null:this.getInternetConnectivityStatus(e.onlineStatus)?this.getMediaConnectivityStatus(e.ice,e.throughput)?(t=e.throughput.average,n=e.rtt.median,o=e.throughput.fractionLostBytes,e=e.rtt.variance,u=c=s=a=null,this.dataValidator.validateThroughput(t)&&(a=t),this.dataValidator.validateRTT(n)&&(s=n),this.dataValidator.validateLossFraction(o)&&(c=this.dataCleaner.cleanLossFraction(o)),this.dataValidator.validateJitter(e)&&(u=this.dataCleaner.cleanJitter(e)),t=this.dataPreprocessor.classifyThroughputQuality(a),n=this.dataPreprocessor.classifyRTTQuality(s),o=this.dataPreprocessor.classifyLossFractionQuality(c),e=this.dataPreprocessor.classifyJitterQuality(u),-1===t&&(t=t.BAD),-1===n&&(n=i.Quality.BAD),-1===o&&(o=i.Quality.BAD),-1===e&&(e=i.Quality.BAD),a=this.decisionMaker.getJRLTCode(e,n,o,t),u=(c=r(s=this.decisionMaker.getNetworkQuality(e,n,o,t),2))[0],c[1]?null:this.makeNotification(u,a)):(o=(n=r(e=this.decisionMaker.getNetworkQuality(0,0,0,2),2))[0],n[1]?null:this.makeNotification(o,this.decisionMaker.getJRLTCode(0,0,0,2))):(c=(s=r(t=this.decisionMaker.getNetworkQuality(0,0,0,1),2))[0],s[1]?null:this.makeNotification(c,this.decisionMaker.getJRLTCode(0,0,0,1)))}},{key:"getInternetConnectivityStatus",value:function(e){for(var t=0,n=!1,r=0;r<e.length;++r)e[r].timestamp>t&&(t=e[r].timeStamp,n=e[r].online);return n}},{key:"getMediaConnectivityStatus",value:function(e,t){return!(!e||!t)&&(e.relayTcpSuccess||e.relayTlsSuccess||e.relayUdpSuccess||0<t.average)}}]),e=c,n.PCTNotificationService=e},{"../mlPipeline/dataPreprocessor.js":6,"../mlPipeline/dataValidation.js":7,"../mlPipeline/decisionMaker.js":8}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ResultsHandler=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps")),o=e("./messageMaker"),a=e("./pctnotificationservice");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c="success",u="stopped",l="failed";(function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)})(d,[{key:"setStatusStopped",value:function(){this.status!==l&&(this.status=u)}},{key:"setStatusFailed",value:function(){this.status=l}},{key:"setStatusSuccess",value:function(){this.status!==u&&(this.status=c)}},{key:"setProvider",value:function(e){e&&(this.provider=e)}},{key:"setisRunManually",value:function(e){this.isRunManually=e}},{key:"setrunByUser",value:function(e){this.runByUser=e}},{key:"setEnableMLNotification",value:function(e){this.enableMLNotification=e}},{key:"getResults",value:function(){var e={id:this.id,version:this.version,status:this.status,startTimestamp:this.start,endTimestamp:i.getCurrent(),failures:this.failures,tests:this.results,provider:this.provider,runManually:this.isRunManually,runByUser:this.runByUser};return e.notification=this.pctNotificationService.getNotificationSummary(e.tests,e.status),e.notification&&(e.notification.timestamp=i.getCurrent()),e}},{key:"getFailureNumber",value:function(){return this.failures.length}},{key:"getId",value:function(){return this.id}},{key:"add",value:function(e,t){(this.results[e]=t).hasOwnProperty("forceStopped")&&1==t.forceStopped&&this.setStatusStopped()}},{key:"failure",value:function(e){"object"===(void 0===e?"undefined":r(e))&&(e=e.toString()),e={timestamp:i.getCurrent(),reason:e},this.failures.push(e)}}]),e=d;function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.start=i.getCurrent(),this.id=Math.trunc(this.start)+"-"+(0,o.randomAsciiString)(20),this.version="1.8.9",this.failures=[],this.results={},this.status=c,this.provider="callstats",this.enableMLNotification=!1,this.pctNotificationService=new a.PCTNotificationService,this.isRunManually=!1,this.runByUser=!1}n.ResultsHandler=e},{"./messageMaker":20,"./pctnotificationservice":23,"./timestamps":28}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=r.browserName.chrome,t=null,n=null,i=null,o=null,a=r.codeBaseType.chrome;if(window&&(!window.navigator||!window.navigator.userAgent||window.csioReactNative))return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(i="react-native"),{browserName:e,codeBase:a,os:t,osVersion:n,userAgent:i};var s=(i=navigator.userAgent).toLowerCase(),c=void 0,u=void 0,l=(o=void((o=navigator.appVersion)&&(c=o.toLowerCase(),u=""+parseFloat(c))),"version");-1!==(o=s.indexOf("opera"))?(e=r.browserName.opera,u=s.substring(o+6),-1!==(o=s.indexOf(l))&&(u=s.substring(o+8)),a=r.codeBaseType.chrome):-1!==(o=s.indexOf("opr"))?(e=r.browserName.opera,u=s.substring(o+4),-1!==(o=s.indexOf(l))&&(u=s.substring(o+8)),a=r.codeBaseType.chrome):-1!==(o=s.indexOf("msie"))?(e=r.browserName.msie,u=s.substring(o+5),a=r.codeBaseType.chrome):-1!==(o=s.indexOf("edge"))?(e=r.browserName.edge,u=s.substring(o+5),a=r.codeBaseType.edge):-1!==(o=s.indexOf("edg"))?(e=r.browserName.edge,u=s.substring(o+4),a=r.codeBaseType.chrome):-1!==(o=s.indexOf("chrome"))?(e=r.browserName.chrome,u=s.substring(o+7),a=r.codeBaseType.chrome):-1!==(o=s.indexOf("safari"))?(e=r.browserName.safari,u=s.substring(o+7),-1!==(o=s.indexOf(l))&&(u=s.substring(o+8))&&(l=u.split(" "))&&0<l.length&&(u=l[0]),a=r.codeBaseType.chrome):-1!==(o=s.indexOf("firefox"))?(e=r.browserName.firefox,u=s.substring(o+8),a=r.codeBaseType.firefox):-1!==(o=s.indexOf("trident"))&&(e=r.browserName.msie,o=s.indexOf("rv"),u=s.substring(o+3,o+7),a=r.codeBaseType.chrome);var d=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}],f=void 0,p=void 0;for(f in d)if(d.hasOwnProperty(f)&&(p=d[f]).r.test(s)){t=p.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=r.osName.windows),t){case r.osName.mac:(n=/mac os x (1[\.\_\d]+)/.exec(s))&&(n=n[1]);break;case r.osName.android:(n=/android ([\.\_\d]+)/.exec(s))&&(n=n[1]);break;case r.osName.ios:c&&(n=/os (\d+)_(\d+)_?(\d+)?/.exec(c))&&(n=n[1]+"."+n[2]+"."+(0|n[3]))}return o=u,(l=u.split(" "))&&0<l.length&&(o=l[0]),{browserName:e,browserVersion:o,os:t,osVersion:n,codeBase:a,userAgent:i}};var r=n.Constants={codeBaseType:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},browserName:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari"},osName:{windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"}}},{}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var r=e("./detectbrowser"),i=e("./statsadapter");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=e("bluebird");(function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)})(s,[{key:"getIceCandidates",value:function(e){var t=this;return new a(function(n,r){t.csioGetStats(t.iceCandidatesHandler.bind(t),e,function(e){n(e)})})}},{key:"iceCandidatesHandler",value:function(e,t){t(this.adapter.getIceCandidates(e))}},{key:"csioGetStats",value:function(e,t,n){var i=r.Constants.codeBaseType.firefox,o=r.Constants.codeBaseType.chrome,a=r.Constants.codeBaseType.edge,s=r.Constants.browserName.safari;t&&(this.codeBase===i?this.getStatsFirefox(e,t,n):this.browserName===s?this.getStatsSafari(e,t,n):this.codeBase===o?this.getStatsChrome(e,t,n):this.codeBase===a&&this.getStatsEdge(e,t,n))}},{key:"getStatsFirefox",value:function(e,t,n){var r=this;if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})})}catch(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})}else t.getStats(null,function(t){e(t,n)},function(){})}},{key:"getStatsChrome",value:function(e,t,n){var r=this;if(window&&window.csioReactNative)t.getStats(null,function(t){e(t,n)},function(e){});else if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})})}catch(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})}else t.getStats(function(t){e(t,n)})}},{key:"getStatsEdge",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}},{key:"getStatsSafari",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}}]),e=s;function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.codeBase=e.codeBase,this.browserName=e.browserName,this.adapter=new i.StatsAdapter(this.codeBase,this.browserName),this.isPromiseBased=!0}n.GetStatsHandler=e},{"./detectbrowser":25,"./statsadapter":27,bluebird:2}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapter=void 0;var r=e("./detectbrowser");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.codeBase=e,this.browser=t}!(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(o,[{key:"getIceCandidates",value:function(e){return e?(e=this.extractRawStats(e),this.processRawStatsForIceInfo(e)):{localCandidates:[],remoteCandidates:[],iceCandidatePairs:[]}}},{key:"extractRawStats",value:function(e){var t=[],n=void 0,i=r.Constants.codeBaseType.firefox,o=r.Constants.codeBaseType.chrome,a=r.Constants.browserName.safari;if(this.codeBase===i&&this.browser!==a)e.forEach(function(e){t.push(e)});else if(this.codeBase===o&&this.browser!==a)e&&e.result?t=e.result():e&&e.forEach&&(t=[],e.forEach(function(e){t.push(e)}));else for(n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},{key:"processRawStatsForIceInfo",value:function(e){var t=[],n=[],r=[],i=void 0;if(e){for(var o=0;o<e.length;++o){var a,s,c=this.getParsedStats(e[o]);(c=this.statsClassifier(c)).candidatePair?r.push(c.candidatePair):c.transportStats?"transport"===c.transportStats.type?i=c.transportStats.selectedCandidatePairId:r.push(c.transportStats):c.localCandidate?("relay"!=(a=c.localCandidate).candidateType&&"relayed"!=a.candidateType||(a.mozLocalTransport||(s=a.priority>>24,a.mozLocalTransport=this.formatRelayType(s)),a.mozLocalTransport=a.mozLocalTransport.toLowerCase()),t.push(a)):c.remoteCandidate&&n.push(c.remoteCandidate)}if(i)for(var u=0;u<r.length;++u)r[u].id===i&&(r[u].googActiveConnection="true")}return{localCandidates:t,remoteCandidates:n,iceCandidatePairs:r}}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names)for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);else s(t,e);if(t.values){for(var i=0;i<t.values.length;i++){var o=t.values[i];s(t,o)}delete t.values}return t}},{key:"statsClassifier",value:function(e){function t(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];if(e.type===o)return!0}return!1}var n={},r=t("inbound-rtp","inboundrtp"),i="true"===e.isRemote||!0===e.isRemote;return r||t("outbound-rtp","outboundrtp")?(n.tracks={},n.tracks.data=e,n.tracks.ssrc=e.ssrc,n.tracks.streamType=r?"inbound":"outbound",n.tracks.reportType="local",void 0!==e.isRemote&&(n.tracks.reportType=i?"remote":"local")):t("candidatepair")&&e.selected?n.transportStats=e:t("localcandidate","local-candidate")?n.localCandidate=e:t("remotecandidate","remote-candidate")?n.remoteCandidate=e:t("transport","googCandidatePair")?n.transportStats=e:t("VideoBwe")?n.bwe=e:t("track")?n.trackStats=e:t("candidate-pair")?n.candidatePair=e:t("codec")?n.codec=e:t("ssrc")&&(n.tracks={},n.tracks.data=e,n.tracks.ssrc=e.ssrc,n.tracks.reportType="local",n.tracks.streamType=e.bytesSent?"outbound":"inbound"),n}},{key:"formatRelayType",value:function(e){var t="none";switch(e){case 0:t="tls";break;case 1:t="tcp";break;case 2:t="udp"}return t}}]),e=o,n.StatsAdapter=e},{"./detectbrowser":25}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}},{}],29:[function(e,t,n){var r,i;t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){for(var e=s(f),t=(l=!0,u.length);t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,(function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}})(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],30:[function(e,t,n){(function(t,r){(function(){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":29,timers:30}],31:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Battery=void 0;var i=(function(){function e(){var t=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.batteryManager=null,"function"==typeof navigator.getBattery&&navigator.getBattery().then(function(e){t.batteryManager=e})}var t,n;return t=e,(n=[{key:"getLevel",value:function(){return this.batteryManager?this.batteryManager.level:-1}},{key:"getCharging",value:function(){return this.batteryManager?this.batteryManager.charging:null}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.Battery=i},{}],32:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=i.browserName.chrome,t=null,n=null,r=null,o=null,a=i.codeBaseType.chrome;if(!window.navigator.userAgent||window.csioReactNative)return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(r="react-native"),{browserName:e,codeBase:a,os:t,osVersion:n,userAgent:r,browserVersion:null};var s,c,u=(r=navigator.userAgent).toLowerCase();(o=navigator.appVersion)&&(s=o.toLowerCase(),c=""+parseFloat(s)),o="version",-1!==(p=u.indexOf("opera"))?(e=i.browserName.opera,c=u.substring(p+6),-1!==(p=u.indexOf(o))&&(c=u.substring(p+8)),a=i.codeBaseType.chrome):-1!==(p=u.indexOf("opr"))?(e=i.browserName.opera,c=u.substring(p+4),-1!==(p=u.indexOf(o))&&(c=u.substring(p+8)),a=i.codeBaseType.chrome):-1!==(p=u.indexOf("msie"))?(e=i.browserName.msie,c=u.substring(p+5),a=i.codeBaseType.chrome):-1!==(p=u.indexOf("edge"))?(e=i.browserName.edge,c=u.substring(p+5),a=i.codeBaseType.edge):-1!==(p=u.indexOf("edg"))?(e=i.browserName.edge,c=u.substring(p+4),a=i.codeBaseType.chrome):-1!==(p=u.indexOf("chrome"))?(e=i.browserName.chrome,c=u.substring(p+7),a=i.codeBaseType.chrome):-1!==(p=u.indexOf("safari"))?(e=i.browserName.safari,c=u.substring(p+7),-1!==(p=u.indexOf(o))&&(c=u.substring(p+8))&&(o=c.split(" "))&&0<o.length&&(c=o[0]),a=i.codeBaseType.chrome):-1!==(p=u.indexOf("firefox"))?(e=i.browserName.firefox,c=u.substring(p+8),a=i.codeBaseType.firefox):-1!==(p=u.indexOf("trident"))&&(e=i.browserName.msie,p=u.indexOf("rv"),c=u.substring(p+3,p+7),a=i.codeBaseType.chrome);var l,d,f=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}];for(l in f)if(f.hasOwnProperty(l)&&(d=f[l]).r.test(u)){t=d.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=i.osName.windows),t){case i.osName.mac:n=(n=/mac os x (1[\.\_\d]+)/.exec(u))&&n[1];break;case i.osName.android:n=(n=/android ([\.\_\d]+)/.exec(u))&&n[1];break;case i.osName.ios:s&&(n=(n=/os (\d+)_(\d+)_?(\d+)?/.exec(s))&&n[1]+"."+n[2]+"."+(0|n[3]))}var p=c;return(o=c.split(" "))&&0<o.length&&(p=o[0]),{browserName:e,browserVersion:p,os:t,osVersion:n,codeBase:a,userAgent:r}};var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}},{"../config/constants":50}],33:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Devices=void 0;var i=u(e("../config/constants")),o=e("../utility/registry"),a=u(e("../utility/csiologger")),s=u(e("../utility/utils"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.conferenceId=t,this.pc=n,this.devices=null,this.emb=o.Registry.getEventMessageBuilder()}var t,n;return t=e,(n=[{key:"collectConnected",value:function(){var e,t=this;navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(e=this,navigator.mediaDevices.enumerateDevices().then(function(n){n=s.normalizeMediaDeviceList(n),e.sendConnected(n),setTimeout(t.collectConnected.bind(e),1e4)}).catch(function(n){setTimeout(t.collectConnected.bind(e),1e4)}))}},{key:"sendConnected",value:function(e){this.devices&&this.compare(e)||(this.devices=e,this.send())}},{key:"compare",value:function(e){return self.devices.sort().toString()===e.sort().toString()}},{key:"send",value:function(){var e={mediaDeviceList:this.devices};a.log("sending connectedDevice",i.internalFabricEvent.connectedDeviceList,e),this.emb.make(i.internalFabricEvent.connectedDeviceList,this.conferenceId,this.pc,e)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Devices=e},{"../config/constants":50,"../utility/csiologger":119,"../utility/registry":128,"../utility/utils":134}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.get=function(e){try{if(window&&window.localStorage)return window.localStorage.getItem(e)}catch(e){}return null},n.remove=function(e){try{window&&window.localStorage&&window.localStorage.removeItem(e)}catch(e){}},n.store=function(e,t){if(t)try{window&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){}}},{}],35:[function(e,t,n){"use strict";function r(e,t){if(t)try{window&&window.sessionStorage&&window.sessionStorage.setItem(e,t)}catch(e){}}function i(e){try{if(window&&window.sessionStorage)return window.sessionStorage.getItem(e)}catch(e){}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.get=i,n.getUcId=function(e){if(e){var t=JSON.parse(i("csio_ucid_data"));if(t&&t[e])return t[e].ucID}return null},n.remove=function(e){try{window&&window.sessionStorage&&window.sessionStorage.removeItem(e)}catch(e){}},n.store=r,n.storeUcId=function(e,t){var n;e&&((n=(n=JSON.parse(i("csio_ucid_data")))||{})[e]||(n[e]={}),n[e].ucID=t,r("csio_ucid_data",JSON.stringify(n)))}},{}],36:[function(t,n,r){(function(e){(function(){"use strict";var n=h(t("./config/constants")),r=h(t("./config/settings")),o=t("./config/callstatserrors"),a=t("./fsm/mainfsm"),s=t("./utility/registry"),c=h(t("./utility/csiologger")),u=h(t("./utility/onerroreventlistner")),l=h(t("./utility/utils")),d=h(t("./browserapi/localstorage")),f=t("./services/authenticator");function p(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(p=function(e){return e?n:t})(e))}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==y(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}u.setErrorEventListener(),l.assignPollyfill(),l.isIntegerPollyfill();var g=706724306;function m(e,t){var n={};return n.status=e,t&&(n.message=t),n}function b(e,t,n){return n=2<arguments.length&&void 0!==n?n:"","".concat(e,": ").concat(t," ").concat(n)}function w(e){var t;if(null!==e)return(t=s.Registry.getEndpoint().getCodeBase())===n.codeBaseType.firefox?"undefined"!=typeof mozRTCPeerConnection&&e instanceof mozRTCPeerConnection||"undefined"!=typeof RTCPeerConnection&&e instanceof RTCPeerConnection:t===n.codeBaseType.edge||"function"==typeof e||(t=null,RTCPeerConnection?t=RTCPeerConnection:webkitRTCPeerConnection?t=webkitRTCPeerConnection:mozRTCPeerConnection?t=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(t=window.RTCPeerConnection),null!==t&&e instanceof t||void 0!==e.createOffer)}var S=null,k=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");S=new a.MainFSM}var t,r;return t=e,(r=[{key:"initialize",value:function(e,t,r,i,u,l){var d;if(!e||!r||!t)return d=b("initialize",o.csErrorStrings.argumentError),c.error(d),c.sendLog(n.logEvents.error,d),m(n.callstatsAPIReturnStatus.failure,d);if(i&&"function"!=typeof i&&(d=b("initialize",o.csErrorStrings.argumentError),c.warn(d),c.sendLog(n.logEvents.warn,d),i=null),u&&"function"!=typeof u&&(d=b("initialize",o.csErrorStrings.argumentError),c.warn(d),c.sendLog(n.logEvents.warn,d),u=null),"function"!=typeof t&&!(window.crypto&&(window.crypto.subtle||window.crypto.webkitSubtle)||window.msCrypto&&window.msCrypto.subtle||window.csioReactNative))return d=b("initialize",o.csErrorStrings.cryptoError),c.error(d),c.sendLog(n.logEvents.error,d),i&&i(o.csError.tokenGenerationError,o.csErrorStrings.cryptoError),m(n.callstatsAPIReturnStatus.failure,d);try{S.fire(a.MainEvents.onInitialize,e,r,t,i,u,l),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"initialize: Error",error:e.message+":"+e.stack}),c.error("initialize: Error",e),c.sendLog(n.logEvents.error,"initialize: Error")}return m(n.callstatsAPIReturnStatus.success)}},{key:"addNewFabric",value:function(e,t,r,i,u,l){var d=null,f=n.endpointType.peer,p=n.transmissionDirection.sendrecv;if(void 0===t)return h=b("addNewFabric",o.csErrorStrings.argumentError),c.error(h),c.sendLog(n.logEvents.error,h),m(n.callstatsAPIReturnStatus.failure,h);if(void 0===i)return h=b("addNewFabric",o.csErrorStrings.argumentError),c.error(h),c.sendLog(n.logEvents.error,h),m(n.callstatsAPIReturnStatus.failure,h);if(i=i||n.tmpConferenceId,!e||!r)return h=b("addNewFabric",o.csErrorStrings.argumentError),c.error(h),c.sendLog(n.logEvents.error,h),m(n.callstatsAPIReturnStatus.failure,h);if(s.Registry.getCredentials().getAppId()!==g||i.includes("vpaas-magic-cookie")){if(l&&"function"==typeof l&&(d=l),u&&"function"==typeof u&&(d=u),u&&"function"!=typeof u){if(u.remoteEndpointType){if(!n.endpointType.hasOwnProperty(u.remoteEndpointType))return h=b("addNewFabric",o.csErrorStrings.invalidEndPointType,u.remoteEndpointType),c.error(h),c.sendLog(n.logEvents.error,h),m(n.callstatsAPIReturnStatus.failure,h);f=u.remoteEndpointType}if(u.fabricTransmissionDirection){if(!n.transmissionDirection.hasOwnProperty(u.fabricTransmissionDirection))return l=b("addNewFabric",o.csErrorStrings.invalidTransmissionDirection,u.fabricTransmissionDirection),c.error(l),c.sendLog(n.logEvents.error,l),m(n.callstatsAPIReturnStatus.failure,l);p=u.fabricTransmissionDirection}}if(!n.fabricUsage.hasOwnProperty(r)||r instanceof Function)return h=b("addNewFabric",o.csErrorStrings.fabricUsageInvalid,r),c.error(h),c.sendLog(n.logEvents.error,h),m(n.callstatsAPIReturnStatus.failure,h);if(!w(e))return l=b("addNewFabric",o.csErrorStrings.pcInvalid),c.error(l),c.sendLog(n.logEvents.error,l),m(n.callstatsAPIReturnStatus.failure,l);var h;if((u=s.Registry.getConferenceManager().get(i))&&u.getPeerConnectionManager().getPcHandler(e))return m(n.callstatsAPIReturnStatus.success);if(!s.Registry.getCredentials().getAppId()||!s.Registry.getCredentials().getUserId())return h=b("addNewFabric",o.csErrorStrings.notInitialized),c.error(h),c.sendLog(n.logEvents.error,h),m(n.callstatsAPIReturnStatus.failure,h);try{S.fire(a.MainEvents.onAddNewFabric,e,t,r,i,f,p,d),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"addNewFabric: Error",error:e.message+":"+e.stack}),c.error("addNewFabric: Error",e),c.sendLog(n.logEvents.error,"addNewFabric Error")}}return m(n.callstatsAPIReturnStatus.success)}},{key:"sendFabricEvent",value:function(e,t,r,i){if(r=r||n.tmpConferenceId,s.Registry.getCredentials().getAppId()!==g||r.includes("vpaas-magic-cookie")){if(!e||!t)return l=b("sendFabricEvent",o.csErrorStrings.argumentError),c.error(l),m(n.callstatsAPIReturnStatus.failure,l);if(t===n.fabricEvent.fabricSetupFailed)return l=b("sendFabricEvent",o.csErrorStrings.fabricEventUnsupported,t),c.error(l),c.sendLog(n.logEvents.error,l),m(n.callstatsAPIReturnStatus.failure,l);if(!n.fabricEvent.hasOwnProperty(t)&&!n.internalFabricEvent.hasOwnProperty(t))return l=b("sendFabricEvent",o.csErrorStrings.fabricEventInvalid,t),c.error(l),c.sendLog(n.logEvents.error,l),m(n.callstatsAPIReturnStatus.failure,l);if(!(t!==n.fabricEvent.activeDeviceList||i&&i.deviceList))return l=b("sendFabricEvent ",o.csErrorStrings.argumentError),c.error(l),c.sendLog(n.logEvents.error,l),m(n.callstatsAPIReturnStatus.failure,l);var u,l=s.Registry.getConferenceManager().get(r);if(!s.Registry.getCredentials().getAppId()||!s.Registry.getCredentials().getUserId()||!l)return u=b("sendFabricEvent ",o.csErrorStrings.notInitialized),c.error(u),c.sendLog(n.logEvents.error,u),m(n.callstatsAPIReturnStatus.failure,u);if(!l.getPeerConnectionManager().getPcHandler(e))return u=b("sendFabricEvent ",o.csErrorStrings.pcInvalid),c.error(u),c.sendLog(n.logEvents.error,u),m(n.callstatsAPIReturnStatus.failure,u);try{S.fire(a.MainEvents.onSendFabricEvent,e,t,r,i),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"sendFabricEvent: Error",error:e.message+":"+e.stack}),c.error("sendFabricEvent: Error",e),c.sendLog(n.logEvents.error,"sendFabricEvent error")}}return m(n.callstatsAPIReturnStatus.success)}},{key:"sendCustomEvent",value:function(e,t,r){var i;if(!t||!r)return console.log("sendCustomEvent invalid conferenceId or eventData"),i=b("sendCustomEvent",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);if("object"!==y(r))return console.log("sendCustomEvent invalid eventList"),i=b("sendCustomEvent",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);if(0===r.length)return console.log("sendCustomEvent invalid eventList"),i=b("sendCustomEvent",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);try{S.fire(a.MainEvents.onSendCustomEvent,e,t,r),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"sendCustomEvent: Error",error:e.message+":"+e.stack}),c.error("sendCustomEvent: Error",e)}return m(n.callstatsAPIReturnStatus.success)}},{key:"sendCustomStats",value:function(e,t,r){var i;if(!t||!r)return console.log("sendCustomStats invalid conferenceId or stats"),i=b("sendCustomStats",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);try{S.fire(a.MainEvents.onSendCustomStats,e,t,r),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"sendCustomStats: Error",error:e.message+":"+e.stack}),c.error("sendCustomStats: Error",e)}return m(n.callstatsAPIReturnStatus.success)}},{key:"sendCallDetails",value:function(e,t,r){var i;if(c.log("sendCallDetails "),t=t||n.tmpConferenceId,!e||!r)return console.log("sendCallDetails invalid pc eventData"),i=b("sendCallDetails",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);if(r.callType||(r.callType=n.callType.unknown),!r.role)return console.log("sendCallDetails invalid pc eventData"),i=b("sendCallDetails",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);if(r.callType&&!n.callType.hasOwnProperty(r.callType))return console.log("sendCallDetails invalid eventData",r),i=b("sendCallDetails",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);if(r.role&&!n.roles.hasOwnProperty(r.role))return console.log("sendCallDetails invalid eventData",r),i=b("sendCallDetails",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);try{S.fire(a.MainEvents.onSendCallDetails,e,t,r),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"sendCallDetails: Error",error:e.message+":"+e.stack}),c.error("sendCallDetails: Error",e),c.sendLog(n.logEvents.error,"sendCallDetails Error")}return m(n.callstatsAPIReturnStatus.success)}},{key:"sendUserFeedback",value:function(e,t,r){var i;if(!t||!e)return i=b("sendUserFeedback",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),r&&"function"==typeof r&&r(n.callstatsAPIReturnStatus.failure,i),m(n.callstatsAPIReturnStatus.failure,i);if(s.Registry.getCredentials().getAppId()!==g||e.includes("vpaas-magic-cookie")){if("object"!==y(t))return i=b("sendUserFeedback",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),r&&"function"==typeof r&&r(n.callstatsAPIReturnStatus.failure,i),m(n.callstatsAPIReturnStatus.failure,i);if(0===Object.keys(t).length)return i=b("sendUserFeedback",o.csErrorStrings.argumentError),c.error(i),c.sendLog(n.logEvents.error,i),r&&"function"==typeof r&&r(n.callstatsAPIReturnStatus.failure,i),m(n.callstatsAPIReturnStatus.failure,i);try{S.fire(a.MainEvents.onSendUserFeedback,e,t,r),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"sendUserFeedback: Error",error:e.message+":"+e.stack}),c.error("sendUserFeedback: Error",e)}r&&"function"==typeof r&&r(n.callstatsAPIReturnStatus.success,"userFeedback Event sent successfully")}return m(n.callstatsAPIReturnStatus.success)}},{key:"associateMstWithUserID",value:function(e,t,r,i,u,l){if(r=r||n.tmpConferenceId,s.Registry.getCredentials().getAppId()!==g||r.includes("vpaas-magic-cookie")){if(!e||!i||!u)return f=b("associateMstWithUserID",o.csErrorStrings.argumentError),c.error(f),c.sendLog(n.logEvents.error,f),m(n.callstatsAPIReturnStatus.failure,f);if(!w(e))return f=b("associateMstWithUserID",o.csErrorStrings.pcInvalid),c.error(f),c.sendLog(n.logEvents.error,f),m(n.callstatsAPIReturnStatus.failure,f);var d,f=s.Registry.getConferenceManager().get(r);if(!f)return d=b("associateMstWithUserID",o.csErrorStrings.confereneDoesNotExist),c.error(d),c.sendLog(n.logEvents.error,d),m(n.callstatsAPIReturnStatus.failure,d);if(!f.getPeerConnectionManager().getPcHandler(e))return d=b("associateMstWithUserID",o.csErrorStrings.pcInvalid),c.error(d),c.sendLog(n.logEvents.error,d),m(n.callstatsAPIReturnStatus.failure,d);l&&"string"!=typeof l&&(c.error("associateMstWithUserID: Invalid videoTag"),c.sendLog(n.logEvents.error,"associateMstWithUserID: Invalid videoTag"),l=null);try{S.fire(a.MainEvents.onAssociateMstWithUserID,e,t,r,i,u,l),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"associateMstWithUserID: Error",error:e.message+":"+e.stack}),c.error("associateMstWithUserID: Error",e)}}return m(n.callstatsAPIReturnStatus.success)}},{key:"reportError",value:function(e,t,r,i,u,l){if(t=t||n.tmpConferenceId,s.Registry.getCredentials().getAppId()!==g||t.includes("vpaas-magic-cookie")){var d;if(void 0===e||!r)return d=b("reportError",o.csErrorStrings.argumentError),c.error(d),c.sendLog(n.logEvents.error,d),m(n.callstatsAPIReturnStatus.failure,d);if(!n.webRTCFunctions.hasOwnProperty(r))return d=b("reportError",o.csErrorStrings.webRTCFunctionsInvalid,r),c.error(d),c.sendLog(n.logEvents.error,d),m(n.callstatsAPIReturnStatus.failure,d);if(void 0===i&&(c.warn("reportError: Missing DOM error parameter"),c.sendLog(n.logEvents.warn,"reportError - missing dom")),!s.Registry.getCredentials().getAppId()||!s.Registry.getCredentials().getUserId())return d=b("reportError",o.csErrorStrings.notInitialized),c.error(d),c.sendLog(n.logEvents.error,d),m(n.callstatsAPIReturnStatus.failure,d);try{S.fire(a.MainEvents.onReportError,e,t,r,i,u,l),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"reportError: Error",error:e.message+":"+e.stack}),c.error("reportError: Error",e),c.sendLog(n.logEvents.error,"reportError Error")}}return m(n.callstatsAPIReturnStatus.success)}},{key:"setProxyConfig",value:function(e){var t;if(window&&!window.csioproxy)return t=b("setProxyConfig",o.csErrorStrings.setProxyConfigInvokeError),c.error(t),c.sendLog(n.logEvents.error,t),m(n.callstatsAPIReturnStatus.failure,t);if(!e)return t=b("setProxyConfig",o.csErrorStrings.argumentError),c.error(t),c.sendLog(n.logEvents.error,t),m(n.callstatsAPIReturnStatus.failure,t);try{S.fire(a.MainEvents.onSetProxyConfig,e),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"setProxyConfig: Error",error:e.message+":"+e.stack}),c.error("setProxyConfig: Error",e)}return m(n.callstatsAPIReturnStatus.success)}},{key:"resetWifiStatsHandler",value:function(){try{S.fire(a.MainEvents.onResetWifiStatsHandler),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"resetWifiStatsHandler: Error",error:e.message+":"+e.stack}),c.error("resetWifiStatsHandler: Error",e)}return m(n.callstatsAPIReturnStatus.success)}},{key:"attachWifiStatsHandler",value:function(e){var t;if(!e)return t=b("attachWifiStatsHandler",o.csErrorStrings.argumentError),c.error(t),c.sendLog(n.logEvents.error,t),m(n.callstatsAPIReturnStatus.failure,t);if("function"!=typeof e)return t=b("attachWifiStatsHandler",o.csErrorStrings.argumentError),c.error(t),c.sendLog(n.logEvents.error,t),m(n.callstatsAPIReturnStatus.failure,t);try{S.fire(a.MainEvents.onAttachWifiStatsHandler,e),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"attachWifiStatsHandler: Error",error:e.message+":"+e.stack}),c.error("attachWifiStatsHandler: Error",e)}return m(n.callstatsAPIReturnStatus.success)}},{key:"setIdentifiers",value:function(e,t){var r;if(!e)return r=b("setIdentifiers",o.csErrorStrings.argumentError),c.error(r),c.sendLog(n.logEvents.error,r),m(n.callstatsAPIReturnStatus.failure,r);try{S.fire(a.MainEvents.onSetIdentifiers,e,t),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"setIdentifiers: Error",error:e.message+":"+e.stack}),c.error("setIdentifiers: Error",e)}return m(n.callstatsAPIReturnStatus.success)}},{key:"getTurnCredentials",value:function(e,t){return e&&t?new Promise(function(n,r){var i=new f.Authenticator;i.setGenerateTurnCredentials(!0),i.initiate(e,t,"turnUser").then(function(){i.getTaasEnabled()?n(i.getTurnServers()):r(new Error("getTurnCredentials: Invalid API Access"))},function(e){r(e)})}):new Promise(function(e,t){t(new Error("getTurnCredentials: Empty credentials"))})}},{key:"makePrecallTest",value:function(e,t,r){var i;if(!s.Registry.getAuthenticator().getToken()||!s.Registry.getCredentials().getAppId())return i=b("makePrecallTest",o.csErrorStrings.notInitialized),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);if(!s.Registry.getAuthenticator().getIceServers())return i=b("makePrecallTest",o.csErrorStrings.notInitialized),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);if(!s.Registry.getCredentials().getCollectSDP())return i=b("makePrecallTest",o.csErrorStrings.apiaccesserror),c.error(i),c.sendLog(n.logEvents.error,i),m(n.callstatsAPIReturnStatus.failure,i);try{S.fire(a.MainEvents.onMakePrecallTest,e,t,r),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"makePrecallTest: Error",error:e.message+":"+e.stack}),c.error("makePrecallTest: Error",e),c.sendLog(n.logEvents.error,"makePrecallTest Error")}return m(n.callstatsAPIReturnStatus.success)}},{key:"stopPrecallTests",value:function(){s.Registry.getPCTRunnerService().stop()}},{key:"startPrecallTests",value:function(e,t){var r;if(!s.Registry.getAuthenticator().getToken()||!s.Registry.getCredentials().getAppId())return r=b("startPrecallTests",o.csErrorStrings.notInitialized),c.error(r),c.sendLog(n.logEvents.error,r),m(n.callstatsAPIReturnStatus.failure,r);if(!s.Registry.getAuthenticator().getIceServers())return r=b("startPrecallTests",o.csErrorStrings.notInitialized),c.error(r),c.sendLog(n.logEvents.error,r),m(n.callstatsAPIReturnStatus.failure,r);if(!s.Registry.getCredentials().getCollectSDP())return r=b("startPrecallTests",o.csErrorStrings.apiaccesserror),c.error(r),c.sendLog(n.logEvents.error,r),m(n.callstatsAPIReturnStatus.failure,r);if(!e)return r=b("startPrecallTests",o.csErrorStrings.argumentError),c.error(r),c.sendLog(n.logEvents.error,r),m(n.callstatsAPIReturnStatus.failure,r);try{S.fire(a.MainEvents.onStartPrecallTests,e,36e5),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"startPrecallTests: Error",error:e.message+":"+e.stack}),c.error("startPrecallTests: Error",e),c.sendLog(n.logEvents.error,"startPrecallTests Error")}return m(n.callstatsAPIReturnStatus.success)}},{key:"getSctResults",value:function(){var e=d.get("csioPctResultsArray");if(e)try{return JSON.parse(e)[s.Registry.getCredentials().getAppId()]}catch(e){c.error("SCT Results parse error")}return null}},{key:"on",value:function(e,t){var r;if(!t||"function"!=typeof t)return r=b("on",o.csErrorStrings.argumentError),c.error(r),c.sendLog(n.logEvents.error,r),m(n.callstatsAPIReturnStatus.failure,r);if(!e||!n.callbackFunctions.hasOwnProperty(e))return r=b("on",o.csErrorStrings.argumentError),c.error(r),c.sendLog(n.logEvents.error,r),m(n.callstatsAPIReturnStatus.failure,r);try{S.fire(a.MainEvents.onOn,e,t),S.run()}catch(e){s.Registry.getGenericEventHandler().sendEvent(n.logEvents.error,{msg:"on: Error",error:e.message+":"+e.stack}),c.error("on: Error",e)}return m(n.callstatsAPIReturnStatus.success)}},{key:"fabricUsage",get:function(){return this.constructor.fabricUsage}},{key:"fabricEvent",get:function(){return this.constructor.fabricEvent}},{key:"webRTCFunctions",get:function(){return this.constructor.webRTCFunctions}},{key:"csError",get:function(){return this.constructor.csError}},{key:"qualityRating",get:function(){return this.constructor.qualityRating}},{key:"callStatsAPIReturnStatus",get:function(){return this.constructor.callStatsAPIReturnStatus}},{key:"version",get:function(){return this.constructor.version}},{key:"userIDType",get:function(){return this.constructor.userIDType}},{key:"transmissionDirection",get:function(){return this.constructor.transmissionDirection}},{key:"endpointType",get:function(){return this.constructor.endpointType}},{key:"callType",get:function(){return this.constructor.callType}},{key:"roles",get:function(){return this.constructor.roles}}])&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e})();function C(){return new k}k.fabricUsage=n.fabricUsage,k.fabricEvent=n.fabricEvent,k.webRTCFunctions=n.webRTCFunctions,k.csError=o.csError,k.qualityRating=n.qualityRating,k.callStatsAPIReturnStatus=n.callstatsAPIReturnStatus,k.version=r.version,k.userIDType=n.userIdType,k.endpointType=n.endpointType,k.transmissionDirection=n.transmissionDirection,k.callType=n.callType,k.roles=n.roles,"function"==typeof define&&define.amd?define("callstats",[],C):e.callstats=C,i.exports=C}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browserapi/localstorage":34,"./config/callstatserrors":49,"./config/constants":50,"./config/settings":51,"./fsm/mainfsm":52,"./services/authenticator":60,"./utility/csiologger":119,"./utility/onerroreventlistner":126,"./utility/registry":128,"./utility/utils":134}],37:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Cache=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../utility/csiologger"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.queue=[],this.priority=[]}var t,n;return t=e,(n=[{key:"add",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];1e6<this.length()?i.error("Maximum cached items reached, dropping."):(t?this.priority:this.queue).push(e)}},{key:"pop",value:function(){return(0<this.priority.length?this.priority:this.queue).shift()}},{key:"peak",value:function(){return 0<this.priority.length?this.priority[0]:0<this.queue.length?this.queue[0]:null}},{key:"length",value:function(){return this.queue.length+this.priority.length}},{key:"updateConferenceId",value:function(e){for(var t=0;t<this.queue.length;++t)this.queue[t].updateConferenceId(e);for(var n=0;n<this.priority.length;++n)this.priority[n].updateConferenceId(e)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Cache=e},{"../utility/csiologger":119}],38:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Component=void 0;var i=e("./port"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../utility/csiologger"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Unknown";if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.name=t,this.ports=new Map}var t,n;return t=e,(n=[{key:"bindPort",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this;this.ports.has(e)?o.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,new i.Port(t,n))}},{key:"declarePort",value:function(e){this.ports.has(e)?o.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,null)}},{key:"getPort",value:function(e){return this.ports.get(e)}},{key:"isConnected",value:function(e){return!!this.ports.has(e)&&null!==this.ports.get(e)}},{key:"connect",value:function(e,t){this.ports.has(e)?this.ports.set(e,t):o.warn("Port ("+e+") for "+this.name+" does not exists.")}},{key:"transmit",value:function(e){var t=this.ports.get(e);if(void 0===t)o.warn("Port ("+e+") for "+this.name+" does not exists.");else if(null===t)o.warn("Port ("+e+") for "+this.name+" is not connected.");else{for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.transmit(r)}}},{key:"request",value:function(e){var t=this.ports.get(e);if(void 0===t)return o.warn("Port ("+e+") for "+this.name+" does not exists."),null;if(null===t)return o.warn("Port ("+e+") for "+this.name+" is not connected."),null;for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.request(r)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Component=e},{"../utility/csiologger":119,"./port":41}],39:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTAggregator=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.pctMeasurements=[],this.pctMeasurementsMap=new Map}var t,n;return t=e,(n=[{key:"getPCTMeasurements",value:function(){return this.pctMeasurements}},{key:"addPCTMeasurement",value:function(e){this.pctMeasurements.length>=i.pctSampleSize&&this.pctMeasurements.shift(),this.pctMeasurements.push(e);var t=e.getProvider();this.pctMeasurementsMap.has(t)||this.pctMeasurementsMap.set(t,[]),this.pctMeasurementsMap.get(t).push(e)}},{key:"clearPCTMeasurements",value:function(){this.pctMeasurements=[],this.pctMeasurementsMap=new Map}},{key:"doStats",value:function(e){var t={};return t.min=this.findMin(e),t.max=this.findMax(e),t.mean=this.calculateAverage(e),t.median=this.calculateMedian(e),t.stddev=this.calculateStandardDeviation(e,t.mean),t}},{key:"findMax",value:function(e){return e&&e.length?Math.max.apply(null,e):null}},{key:"findMin",value:function(e){return e&&e.length?Math.min.apply(null,e):null}},{key:"calculateAverage",value:function(e){return e&&e.length?e.reduce(function(e,t){return e+t},0)/e.length:0}},{key:"calculateMedian",value:function(e){var t;return e&&e.length?(e=e.slice(0).sort(function(e,t){return e-t}),t=Math.floor(e.length/2),e.length%2==0?(e[t]+e[t-1])/2:e[t]):0}},{key:"calculateStandardDeviation",value:function(e,t){var n;return e&&e.length?(n=e.map(function(e){return(e-=t)*e}).reduce(function(e,t){return e+t},0),Math.sqrt(n/(e.length-1))):0}},{key:"setAcceptability",value:function(e){var t=[];return t.push(e.throughput.median<30),t.push(.05<e.loss.median),t.push(400<e.rtt.median),e.acceptable=!t.reduce(function(e,t){return e||t},!1),e}},{key:"doInternalMeasurement",value:function(e){var t={},n=[],r=[],i=[],o=[];if(e)for(var a=0;a<e.length;a++)n.push(e[a].getRttMedian()),o.push(e[a].getRttVariance()),r.push(e[a].getThroughput()),i.push(e[a].getFractionLost());return t.rtt=this.doStats(n),t.loss=this.doStats(i),t.jitter=this.doStats(o),t.throughput=this.doStats(r),t}},{key:"scoreRtt",value:function(e){var t,n=0;return e&&e.rtt&&(n=(t=e.rtt.max)<350?n+1:n,n=t<250?n+2:n,n=t<150?n+3:n,n=t<100?n+5:n,n=(t=e.rtt.median)<200?n+1:n,n=t<150?n+3:n,n=t<100?n+5:n),n}},{key:"scoreLosses",value:function(e){var t,n=15;return e&&e.loss?(n=.04<=(t=e.loss.max)?n-3:n,n=.025<=t?n-1:n,n=.01<=t?n-1:n,n=.04<=(t=e.loss.median)?n-5:n,n=.025<=t?n-3:n,.005<=t?n-2:n):0}},{key:"scoreThroughPut",value:function(e){var t,n=0;return e&&e.throughput&&(n=5e3<(t=e.throughput.median)?n+5:n,n=2e3<t?n+2:n,n=200<t?n+1:n,n=(t=e.throughput.min)<100?n-3:n,n=t<1e3?n-2:n,n=0<(n=t<2e3?n-1:n)?n:0),n}},{key:"aggregate",value:function(){var e=this,t=[];return e.pctMeasurementsMap.forEach(function(n,r){var i={};i.provider=r,r=e.doInternalMeasurement(n);i.rtt=r.rtt,i.jitter=r.jitter,i.loss=r.loss,i.throughput=r.throughput,(i=e.setAcceptability(i)).rttScore=e.scoreRtt(),i.lossesScore=e.scoreLosses(),i.throughputScore=e.scoreThroughPut(),t.push(i)}),t}},{key:"getAggregate",value:function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r={},i=e[n];r.provider=i.provider,r.roundTripTime=i.rtt.median,r.jitter=i.jitter.median,r.fractionLost=i.loss.median,r.throughput=i.throughput.median,t.push(r)}return t}},{key:"getSummary",value:function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r={};r.provider=e[n].provider,r.acceptable=e[n].acceptable,t.push(r)}return t}},{key:"getRanking",value:function(){var e=this.aggregate().sort(function(e,t){return e.acceptable||t.acceptable?e.acceptable&&!t.acceptable?-1:t.acceptable&&!e.acceptable?1:(e=e.rttScore+e.lossesScore+e.throughputScore,t.rttScore+t.lossesScore+t.throughputScore-e):0}),t=this.getAggregate(e),n=(e=this.getSummary(e),{});return n.aggregatedStats=t,n.providerRanking=e,n}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.PCTAggregator=e},{"../config/constants":50}],40:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTMeasurement=void 0;var i=(function(){function e(t,n,r,i,o,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.throughput=t,this.rttMedian=n,this.rttVariance=r,this.fractionLost=i,this.provider=o,this.timestamp=a}var t,n;return t=e,(n=[{key:"getThroughput",value:function(){return this.throughput}},{key:"getRttMedian",value:function(){return this.rttMedian}},{key:"getRttVariance",value:function(){return this.rttVariance}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"getProvider",value:function(){return this.provider}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.PCTMeasurement=i},{}],41:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Port=void 0;var i=(function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.target=t,this.object=n}var t,n;return t=e,(n=[{key:"transmit",value:function(e){this.target.apply(this.object,e)}},{key:"request",value:function(e){return this.target.apply(this.object,e)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.Port=i},{}],42:[function(e,t,n){"use strict";function r(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t=t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1})}Object.defineProperty(n,"__esModule",{value:!0}),n.Queue=void 0;var c=(function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;o(this,e),this.value=t,this.next=n}return s(e,[{key:"setNext",value:function(){this.next=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0}}]),e})(),u=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;o(this,e),this.capacity=t,this.root=n,this.tail=r,this.currentLength=0}return s(e,[{key:"size",value:function(){return this.currentLength}},{key:"isEmpty",value:function(){return this.currentLength<1}},{key:"isOverflow",value:function(){return this.size()>this.capacity}},{key:"push",value:function(){var e=this.tail;this.tail=new c(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0),this.isEmpty()?this.root=this.tail:e.setNext(this.tail),e=void(this.currentLength+=1);return this.isOverflow()?this.pop():e}},{key:"pop",value:function(){var e;if(!this.isEmpty())return e=this.root.value,this.root=this.root.next,--this.currentLength,e}},{key:"getFront",value:function(){return this.root}},{key:"getBack",value:function(){return this.tail}},{key:"clear",value:function(){this.root=void 0,this.tail=void 0,this.currentLength=0}},{key:"toArray",value:function(){for(var e=i({},this.root),t=[];e;){var n=e,r=n.value;e=n.next;t.push(r)}return t}}]),e})();n.Queue=u},{}],43:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SizedBalancedTree=void 0;var i=e("./sizedbalancedtreenode"),o=u(e("../config/constants")),a=e("../collections/queue"),s=u(e("../statspipeline/validator"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.maxSBTTreeSize;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.comparator=this.comparatorAsc,this.root=void 0,this.sizedQueue=new a.Queue(t)}var t,n;return t=e,(n=[{key:"comparatorAsc",value:function(e,t){return e<t?-1:t<e?1:0}},{key:"getSize",value:function(){return this.size(this.root)}},{key:"select",value:function(){var e=this.getKey(this.root,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0);return e&&e.key}},{key:"getMin",value:function(){var e=this.selectFirst(this.root);return e&&e.key}},{key:"getMax",value:function(){var e=this.selectLast(this.root);return e&&e.key}},{key:"add",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.root=this.addKey(this.root,e),e=this.sizedQueue.push(e);s.isNumber(e)&&(this.root=this.removeKey(this.root,e))}},{key:"delete",value:function(){this.root=this.removeKey(this.root,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null),this.sizedQueue.pop()}},{key:"addKey",value:function(e,t){var n;return e?(n=this.comparator(t,e.key),e.size=this.size(e)+1,n<0?e.left=this.addKey(e.left,t):e.right=this.addKey(e.right,t),this.maintain(e,t>=e.key)):new i.SizedBalancedTreeNode(t)}},{key:"removeKey",value:function(e,t){if(e){var n=this.comparator(t,e.key);if(n<0)e.left=this.removeKey(e.left,t);else if(0<n)e.right=this.removeKey(e.right,t);else{if(!e.left)return e.right;if(!e.right)return e.left;n=this.selectFirst(e.right),t=e.key,e.key=n.key,e.value=n.value,n.key=t,e.right=this.removeKey(e.right,t)}return(e=this.maintain(e)).size=this.size(e.left)+this.size(e.right)+1,e}}},{key:"maintain",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e){if(t){if(!(e.right&&this.size(e.right.right)>this.size(e.left))){if(!(e.right&&this.size(e.right.left)>this.size(e.left)))return e;e.right=this.rotateRight(e.right)}e=this.rotateLeft(e)}else{if(!(e.left&&this.size(e.left.left)>this.size(e.right))){if(!(e.left&&this.size(e.left.right)>this.size(e.right)))return e;e.left=this.rotateLeft(e.left)}e=this.rotateRight(e)}return e.left=this.maintain(e.left,!1),e.right=this.maintain(e.right,!0),e=this.maintain(e,!1),this.maintain(e,!0)}}},{key:"size",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return e?e.size:0}},{key:"height",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return t?(e=this.height(t.left),t=this.height(t.right),Math.max(e,t)+1):0}},{key:"rotateLeft",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;if(t)return e=t.right,t.right=e.left,e.left=t,e.size=this.size(t),t.size=this.size(t.left)+this.size(t.right)+1,e}},{key:"rotateRight",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;if(t)return e=t.left,t.left=e.right,e.right=t,e.size=this.size(t),t.size=this.size(t.left)+this.size(t.right)+1,e}},{key:"getKey",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e)return t===this.size(e.left)+1?e:t<=this.size(e.left)?this.getKey(e.left,t):this.getKey(e.right,t-1-this.size(e.left))}},{key:"selectLast",value:function(e){if(e){for(;e.right;)e=e.right;return e}}},{key:"selectFirst",value:function(e){if(e){for(;e.left;)e=e.left;return e}}},{key:"traverse",value:function(){this.print(this.root," ",!1)}},{key:"print",value:function(e,t,n){var r;e&&(r=n?"\u2514\u2500\u2500":"\u251c\u2500\u2500",console.log("".concat(t).concat(r),e.key),r=t+(n?"    ":"\u2502   "),e.left&&this.print(e.left,r,!1),e.right&&this.print(e.right,r,!0))}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.SizedBalancedTree=e},{"../collections/queue":42,"../config/constants":50,"../statspipeline/validator":114,"./sizedbalancedtreenode":44}],44:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.SizedBalancedTreeNode=void 0,n.SizedBalancedTreeNode=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e})(function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.key=t,this.left=n,this.right=r,this.size=i})},{}],45:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SlidingWindow=void 0;var i=e("./switem"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../utility/timestamps"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.items=[],this.plugins=[],this.postProcesses=[],this.preProcesses=[],this.timeoutInMs=n,this.maxItemsNum=t,this.minItemsNum=0}var t,n;return t=e,(n=[{key:"setMaxItemsNum",value:function(e){this.maxItemsNum=e}},{key:"setTimeoutInMs",value:function(e){this.timeoutInMs=e}},{key:"setMinItemsNum",value:function(e){this.minItemsNum=e}},{key:"refresh",value:function(){var e=o.getCurrent();if(!(this.items.length<=this.minItemsNum)){for(;0<this.maxItemsNum&&this.maxItemsNum<=this.items.length;)this.remove();this.timeoutInMs&&this.timeoutInMs<e-this.items[0].getCreated()&&(this.remove(),this.refresh())}}},{key:"getLength",value:function(){return this.items.length}},{key:"add",value:function(e){this.refresh(),this.items.push(new i.SWItem(e));for(var t=0;t<this.preProcesses.length;t++)(0,this.preProcesses[t])(e);for(var n=0;n<this.plugins.length;n++)this.plugins[n].add(e);for(var r=0;r<this.postProcesses.length;r++)(0,this.postProcesses[r])(e)}},{key:"remove",value:function(){for(var e=this.items.shift(),t=0;t<this.plugins.length;t++)this.plugins[t].remove(e.value)}},{key:"peek",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.items.length<=e?null:this.items[this.items.length-e-1].getValue()}},{key:"attach",value:function(e){this.plugins.push(e)}},{key:"addPreProcess",value:function(e){this.preProcesses.push(e)}},{key:"addPostProcess",value:function(e){this.postProcesses.push(e)}},{key:"detach",value:function(e){this.plugins=this.plugins.filter(function(t){return t!==e})}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.SlidingWindow=e},{"../utility/timestamps":132,"./switem":46}],46:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWItem=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../utility/timestamps"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.value=t,this.created=i.getCurrent()}var t,n;return t=e,(n=[{key:"getValue",value:function(){return this.value}},{key:"getCreated",value:function(){return this.created}},{key:"toString",value:function(){return""}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.SWItem=e},{"../utility/timestamps":132}],47:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Conference=void 0;var i=e("../peerconnection/peerconnectionmanager"),o=l(e("../config/settings")),a=e("../utility/registry"),s=l(e("../browserapi/sessionstorage")),c=l(e("../config/constants"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.conferenceId=t,this.startTime,this.peerConnectionManager=new i.PeerConnectionManager,this.credentials=n,this.ucId=null,this.url=null,this.userJoinedSent=!1}var t,n;return t=e,(n=[{key:"getCredentials",value:function(){return this.credentials}},{key:"getUcId",value:function(){return this.ucId}},{key:"setUcId",value:function(e){this.ucId=e,this.url=o.dashboardUrl+"apps/"+a.Registry.getCredentials().getAppId()+"/conferences/"+encodeURIComponent(this.conferenceId)+"/"+e+"/general",s.storeUcId(this.conferenceId,e)}},{key:"resetUcId",value:function(){this.ucId=null}},{key:"getPeerConnectionManager",value:function(){return this.peerConnectionManager}},{key:"getUrl",value:function(){return this.url}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.peerConnectionManager.updateConferenceId(e)}},{key:"updateState",value:function(){this.peerConnectionManager.getPeerConnectionStatus()===c.fabricState.terminated&&(this.setUserJoinedSent(!1),o.collectHeadsetStats&&a.Registry.getJabraService().stopJabraMonitoring())}},{key:"isUserJoinedSent",value:function(){return this.userJoinedSent}},{key:"setUserJoinedSent",value:function(e){this.userJoinedSent=e}},{key:"close",value:function(e){}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Conference=e},{"../browserapi/sessionstorage":35,"../config/constants":50,"../config/settings":51,"../peerconnection/peerconnectionmanager":58,"../utility/registry":128}],48:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConferenceManager=void 0;var i=e("./conference"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.conferenceMap=new Map}var t,n;return t=e,(n=[{key:"add",value:function(e,t){this.get(e)||(t=new i.Conference(e,t),this.conferenceMap.set(e,t))}},{key:"get",value:function(e){return this.conferenceMap.get(e)}},{key:"getConferenceForPc",value:function(e){var t=null;return e&&this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandler(e);i&&i.getConferenceId()===r&&(t=n)}),t}},{key:"getConferenceForPcHash",value:function(e){var t=null;return e&&this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandlerByHash(e);i&&i.getConferenceId()===r&&(t=n)}),t}},{key:"updateConferenceId",value:function(e){var t=o.tmpConferenceId,n=this.get(t);n&&(n.updateConferenceId(e),this.conferenceMap.set(e,n),this.conferenceMap.delete(t))}},{key:"getConferenceIds",value:function(){var e=[];return this.conferenceMap.forEach(function(t,n){e.push(n)}),e}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.ConferenceManager=e},{"../config/constants":50,"./conference":47}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.internalErrors=n.csErrorStrings=n.csErrorReason=n.csError=n.authErrorActions=void 0,n.csError={httpError:"httpError",authError:"authError",wsChannelFailure:"wsChannelFailure",success:"success",csProtoError:"csProtoError",appConnectivityError:"appConnectivityError",tokenGenerationError:"tokenGenerationError",ok:"OK",authOngoing:"authOngoing",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction"},n.csErrorStrings={argumentError:"Argument missing/invalid",cryptoError:"Browser does not support Web Cryptography API. App secret based authentication requires Web Cryptography API",fabricEventUnsupported:"Unsupported fabricEvent",fabricEventInvalid:"Invalid fabricEvents value",fabricUsageInvalid:"Invalid fabricUsage value",notInitialized:"SDK is not initialized or no Fabrics added",pcInvalid:"Invalid PeerConnection object passed",confereneDoesNotExist:"conferenceId does not exist",webRTCFunctionsInvalid:"Invalid webRTC functionName value",setProxyConfigInvokeError:"cannot be called if window.csioproxy is false",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction",apiaccesserror:"API access Error"},n.csErrorReason={csProtoError:"Protocol fields cannot be empty.",csNoAuthState:"Authentication state unavailable in server."},n.internalErrors={authOngoing:"authOngoing"},n.authErrorActions={RETRY:0,GET_NEW_TOKEN:1,REPORT_ERROR:2}},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.wsConnectionState=n.webRTCFunctions=n.userIdType=n.urlType=n.transmissionDirection=n.tmpConferenceId=n.throughputThreshold=n.streamType=n.statsDestination=n.rttThreshold=n.roles=n.reportType=n.qualityRating=n.qualityDisruptionTypes=n.precalltestEvents=n.pctSampleSize=n.osName=n.oneWayMediaTypes=n.mediaType=n.mediaDisruptionCallbackType=n.maxSBTTreeSize=n.logEvents=n.limitationType=n.internalFabricEvent=n.fractionalLossThreshold=n.fabricUsage=n.fabricStateChangeType=n.fabricState=n.fabricEvent=n.endpointType=n.echoDetectionLabel=n.eModelThreshold=n.customEvents=n.currOverPrevFrameRateThreshold=n.csCallBackMessages=n.codeBaseType=n.circuitBreakerDisruptionType=n.callstatsChannels=n.callstatsAPIReturnStatus=n.callbackFunctions=n.callType=n.callFailureReasons=n.browserName=n.avQualityRatings=n.adaptiveStatsThresholds=n.adaptiveStatsIntervalsInMs=void 0,n.logEvents={stateMachine:"stateMachine",log:"log",timing:"timing",error:"error",getStatsError:"getStatsError",restResponseError:"restResponseError",warn:"warn"},n.fabricEvent={fabricSetupFailed:"fabricSetupFailed",fabricHold:"fabricHold",fabricResume:"fabricResume",audioMute:"audioMute",audioUnmute:"audioUnmute",videoPause:"videoPause",videoResume:"videoResume",fabricUsageEvent:"fabricUsageEvent",fabricTerminated:"fabricTerminated",screenShareStart:"screenShareStart",screenShareStop:"screenShareStop",dominantSpeaker:"dominantSpeaker",activeDeviceList:"activeDeviceList",applicationErrorLog:"applicationErrorLog",callDetails:"callDetails",callUnAnswered:"callUnAnswered"},n.callType={unknown:"unknown",inbound:"inbound",outbound:"outbound",monitoring:"monitoring"},n.roles={agent:"agent",participant:"participant"},n.internalFabricEvent={fabricSetup:"fabricSetup",fabricSetupFailed:"fabricSetupFailed",userJoined:"userJoined",userLeft:"userLeft",userAlive:"userAlive",ssrcMap:"ssrcMap",mediaPlaybackStart:"mediaPlaybackStart",mediaPlaybackSuspended:"mediaPlaybackSuspended",mediaPlaybackStalled:"mediaPlaybackStalled",oneWayMedia:"oneWayMedia",oneWayMediaStart:"oneWayMediaStart",oneWayMediaStop:"oneWayMediaStop",fabricStateChange:"fabricStateChange",iceDisruptionStart:"iceDisruptionStart",iceDisruptionEnd:"iceDisruptionEnd",fabricTransportSwitch:"fabricTransportSwitch",iceConnectionDisruptionStart:"iceConnectionDisruptionStart",iceConnectionDisruptionEnd:"iceConnectionDisruptionEnd",iceAborted:"iceAborted",iceTerminated:"iceTerminated",iceFailed:"iceFailed",iceRestarted:"iceRestarted",fabricDropped:"fabricDropped",connectedDeviceList:"connectedDeviceList",sdpSubmission:"sdpSubmissionEvent",sendingThroughputObservations:"sendingThroughputObservations",limitationObservations:"limitationObservations",userDetails:"userDetails",circuitBreaker:"circuitBreaker"},n.callstatsChannels={sdpSubmission:"sdpSubmissionEvent",processedStats:"processedStats",callstatsEvent:"callStatsEvent",userFeedback:"userFeedbackEvent",preCallTest:"preCallTest",senderConfiguration:"senderConfiguration"},n.urlType={events:"events",stats:"stats"},n.precalltestEvents={results:"preCallTestResults",associate:"preCallTestAssociate",notification:"preCallTestNotification"},n.customEvents={event:"customEvent",stats:"customStats",conferenceSummary:"conferenceSummary"},n.callstatsAPIReturnStatus={success:"success",failure:"failure"},n.fabricUsage={audio:"audio",video:"video",data:"data",screen:"screen",multiplex:"multiplex",unbundled:"unbundled"},n.userIdType={local:"local",remote:"remote"},n.qualityRating={excellent:5,good:4,fair:3,poor:2,bad:1},n.reportType={local:"local",remote:"remote"},n.avQualityRatings={excellent:"excellent",fair:"fair",bad:"bad",unknown:"unknown"},n.fabricState={established:"established",initializing:"initializing",failed:"failed",disrupted:"disrupted",hold:"hold",checkingDisrupted:"checkingDisrupted",terminated:"terminated"},n.webRTCFunctions={createOffer:"createOffer",createAnswer:"createAnswer",setLocalDescription:"setLocalDescription",setRemoteDescription:"setRemoteDescription",addIceCandidate:"addIceCandidate",getUserMedia:"getUserMedia",iceConnectionFailure:"iceConnectionFailure",signalingError:"signalingError",applicationError:"applicationError",applicationLog:"applicationLog"},n.callFailureReasons={mediaConfigError:"MediaConfigError",negotiationFailure:"NegotiationFailure",sdpError:"SDPGenerationError",iceFailure:"IceConnectionFailure",transportFailure:"TransportFailure",signalingError:"SignalingError",applicationError:"ApplicationError",applicationLog:"ApplicationLog",invalidWebRTCFunctionName:"Invalid WebRTC function name"},n.throughputThreshold={video:{green:1024,red:256},audio:{green:30,red:8}},n.currOverPrevFrameRateThreshold={video:{green:.8,red:.3}},n.rttThreshold={video:{green:400,red:1e3}},n.fractionalLossThreshold={video:{green:.1,red:.5},audio:{green:.15,red:.3}},n.eModelThreshold={audio:{green:240,red:400}},n.codeBaseType={chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},n.browserName={chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari",opera:"Opera"},n.osName={windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"},n.mediaType={audio:"audio",video:"video"},n.streamType={inbound:"inbound",outbound:"outbound"},n.fabricStateChangeType={signalingState:"signalingState",iceConnectionState:"iceConnectionState",iceGatheringState:"iceGatheringState"},n.wsConnectionState={initiated:"initiated",connected:"connected",closed:"closed"},n.csCallBackMessages={authSuccessful:"SDK authentication successful.",authFailed:"SDK authentication failed.",authProtocolInvalid:"Fatal authentication error. Invalid auth protocol message.",authOngoing:"Authentication on going.",wsConnected:"WebSocket establishment successful.",wsClosed:"WebSocket server closed.",wsFailed:"WebSocket establishment failed."},n.oneWayMediaTypes={audio:"audio",video:"video",screen:"screen"},n.limitationType={cpu:"cpu",network:"network"},n.qualityDisruptionTypes={qpchange:"qpchange"},n.callbackFunctions={stats:"stats",defaultConfig:"defaultConfig",recommendedConfig:"recommendedConfig",preCallTestResults:"preCallTestResults",preCallTest:"preCallTest",connectionRecommendation:"connectionRecommendation",mediaDisruption:"mediaDisruption",pctConnectionQualityChange:"pctConnectionQualityChange"},n.mediaDisruptionCallbackType={oneWayMediaStart:"oneWayMediaStart",oneWayMediaStop:"oneWayMediaStop",circuitBreaker:"circuitBreaker"},n.circuitBreakerDisruptionType={mediaTimeout:"mediaTimeout",congestion:"congestion",mediaUsability:"mediaUsability",RTCPTimeout:"RTCPTimeout"},n.endpointType={peer:"peer",server:"server"},n.transmissionDirection={sendonly:"sendonly",receiveonly:"receiveonly",sendrecv:"sendrecv",inactive:"inactive"},n.adaptiveStatsIntervalsInMs={min:2e3,max:3e4},n.adaptiveStatsThresholds={maxMarginFactor:15,marginReductionFactor:.5,marginIncreaseFactor:2,maxGradualCounter:4,rippleBase:2,marginDecreaseIntervalInMs:3e3,minIntervalInMs:2e3,maxIntervalInMs:3e4,windowSize:100,resetThreshold:3,minThreshold:{rtt:100,throughput:200,fractionalLoss:.1},eps:9e-5,maxInitialTimeoutInMs:3e4,initialNotifyIntervalTimeoutInMs:5e3},n.statsDestination={callback:"callback",backend:"backend"},n.echoDetectionLabel={unacceptable:"unacceptable",limitingCase:"limitingCase",acceptable:"acceptable"},n.tmpConferenceId="csio-conf-id-tmp",n.pctSampleSize=100,n.maxSBTTreeSize=600},{}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.restStatsUrl=n.restEventUrl=n.dashboardUrl=n.csioDebug=n.configServiceUrl=n.collectorUrl=n.collectLegacyStats=n.collectIP=n.collectHeadsetStats=n.callbackLogger=n.authServiceUrl=n.authRetryTimeout=void 0,n.setAuthServiceUrl=function(e){n.authServiceUrl=r=e},n.setCallbackLogger=function(e){n.callbackLogger=f=e},n.setCollectHeadsetStats=function(e){n.collectHeadsetStats=d=e},n.setCollectIP=function(e){n.collectIP=l=e},n.setCollectLegacyStats=function(e){n.collectLegacyStats=u=e},n.setCollectorUrl=function(e){n.collectorUrl=o=e},n.setConfigServiceUrl=function(e){n.configServiceUrl=a=e},n.setDashboardUrl=function(e){n.dashboardUrl=i=e},n.setRestEventUrl=function(e){n.restEventUrl=s=e},n.setRestStatsUrl=function(e){n.restStatsUrl=c=e},n.version=void 0,n.version="3.73.22";var r="https://auth.callstats.io/",i=(n.authServiceUrl=r,"https://dashboard.callstats.io/"),o=(n.dashboardUrl=i,"https://collector.callstats.io:443/"),a=(n.collectorUrl=o,n.csioDebug="false",null),s=(n.configServiceUrl=a,n.authRetryTimeout=5e3,null),c=(n.restEventUrl=s,null),u=(n.restStatsUrl=c,!0),l=(n.collectLegacyStats=u,!0),d=(n.collectIP=l,!0),f=(n.collectHeadsetStats=d,null);n.callbackLogger=f},{}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MainFSM=n.MainEvents=void 0;var r=e("./statemachine"),i=e("../utility/registry"),o=g(e("../utility/csiologger")),a=g(e("../utility/utils")),s=g(e("../utility/ipdiscovery")),c=g(e("../utility/timestamps")),u=g(e("../config/constants")),l=g(e("../config/settings")),d=e("../statspipeline/statsadapter"),f=e("../statspipeline/statsparser"),p=e("../statspipeline/statsmonitor"),h=e("../statspipeline/statstransmitter"),y=e("../statspipeline/statsassembler");function v(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(v=function(e){return e?n:t})(e))}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(function(e){if(Array.isArray(e))return w(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})(e)||(function(e,t){var n;if(e)return"string"==typeof e?w(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,r=T(e);n=t?(n=T(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===m(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P="Created",_="Initializing",O="Idle",E={onStart:"onStart",onInitialize:"onInitialize",onAddNewFabric:"onAddNewFabric",onSendFabricEvent:"onSendFabricEvent",onReportError:"onReportError",onAssociateMstWithUserID:"onAssociateMstWithUserID",onSetProxyConfig:"onSetProxyConfig",onAttachWifiStatsHandler:"onAttachWifiStatsHandler",onResetWifiStatsHandler:"onResetWifiStatsHandler",onSendUserFeedback:"onSendUserFeedback",onOn:"onOn",onSetIdentifiers:"onSetIdentifiers",onMakePrecallTest:"onMakePrecallTest",onStartPrecallTests:"onStartPrecallTests",onSendCallDetails:"onSendCallDetails",onSendCustomStats:"onSendCustomStats",onSendCustomEvent:"onSendCustomEvent"};n.MainEvents=E;var I="onServicesFinished";e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e);var n=C(r);function r(){var e;if(this instanceof r)return e=n.call(this,P),o.log("FSM:",e.getState()),e.fire(E.onStart),e.run(),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}}),e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"proceed",value:function(e,t){switch(this.getState()){case P:switch(e){case E.onStart:this.onStart.apply(this,b(t));break;case E.onInitialize:this.setState(_),o.log("FSM:",this.getState()),this.onInitialize.apply(this,b(t));break;case E.onOn:this.onOn.apply(this,b(t));break;case E.onSetProxyConfig:this.onSetProxyConfig.apply(this,b(t));break;case E.onStartPrecallTests:this.onStartPrecallTests.apply(this,b(t))}break;case _:switch(e){case I:this.onServicesFinished()&&(this.setState(O),o.log("FSM:",this.getState()));break;case E.onAddNewFabric:this.onAddNewFabric.apply(this,b(t));break;case E.onSendFabricEvent:this.onSendFabricEvent.apply(this,b(t));break;case E.onSendCallDetails:this.onSendCallDetails.apply(this,b(t));break;case E.onSendCustomEvent:this.onSendCustomEvent.apply(this,b(t));break;case E.onSendCustomStats:this.onSendCustomStats.apply(this,b(t));break;case E.onReportError:this.onReportError.apply(this,b(t));break;case E.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,b(t));break;case E.onSendUserFeedback:this.onSendUserFeedback.apply(this,b(t));break;case E.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,b(t));break;case E.onResetWifiStatsHandler:this.onResetWifiStatsHandler.apply(this,b(t));break;case E.onOn:this.onOn.apply(this,b(t));break;case E.onMakePrecallTest:this.onMakePrecallTest.apply(this,b(t));break;case E.onSetIdentifiers:this.onSetIdentifiers.apply(this,b(t));break;case E.onSetProxyConfig:this.onSetProxyConfig.apply(this,b(t));break;case E.onStartPrecallTests:this.onStartPrecallTests.apply(this,b(t))}break;case O:case"Run":switch(e){case E.onAddNewFabric:this.onAddNewFabric.apply(this,b(t));break;case E.onSendFabricEvent:this.onSendFabricEvent.apply(this,b(t));break;case E.onSendCallDetails:this.onSendCallDetails.apply(this,b(t));break;case E.onSendCustomEvent:this.onSendCustomEvent.apply(this,b(t));break;case E.onSendCustomStats:this.onSendCustomStats.apply(this,b(t));break;case E.onReportError:this.onReportError.apply(this,b(t));break;case E.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,b(t));break;case E.onSendUserFeedback:this.onSendUserFeedback.apply(this,b(t));break;case E.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,b(t));break;case E.onResetWifiStatsHandler:this.onResetWifiStatsHandler.apply(this,b(t));break;case E.onOn:this.onOn.apply(this,b(t));break;case E.onSetProxyConfig:this.onSetProxyConfig.apply(this,b(t));break;case E.onMakePrecallTest:this.onMakePrecallTest.apply(this,b(t));break;case E.onSetIdentifiers:this.onSetIdentifiers.apply(this,b(t));break;case E.onStartPrecallTests:this.onStartPrecallTests.apply(this,b(t))}}}},{key:"onStart",value:function(){i.Registry.getEndpoint().setup(),this.authenticator=i.Registry.getAuthenticator(),this.configservicewrapper=i.Registry.getConfigServiceWrapper(),this.precalltest=i.Registry.getPreCallTest();var e=i.Registry.getStatsAdapter(),t=i.Registry.getStatsParser(),n=i.Registry.getStatsMonitor(),r=i.Registry.getStatsTransmitter(),o=i.Registry.getStatsAssembler();e.connect(d.StatsAdapterIO.RawStatsOut,t.getPort(f.StatsParserIO.RawStatsIn)),t.connect(f.StatsParserIO.PcStatsTupleOut,n.getPort(p.StatsMonitorIO.PcStatsTupleIn)),n.connect(p.StatsMonitorIO.StatsTupleOut,o.getPort(y.StatsAssemblerIO.StatsTupleIn)),o.connect(y.StatsAssemblerIO.CallstatsOut,r.getPort(h.StatsTransmitterIO.CallstatsIn)),e.connect(d.StatsAdapterIO.UnprocessedOut,r.getPort(h.StatsTransmitterIO.UnprocessedIn))}},{key:"setupConnection",value:function(){var e=this;this.connectionManager=i.Registry.getConnectionManager(),this.connectionManager.setupCollectorConnection(),this.connectionManager.setup().then(function(){o.log("Connected to connectionManager"),e.fire(I),e.run()}).catch(function(e){return o.log("Could not connect to connectionManager",e)})}},{key:"setup",value:function(){var e=this;this.clocksync=i.Registry.getClockSync(),i.Registry.getGenericEventHandler().sendEvent(u.logEvents.log,{msg:"Starting clockSync"}),this.clocksync.initiate().then(function(){o.log("Clocksync completed"),o.sendLog(u.logEvents.warn,"Clocksync completed"),e.fire(I),e.run()}).catch(function(e){o.sendLog(u.logEvents.error,"Could not finish ClockSync"),o.log("Could not finish ClockSync",e)})}},{key:"onInitialize",value:function(e,t,n,r,a,s){var c=this,d=i.Registry.getCredentials();d.setAppId(e),d.setUserId(t),i.Registry.getCallbacks().set(u.callbackFunctions.stats,a),this.doPrecalltest=!0,s&&(!0===s.disableBeforeUnloadHandler&&this.setBeforeUnloadHandler(),s.applicationVersion&&i.Registry.getEndpoint().setAppVersion(s.applicationVersion),s.disablePrecalltest&&(this.doPrecalltest=!1),s.siteID&&("string"!=typeof s.siteID?o.error("Invalid configParams: siteId must be string"):d.setSiteId(s.siteID)),s.additionalIDs&&("object"!==m(s.additionalIDs)?o.error("Invalid configParams: additionalIDs must be object"):(console.log("Setting application IDs",s.additionalIDs),d.setAdditionalIDs(s.additionalIDs))),"boolean"==typeof s.collectLegacyStats&&l.setCollectLegacyStats(s.collectLegacyStats),"boolean"==typeof s.collectIP&&l.setCollectIP(s.collectIP),"boolean"==typeof s.collectHeadsetStats&&l.setCollectHeadsetStats(s.collectHeadsetStats),s.callbackLogger&&"function"==typeof s.callbackLogger&&l.setCallbackLogger(s.callbackLogger)),this.setup(),l.collectHeadsetStats&&i.Registry.getJabraService().initJabraService(),this.authenticator.initiate(e,n,t,r).then(function(e){o.log("Authentication complete"),o.sendLog(u.logEvents.warn,"Authentication complete"),c.setupConnection(),!0===i.Registry.getCredentials().isAdaptiveStatsEnabled()?i.Registry.getStatsMonitor().setIntervals(u.adaptiveStatsIntervalsInMs.min,u.adaptiveStatsIntervalsInMs.max):(t=i.Registry.getCredentials().getStatsSubmissionInterval(),i.Registry.getStatsMonitor().setIntervals(t,t)),c.fire(I),c.run();var t=c.authenticator.getIceServers(),n=i.Registry.getCredentials().getIngestedEvents();t&&c.doPrecalltest&&n.includes("precallTestResultsAutomatic")&&i.Registry.getPCTRunnerService().doPrecalltest(t,"callstats",{isRunManually:!1,runByUser:!1}),l.configServiceUrl&&(c.configservicewrapper.initiateInternalConfig().then(function(){o.log("ConfigService internal config:",c.configservicewrapper.getInternalConfig()),c.fire(I),c.run()},function(e){return o.log(e)}),c.configservicewrapper.initiateAppConfig().then(function(){var e=i.Registry.getCallbacks().get(u.callbackFunctions.defaultConfig),t=c.configservicewrapper.getAppDefaultConfig();e&&t&&e(t),e=i.Registry.getCallbacks().get(u.callbackFunctions.recommendedConfig),t=c.configservicewrapper.getAppRecommendedConfig();e&&t&&e(t),c.fire(I),c.run()},function(e){return o.log(e)}))},function(e){o.log(e)})}},{key:"setBeforeUnloadHandler",value:function(){window&&window.addEventListener&&(o.log("setBeforeUnloadHandler"),window.addEventListener("beforeunload",function(e){return i.Registry.getConferenceManager().conferenceMap.forEach(function(e,t){e&&e.getPeerConnectionManager().pcHandlers.forEach(function(e,t){i.Registry.getEventMessageBuilder().make(u.internalFabricEvent.userLeft,e.getConferenceId(),e.getPeerConnection())})}),"Are you sure you want to close the call?"}))}},{key:"onServicesFinished",value:function(){return!!(this.connectionManager&&this.connectionManager.isReady()&&this.clocksync.isCompleted()&&this.authenticator.isCompleted())&&(i.Registry.getTransmissionManager().trySend(),!0)}},{key:"onAddNewFabric",value:function(e,t,n,r,a,c,d){var f,p=this,h=(o.warn("FSM onAddNewFabric"),i.Registry.getConferenceManager().add(r,i.Registry.getCredentials()),i.Registry.getConferenceManager().get(r)),y=!1,v=((v=h.getPeerConnectionManager()).addPcHandler(e,t,n,r,a,c,d),{endpointInfo:i.Registry.getEndpoint().serialize()});(t=i.Registry.getCredentials().getUserIdObject())&&t.userName&&(v.userName=String(t.userName)),t&&t.loginID&&(v.loginID=String(t.loginID)),h.isUserJoinedSent()||(h.resetUcId(),v.disableGeoIP=!l.collectIP,i.Registry.getEventMessageBuilder().make(u.internalFabricEvent.userJoined,r,e,v),h.setUserJoinedSent(!0),f=t?String(t.userName):null,l.collectIP?(s.getRemoteAddress(function(t){y||(y=!0,p.sendUserDetailsEvent(e,r,f,t,!0))}),setTimeout(function(){y||(y=!0,p.sendUserDetailsEvent(e,r,f,[],!0))},5e3)):y||(y=!0,this.sendUserDetailsEvent(e,r,f,[],!1))),n=i.Registry.getPCTRunnerService().getPrecallTestIds();(a=(i.Registry.getPCTRunnerService().resetPrecallTestIds(),l.collectHeadsetStats&&i.Registry.getJabraService().startJabraMonitoring(r),this.precalltest.getId()))&&n.push(a),0<n.length&&i.Registry.getEventMessageBuilder().make(u.precalltestEvents.associate,r,e,{ids:n})}},{key:"onStartPrecallTests",value:function(e,t){var n=i.Registry.getAuthenticator().getIceServers();n[0].label="callstats-pct",e.push(n[0]),i.Registry.getPCTRunnerService().start(e,t)}},{key:"onSendCallDetails",value:function(e,t,n){o.warn("FSM onSendCallDetails");var r={};r.callType=n.callType,r.role=n.role,n.contactQueue&&(r.contactQueue=n.contactQueue),n.contactQueueID&&(r.contactQueueID=n.contactQueueID),n.routingProfile&&(r.routingProfile=n.routingProfile),n.routingProfileID&&(r.routingProfileID=n.routingProfileID),n.contactID&&(r.contactID=n.contactID),n.acceptedTimestamp&&(r.acceptedAt=n.acceptedTimestamp),n.connectedTimestamp&&(r.connectedAt=n.connectedTimestamp),n.originalContactID&&(r.originalContactID=n.originalContactID),n.siteID&&(r.siteID=n.siteID,i.Registry.getCredentials().setSiteId(n.siteID)),n.extensionVersion&&(r.extensionVersion=n.extensionVersion,i.Registry.getCredentials().setExtensionVersion(n.extensionVersion)),n.shimVersion&&(r.shimVersion=n.shimVersion,i.Registry.getCredentials().setShimVersion(n.shimVersion)),i.Registry.getEventMessageBuilder().make(u.fabricEvent.callDetails,t,e,r)}},{key:"onSendCustomEvent",value:function(e,t,n){if(o.warn("FSM onSendCustomEvent"),n&&1===n.length){var r=n[0];if("conferenceSummary"===r.type)return void i.Registry.getEventMessageBuilder().make(u.customEvents.conferenceSummary,t,e,r)}i.Registry.getEventMessageBuilder().make(u.customEvents.event,t,e,{eventList:n})}},{key:"onSendCustomStats",value:function(e,t,n){o.warn("FSM onSendCustomStats");var r={};r.stats=n,i.Registry.getEventMessageBuilder().make(u.customEvents.stats,t,e,r)}},{key:"onSendFabricEvent",value:function(e,t,n,r){o.warn("FSM onSendFabricEvent");var s={};(r=(r&&(s=r).ssrc&&(s.ssrc=String(s.ssrc)),t===u.fabricEvent.activeDeviceList&&(s={mediaDeviceList:a.normalizeMediaDeviceList(r.deviceList)}),i.Registry.getEventMessageBuilder().make(t,n,e,s),i.Registry.getConferenceManager().get(n)))&&(s=r.getPeerConnectionManager().getPcHandler(e),t!==u.fabricEvent.fabricTerminated&&t!==u.internalFabricEvent.fabricSetupFailed||(s.stopUserAliveHandler(),s.setPcState(u.fabricState.terminated),s.stopStatsPolling(),s.stopPCStateMonitoring(),r.getPeerConnectionManager().removePcStats(s&&s.getPcHash()),r.updateState()),t===u.fabricEvent.fabricHold&&(s.setPcState(u.fabricState.hold),s.stopStatsPolling()),t===u.fabricEvent.fabricResume&&(s.setPcState(u.fabricState.established),s.startStatsPolling()),t===u.fabricEvent.audioMute&&s.setAudioMuted(!0),t===u.fabricEvent.audioUnmute&&s.setAudioMuted(!1))}},{key:"onReportError",value:function(e,t,n,r,a,s){o.warn("FSM onReportError");var l={delay:0,reason:this.callFailureClassifier(n),function:n,magicKey:i.Registry.getEndpoint().getMagicKey(),endpoint:i.Registry.getEndpoint().serialize(),level:"debug"};if(r&&(f=this.formatDomError(r),l.message=f.message,l.messageType=f.messageType,l.name=r.name,l.stack=r.stack),e){var d,f=i.Registry.getConferenceManager().get(t);if(!(d=f?f.getPeerConnectionManager().getPcHandler(e):d))return void o.error("onReportError: No handler found for given PeerConnection!");l.delay=c.getCurrent()-d.getStartTime(),l.fabricState=d.getPcState(),l.iceConnectionState=d.getIceConnectionState(),(a||s||e&&"closed"!==e.signalingState)&&i.Registry.getCredentials().getCollectSDP()&&n!==u.webRTCFunctions.applicationLog&&((r={}).localSDP=this.pickSDP(e,a,"localDescription"),r.remoteSDP=this.pickSDP(e,s,"remoteDescription"),i.Registry.getEventMessageBuilder().make(u.callstatsChannels.sdpSubmission,t,e,r))}n===u.webRTCFunctions.applicationLog||n===u.webRTCFunctions.applicationError?i.Registry.getEventMessageBuilder().make(u.fabricEvent.applicationErrorLog,t,e,l):n===u.webRTCFunctions.iceConnectionFailure?this.handleIceConnectionFailure(e,t,l):(i.Registry.getEventMessageBuilder().make(u.fabricEvent.fabricSetupFailed,t,e,l),n===u.webRTCFunctions.getUserMedia&&this.handleGUMErrors(t))}},{key:"onAssociateMstWithUserID",value:function(e,t,n,r,o,a){(n=i.Registry.getConferenceManager().get(n))&&("string"!=typeof r&&(r+=""),n.getPeerConnectionManager().getPcHandler(e).updateSSRCInfo(r,t,o,a))}},{key:"onResetWifiStatsHandler",value:function(){i.Registry.getWifiStatsExecutor().resetGetWifiStatsMethod()}},{key:"onAttachWifiStatsHandler",value:function(e){i.Registry.getWifiStatsExecutor().setGetWifiStatsMethod(e)}},{key:"onSetProxyConfig",value:function(e){o.warn("FSM onSetProxyConfig"),e.collectorURL&&l.setCollectorUrl(e.collectorURL),e.authServiceURL&&l.setAuthServiceUrl(e.authServiceURL),e.restEventURL&&l.setRestEventUrl(e.restEventURL),e.restStatsURL&&l.setRestStatsUrl(e.restStatsURL),e.appSettingsURL&&l.setConfigServiceUrl(e.appSettingsURL)}},{key:"onSendUserFeedback",value:function(e,t,n){var r={feedback:{overallRating:t.overall}};t.video&&(r.feedback.videoQualityRating=t.video),t.audio&&(r.feedback.audioQualityRating=t.audio),t.comment&&(r.feedback.comments=t.comment),i.Registry.getEventMessageBuilder().make(u.callstatsChannels.userFeedback,e,null,r)}},{key:"onOn",value:function(e,t){i.Registry.getCallbacks().set(e,t)}},{key:"onSetIdentifiers",value:function(e,t){var n;e.conferenceID&&(i.Registry.getConferenceManager().updateConferenceId(e.conferenceID),i.Registry.getTransmissionManager().updateConferenceId(e.conferenceID),i.Registry.getTransmissionManager().trySend()),e.remoteUserID&&t&&((n=i.Registry.getConferenceManager().getConferenceForPc(t))?(n=n.getPeerConnectionManager().getPcHandler(t))?(n.updateRemoteId(e.remoteUserID),i.Registry.getTransmissionManager().trySend()):o.log("pcHandler not found"):o.log("onSetIdentifiers conference not found"))}},{key:"onMakePrecallTest",value:function(e,t,n){var r=e;t=t||"callstats";n?(n.isRunManually=!0)!==n.runByUser&&(n.runByUser=!1):n={isRunManually:!0,runByUser:!0},e||(r=this.authenticator.getIceServers(),t="callstats"),i.Registry.getPCTRunnerService().doPrecalltest(r,t,n)}},{key:"sendUserDetailsEvent",value:function(e,t,n,r,o){i.Registry.getEventMessageBuilder().make(u.internalFabricEvent.userDetails,t,e,{userName:n,localIpAddressInfo:r,collectIP:o})}},{key:"handleIceConnectionFailure",value:function(e,t,n){var r,o;!e||(r=(o=i.Registry.getConferenceManager().get(t))?o.getPeerConnectionManager().getPcHandler(e):r)&&(r.isFabricSetupSent()?((o={localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]}).delay=c.getCurrent()-r.getStartTime(),o.currIceConnectionState="failed",o.prevIceConnectionState="disconnected",i.Registry.getEventMessageBuilder().make(u.internalFabricEvent.iceFailed,t,e,o)):(n.delay=c.getCurrent()-r.getStartTime(),n.fabricState=r.getPcState(),n.iceConnectionState=r.getIceConnectionState(),i.Registry.getEventMessageBuilder().make(u.fabricEvent.fabricSetupFailed,t,e,n)))}},{key:"handleGUMErrors",value:function(e){var t,n=i.Registry.getConferenceManager().get(e);n||(i.Registry.getConferenceManager().add(e,i.Registry.getCredentials()),n=i.Registry.getConferenceManager().get(e)),n.getUcId()||((t={endpointInfo:i.Registry.getEndpoint().serialize()}).disableGeoIP=!l.collectIP,i.Registry.getEventMessageBuilder().make(u.internalFabricEvent.userJoined,e,null,t),n.setUserJoinedSent(!0))}},{key:"callFailureClassifier",value:function(e){var t;return u.webRTCFunctions.hasOwnProperty(e)?e===u.webRTCFunctions.createOffer||e===u.webRTCFunctions.createAnswer||e===u.webRTCFunctions.setRemoteDescription?t=u.callFailureReasons.negotiationFailure:e===u.webRTCFunctions.setLocalDescription||e===u.webRTCFunctions.addIceCandidate?t=u.callFailureReasons.sdpError:e===u.webRTCFunctions.getUserMedia?t=u.callFailureReasons.mediaConfigError:e===u.webRTCFunctions.iceConnectionFailure?t=u.callFailureReasons.iceFailure:e===u.webRTCFunctions.signalingError?t=u.callFailureReasons.signalingError:e!==u.webRTCFunctions.applicationLog&&!u.webRTCFunctions.applicationError||(t=u.callFailureReasons.applicationLog):t=u.callFailureReasons.invalidWebRTCFunctionName,t}},{key:"formatDomError",value:function(e){var t={},n={};return e&&(window.DOMException&&e instanceof window.DOMException?(n.message=e.message,n.name=e.name,t.messageType="domError"):"object"===m(e)?(e.message&&(n.message=e.message),e.name&&(n.name=e.name),e.constraintName&&(n.name=e.constraintName),e.stack&&(n.stack=e.stack),t.messageType="json"):(n=e,t.messageType="text")),"object"===m(n)?t.message=JSON.stringify(n):t.message=n,t}},{key:"pickSDP",value:function(e,t,n){return t||(e&&e[n]?e[n].sdp:"")}},{key:"truncateString",value:function(e){return 2e4<e.length&&(o.log("Log exceeds 20kb, It will be truncated"),e=e.substring(0,2e4)),e}},{key:"truncateLog",value:function(e){return e&&("string"==typeof e?e=this.truncateString(e):"object"===m(e)&&e.message&&(e.message=this.truncateString(e.message))),e}}])&&S(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(r.StateMachine),n.MainFSM=e},{"../config/constants":50,"../config/settings":51,"../statspipeline/statsadapter":99,"../statspipeline/statsassembler":100,"../statspipeline/statsmonitor":102,"../statspipeline/statsparser":103,"../statspipeline/statstransmitter":104,"../utility/csiologger":119,"../utility/ipdiscovery":124,"../utility/registry":128,"../utility/timestamps":132,"../utility/utils":134,"./statemachine":54}],53:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.ProgramEvent=void 0;var i=(function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.type=t,this.args=void 0!==n?n:null}var t,n;return t=e,(n=[{key:"getType",value:function(){return this.type}},{key:"getArgs",value:function(){return this.args}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.ProgramEvent=i},{}],54:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.StateMachine=void 0;var i=e("./programevent"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../utility/csiologger"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.events=[],this.state=t}var t,n;return t=e,(n=[{key:"fire",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new i.ProgramEvent(e,n),this.events.push(e)}},{key:"proceed",value:function(e,t){o.warn("You need to overwrite the proceed function inan extended StateMachine")}},{key:"setState",value:function(e){this.state=e}},{key:"getState",value:function(){return this.state}},{key:"run",value:function(){var e;this.events.length<1||(e=this.events.shift(),this.proceed(e.getType(),e.getArgs()))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.StateMachine=e},{"../utility/csiologger":119,"./programevent":53}],55:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var i=l(e("../config/constants")),o=e("../statspipeline/statsadapter"),a=e("../utility/registry"),s=l(e("../config/settings")),c=l(e("../utility/csiologger"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n,r,i,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.pc=t,this.interval=r,this.codeBase=i,this.browserName=o,this.getStatsTimer=null,this.isPromiseBased=!0,this.pcHash=n,this.genericevent=a.Registry.getGenericEventHandler()}var t,n;return t=e,(n=[{key:"startStatsPolling",value:function(){var e=this;e.getStatsTimer||(c.log("startStatsPolling for ",e.pcHash),this.getStatsTimer=setInterval(function(){e.csioGetStats(e.statsHandler,e.pcHash)},e.interval))}},{key:"stopStatsPolling",value:function(){this.getStatsTimer&&(clearInterval(this.getStatsTimer),this.getStatsTimer=null)}},{key:"csioGetStats",value:function(e,t){var n=i.codeBaseType.firefox,r=i.codeBaseType.chrome,o=i.codeBaseType.edge,a=i.browserName.safari,s=this.pc;if(s)if("closed"===s.iceConnectionState)this.stopStatsPolling();else try{this.isTemaSys()?this.getStatsTemasys(e,t):this.codeBase===n?this.getStatsFirefox(e,t):this.browserName===a?this.getStatsSafari(e,t):this.codeBase===r?this.getStatsChrome(e,t):this.codeBase===o&&this.getStatsEdge(e,t)}catch(e){c.log("csioGetStats: Error ",e)}}},{key:"getStatsTemasys",value:function(e,t){this.pc.getStats(null,function(n){e(n,t)},function(e){c.log("getStatsTemasys error",e)})}},{key:"getStatsFirefox",value:function(e,t){var n=this,r=this.pc;if(n.isPromiseBased)try{r.getStats().then(function(n){e(n,t)}).catch(function(i){console.log("getstats error ",i),n.isPromiseBased=!1,r.getStats(null,function(n){e(n,t)})})}catch(o){n.isPromiseBased=!1,n.genericevent.sendEvent(i.logEvents.getStatsError,{msg:"Firefox getStats reports error ",error:o.message+":"+o.stack}),r.getStats(null,function(n){e(n,t)})}else r.getStats(null,function(n){e(n,t)})}},{key:"getStatsChrome",value:function(e,t){var n=this,r=this,o=r.pc;if(window&&window.csioReactNative)o.getStats().then(function(n){e(n,t)}).catch(function(e){c.error("Chrome getStats Error [react-native]",e)});else if(r.isPromiseBased)try{o.getStats().then(function(r){s.collectLegacyStats?n.getLegacyStatsChrome().then(function(n){e(r,t,n)}):e(r,t)}).catch(function(n){c.log("Chrome getStats Error ",n),r.isPromiseBased=!1,r.genericevent.sendEvent(i.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),o.getStats(function(n){e(n,t)})})}catch(n){r.isPromiseBased=!1,r.genericevent.sendEvent(i.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),o.getStats(function(n){e(n,t)})}else o.getStats(function(n){e(n,t)})}},{key:"getLegacyStatsChrome",value:function(){var e=this.pc;return new Promise(function(t,n){e.getStats(function(e){for(var n=[],r=e.result(),i=0;i<r.length;++i){var o=r[i];"ssrc"!==o.type&&"VideoBwe"!==o.type||n.push(o)}t(n)})})}},{key:"getStatsEdge",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(r){e({},t),r?n.genericevent.sendEvent(i.logEvents.getStatsError,{msg:"Edge getStats reports error",error:r.message+":"+r.stack}):n.genericevent.sendEvent(i.logEvents.getStatsError,{msg:"Edge getStats reports error"})})}},{key:"getStatsSafari",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(e){n.genericevent.sendEvent(i.logEvents.getStatsError,{msg:"Safari getStats reports error",error:e.message+":"+e.stack})})}},{key:"statsHandler",value:function(e,t,n){var r=a.Registry.getStatsAdapter();if(e&&r)try{r.transmit(o.StatsAdapterIO.RawStatsIn,e,t,n)}catch(e){c.log("statsHandler: Error ",e),a.Registry.getGenericEventHandler().sendEvent(i.logEvents.error,{msg:"statsHandler: Error",error:e.message+":"+e.stack})}}},{key:"mediaTrackStatsHandler",value:function(e,t){t(a.Registry.getStatsAdapter().getMediaTracksInfo(e))}},{key:"iceCandidatesHandler",value:function(e,t){t(a.Registry.getStatsAdapter().getIceCandidates(e))}},{key:"getMediaTracksInfo",value:function(){var e=this;return new Promise(function(t,n){e.csioGetStats(e.mediaTrackStatsHandler,function(e){t(e)})})}},{key:"getIceCandidates",value:function(){var e=this;return new Promise(function(t,n){e.csioGetStats(e.iceCandidatesHandler,function(e){t(e)})})}},{key:"isTemaSys",value:function(){return!!(window&&window.AdapterJS&&window.AdapterJS.WebRTCPlugin&&window.AdapterJS.WebRTCPlugin.plugin)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.GetStatsHandler=e},{"../config/constants":50,"../config/settings":51,"../statspipeline/statsadapter":99,"../utility/csiologger":119,"../utility/registry":128}],56:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.PcCallbackHandler=void 0;var i=l(e("../config/constants")),o=e("../utility/registry"),a=l(e("../utility/timestamps")),s=l(e("../config/callstatserrors")),c=l(e("../utility/csiologger"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n,r,s,u,l){var d=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");n&&(this.conferenceId=t,this.pc=n,this.getStatsHandler=r,this.userAlive=s,this.callback=l,this.remoteId=u,this.clocksync=o.Registry.getClockSync(),this.emb=o.Registry.getEventMessageBuilder(),this.precalltest=o.Registry.getPreCallTest(),this.genericevent=o.Registry.getGenericEventHandler(),this.iceCandidates=[],this.iceConnectionState=n.iceConnectionState,this.iceGatheringState=n.iceGatheringState,this.signalingState=n.signalingState,this.oldIceConnectionState="",this.oldIceGatheringState="",this.iceConnectionStateTS="",this.negotiationNeeded=0,this.pcState=i.fabricState.initializing,this.disruptedTS=0,this.connectionDisruptedTS=0,this.startTime=a.getCurrent(),this.established=!1,this.activeIceCandidatePair=null,this.prevActiveIceCandidatePair=null,this.localIceCandidates=[],this.remoteIceCandidates=[],this.iceCandidatePairs=[],this.iceConnectivityDelay=0,this.iceGatheringDelay=0,this.fabricSetupSent=!1,this.pcMonitoringTimer=null,this.pc&&this.pc.addEventListener?(this.pc.addEventListener("icecandidate",this.iceCandidateCallback.bind(this),!1),this.pc.addEventListener("iceconnectionstatechange",this.handleIceState.bind(this),!1),this.pc.addEventListener("signalingstatechange",this.handleSignallingState.bind(this),!1),this.pc.addEventListener("negotiationneeded",this.pcNegotiationNeededCallback.bind(this),!1),this.pc.addEventListener("track",this.handleTrack.bind(this),!1)):this.pc&&this.pc.attachEvent?(c.info("attachEvent"),this.pc.attachEvent("onicecandidate",this.iceCandidateCallback.bind(this)),this.pc.attachEvent("oniceconnectionstatechange",this.handleIceState.bind(this)),this.pc.attachEvent("onsignalingstatechange",this.handleSignallingState.bind(this)),this.pc.attachEvent("onnegotiationneeded",this.pcNegotiationNeededCallback.bind(this)),this.pc.attachEvent("track",this.handleTrack.bind(this),!1)):c.error("callstats cannot monitor or collect stats"),n.getConfiguration&&(t=n.getConfiguration())&&(this.iceServersURLs=this.getIceServerURLs(t.iceServers),this.sdpSemantics=t.sdpSemantics),!n||"connected"!==n.iceConnectionState&&"completed"!==n.iceConnectionState||(this.pcState=i.fabricState.established,this.getStatsHandler.getIceCandidates().then(function(e){d.localIceCandidates=e.localIceCandidates,d.remoteIceCandidates=e.remoteIceCandidates,d.iceCandidatePairs=e.iceCandidatePairs,d.prevActiveIceCandidatePair=d.activeIceCandidatePair,d.activeIceCandidatePair=d.getActiveIceCandidatePair(),d.sendfabricSetup(),d.startStatsPolling()}).catch(function(e){d.sendfabricSetup(),d.startStatsPolling()})),this.startPCStateMonitoring())}var t,n;return t=e,(n=[{key:"getPcState",value:function(){return this.pc||(this.pcState=i.fabricState.terminated),"closed"===this.pc.iceConnectionState&&(this.pcState=i.fabricState.terminated),this.pcState}},{key:"checkPCStates",value:function(){this.pc||this.stopPCStateMonitoring(),this.handleIceState(),this.handleSignallingState()}},{key:"startPCStateMonitoring",value:function(){var e=this;this.pcMonitoringTimer||(this.pcMonitoringTimer=setInterval(function(){e.checkPCStates()},1e3))}},{key:"stopPCStateMonitoring",value:function(){this.pcMonitoringTimer&&(clearInterval(this.pcMonitoringTimer),this.pcMonitoringTimer=null)}},{key:"getIceServerURLs",value:function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r&&r.urls)for(var i=0;i<r.urls.length;i++)t.push(r.urls[i])}return t}},{key:"iceCandidateCallback",value:function(e){var t,n,r;e&&e.candidate&&e.candidate.candidate&&"0"!==(t=e.candidate.candidate.split(" "))[4]&&"0"!==t[5]&&(n=!!t[4]&&-1!==t[4].indexOf(":"),r="1"===t[1]?"rtp":"rtcp",r={transport:t[2],protocol:r,typePreference:t[3],address:n?"["+t[4]+"]:"+t[5]:t[4]+":"+t[5],type:t[7],media:e.candidate.sdpMid},-1===this.iceCandidates.indexOf(r)&&(this.iceCandidates.push(r),c.warn("CALLBACK: ICE candidate",r)))}},{key:"sendFabricStateChange",value:function(e){this.emb.make(i.internalFabricEvent.fabricStateChange,this.conferenceId,this.pc,e)}},{key:"handleTrack",value:function(e){var t,n,r=this;e&&e.track&&(t=e.track.id,e=e.track.kind,n={ssrc:String(0),highResTs:o.Registry.getClockSync().getSynchronizedTimestamp(),kind:e},this.getStatsHandler.getMediaTracksInfo().then(function(e){for(var a,s=0;s<e.length;++s)if(t===e[s].trackIdentifier){n.ssrc=String(e[s].ssrc);break}r.conferenceId&&(a=o.Registry.getConferenceManager().get(r.conferenceId))&&a.getPeerConnectionManager()&&null===a.getPeerConnectionManager().getPcHandler(r.pc).videoElemTag&&r.emb.make(i.internalFabricEvent.mediaPlaybackStart,r.conferenceId,r.pc,n)}))}},{key:"handleIceState",value:function(){var e,t,n=this;this.handleIceGatheringState(),this.handleIceConnectionState()&&(this.iceConnectionStateTS=this.clocksync.getSynchronizedTimestamp(),"complete"===this.iceGatheringState&&"checking"===this.iceConnectionState&&this.handleIceChecking(),e={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState},t=this.iceConnectionState,this.getStatsHandler.getIceCandidates().then(function(r){n.localIceCandidates=r.localIceCandidates,n.remoteIceCandidates=r.remoteIceCandidates,n.iceCandidatePairs=r.iceCandidatePairs,n.prevActiveIceCandidatePair=n.activeIceCandidatePair,n.activeIceCandidatePair=n.getActiveIceCandidatePair(),"connected"===t||"completed"===t?n.handleIceConnectedOrCompleted(e):"failed"===t?n.handleIceFailed(e):"disconnected"===t?n.handleIceDisconnected(e):"closed"===t?n.handleIceClosed(e):"new"===t&&n.handleIceRestart(e)}))}},{key:"handleIceConnectionState",value:function(){if(this.pc&&this.iceConnectionState===this.pc.iceConnectionState)return!1;this.oldIceConnectionState=this.iceConnectionState,this.iceConnectionState=this.pc.iceConnectionState,c.warn("CALLBACK: ICE connection state change",this.oldIceConnectionState,"->",this.iceConnectionState);var e={changedState:i.fabricStateChangeType.iceConnectionState,prevState:this.oldIceConnectionState,newState:this.iceConnectionState};return this.sendFabricStateChange(e),!0}},{key:"handleIceGatheringState",value:function(){var e;"closed"===this.pc.iceConnectionState||"closed"===this.pc.signalingState||this.pc&&this.iceGatheringState===this.pc.iceGatheringState||("complete"===this.pc.iceGatheringState&&(this.iceGatheringDelay=a.getCurrent()-this.startTime),this.oldIceGatheringState=this.iceGatheringState,this.iceGatheringState=this.pc.iceGatheringState,c.warn("CALLBACK: ICE gathering state change",this.oldIceGatheringState,"->",this.iceGatheringState),e={changedState:i.fabricStateChangeType.iceGatheringState,prevState:this.oldIceGatheringState,newState:this.iceGatheringState},this.sendFabricStateChange(e))}},{key:"handleIceChecking",value:function(){var e,t=a.getCurrent();"disconnected"!==this.oldIceConnectionState||this.pcState!==i.fabricState.checkingDisrupted&&this.pcState!==i.fabricState.disrupted||(e={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState,delay:t-this.connectionDisruptedTS},this.pcState===i.fabricState.disrupted&&(e.prevIceCandidatePair=this.prevActiveIceCandidatePair,e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=t-this.disruptedTS,this.emb.make(i.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,e)),this.pcState=i.fabricState.initializing,this.emb.make(i.internalFabricEvent.iceConnectionDisruptionEnd,this.conferenceId,this.pc,e))}},{key:"handleIceConnectedOrCompleted",value:function(e){var t=this,n=a.getCurrent();this.pcState===i.fabricState.disrupted&&(e.prevIceCandidatePair=this.prevActiveIceCandidatePair,e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=n-this.disruptedTS,this.emb.make(i.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,e)),this.iceConnectivityDelay=n-this.startTime,this.established=!0,this.pcState=i.fabricState.established,this.getStatsHandler.getIceCandidates().then(function(e){t.localIceCandidates=e.localIceCandidates,t.remoteIceCandidates=e.remoteIceCandidates,t.iceCandidatePairs=e.iceCandidatePairs,t.prevActiveIceCandidatePair=t.activeIceCandidatePair,t.activeIceCandidatePair=t.getActiveIceCandidatePair(),t.sendfabricSetup(),t.startStatsPolling()}).catch(function(e){t.sendfabricSetup(),t.startStatsPolling()})}},{key:"sendfabricSetup",value:function(){var e,t;this.fabricSetupSent?c.log("fabricSetup has been sent already"):(e={delay:a.getCurrent()-this.startTime,iceGatheringDelay:this.iceGatheringDelay,iceConnectivityDelay:this.iceConnectivityDelay,localIceCandidates:this.localIceCandidates,remoteIceCandidates:this.remoteIceCandidates,iceCandidatePairs:this.iceCandidatePairs,remoteEndpointType:i.endpointType.peer,fabricTransmissionDirection:i.transmissionDirection.sendrecv,iceServers:this.iceServersURLs,sdpSemantics:this.sdpSemantics},(t=this.getActiveIceCandidatePair())&&(e.selectedCandidatePairID=t.id),this.fabricSetupSent=!0,this.conferenceId&&(t=o.Registry.getConferenceManager().get(this.conferenceId))&&t.getPeerConnectionManager()&&(t=t.getPeerConnectionManager().getPcHandler(this.pc),e.remoteEndpointType=t.getRemoteEndpointType(),e.fabricTransmissionDirection=t.getFabricTransmissionDirection()),this.pcState=i.fabricState.established,this.emb.make(i.internalFabricEvent.fabricSetup,this.conferenceId,this.pc,e))}},{key:"isFabricSetupSent",value:function(){return this.fabricSetupSent}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"handleIceFailed",value:function(e){e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=a.getCurrent()-this.startTime,this.pcState=i.fabricState.failed,"checking"===e.prevIceConnectionState?this.sendIceFailed(e):"completed"===e.prevIceConnectionState||"connected"===e.prevIceConnectionState||"disconnected"===e.prevIceConnectionState&&this.established?this.emb.make(i.internalFabricEvent.fabricDropped,this.conferenceId,this.pc,e):"disconnected"===e.prevIceConnectionState&&this.sendIceFailed(e)}},{key:"getActiveIceCandidatePair",value:function(){var e=null,t=this.iceCandidatePairs;return t&&0<t.length&&0<(t=t.filter(function(e){return"true"===e.selected||"true"===e.googActiveConnection||!0===e.selected||!0===e.googActiveConnection})).length&&(e=t[0]),e}},{key:"sendIceFailed",value:function(e){e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,c.log("sending icefailed ",e),this.emb.make(i.internalFabricEvent.iceFailed,this.conferenceId,this.pc,e)}},{key:"sendFabricTransportSwitch",value:function(e){var t=this,n={};n.prevIceCandidatePair=t.activeIceCandidatePair,n.relayType=e,n.currIceConnectionState=t.iceConnectionState,n.prevIceConnectionState=t.oldIceConnectionState,n.switchDelay=null,t.getStatsHandler.getIceCandidates().then(function(e){t.localIceCandidates=e.localIceCandidates,t.remoteIceCandidates=e.remoteIceCandidates,t.iceCandidatePairs=e.iceCandidatePairs,t.activeIceCandidatePair=t.getActiveIceCandidatePair(),n.currIceCandidatePair=t.activeIceCandidatePair,n.localIceCandidates=t.localIceCandidates,n.remoteIceCandidates=t.remoteIceCandidates,c.log("sending fabric transport switch ",n),"completed"!==n.currIceConnectionState&&"connected"!==n.currIceConnectionState||"completed"!==n.prevIceConnectionState&&"connected"!==n.prevIceConnectionState||t.emb.make(i.internalFabricEvent.fabricTransportSwitch,t.conferenceId,t.pc,n)})}},{key:"handleIceDisconnected",value:function(e){var t=a.getCurrent();this.startTime=t,e.prevIceConnectionStateTs=this.iceConnectionStateTS,e.currIceCandidatePair=this.activeIceCandidatePair,"connected"===e.prevIceConnectionState||"completed"===e.prevIceConnectionState?(this.pcState=i.fabricState.disrupted,this.disruptedTS=t,this.emb.make(i.internalFabricEvent.iceDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(s.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed.")):"checking"===e.prevIceConnectionState&&(this.pcState=i.fabricState.checkingDisrupted,this.connectionDisruptedTS=t,this.emb.make(i.internalFabricEvent.iceConnectionDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(s.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed."))}},{key:"handleIceClosed",value:function(e){"new"===e.prevIceConnectionState||"checking"===e.prevIceConnectionState?(e.delay=a.getCurrent()-this.startTime,e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,this.emb.make(i.internalFabricEvent.iceAborted,this.conferenceId,this.pc,e)):"connected"!==e.prevIceConnectionState&&"completed"!==e.prevIceConnectionState||(e.prevIceCandidatePair=this.activeIceCandidatePair,this.emb.make(i.internalFabricEvent.iceTerminated,this.conferenceId,this.pc,e)),this.pcState=i.fabricState.terminated,this.conferenceId&&o.Registry.getConferenceManager().get(this.conferenceId).updateState(),this.stopStatsPolling()}},{key:"handleIceRestart",value:function(e){e.prevIceCandidatePair=this.prevActiveIceCandidatePair,"new"!==e.prevIceConnectionState&&(c.log("iceRestarted sending"),this.established=!1,this.emb.make(i.internalFabricEvent.iceRestarted,this.conferenceId,this.pc,e))}},{key:"handleSignallingState",value:function(){var e,t,n=this;this.signalingState!==this.pc.signalingState&&(e=this.signalingState,this.signalingState=this.pc.signalingState,c.warn("CALLBACK: signaling state change",e,"->",this.signalingState),e={changedState:i.fabricStateChangeType.signalingState,prevState:e,newState:this.signalingState},this.sendFabricStateChange(e),"have-remote-offer"!==this.signalingState&&"stable"!==this.signalingState||(this.precalltest.callStarts(),o.Registry.getPCTRunnerService().setCallInProgress(!0),this.genericevent.sendEvent(i.logEvents.log,{msg:"precalltest told to stop "})),"closed"===this.signalingState&&(this.emb.make(i.fabricEvent.fabricTerminated,this.conferenceId,this.pc),this.userAlive.stop(),this.precalltest.callFinished(),o.Registry.getPCTRunnerService().setCallInProgress(!1),this.stopStatsPolling(),this.stopPCStateMonitoring(),this.pcState=i.fabricState.terminated,this.conferenceId&&((e=o.Registry.getConferenceManager().get(this.conferenceId))&&e.getPeerConnectionManager()&&(t=e.getPeerConnectionManager().getPcHandler(this.pc),e.getPeerConnectionManager().removePcStats(t&&t.getPcHash())),e.updateState())),"have-local-offer"!==this.signalingState&&"have-local-pranswer"!==this.signalingState&&"stable"!==this.signalingState||(c.log(this.signalingState,".. requesting sender config."),o.Registry.getConfigServiceWrapper().initiateSenderConfig(this.pc).then(function(){var e=o.Registry.getConfigServiceWrapper().getSenderConfig(),t=(c.log("Sender config:",e),i.callstatsChannels.senderConfiguration);e&&o.Registry.getEventMessageBuilder().make(t,n.conferenceId,n.pc,e)}).catch(function(e){c.warn(e)})))}},{key:"pcNegotiationNeededCallback",value:function(e){e&&(this.negotiationNeeded++,this.startTime=a.getCurrent(),c.warn("CALLBACK: negotiation needed",this.negotiationNeeded))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.PcCallbackHandler=e},{"../config/callstatserrors":49,"../config/constants":50,"../utility/csiologger":119,"../utility/registry":128,"../utility/timestamps":132}],57:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionHandler=void 0;var i=e("../utility/registry"),o=e("../peerconnection/pccallbackhandler"),a=e("../browserapi/devices"),s=e("./useralivehandler"),c=e("./getstatshandler"),u=p(e("../config/constants")),l=p(e("../utility/timestamps")),d=p(e("../utility/csiologger"));function f(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(f=function(e){return e?n:t})(e))}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1})}e=(function(){function e(t){h(this,e),this.pc=t.pc,this.remoteId=t.remoteId,this.fabricUsage=t.fabricUsage,this.callback=t.callback,this.conferenceId=t.conferenceId,this.remoteEndpointType=t.remoteEndpointType,this.fabricTransmissionDirection=t.fabricTransmissionDirection,this.clocksync=i.Registry.getClockSync(),this.startTime=this.clocksync.getSynchronizedTimestamp(),this.credentials=i.Registry.getCredentials(),this.pcHash=this.generatePcHash(),this.ssrcMap=new Map,this.localSdp=null,this.remoteSdp=null,this.transportInfo=null,this.userAliveHandler=new s.UserAliveHandler(this.conferenceId,this.pc),this.userAliveHandler.start(),this.emb=i.Registry.getEventMessageBuilder(),this.devices=new a.Devices(this.conferenceId,this.pc);var n=i.Registry.getEndpoint();this.getStatsHandler=new c.GetStatsHandler(this.pc,this.pcHash,t.interval,n.getCodeBase(),n.getBrowserName()),this.pcCallbackHandler=new o.PcCallbackHandler(this.conferenceId,this.pc,this.getStatsHandler,this.userAliveHandler,this.remoteId,this.callback),this.devices.collectConnected(),this.fabricTransmissionDirection||(this.fabricTransmissionDirection="sendrecv"),this.remoteEndpointType||(this.remoteEndpointType="peer"),this.ttfmSentSSRCs=[],this.isMuted=!1,this.videoElemTag=null}return v(e,[{key:"getFabricTransmissionDirection",value:function(){return this.fabricTransmissionDirection}},{key:"getRemoteEndpointType",value:function(){return this.remoteEndpointType}},{key:"stopUserAliveHandler",value:function(){this.userAliveHandler.stop()}},{key:"getPcState",value:function(){return this.pcCallbackHandler.getPcState()}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"stopPCStateMonitoring",value:function(){this.pcCallbackHandler.stopPCStateMonitoring()}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"setPcState",value:function(e){e in u.fabricState?this.pcCallbackHandler.pcState=e:d.error("setPcState: Invalid state")}},{key:"setAudioMuted",value:function(e){this.isMuted=e}},{key:"getAppId",value:function(){return this.credentials.getAppId()}},{key:"getLocalId",value:function(){return this.credentials.getUserId()}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getPeerConnection",value:function(){return this.pc}},{key:"getRemoteId",value:function(){return this.remoteId}},{key:"isFabricSetupSent",value:function(){return this.pcCallbackHandler.isFabricSetupSent()}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getCallback",value:function(){return this.callback}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getIceCandidates",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceCandidates:null}},{key:"getIceConnectionState",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceConnectionState:null}},{key:"getNegotiationsNumber",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.negotiationNeeded:0}},{key:"sendFabricTransportSwitch",value:function(e){this.pcCallbackHandler&&this.pcCallbackHandler.sendFabricTransportSwitch(e)}},{key:"getSdp",value:function(){return{localSdp:this.localSdp,remoteSdp:this.remoteSdp}}},{key:"setSdp",value:function(e,t){this.localSdp=e,this.remoteSdp=t}},{key:"generatePcHash",value:function(){var e=(Math.random()+1).toString(36);return e.substring(2,e.length)}},{key:"getTransportInfo",value:function(){return this.transportInfo}},{key:"setTransportInfo",value:function(e){this.transportInfo=e}},{key:"updateSDP",value:function(e){var t,n,r=this;if(this.pc&&this.pc.localDescription&&(t=this.pc.localDescription.sdp),this.pc&&this.pc.remoteDescription&&(n=this.pc.remoteDescription.sdp),t&&n&&(t!==this.localSdp||n!==this.remoteSdp)){this.parseSDP(t,u.streamType.outbound),this.parseSDP(n,u.streamType.inbound);for(var o={localSDP:t!==this.localSdp?t:"",remoteSDP:n!==this.remoteSdp?n:""},a=(""===t&&""===remoteSDP||!i.Registry.getCredentials().getCollectSDP()||this.emb.make(u.internalFabricEvent.sdpSubmission,this.conferenceId,this.pc,o),e&&e.forEach(function(e){var t=String(e.data.ssrc),n=r.ssrcMap.get(t);(n=n||{}).mediaType=e.data.mediaType,n.reportType=e.reportType,n.ssrc=t,r.ssrcMap.set(t,n)}),[]),s=(this.ssrcMap.forEach(function(e,t){e.msid&&e.mslabel&&e.label&&a.push(e)}),{ssrcData:a}),c=0;c<s.ssrcData.length;c+=1)s.ssrcData[c].userID=i.Registry.getCredentials().getUserId();this.emb.make(u.internalFabricEvent.ssrcMap,this.conferenceId,this.pc,s),this.setSdp(t,n)}}},{key:"parseSDP",value:function(e,t){var n=this,r=RegExp.prototype.test.bind(/^([a-z])=(.*)/),i=/^ssrc:(\d*) ([\w_]*):(.*)/,o=/^ssrc-group:SIM (\d*)/;e.split(/(\r\n|\r|\n)/).filter(r).forEach(function(e){var r,a,s,c=e[0];e=e.slice(2);"a"===c&&i.test(e)&&(r=(c=e.match(i))[1],a=c[2],c=c[3],(s=(s=n.ssrcMap.get(r))||{}).ssrc=r,s[a]=c,s.localStartTime=l.getCurrent(),s.syncedStartTime=n.clocksync.getSynchronizedTimestamp(),s.streamType=t,o.test(e)&&(s.ssrcGroup={},s.ssrcGroup[t]={},s.ssrcGroup[t].simulcastGroup=e.match(/\d+/g)),n.ssrcMap.set(r,s))})}},{key:"getSSRCInfo",value:function(e){return this.ssrcMap.get(e)}},{key:"setupVideoTagMethods",value:function(e,t){var n=this,r=document.getElementById(e);r&&(n.videoElemTag=e,r.addEventListener&&(r.addEventListener("canplay",function(){var e;n.ttfmSentSSRCs.includes(String(t))||(e={ssrc:String(t),highResTs:i.Registry.getClockSync().getSynchronizedTimestamp()},n.ttfmSentSSRCs.push(String(t)),n.emb.make(u.internalFabricEvent.mediaPlaybackStart,n.conferenceId,n.pc,e))}),r.addEventListener("suspend",function(){var e={ssrc:String(t),highResTs:i.Registry.getClockSync().getSynchronizedTimestamp()};n.emb.make(u.internalFabricEvent.mediaPlaybackSuspended,n.conferenceId,n.pc,e)})))}},{key:"updateSSRCInfo",value:function(e,t,n,r){var i=this.ssrcMap.get(e);(i=i||{}).ssrc=e,i.remoteUserID=t,i.usageLabel=n,i.associatedVideoTag=r,this.ssrcMap.set(e,i),r&&t!==this.credentials.getUserId()&&this.setupVideoTagMethods(r,e)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.userAliveHandler.updateConferenceId(e)}},{key:"updateRemoteId",value:function(e){this.remoteId=e}}],[{key:"Builder",get:function(){return(function(){function t(){h(this,t)}return v(t,[{key:"withPc",value:function(e){return this.pc=e,this}},{key:"withInterval",value:function(e){return this.interval=e,this}},{key:"withRemoteId",value:function(e){return this.remoteId=e,this}},{key:"withFabricUsage",value:function(e){return this.fabricUsage=e,this}},{key:"withConferenceId",value:function(e){return this.conferenceId=e,this}},{key:"withRemoteEndpointType",value:function(e){return this.remoteEndpointType=e,this}},{key:"withFabricTransmissionDirection",value:function(e){return this.fabricTransmissionDirection=e,this}},{key:"withCallback",value:function(e){return this.callback=e,this}},{key:"make",value:function(){return new e(this)}}]),t})()}}]),e})(),n.PeerConnectionHandler=e},{"../browserapi/devices":33,"../config/constants":50,"../peerconnection/pccallbackhandler":56,"../utility/csiologger":119,"../utility/registry":128,"../utility/timestamps":132,"./getstatshandler":55,"./useralivehandler":59}],58:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionManager=void 0;var i=e("./peerconnectionhandler"),o=e("../utility/registry"),a=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants"));function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.pcHandlers=new Map}var t,n;return t=e,(n=[{key:"removePcHandler",value:function(e){(e=this.getPcHandler(e))&&(e=e.getPcHash(),this.pcHandlers.delete(e))}},{key:"removePcStats",value:function(e){e&&o.Registry.getStatsMonitor().delete(e)}},{key:"addPcHandler",value:function(e,t,n,r,a,s,c){var u;this.getPcHandler(e)||(u=5e3,o.Registry.getCredentials().isAdaptiveStatsEnabled()&&(u=1e3),e=(new i.PeerConnectionHandler.Builder).withPc(e).withRemoteId(t).withFabricUsage(n).withConferenceId(r).withRemoteEndpointType(a).withFabricTransmissionDirection(s).withCallback(c).withInterval(u).make(),this.pcHandlers.set(e.getPcHash(),e))}},{key:"getPcHandler",value:function(e){var t=null;return e&&this.pcHandlers.forEach(function(n,r){n&&n.getPeerConnection()===e&&(t=n)}),t}},{key:"getPcHandlerByHash",value:function(e){return e&&this.pcHandlers.has(e)?this.pcHandlers.get(e):null}},{key:"getPeerConnectionStatus",value:function(){return this.pcHandlers.forEach(function(e,t){if(e.getPcState()!==a.fabricState.terminated)return e.getPcState()}),a.fabricState.terminated}},{key:"updateConferenceId",value:function(e){this.pcHandlers.forEach(function(t,n){t.updateConferenceId(e)})}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.PeerConnectionManager=e},{"../config/constants":50,"../utility/registry":128,"./peerconnectionhandler":57}],59:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.UserAliveHandler=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants")),o=e("../utility/timeoutprocess"),a=e("../utility/registry");function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=d(e);n=t?(n=d(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=l(r);function r(e,t){var i;if(this instanceof r)return(i=n.call(this,1e4)).emb=a.Registry.getEventMessageBuilder(),i.pc=t,i.conferenceId=e,i.setCallback(i.send),i;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"send",value:function(){this.conferenceId!==i.tmpConferenceId&&this.pc&&this.emb.make(i.internalFabricEvent.userAlive,this.conferenceId,this.pc)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(o.TimeoutProcess),n.UserAliveHandler=e},{"../config/constants":50,"../utility/registry":128,"../utility/timeoutprocess":131}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Authenticator=void 0;var r=e("./jwt/jwt"),i=e("./jwt/jwttoken"),o=v(e("../config/settings")),a=v(e("../utility/base64")),s=v(e("../config/callstatserrors")),c=v(e("../config/constants")),u=v(e("../browserapi/localstorage")),l=v(e("../utility/json")),d=e("./xmlhttp"),f=e("./xmlhttpservice"),p=e("../utility/registry"),h=v(e("../utility/csiologger"));function y(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(y=function(e){return e?n:t})(e))}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==g(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=(function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,r=k(e);n=t?(n=k(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===g(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=o.authRetryTimeout,T="urn:x-callstats:auth:errorActions";e=(function(e){var t=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=S(f);function f(){var e;if(this instanceof f)return(e=n.call(this,"Authenticator")).clockSync=p.Registry.getClockSync(),e.credentials=p.Registry.getCredentials(),e.generateTurnCredentials=!1,e;throw new TypeError("Cannot call a class as a function")}return t=f,(e=[{key:"initiate",value:function(e,t,n,r){var i=this;return this.inProgress?(r&&r(s.csError.authOngoing,null),new Promise(function(e,t){t(new Error("".concat(i.name,": in progress")))})):e&&n?(this.appId=e,"object"===g(n)?this.userId=n.aliasName:this.userId=n,this.initCallback=r,"function"==typeof t?(this.setTokenGenerator(t),b(k(f.prototype),"initiate",this).call(this)):new Promise(function(e,n){i.createTokenGenerator(t).then(function(t){i.setTokenGenerator(t),b(k(f.prototype),"initiate",i).call(i).then(function(){e()},function(e){n(e)})},function(e){r&&r(s.csError.authError,e.toString()),n(new Error("".concat(i.name,": tokenGenerator creation problem (").concat(e,")")))})})):new Promise(function(e,t){t(new Error("".concat(i.name,": Empty credentials")))})}},{key:"setGenerateTurnCredentials",value:function(e){this.generateTurnCredentials=e}},{key:"getToken",value:function(){var e=null;return this.token?this.token.getToken():e}},{key:"getTaasEnabled",value:function(){var e=!1;return this.token?this.token.getTaasEnabled():e}},{key:"isTokenValid",value:function(){return!!this.token&&this.token.isValid(this.credentials)}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"getIceServers",value:function(){return this.iceServers}},{key:"getTurnServers",value:function(){return this.turnServers}},{key:"reset",value:function(){this.token=null,this.reauthTimer=null,this.renew=!1,this.credentials=null,this.jwt=new r.Jwt,this.tokenGenerator=function(e,t){t("Token generator is not set")},this.elapsed=0,this.iceServers=null,this.turnServers=null,b(k(f.prototype),"reset",this).call(this)}},{key:"setupToken",value:function(e){u.store("csio_auth_data",JSON.stringify(e)),this.token=new i.JwtToken(e,this.clockSync)}},{key:"clearReauthTimer",value:function(){null!==this.reauthTimer&&(clearTimeout(this.reauthTimer),this.reauthTimer=null)}},{key:"setupReauthTimer",value:function(e){var t=this;t.clearReauthTimer(),t.reauthTimer=setTimeout(function(){t.reAuthenticate()},e)}},{key:"reAuthenticate",value:function(){this.inProgress||(this.inProgress=!0,this.token=null,this.sendRequest())}},{key:"handleErrorActions",value:function(e){var t,n;0!==e.length&&((t=e.shift()).action===s.authErrorActions.RETRY&&(n=t.params.timeout||o.authRetryTimeout,this.setupReauthTimer(n),this.handleErrorActions(e)),t.action===s.authErrorActions.GET_NEW_TOKEN&&(this.renew=!0,this.handleErrorActions(e)),t.action===s.authErrorActions.REPORT_ERROR&&(h.error("".concat(this.name,": ").concat(t.params.errorReason)),this.initCallback&&this.initCallback(s.csError.authError,"".concat(this.name,": ").concat(t.params.errorReason)),this.handleErrorActions(e)))}},{key:"setTokenGenerator",value:function(e){this.tokenGenerator=e}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=(e=e.getElapsed(),l.parse(t.response));n?n[T]&&0<n[T].length?this.handleErrorActions(n[T]):200===t.status?"bearer"!==n.token_type?(h.error("".concat(this.name,": successful, but token type was not bearer. Scheduling retry.")),this.sendNextRequest()):(this.setupToken(n.access_token),n.iceServers&&(this.iceServers=n.iceServers),n.turnServers&&(this.turnServers=n.turnServers),n.metadata&&n.metadata.urls&&!window.csioproxy&&(this.backendURLs=n.metadata.urls,this.backendURLs.events&&o.setRestEventUrl(this.backendURLs.events+"/"),this.backendURLs.stats&&o.setRestStatsUrl(this.backendURLs.stats+"/"),this.backendURLs.config&&o.setConfigServiceUrl(this.backendURLs.config+"/")),t=parseInt(1e3*parseInt(n.expires_in)*.9),this.setupReauthTimer(t),this.renew=!1,this.initCallback&&this.initCallback(s.csError.success,c.csCallBackMessages.authSuccessful),this.elapsed=e,this.completeProcess()):(h.error("Authentication failed, but no error actions were defined in response."),this.sendNextRequest()):(h.error("".concat(this.name,": invalid authentication response")),this.sendNextRequest())}},{key:"request",value:function(){var e=this,t=(this.clearReauthTimer(),new Promise(function(t,n){e.tempResolve=t,e.tempReject=n}));return this.tokenGenerator(this.renew,function(t,n){if(null!==t)return e.initCallback&&e.initCallback(s.csError.tokenGenerationError,t.toString()),e.rejectCb(new Error(e.name+": tokenGenerationError")),h.error("tokenGenerationError ",t),null;t=o.authServiceUrl+"authenticate",n={client_id:e.userId+"@"+e.appId,code:n,grant_type:"authorization_code"},(0,d.sendPostRequest)(t,{"Content-Type":"application/x-www-form-urlencoded"},C,n).then(function(t){e.tempResolve(t)},function(t){e.tempReject(t)})}),t}},{key:"tokenGeneratorCreator",value:function(e,t){var n=this;return function(r,i){var o=null;if(!r&&null!==o)return i(null,o);r={userID:n.userId,appID:n.appId,generateTurnCredentials:n.generateTurnCredentials},t&&(r.keyId=t),n.jwt.sign({alg:"HS256"},r,e).then(function(e){i(null,o=e)}).catch(function(e){i(e)})}}},{key:"createTokenGenerator",value:function(e){var t=this;return new Promise(function(n,r){var i=null;-1<e.indexOf(":")&&(i=a.strtohex(e.split(":")[0]),e=e.split(":")[1]),t.jwt.importKey(e).then(function(r){e=null,r=t.tokenGeneratorCreator(r,i),n(r)}).catch(function(e){h.error("".concat(t.name,": could not import key (").concat(e,")")),r(e)})})}}])&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),f})(f.XMLHttpService);n.Authenticator=e},{"../browserapi/localstorage":34,"../config/callstatserrors":49,"../config/constants":50,"../config/settings":51,"../utility/base64":116,"../utility/csiologger":119,"../utility/json":125,"../utility/registry":128,"./jwt/jwt":69,"./jwt/jwttoken":70,"./xmlhttp":75,"./xmlhttpservice":76}],61:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.GenericEventHandler=void 0;var i=u(e("../config/settings")),o=e("./xmlhttp"),a=e("../utility/registry"),s=u(e("../utility/csiologger"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.credentials=a.Registry.getCredentials(),this.enabled=!1}var t,n;return t=e,(n=[{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"sendEvent",value:function(e,t){this.send(e,t).then(function(e){s.log("Got generic response: %o",e)}).catch(function(e){s.log("Got error for generic request",e)})}},{key:"send",value:function(e,t){var n;return this.enabled?(n=this,new Promise(function(r,a){var s={appID:n.credentials.appId,userID:encodeURIComponent(n.credentials.userId),version:i.version,eventType:e,data:t},c=i.collectorUrl+"generics";(0,o.sendPostRequest)(c,{"Content-Type":"application/json"},5e3,s).then(function(e){r(e.getXhr().response)},function(e){a(e)})})):new Promise(function(e,t){t(new Error("GenericEvent Error: not enabled"))})}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.GenericEventHandler=e},{"../config/settings":51,"../utility/csiologger":119,"../utility/registry":128,"./xmlhttp":75}],62:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ClockSync=void 0;var i=d(e("../config/settings")),o=e("./xmlhttp"),a=d(e("../utility/timestamps")),s=e("./xmlhttpservice"),c=e("../utility/registry"),u=d(e("../config/constants"));function l(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(l=function(e){return e?n:t})(e))}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=(function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=v(e);n=t?(n=v(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=y(r);function r(){var e;if(this instanceof r)return(e=n.call(this,"ClockSync")).currentOffset=0,e.completed=!1,e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"initiate",value:function(){return this.startTime=a.getCurrent(),p(v(r.prototype),"initiate",this).call(this)}},{key:"getSynchronizedTimestamp",value:function(){return a.getCurrent()+this.currentOffset}},{key:"getElapsed",value:function(){return this.isCompleted()?this.endTime-this.startTime:null}},{key:"getOffset",value:function(){return this.currentOffset}},{key:"reset",value:function(){this.currentOffset=0,this.offsetResults=[],this.startTime=0,this.endTime=0,p(v(r.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e=i.collectorUrl+"clockSync";return(0,o.sendGetRequest)(e,null,5e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=(e=e.getElapsed(),t=JSON.parse(t.response),a.getCurrent());this.handleMessage(t,e,n)}},{key:"handleMessage",value:function(e,t,n){6e4<(t/=2)?(c.Registry.getGenericEventHandler().sendEvent(u.logEvents.log,{msg:"latency > MAX_ALLOWED_LATENCY: clockSync reset"}),this.offsetResults=[]):this.addOffset(e,t,n),5<=this.offsetResults.length?(this.calculateOffset(),this.endTime=a.getCurrent(),this.completeProcess()):this.sendRequest()}},{key:"isCompleted",value:function(){return this.completed}},{key:"addOffset",value:function(e,t,n){e=e.now+t,this.offsetResults.push(e-n)}},{key:"calculateOffset",value:function(){var e=this.offsetResults.reduce(function(e,t){return e+t});this.currentOffset=e/this.offsetResults.length,this.currentOffset=isNaN(this.currentOffset)?0:this.currentOffset,c.Registry.getGenericEventHandler().sendEvent(u.logEvents.log,{msg:"clockSync Done, offset is: "+this.currentOffset+"results length"+this.offsetResults.length}),this.offsetResults=[],this.completed=!0}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(s.XMLHttpService),n.ClockSync=e},{"../config/constants":50,"../config/settings":51,"../utility/registry":128,"../utility/timestamps":132,"./xmlhttp":75,"./xmlhttpservice":76}],63:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.CollectorConnection=void 0;var i=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.connected=!1,this.reconnected=!1,this.conferenceUrl={}}var t,n;return t=e,(n=[{key:"setup",value:function(){return new Promise(function(e,t){e()})}},{key:"isReady",value:function(){return this.connected}},{key:"send",value:function(e){}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.CollectorConnection=i},{}],64:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceGet=void 0;var i=e("../xmlhttp"),o=e("../xmlhttpservice"),a=e("../../utility/registry");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=(function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=d(e);n=t?(n=d(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=l(r);function r(){if(this instanceof r)return n.call(this,"ConfigService");throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"initiate",value:function(e){var t=this;return this.url=e,this.authToken=a.Registry.getAuthenticator().getToken(),this.authToken?c(d(r.prototype),"initiate",this).call(this):new Promise(function(e,n){n(new Error("".concat(t.name,": authToken has to be string")))})}},{key:"getConfig",value:function(){return this.config}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"reset",value:function(){this.authToken=null,this.url=null,this.config=null,this.elapsed=0,c(d(r.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken};return(0,i.sendGetRequest)(this.url,e,2e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr();e=e.getElapsed();this.config=JSON.parse(t.response),this.elapsed=e,this.completeProcess()}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(o.XMLHttpService),n.ConfigServiceGet=e},{"../../utility/registry":128,"../xmlhttp":75,"../xmlhttpservice":76}],65:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServicePost=void 0;var i=e("../xmlhttp");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=(function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=c(r);function r(){if(this instanceof r)return n.call(this);throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"initiate",value:function(e,t){return this.body=t,a(u(r.prototype),"initiate",this).call(this,e)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken,"Content-Type":"application/json"};return(0,i.sendPostRequest)(this.url,e,2e3,this.body)}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})((e=e("./configserviceget")).ConfigServiceGet),n.ConfigServicePost=e},{"../xmlhttp":75,"./configserviceget":64}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceWrapper=void 0;var r=e("./configserviceget"),i=e("./configservicepost"),o=u(e("../../config/settings")),a=e("../../utility/registry"),s=u(e("../../utility/csiologger"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.internalConfigService=new r.ConfigServiceGet,this.appConfigService=new r.ConfigServiceGet,this.senderConfigService=new i.ConfigServicePost,this.defaultSenderConfig=null}var t,n;return t=e,(n=[{key:"initiateInternalConfig",value:function(){var e=this,t=a.Registry.getCredentials().getAppId();return t?(t=o.configServiceUrl+t,this.internalConfigService.initiate(t+"/configurations/internal")):new Promise(function(t,n){s.log("appId has to be string"),n(new Error("".concat(e.internalConfigService.name,": appId has to be string")))})}},{key:"initiateAppConfig",value:function(){var e=this,t=a.Registry.getCredentials().getAppId();return t?(t=o.configServiceUrl+t,this.appConfigService.initiate(t+"/configurations")):new Promise(function(t,n){s.log("appId has to be string"),n(new Error("".concat(e.appConfigService.name,": appId has to be string")))})}},{key:"initiateSenderConfig",value:function(e){var t,n,r=this;return this.senderConfigService.getConfig()?new Promise(function(e,t){s.log("sender config already present"),t(new Error("".concat(r.senderConfigService.name,": sender config already present")))}):(n=a.Registry.getCredentials().getAppId(),t=a.Registry.getCredentials().getUserId(),n&&t?(this.defaultSenderConfig=this.getCurrentVideoSenderConfig(e),this.defaultSenderConfig?(e=o.configServiceUrl+n,n={app_id:n,local_id:t,rtc_rtp_parameters:this.defaultSenderConfig},this.senderConfigService.initiate(e+"/configurations",n)):new Promise(function(e,t){s.log("Could not obtain a sender config"),t(new Error("".concat(r.senderConfigService.name,": Could not obtain a sender config")))})):new Promise(function(e,t){s.log("appId and userId have to be string"),t(new Error("".concat(r.senderConfigService.name,": appId and userId have to be string")))}))}},{key:"getInternalConfig",value:function(){return this.internalConfigService.getConfig()}},{key:"getAppDefaultConfig",value:function(){var e=this.appConfigService.getConfig(),t={peerConnection:null,media:null};return e.default&&(e.default.peerConnection&&(t.peerConnection=e.default.peerConnection),e.default.media&&(t.media=e.default.media)),t}},{key:"getAppRecommendedConfig",value:function(){var e=this.appConfigService.getConfig(),t={};return e.recommended&&(e.recommended.peerConnection&&(t.peerConnection=e.recommended.peerConnection),e.recommended.media&&(t.media=e.recommended.media)),t}},{key:"getSenderConfig",value:function(){var e=this.senderConfigService.getConfig();return e&&e.recommended&&e.recommended.sender?e.recommended.sender:null}},{key:"getDefaultSenderConfig",value:function(){return this.defaultSenderConfig||null}},{key:"getInternalElapsed",value:function(){return this.internalConfigService.getElapsed()}},{key:"getAppElapsed",value:function(){return this.appConfigService.getElapsed()}},{key:"getSenderElapsed",value:function(){return this.senderConfigService.getElapsed()}},{key:"getCurrentVideoSenderConfig",value:function(e){var t={encodings:[{maxBitrate:0}]},n=a.Registry.getConferenceManager().getConferenceForPc(e);if(!n)return s.warn("No conference found for PC, skipping"),null;if(1<n.getPeerConnectionManager().pcHandlers.size)return s.warn("Multiple PCs found, skipping"),null;if(!e.getSenders||"function"!=typeof e.getSenders)return s.warn("Get senders error"),t;for(var r,i=e.getSenders(),o=0;o<i.length;o+=1){var c=i[o];if("object"!==l(c)||!c.track||"object"!==l(c.track)||!c.track.kind)return s.warn("Access senders error"),null;if("video"===c.track.kind){if(r)return s.warn("Multiple video sender, skipping"),null;r=c}}return r?r.getParameters&&"function"==typeof r.getParameters?"object"!==l(n=r.getParameters())?null:("encodings"in n||(n.encodings=[]),0===n.encodings.length&&n.encodings.push({maxBitrate:0}),n):(s.warn("Sender getParameters error"),t):(s.warn("No video sender found"),null)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.ConfigServiceWrapper=e},{"../../config/settings":51,"../../utility/csiologger":119,"../../utility/registry":128,"./configserviceget":64,"./configservicepost":65}],67:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectionManager=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants")),o=e("./restcollectorconnection"),a=e("../utility/registry");function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.connection=null}var t,n;return t=e,(n=[{key:"setupCollectorConnection",value:function(){this.connection=new o.RestCollectorConnection}},{key:"setup",value:function(){return this.connection?this.connection.setup():new Promise(function(e,t){t()})}},{key:"isReady",value:function(){return!!this.connection&&this.connection.isReady()}},{key:"send",value:function(e){this.connection?this.connection.send(e):a.Registry.getGenericEventHandler().sendEvent(i.logEvents.error,{msg:"Connection not available to the collector"})}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.ConnectionManager=e},{"../config/constants":50,"../utility/registry":128,"./restcollectorconnection":72}],68:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.JabraService=void 0;var i=l(e("../utility/timestamps")),o=l(e("../config/constants")),a=e("../utility/registry"),s=l(e("../utility/csiologger")),c=l(e("@gnaudio/jabra-browser-integration"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.isTxSpeechStarted=!1,this.isRxSpeechStarted=!1,this.isCrossTalkStarted=!1,this.conferenceID=null,this.started=!1,this.eventList=[],this.statsList=[]}var t,n;return t=e,(n=[{key:"sendJabraActiveState",value:function(e,t){void 0===e&&void 0===t||(!this.isTxSpeechStarted&&e?this.isTxSpeechStarted=!0:!1===e&&this.isTxSpeechStarted&&(this.isTxSpeechStarted=!1,this.isCrossTalkStarted||this.sendCustomEvent("agentSpeakingStop")),!this.isRxSpeechStarted&&t?this.isRxSpeechStarted=!0:!1===t&&this.isRxSpeechStarted&&(this.isRxSpeechStarted=!1,this.isCrossTalkStarted||this.sendCustomEvent("contactSpeakingStop")),this.isTxSpeechStarted&&this.isRxSpeechStarted?this.isCrossTalkStarted=!0:this.isCrossTalkStarted&&(this.isTxSpeechStarted||this.isRxSpeechStarted)&&(this.isCrossTalkStarted=!1,this.sendCustomEvent("crossTalkStop")),this.isCrossTalkStarted?this.sendCustomEvent("crossTalkStart"):this.isTxSpeechStarted?this.sendCustomEvent("agentSpeakingStart"):this.isRxSpeechStarted&&this.sendCustomEvent("contactSpeakingStart"))}},{key:"sendCustomStats",value:function(e,t){this.conferenceID&&(e&&(e={name:"noiseDb",value:e,timestamp:i.getCurrent()},this.statsList.push(e)),t&&(e={name:"exposureDb",value:t,timestamp:i.getCurrent()},this.statsList.push(e)),40<=this.statsList.length&&(a.Registry.getEventMessageBuilder().make(o.customEvents.stats,this.conferenceID,null,{stats:this.statsList}),this.statsList=[]))}},{key:"sendCustomEvent",value:function(e){this.conferenceID&&(e={type:e,timestamp:i.getCurrent(),source:"Jabra"},this.eventList.push(e),10===this.eventList.length&&(a.Registry.getEventMessageBuilder().make(o.customEvents.event,this.conferenceID,null,{eventList:this.eventList}),this.eventList=[]))}},{key:"initJabraEventListeners",value:function(){var e=this;c&&(c.addEventListener("device attached",function(){console.log("Jabra - device attached")}),c.addEventListener("mute",function(t){e.sendCustomEvent("mute")}),c.addEventListener("unmute",function(t){e.sendCustomEvent("unmute")}),c.addEventListener("devlog",function(t){var n=void 0,r=void(void 0!==(r=t.data["TX Acoustic Logging Level"])&&(n=parseInt(r))),i=(void 0!==(i=t.data["RX Acoustic Logging Level"])&&(r=parseInt(i)),e.sendCustomStats(n,r),t.data.ID);i=void("TRUE"===(r=("TRUE"===(n=("VOLUP TAP"===i?e.sendCustomEvent("volumeUp"):"VOLDOWN TAP"===i&&e.sendCustomEvent("volumeDown"),t.data["Mute State"]))?e.sendCustomEvent("mute"):"FALSE"===n&&e.sendCustomEvent("unmute"),t.data["Boom Position Guidance OK"]))?e.sendCustomEvent("boomArmPositionOk"):"FALSE"===r&&e.sendCustomEvent("boomArmPositionNotOk")),r=void(void 0!==(n=t.data.Speech_Analysis_TX)&&(i="true"===n.toString().toLowerCase()));void 0!==(n=t.data.Speech_Analysis_RX)&&(r="true"===n.toString().toLowerCase()),e.sendJabraActiveState(i,r)}))}},{key:"initJabraService",value:function(){c&&c.init().then(function(){return c.getInstallInfo()}).then(function(e){e.installationOk?s.log("CallstatsJabraShim: Jabra Installation check succeded"):s.log("CallstatsJabraShim: Browser SDK Installation incomplete. Please (re)install")}).catch(function(e){e&&s.log(e.name+": "+e.message)})}},{key:"startJabraMonitoring",value:function(e){this.started||(this.started=!0,e?(s.info("startJabraMonitoring starting"),this.eventList=[],this.statsList=[],this.conferenceID=e,this.initJabraEventListeners()):s.error("CallstatsJabraShim: Cannot startJabraMonitoring/Invalid Arguments"))}},{key:"stopJabraMonitoring",value:function(){this.started=!1,0<this.eventList.length&&(a.Registry.getEventMessageBuilder().make(o.customEvents.event,this.conferenceID,null,{eventList:this.eventList}),this.eventList=[]),0<this.statsList.length&&(a.Registry.getEventMessageBuilder().make(o.customEvents.stats,this.conferenceID,null,{stats:this.statsList}),this.statsList=[]),this.conferenceID=null,this.isTxSpeechStarted=!1,this.isRxSpeechStarted=!1,this.isCrossTalkStarted=!1}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.JabraService=e},{"../config/constants":50,"../utility/csiologger":119,"../utility/registry":128,"../utility/timestamps":132,"@gnaudio/jabra-browser-integration":1}],69:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Jwt=void 0;var i=u(e("../../utility/base64")),o=u(e("../../utility/csiologger")),a=e("../../utility/registry"),s=u(e("../../config/constants"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.cryptotype=null,window.crypto&&window.crypto.subtle?(this.cryptotype="standard",this.subtlecrypto=window.crypto.subtle):window.crypto&&!window.crypto.subtle&&window.crypto.webkitSubtle?(this.cryptotype="webkit",this.subtlecrypto=window.crypto.webkitSubtle):window.msCrypto&&window.msCrypto.subtle?(this.cryptotype="ie",this.subtlecrypto=window.msCrypto.subtle):(this.subtlecrypto=null,o.info("WebCryptography API not supported in this browser.")),this.browserName=a.Registry.getEndpoint().getBrowserName()}var t,n;return t=e,(n=[{key:"sign",value:function(e,t,n){var r=this;return new Promise(function(a,c){"HS256"!==e.alg&&c("Use header.alg=HS256"),e=JSON.stringify(e),"string"!=typeof t&&(t=JSON.stringify(t));var u=i.urlencodeUnicode(e)+"."+i.urlencodeUnicode(t),l=(window.csioReactNative&&window.csiosign(u,n,function(e,t){e?(o.log("Token sign error",e),c(error)):a(t)}),new ArrayBuffer(u.length)),d=new Uint8Array(l);l={name:"HMAC"};"ie"!==r.cryptotype&&"webkit"!==r.cryptotype&&r.browserName!==s.browserName.edge||(l.hash={name:"sha-256"});for(var f=u.length-1;0<=f;f--)d[f]=u.charCodeAt(f);l=r.subtlecrypto.sign(l,n,d),"ie"===r.cryptotype?(l.onerror=c,l.oncomplete=function(e){u=r.buildToken(e.target.result,u),a(u)}):l.then(function(e){u=r.buildToken(e,u),a(u)}).catch(function(e){c(e)})})}},{key:"buildToken",value:function(e,t){for(var n="",r=new Uint8Array(e),o=r.byteLength,a=0;a<o;a++)n+=String.fromCharCode(r[a]);return t+"."+i.urlencode(n)}},{key:"decode",value:function(e){try{var t=e.split(".")[1],n=i.decode(t);return JSON.parse(n)}catch(e){return o.error("Could not decode token. "),null}}},{key:"importKey",value:function(e){var t=this;return new Promise(function(n,r){if(window.csioReactNative)n(e);else{if("webkit"===t.cryptotype)for(;e.length<32;)e+="\0";var o={kty:"oct",k:i.urlencode(e),alg:"HS256"},a={name:"HMAC",hash:{name:"SHA-256"}};if("ie"===t.cryptotype?o.extractable=!1:o.ext=!1,"webkit"===t.cryptotype&&(a=null,o.use="sig"),"ie"===t.cryptotype||"webkit"===t.cryptotype)for(var s=JSON.stringify(o),c=(o=new Uint8Array(s.length),0);c<s.length;c++)o[c]=s.charCodeAt(c);a=t.subtlecrypto.importKey("jwk",o,a,!1,["sign"]),"ie"===t.cryptotype?(a.onerror=r,a.oncomplete=function(e){n(e.target.result)}):a.then(n).catch(r)}})}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Jwt=e},{"../../config/constants":50,"../../utility/base64":116,"../../utility/csiologger":119,"../../utility/registry":128}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.JwtToken=void 0;var r=e("./jwt"),i=e("../../utility/registry");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.token=t,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.appId=null,this.userId=null,this.tokenPayload=null,this.jwt=new r.Jwt,this.expires=null,this.clockSync=i.Registry.getClockSync(),this.taasEnabled=!1,this.enableMLNotification=!1,this.setupTokenPayload()}var t,n;return t=e,(n=[{key:"getToken",value:function(){return this.token}},{key:"getTaasEnabled",value:function(){return this.taasEnabled}},{key:"setupTokenPayload",value:function(){var e,t=this.jwt.decode(this.token);t&&(this.statsSubmissionInterval=parseInt(t.submissionInterval,10),this.collectSDP=t.collectSDP,this.taasEnabled=t.taasEnabled,this.appId=t.appID,this.userId=t.userID,this.ingestedEvents=t.ingestedEvents,this.enableMLNotification=t.mlPipelineEnabled,navigator.mozGetUserMedia?(e=t.expiry.split(" ").join("T"),this.expires=Date.parse(e)):this.expires=new Date(t.expiry),i.Registry.getCredentials().setStatsSubmissionInterval(this.statsSubmissionInterval),i.Registry.getCredentials().setCollectSDP(this.collectSDP),i.Registry.getCredentials().setIngestedEvents(this.ingestedEvents),"boolean"==typeof this.enableMLNotification&&i.Registry.getCredentials().setEnableMLNotification(this.enableMLNotification))}},{key:"isValid",value:function(e){var t=!1;return null!==this.token&&this.appId===e.appId&&this.userId===encodeURIComponent(e.userId)&&new Date(this.clockSync.getSynchronizedTimestamp())<this.expires||t}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.JwtToken=e},{"../../utility/registry":128,"./jwt":69}],71:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTRunnerService=void 0;var i=e("../utility/registry"),o=l(e("../utility/pctutility")),a=l(e("../config/constants")),s=a,c=l(e("../utility/csiologger"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null,this.precalltest=i.Registry.getPreCallTest(),this.callInProgress=!1,this.precalltestIds=[]}var t,n;return t=e,(n=[{key:"handlePrecallTestResults",value:function(e,t){var n,r=i.Registry.getCallbacks().get(a.callbackFunctions.preCallTestResults),s=i.Registry.getCallbacks().get(a.callbackFunctions.preCallTest),u=i.Registry.getCallbacks().get(a.callbackFunctions.pctConnectionQualityChange);if(e&&(t||o.storePctResults(e),this.precalltestIds.push(e.id),e.tests&&e.tests.ice&&(""===e.tests.ice.turnIpAddress&&delete e.tests.ice.turnIpAddress,""===e.tests.ice.turnIpVersion&&delete e.tests.ice.turnIpVersion,""===e.tests.ice.turnTransport&&delete e.tests.ice.turnTransport),e.tests&&(e.tests.endpointInfo=i.Registry.getEndpoint().serialize()),e.tests&&(e.tests.rtt||e.tests.ice||e.tests.throughput)?e.tests.mediaConnectivity=!0:e.tests.mediaConnectivity=!1,o.addPctMeasurementToAggregator(e),l={},(n=i.Registry.getCredentials().getUserIdObject())&&(l.userName=n.userName,l.loginID=n.loginID),l.results=e,i.Registry.getEventMessageBuilder().make(a.precalltestEvents.results,null,null,l)),s&&s(e),r){if(t)return c.warn("precalltest error:",n={msg:"precalltest error: "+t}),i.Registry.getGenericEventHandler().sendEvent(a.logEvents.log,n),void r(a.callstatsAPIReturnStatus.failure,null);var l=o.getPublicPrecalltestResults(e);r(e.status,l)}i.Registry.getCredentials().getEnableMLNotification()&&u&&e&&e.mlNotification&&e.mlNotification.sendFlag&&(s={timestamp:Date.now(),notificationID:e.id},e.mlNotification.notification&&null!==e.mlNotification.notification&&(s.notification=e.mlNotification.notification.text,s.notificationCode=e.mlNotification.notification.code),e.mlNotification.connectivity&&null!==e.mlNotification.connectivity&&(s.connectivity=e.mlNotification.connectivity.text,s.connectivityCode=e.mlNotification.connectivity.code),e.mlNotification.status&&null!==e.mlNotification.status&&(s.status=e.mlNotification.status.text,s.statusCode=e.mlNotification.status.code),e.mlNotification.summary&&null!==e.mlNotification.summary&&(s.summary=e.mlNotification.summary.text,s.summaryCode=e.mlNotification.summary.code),e.tests.ice&&(s.localIp=e.tests.ice.localIP,s.networkType=e.tests.ice.localIPNetworkType),s.clearNotification=e.mlNotification.clearNotification,u(s),e.mlNotification.clearNotification||this.sendMLNotificationEvent(e))}},{key:"sendMLNotificationEvent",value:function(e){var t={},n=i.Registry.getCredentials().getUserIdObject();n&&(t.userName=n.userName,t.loginID=n.loginID),t.notification=e.mlNotification,t.notificationID=e.id,t.endpointInfo=i.Registry.getEndpoint().serialize(),e.tests&&e.tests.ice&&(t.localIP=e.tests.ice.localIP,t.localIPNetworkType=e.tests.ice.localIPNetworkType),i.Registry.getEventMessageBuilder().make(a.precalltestEvents.notification,null,null,t)}},{key:"precalltestRunnerCallback",value:function(e,t){this.handlePrecallTestResults(e,t),this.iceServersIndex++,this.startPrecallTest()}},{key:"doPrecalltestCallback",value:function(e,t){this.handlePrecallTestResults(e,t)}},{key:"start",value:function(e,t){this.iceServers=e,this.interval=t,this.iceServersIndex=0,this.timer&&clearTimeout(this.timer),this.startPrecallTest()}},{key:"startPrecallTest",value:function(){var e,t,n,r=this,o=i.Registry.getEndpoint().serialize();o.buildName===s.browserName.safari&&o.buildVersion.startsWith("13.")||this.callInProgress||((o=this.iceServers[this.iceServersIndex])?(e={},t=o.label,"callstats-pct"===o.label?(n=i.Registry.getAuthenticator().getIceServers(),e.urls=n[0].urls,e.username=n[0].username,e.credential=n[0].credential):(e.urls=o.urls,e.username=o.username,e.credential=o.credential),n={provider:t,isRunManually:!0,runByUser:!1,enableMLNotification:i.Registry.getCredentials().getEnableMLNotification()},this.precalltest.start([e],n,this.precalltestRunnerCallback.bind(this))):((o=i.Registry.getCallbacks().get(a.callbackFunctions.connectionRecommendation))&&o(i.Registry.getPCTAggregator().getRanking()),this.timer=setTimeout(function(){r.start(r.iceServers,r.interval)},this.interval)))}},{key:"doPrecalltest",value:function(e,t,n){var r=i.Registry.getEndpoint().serialize();r.buildName===s.browserName.safari&&r.buildVersion.startsWith("13.")||(r={provider:t,isRunManually:n.isRunManually,runByUser:n.runByUser,enableMLNotification:i.Registry.getCredentials().getEnableMLNotification()},this.precalltest.start(e,r,this.doPrecalltestCallback.bind(this)))}},{key:"setCallInProgress",value:function(e){this.callInProgress=e,this.callInProgress?this.timer&&clearTimeout(this.timer):(this.iceServersIndex=0,this.startPrecallTest())}},{key:"stop",value:function(){this.timer&&clearTimeout(this.timer),this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null}},{key:"getPrecallTestIds",value:function(){return this.precalltestIds}},{key:"resetPrecallTestIds",value:function(){this.precalltestIds=[]}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.PCTRunnerService=e},{"../config/constants":50,"../utility/csiologger":119,"../utility/pctutility":127,"../utility/registry":128}],72:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.RestCollectorConnection=void 0;var i=e("../utility/registry"),o=e("./xmlhttp"),a=e("./collectorconnection"),s=e("./restrelays"),c=d(e("../config/constants")),u=d(e("../utility/csiologger"));function l(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(l=function(e){return e?n:t})(e))}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=y(e);n=t?(n=y(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=h(r);function r(){var e;if(this instanceof r)return(e=n.call(this)).relays=new s.RestRelays,e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"isReady",value:function(){return!0}},{key:"send",value:function(e){var t,n={"Content-Type":"application/json",Authorization:"Bearer "+i.Registry.getAuthenticator().getToken()},r=e.eventType,a=e.confID,s=e.ucID,l=this.relays;(s=l.getRequestUrl(r,a,s))?(t=this.getMessage(r,e),u.log("sending ",s,e),(0,o.sendPostRequest)(s,n,5e3,t).then(function(t){t&&t.xhr?((t=JSON.parse(t.xhr.response))&&"success"!==t.status&&(i.Registry.getGenericEventHandler().sendEvent(c.logEvents.restResponseError,{msg:"response failure "+a+":"+r+":"+t.msg+":"+t.status+JSON.stringify(e)}),u.error("Response error:",t.msg,e),u.sendLog(c.logEvents.error,"response failure "+a+":"+r+":"+t.msg+":"+t.status+JSON.stringify(e)),"Token has expired"===t.msg&&i.Registry.getAuthenticator().reAuthenticate()),l.handleResponse(r,t,a)):u.log("Response for request is null")},function(e){u.error(e)})):u.warn("Resulting request URL is null, no action for message type: "+r)}},{key:"getMessage",value:function(e,t){delete t.confID,delete t.channel,delete t.token,delete t.appID,delete t.action,delete t.ucID,delete t.version,delete t.timeShift;var n=decodeURIComponent(t.localID);t.localID=n,n=decodeURIComponent(t.remoteID);return t.remoteID=n,e===c.callstatsChannels.processedStats&&(t.eventType="stats"),t}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(a.CollectorConnection),n.RestCollectorConnection=e},{"../config/constants":50,"../utility/csiologger":119,"../utility/registry":128,"./collectorconnection":63,"./restrelays":73,"./xmlhttp":75}],73:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.RestRelays=void 0;var i=l(e("../config/constants")),o=l(e("../config/settings")),a=e("../utility/registry"),s=e("../utility/url"),c=l(e("../utility/csiologger"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1})}e=(function(){function e(){var t;d(this,e),this.items=(t=y(),new Map([[i.fabricEvent.fabricTerminated,new h(i.urlType.events,"/events/fabric/terminated",t)],[i.fabricEvent.audioMute,new h(i.urlType.events,"/events/media/actions",t)],[i.fabricEvent.audioUnmute,new h(i.urlType.events,"/events/media/actions",t)],[i.fabricEvent.videoPause,new h(i.urlType.events,"/events/media/actions",t)],[i.fabricEvent.videoResume,new h(i.urlType.events,"/events/media/actions",t)],[i.fabricEvent.screenShareStart,new h(i.urlType.events,"/events/media/actions",t)],[i.fabricEvent.screenShareStop,new h(i.urlType.events,"/events/media/actions",t)],[i.fabricEvent.activeDeviceList,new h(i.urlType.events,"/events/devices/list",t)],[i.fabricEvent.applicationErrorLog,new h(i.urlType.events,"/events/app/logs",t)],[i.fabricEvent.dominantSpeaker,new h(i.urlType.events,"/events/dominantspeaker",t)],[i.fabricEvent.fabricHold,new h(i.urlType.events,"/events/fabric/actions",t)],[i.fabricEvent.fabricResume,new h(i.urlType.events,"/events/fabric/actions",t)],[i.fabricEvent.callUnAnswered,new h(i.urlType.events,"/events/fabric/actions",t)],[i.internalFabricEvent.oneWayMediaStart,new h(i.urlType.events,"/events/fabric/disruptions",t)],[i.internalFabricEvent.oneWayMediaStop,new h(i.urlType.events,"/events/fabric/disruptions",t)],[i.internalFabricEvent.circuitBreaker,new h(i.urlType.events,"/events/fabric/disruptions",t)],[i.internalFabricEvent.fabricSetup,new h(i.urlType.events,"/events/fabric/setup",t)],[i.fabricEvent.callDetails,new h(i.urlType.events,"/events/fabric/details",t)],[i.fabricEvent.fabricSetupFailed,new h(i.urlType.events,"/events/fabric/setupfailed",t)],[i.internalFabricEvent.userJoined,new h(i.urlType.events,"",y(function(e,t){t=decodeURIComponent(t);var n=a.Registry.getConferenceManager().get(t);n&&(c.log("UcId is - ",e.ucID,t),n.setUcId(e.ucID),a.Registry.getTransmissionManager().trySend())}))],[i.internalFabricEvent.userLeft,new h(i.urlType.events,"/events/user/left",t)],[i.internalFabricEvent.userAlive,new h(i.urlType.events,"/events/user/alive",t)],[i.internalFabricEvent.fabricTransportSwitch,new h(i.urlType.events,"/events/fabric/transportchange",t)],[i.internalFabricEvent.mediaPlaybackStart,new h(i.urlType.events,"/events/media/pipeline",t)],[i.internalFabricEvent.mediaPlaybackSuspended,new h(i.urlType.events,"/events/media/pipeline",t)],[i.internalFabricEvent.mediaPlaybackStalled,new h(i.urlType.events,"/events/media/pipeline",t)],[i.internalFabricEvent.ssrcMap,new h(i.urlType.events,"/events/ssrcmap",t)],[i.internalFabricEvent.connectedDeviceList,new h(i.urlType.events,"/events/devices/list",t)],[i.internalFabricEvent.sdpSubmission,new h(i.urlType.events,"/events/sdp",t)],[i.internalFabricEvent.iceDisruptionStart,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.iceDisruptionEnd,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.iceConnectionDisruptionStart,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.iceConnectionDisruptionEnd,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.iceAborted,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.iceTerminated,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.iceFailed,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.iceRestarted,new h(i.urlType.events,"/events/ice/status",t)],[i.internalFabricEvent.fabricDropped,new h(i.urlType.events,"/events/fabric/status",t)],[i.customEvents.event,new h(i.urlType.events,"/events/customevent",t)],[i.customEvents.conferenceSummary,new h(i.urlType.events,"/events/conferencesummary",t)],[i.callstatsChannels.processedStats,new h(i.urlType.stats,"/stats",t)],[i.customEvents.stats,new h(i.urlType.stats,"/customstats",t)],[i.internalFabricEvent.fabricStateChange,new h(i.urlType.events,"/events/fabric/statechange",t)],[i.callstatsChannels.userFeedback,new h(i.urlType.events,"/events/feedback",t)],[i.precalltestEvents.results,new h(i.urlType.events,"/events/precall",t)],[i.precalltestEvents.associate,new h(i.urlType.events,"/events/precall",t)],[i.precalltestEvents.notification,new h(i.urlType.events,"/events/precallnotification",t)],[i.internalFabricEvent.userDetails,new h(i.urlType.events,"/events/userdetails",t)]]))}return p(e,[{key:"getRequestUrl",value:function(e,t,n){return this.items.has(e)?this.items.get(e).getRequestUrl(e,t,n):(c.warn("EventType Unsupported ",e),null)}},{key:"handleResponse",value:function(e,t,n){this.items.has(e)?this.items.get(e).handleResponse(t,n,e):c.warn("No response handler for event type "+e)}}]),e})();var h=(n.RestRelays=e,(function(){function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.baseUrlType=t,this.urlAppendix=n,this.responseHandler=r}return p(e,[{key:"getRequestUrl",value:function(e,t,n){return o.restEventUrl&&o.restStatsUrl?(this.makeRequestUrl(e,t,n),this.requestUrl.toString()):null}},{key:"makeRequestUrl",value:function(e,t,n){var r=this.baseUrlType===i.urlType.events?o.restEventUrl:o.restStatsUrl;e===i.precalltestEvents.results||e===i.precalltestEvents.notification?this.requestUrl=new s.Url(r,a.Registry.getCredentials().getAppId(),this.urlAppendix):(e===i.internalFabricEvent.userJoined&&n&&(n=""),this.requestUrl=new s.Url(r,a.Registry.getCredentials().getAppId()+"/conferences/"+t,n,this.urlAppendix))}},{key:"handleResponse",value:function(e,t,n){this.responseHandler(e,t,n)}}]),e})());function y(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t?t:null;return function(e,t,i){"success"===e.status?n&&n(e,t):r&&r(e)}}},{"../config/constants":50,"../config/settings":51,"../utility/csiologger":119,"../utility/registry":128,"../utility/url":133}],74:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TransmissionManager=void 0;var i=l(e("../utility/timestamps")),o=e("../collections/cache"),a=e("../utility/registry"),s=l(e("../config/constants")),c=l(e("../utility/csiologger"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.cache=[],this.connectionManager=a.Registry.getConnectionManager(),this.lastTS=0,this.timerStarted=!1,this.lastUserAliveTS={}}var t,n;return t=e,(n=[{key:"send",value:function(e){(e.isCachable()||e.canBeSent())&&(this.cache[e.getConferenceId()]||(this.cache[e.getConferenceId()]=new o.Cache),this.cache[e.getConferenceId()].add(e,e.isPriority()),this.trySend())}},{key:"trySend",value:function(){this.connectionManager.isReady()?this.timerStarted||(this.timeToSend()?this.sendMessage()&&this.startTimer():0<this.getCacheLength()&&this.startTimer()):this.setupConnection()}},{key:"setupConnection",value:function(){this.connectionManager.setup().then(function(){c.log("Connected to connectionManager")}).catch(function(e){return c.log("Could not connect to connectionManager",e)})}},{key:"canSendUserAlive",value:function(e,t){return!(this.lastUserAliveTS[t]&&e-this.lastUserAliveTS[t]<9e3)}},{key:"eventCanBeSent",value:function(e,t){var n=[s.internalFabricEvent.circuitBreaker,s.internalFabricEvent.oneWayMediaStart,s.internalFabricEvent.oneWayMediaStop,s.fabricEvent.applicationErrorLog,s.internalFabricEvent.sdpSubmission,s.callstatsChannels.userFeedback,s.fabricEvent.activeDeviceList,s.internalFabricEvent.connectedDeviceList,s.fabricEvent.dominantSpeaker,s.internalFabricEvent.mediaPlaybackStart,s.internalFabricEvent.mediaPlaybackSuspended,s.precalltestEvents.results,s.precalltestEvents.associate],r=[s.precalltestEvents.results,s.precalltestEvents.associate];if(!n.includes(e))return!0;if(n=a.Registry.getCredentials().getIngestedEvents(),r.includes(e)){if(e===s.precalltestEvents.results){if((r=!(!t||!t.results)&&t.results.runManually)&&n.includes("precallTestResultsManual"))return!0;if(!r&&n.includes("precallTestResultsAutomatic"))return!0}else if(e===s.precalltestEvents.associate&&n.includes("precallTestResultsAutomatic"))return!0;return!1}return!(e!==s.callstatsChannels.userFeedback||!n.includes("userFeedback"))||!!n.includes(e)}},{key:"sendMessage",value:function(){var e,t,n;if(0===this.getCacheLength())return!1;for(n in this.cache)if(this.cache.hasOwnProperty(n)&&(t=n,(e=this.cache[t].peak())&&e.canBeSent()))break;if(!e||!e.canBeSent())return!1;if(e=this.cache[t].pop(),this.lastTS=i.getCurrent(),e.eventType===s.internalFabricEvent.userAlive){if(!this.canSendUserAlive(this.lastTS,t))return!0;this.lastUserAliveTS[t]=this.lastTS}var r=e.toJson();return this.eventCanBeSent(e.eventType,r)?(c.log("sending message type :",e.eventType,r),this.connectionManager.send(r)):c.log("Not sending message type :",e.eventType,r),!0}},{key:"startTimer",value:function(){var e=this;this.timerStarted||0!=this.getCacheLength()&&(this.timerStarted=!0,setTimeout(function(){e.timerStarted=!1,e.trySend()},200))}},{key:"timeToSend",value:function(){return i.getCurrent()>=this.lastTS+200}},{key:"getCacheLength",value:function(){var e,t=0;for(e in this.cache)this.cache.hasOwnProperty(e)&&(t+=this.cache[e].length());return t}},{key:"updateConferenceId",value:function(e){var t=s.tmpConferenceId;this.cache[t]&&this.cache[t].updateConferenceId(e)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.TransmissionManager=e},{"../collections/cache":37,"../config/constants":50,"../utility/csiologger":119,"../utility/registry":128,"../utility/timestamps":132}],75:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.sendGetRequest=function(e,t,n){return d("GET",e,t,n,null)},n.sendPostRequest=function(e,t,n,r){return d("POST",e,t,n,r)};var i=c(e("../utility/timestamps")),o=c(e("../config/constants")),a=e("../utility/registry");function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=(function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.xhr=t,this.elapsed=n}var t,n;return t=e,(n=[{key:"getXhr",value:function(){return this.xhr}},{key:"getElapsed",value:function(){return this.elapsed}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();function d(e,t,n,r,s){return new Promise(function(c,u){var d,f,p=new XMLHttpRequest,h=a.Registry.getEndpoint().getBrowserName();if(p){for(var y in d=i.getCurrent(),p.open(e,t),h!==o.browserName.msie&&(p.timeout=r),n)n.hasOwnProperty(y)&&p.setRequestHeader(y,n[y]);if(h=null,"POST"===e){if("application/x-www-form-urlencoded"===n["Content-Type"]){var v,g=[];for(v in s)s.hasOwnProperty(v)&&g.push(encodeURIComponent(v)+"="+encodeURIComponent(s[v]));h=g.join("&")}"application/json"===n["Content-Type"]&&(h=JSON.stringify(s))}p.onload=function(){f=i.getCurrent();var e=new l(p,f-d);c(e)},p.ontimeout=function(){u(new Error("connection timeout"))},p.onreadystatechange=function(){4===p.readyState&&0===p.status&&u(new Error("no server response received"))},p.send(h)}else u(new Error("creating instance failed"))})}},{"../config/constants":50,"../utility/registry":128,"../utility/timestamps":132}],76:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.XMLHttpService=void 0;var i=e("../utility/sigmoid"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../utility/csiologger"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"XMLHttpService",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e4;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.name=t,this.minRetryTimeout=n,this.sigmoid=new i.Sigmoid(r-n,15,.5),this.reset()}var t,n;return t=e,(n=[{key:"reset",value:function(){this.inProgress=!1,this.completed=!1,this.resolveCb&&this.rejectCb(new Error("".concat(this.name,": resetting"))),this.resolveCb=null,this.rejectCb=null}},{key:"initiate",value:function(){var e,t=this;return this.inProgress?new Promise(function(e,n){n(new Error("".concat(t.name,": in progress")))}):(e=new Promise(function(e,n){t.resolveCb=e,t.rejectCb=n}),this.inProgress=!0,this.sendRequest(),e)}},{key:"isCompleted",value:function(){return this.completed}},{key:"handleSendError",value:function(e){o.log("".concat(this.name,": send next request (").concat(e,")")),this.sendNextRequest()}},{key:"handleResponseProxy",value:function(e){this.handleResponse(e),this.resetTimeout()}},{key:"handleResponse",value:function(e){o.error("".concat(this.name,": handleResponse() not implemented")),this.completeProcess()}},{key:"completeProcess",value:function(){this.inProgress=!1,this.completed=!0,this.resolveCb.apply(this,arguments)}},{key:"request",value:function(){return o.error("".concat(this.name,": request() not implemented!")),new Promise(function(e,t){e()})}},{key:"sendRequest",value:function(){var e;!this.inProgress||(e=this.request())&&e.then(this.handleResponseProxy.bind(this),this.handleSendError.bind(this))}},{key:"sendNextRequest",value:function(){setTimeout(this.sendRequest.bind(this),this.getTimeout())}},{key:"resetTimeout",value:function(){this.sigmoid.reset()}},{key:"getTimeout",value:function(){return this.minRetryTimeout+this.sigmoid.getActual()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.XMLHttpService=e},{"../utility/csiologger":119,"../utility/sigmoid":130}],77:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.CircuitBreakerEvent=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.circuitBreakerType=t,this.ssrc=n}var t,n,r;return t=e,r=[{key:"isBadTrack",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return!t||!(e=t.getRequestedMeasurement())||e.getReportType()===i.reportType.remote&&t.getStreamType()===i.streamType.outbound}}],(n=[{key:"getCircuitBreakerType",value:function(){return this.circuitBreakerType}},{key:"getContent",value:function(){return{disruptionType:this.circuitBreakerType,ssrc:this.ssrc.toString()}}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.CircuitBreakerEvent=e},{"../config/constants":50}],78:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.IntervalStatsMonitor=void 0;var i=u(e("../utility/timestamps")),o=u(e("../config/constants")),a=u(e("./validator")),s=["ssrc","streamType","reportType"];function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t=t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){if(null==e)return{};var n,r=(function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function p(e){return(function(e){if(Array.isArray(e))return h(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})(e)||(function(e,t){var n;if(e)return"string"==typeof e?h(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var m=(function(){function e(t){y(this,e),this.hasMultipleRecords=!1,this.currentStats=t,this.previousStats=t,this.previousCallBackStats=t,this.previousStatsTime=i.getCurrent(),this.previousCallBackStatsTime=i.getCurrent()}return g(e,[{key:"setCurrent",value:function(e){this.currentStats=e,this.hasMultipleRecords=!0}},{key:"outdate",value:function(e){e===o.statsDestination.backend?(this.previousStats=this.currentStats,this.previousStatsTime=i.getCurrent()):(this.previousCallBackStats=this.currentStats,this.previousCallBackStatsTime=i.getCurrent())}},{key:"getCurrent",value:function(){return this.currentStats}},{key:"multipleRecords",value:function(){return this.hasMultipleRecords}},{key:"getPrevious",value:function(e){return e===o.statsDestination.backend?this.previousStats:this.previousCallBackStats}},{key:"getElapsedTime",value:function(e){return i.getCurrent()-(e===o.statsDestination.backend?this.previousStatsTime:this.previousCallBackStatsTime)}}]),e})();e=(function(){function e(){y(this,e),this.measurementsHolderMap=new Map}return g(e,[{key:"set",value:function(e,t){this.measurementsHolderMap.has(e)?this.measurementsHolderMap.get(e).setCurrent(t):(t=new m(t),this.measurementsHolderMap.set(e,t))}},{key:"delete",value:function(e){e&&this.measurementsHolderMap.has(e)&&this.measurementsHolderMap.delete(e)}},{key:"getIntervalStats",value:function(e){for(var t=new Map,n=p(this.measurementsHolderMap.keys()),r=0,i=n.length;r<i;r+=1){var o,a=n[r],s=this.measurementsHolderMap.get(a);s&&(o=this.getIntervalStat(s,e),t.set(a,o),s.outdate(e))}return t}},{key:"getTotalBytes",value:function(e){return e=e.getStreamType()===o.streamType.inbound?e.getReceivedBytes():e.getSentBytes(),a.checkForPositiveValue(e)?e:null}},{key:"getTotalPackets",value:function(e){return e=e.getStreamType()===o.streamType.inbound?e.getReceivedPackets():e.getSentPackets(),a.checkForPositiveValue(e)?e:null}},{key:"getTotalLostPackets",value:function(e){return e=e.getLostPackets(),a.checkForPositiveValue(e)?e:null}},{key:"getIntervalBitrate",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;e=this.getTotalBytes(e),t=this.getTotalBytes(t);return a.checkForPositiveValue(e)&&a.checkForPositiveValue(t)&&a.checkForPositiveValue(n)&&(e=(8*e-8*t)/Math.max(n,1),a.checkForPositiveValue(e))?e:null}},{key:"getIntervalPacketLoss",value:function(e,t,n){return e=this.getTotalLostPackets(e),n?(n=this.getTotalLostPackets(t),a.checkForPositiveValue(e)&&a.checkForPositiveValue(n)&&a.checkForPositiveValue(t=e-n)?t:null):a.checkForPositiveValue(e)?e:null}},{key:"getIntervalPacketRate",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return a.checkForPositiveValue(n)&&(e=this.getTotalPackets(e),t=this.getTotalPackets(t),!(!a.checkForPositiveValue(e)<0)&&a.checkForPositiveValue(t)&&(e=(e-t)/(Math.max(n,1)/1e3),a.checkForPositiveValue(e)))?e:null}},{key:"getIntervalFractionLost",value:function(e,t,n){return n=this.getIntervalPacketLoss(e,t,n),e=this.getTotalPackets(e)-this.getTotalPackets(t),a.checkForPositiveValue(n)&&a.checkForPositiveValue(e)&&(t=n/Math.max(e+n,1),a.checkForPositiveValue(t))?t:null}},{key:"getIntervalStat",value:function(e,t){var n=this,r=e.getPrevious(t),i=e.getCurrent();if(!r||!i)return[];for(var o=[],a=e.getElapsedTime(t),s=0,c=i.length;s<c;s+=1)!(function(t){var s=i[t];(t=r.find(function(e){return e.getSSRC()===s.getSSRC()&&e.getStreamType()===s.getStreamType()&&e.getReportType()===s.getReportType()}))&&(t={csioIntMs:a,csioIntBRKbps:n.getIntervalBitrate(s,t,a),csioIntPktLoss:n.getIntervalPacketLoss(s,t,e.multipleRecords()),csioIntPR:n.getIntervalPacketRate(s,t,a),csioIntFL:n.getIntervalFractionLost(s,t,e.multipleRecords()),ssrc:s.getSSRC(),streamType:s.getStreamType(),reportType:s.getReportType()},o.push(t))})(s);return o}}],[{key:"mergeIntervalStats",value:function(e,t){for(var n=0,r=e.length;n<r;n+=1){var i=e[n];t.has(i.pcHash)&&(function(){var e=t.get(i.pcHash)||[],n=i.ssrc||i.data&&i.data.ssrc,r=i.streamType||i.streamType&&i.data.streamType,o=i.reportType||i.reportType&&i.data.reportType;(e=e.find(function(e){return e.ssrc===n&&e.streamType===r&&e.reportType===o}))&&(i.data=d(d({},i.data),(function(e){return e.ssrc,e.streamType,e.reportType,f(e,s)})(e)))})()}return e}}]),e})();n.IntervalStatsMonitor=e},{"../config/constants":50,"../utility/timestamps":132,"./validator":114}],79:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Measurement=void 0;var i=e("./resolution"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("./validator"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.pcHash=null,this.ssrc=null,this.streamType=null,this.mediaType=null,this.reportType=null,this.resolution=null,this.frameRateReceived=null,this.frameHeight=null,this.frameWidth=null,this.droppedFramesNum=null,this.framesReceived=null,this.rtt=null,this.jitter=null,this.lostPackets=-1,this.receivedPackets=-1,this.sentPackets=-1,this.discardedPackets=-1,this.sentBytes=-1,this.receivedBytes=-1,this.fractionLost=-1,this.googEchoCancellationReturnLoss=-1,this.googEchoCancellationReturnLossEnhancement=-1,this.track=null}var t,n,r;return t=e,r=[{key:"make",value:function(t,n,r,i,a,s,c,u,l,d,f,p,h,y,v,g,m,b,w,S,k,C){function T(e,t){-1===[void 0,null].indexOf(t)&&(P[e]=t)}var P=new e;return T("pcHash",t),T("ssrc",n),T("streamType",r),T("mediaType",i),T("reportType",a),T("frameRateReceived",s),T("frameHeight",o.checkForNan(parseInt(c,10))),T("frameWidth",o.checkForNan(parseInt(u,10))),T("droppedFramesNum",l),T("framesReceived",d),T("rtt",f),T("jitter",p),T("lostPackets",h),T("receivedPackets",y),T("sentPackets",v),T("discardedPackets",g),T("sentBytes",m),T("receivedBytes",b),T("fractionLost",w),T("googEchoCancellationReturnLoss",S),T("googEchoCancellationReturnLossEnhancement",k),T("track",C),P.setFrameRateReceived(s),P}}],(n=[{key:"getPcHash",value:function(){return this.pcHash}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getReportType",value:function(){return this.reportType}},{key:"getResolution",value:function(){return this.resolution?this.resolution.toString():null}},{key:"getFrameRateReceived",value:function(){return this.frameRateReceived}},{key:"getFrameHeight",value:function(){return this.frameHeight}},{key:"getFrameWidth",value:function(){return this.frameWidth}},{key:"getDroppedFramesNum",value:function(){return this.droppedFramesNum}},{key:"getFramesReceived",value:function(){return this.framesReceived}},{key:"setFrameRateReceived",value:function(e){this.frameRateReceived=e,void 0!==this.frameRateReceived&&void 0!==this.frameWidth&&void 0!==this.frameHeight&&0<this.frameWidth&&0<this.frameHeight?this.resolution=new i.Resolution(this.frameWidth,this.frameHeight,this.frameRateReceived):this.resolution=null}},{key:"getJitter",value:function(){return this.jitter}},{key:"getRTT",value:function(){return this.rtt}},{key:"getLostPackets",value:function(){return this.lostPackets}},{key:"getDiscardedPackets",value:function(){return this.discardedPackets}},{key:"getReceivedPackets",value:function(){return this.receivedPackets}},{key:"getSentPackets",value:function(){return this.sentPackets}},{key:"getSentBytes",value:function(){return this.sentBytes}},{key:"getReceivedBytes",value:function(){return this.receivedBytes}},{key:"setFractionLost",value:function(e){this.fractionLost=void 0===e?null:e}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"getGoogEchoCancellationReturnLoss",value:function(){return this.googEchoCancellationReturnLoss}},{key:"getGoogEchoCancellationReturnLossEnhancement",value:function(){return this.googEchoCancellationReturnLossEnhancement}},{key:"extractTrack",value:function(){var e=this.track;return this.track=null,e}},{key:"toString",value:function(){return"pcHash: "+this.pcHash+", ssrc: "+this.ssrc+", streamType: "+this.streamType+", mediaType: "+this.mediaType+", reportType: "+this.reportType+", frameRateReceived: "+this.frameRateReceived+", frameHeight: "+this.frameHeight+", frameWidth: "+this.frameWidth+", droppedFramesNum: "+this.droppedFramesNum+", rtt: "+this.rtt+", jitter: "+this.jitter+", lostPackets: "+this.lostPackets+", receivedPackets: "+this.receivedPackets+", sentPackets: "+this.sentPackets+", discardedPackets: "+this.discardedPackets+", sentBytes: "+this.sentBytes+", receivedBytes: "+this.receivedBytes+", fractionLost: "+this.fractionLost+", googEchoCancellationReturnLoss: "+this.googEchoCancellationReturnLoss+", googEchoCancellationReturnLossEnhancement: "+this.googEchoCancellationReturnLossEnhancement}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Measurement=e},{"./resolution":98,"./validator":114}],80:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.AvDeSyncHolder=void 0;var i=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.audioSsrc=t,this.videoSsrc=n,this.estimatedAudioDelay=r,this.estimatedVideoDelay=i}var t,n;return t=e,(n=[{key:"getAudioSSRC",value:function(){return this.audioSsrc}},{key:"getVideoSSRC",value:function(){return this.videoSsrc}},{key:"setAudioDelay",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.audioSsrc=e,this.estimatedAudioDelay=t}},{key:"setVideoDelay",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.videoSsrc=e,this.estimatedVideoDelay=t}},{key:"getAudioDelay",value:function(){return this.estimatedAudioDelay}},{key:"getVideoDelay",value:function(){return this.estimatedVideoDelay}},{key:"getContent",value:function(){return{audioSsrc:this.audioSsrc.toString(),videoSsrc:this.videoSsrc.toString(),estimatedAudioDelay:this.estimatedAudioDelay,estimatedVideoDelay:this.estimatedVideoDelay}}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.AvDeSyncHolder=i},{}],81:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.AVDeSyncObserver=void 0;var i=c(e("../../config/constants")),o=c(e("../validator")),a=e("./avdesync/avdesyncholder");function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function u(e){return(function(e){if(Array.isArray(e))return l(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})(e)||(function(e,t){var n;if(e)return"string"==typeof e?l(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.avEstimatedDelays=new Map}var t,n;return t=e,(n=[{key:"isValidTrack",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return!!t&&!!(e=t.getRequestedMeasurement())&&e.getReportType()===i.reportType.local&&t.getStreamType()===i.streamType.inbound}},{key:"getPCHash",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return(e=e&&e.getRequestedMeasurement())?e.getPcHash():null}},{key:"getEstimatedDelay",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return(e=e&&e.getTrack())&&e.data&&(e=parseFloat(e.data.googCurrentDelayMs),o.isNumber(e))?e:null}},{key:"isAVDeSync",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=Math.abs(e-t);return t<e?90<n:e<t&&185<n}},{key:"accept",value:function(){for(var e=this,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return e.isValidTrack(t)}),n=0,r=t.length;n<r;n+=1){var s=t[n],c=this.getPCHash(s),l=s.getSSRC(),d=this.getEstimatedDelay(s);c=(this.avEstimatedDelays.has(c)||this.avEstimatedDelays.set(c,new a.AvDeSyncHolder),this.avEstimatedDelays.get(c));s.getMediaType()===i.mediaType.audio?c.setAudioDelay(l,d):s.getMediaType()===i.mediaType.video&&c.setVideoDelay(l,d)}for(var f=u(this.avEstimatedDelays.values()),p=0,h=f.length;p<h;p+=1)!(function(n){var r=f[n],i=(n=r.getAudioDelay(),r.getVideoDelay());if(o.isNumber(n)&&o.isNumber(i)){n=e.isAVDeSync(n,i),i=t.find(function(e){return e.getSSRC()===r.getAudioSSRC()});var a=t.find(function(e){return e.getSSRC()===r.getVideoSSRC()});i&&a&&(i.metrics&&(i.metrics.csioAvDesync=n),a.metrics&&(a.metrics.csioAvDesync=n))}})(p)}},{key:"toString",value:function(){return"AVDeSyncObserver"}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.AVDeSyncObserver=e},{"../../config/constants":50,"../validator":114,"./avdesync/avdesyncholder":80}],82:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.CircuitBreakerObserver=void 0;var i=e("./circuitbreakerobserver/rtcptimeout/rtcptimeoutobserver"),o=e("./circuitbreakerobserver/mediatimeout/mediatimeoutobserver"),a=e("./circuitbreakerobserver/mediausability/mediausabilityobserver"),s=e("./circuitbreakerobserver/congestion/congestionobserver"),c=f(e("../../utility/timestamps")),u=e("../../utility/registry"),l=f(e("../../config/constants"));function d(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(d=function(e){return e?n:t})(e))}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.notifierCallback=t,this.rtcpTimeoutObserver=new i.RTCPTimeoutObserver,this.mediaTimeoutObserver=new o.MediaTimoutObserver,this.mediaUsabilityObserver=new a.MediaUsabilityObserver,this.congestionObserver=new s.CongestionObserver,this.lastReportTime=c.getCurrent()}var t,n;return t=e,(n=[{key:"isDeadTrack",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=e&&e.getRequestedMeasurement();if(!t)return!0;if(e.getStreamType()===l.streamType.inbound){if(t.getReceivedBytes()<1)return!0}else if(t.getSentBytes()<1)return!0;return!e.lastTrack||!e.lastTrack.data||!e.lastTrack.data.mimeType&&!e.lastTrack.data.googCodecName}},{key:"accept",value:function(){var e,t,n,r,i=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;o&&(o=o.filter(function(e){return!1===i.isDeadTrack(e)}),e=c.getCurrent(),t=this.rtcpTimeoutObserver.check(o),n=this.mediaTimeoutObserver.check(o),r=this.mediaUsabilityObserver.check(o),o=this.congestionObserver.check(o),t&&0<t.length&&3e4<e-this.lastReportTime&&(this.lastReportTime=e,this.handleUserCallbackEvent(t),this.notifierCallback(t)),n&&0<n.length&&3e4<e-this.lastReportTime&&(this.lastReportTime=e,this.handleUserCallbackEvent(n),this.notifierCallback(n)),r&&0<r.length&&3e4<e-this.lastReportTime&&(this.lastReportTime=e,this.handleUserCallbackEvent(r),this.notifierCallback(r)),o&&0<o.length&&3e4<e-this.lastReportTime&&(this.lastReportTime=e,this.handleUserCallbackEvent(o),this.notifierCallback(o)))}},{key:"handleUserCallbackEvent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=u.Registry.getCallbacks().get(l.callbackFunctions.mediaDisruption);t&&"function"==typeof t&&e.forEach(function(e){e={type:l.mediaDisruptionCallbackType.circuitBreaker,payload:e.getContent()},t(e)})}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.CircuitBreakerObserver=e},{"../../config/constants":50,"../../utility/registry":128,"../../utility/timestamps":132,"./circuitbreakerobserver/congestion/congestionobserver":83,"./circuitbreakerobserver/mediatimeout/mediatimeoutobserver":85,"./circuitbreakerobserver/mediausability/mediausabilityobserver":87,"./circuitbreakerobserver/rtcptimeout/rtcptimeoutobserver":89}],83:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.CongestionObserver=void 0;var i=c(e("../../../../config/constants")),o=e("../../../circuitbreakerevent"),a=c(e("../../../validator"));function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.name="CongestionObserver"}var t,n,r;return t=e,r=[{key:"getTFRC",value:function(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return n&&n.data&&!(n.data.csioIntFLRate<.001||n.data.csioAvgRtt<.01)&&(e=8*n.data.csioAvgPacketSize,n=n.data.csioAvgRtt*Math.sqrt(2*n.data.csioIntFLRate/3),a.checkForPositiveValue(e)&&a.checkForPositiveValue(n)&&(t=e/Math.max(n,1),a.checkForPositiveValue(t)))?t:0}},{key:"isGood",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return!(e<1||(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)<=10*e)}}],(n=[{key:"check",value:function(){var t,n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return e.hasTraffic()&&e.getStreamType()===i.streamType.outbound&&!1===o.CircuitBreakerEvent.isBadTrack(e)});if(!(n.length<1))return t=[],n.forEach(function(n){var r,a=n.getTrack();a&&a.data&&(r=e.getTFRC(a),e.isGood(r,a.data.csioAvgBRKbps)&&(r=new o.CircuitBreakerEvent(i.circuitBreakerDisruptionType.congestion,n.getSSRC()),t.push(r)))}),0<t.length?t:void 0}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.CongestionObserver=e},{"../../../../config/constants":50,"../../../circuitbreakerevent":77,"../../../validator":114}],84:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaTimeout=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../../../../utility/timestamps"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.started=null,this.totalPackets=0}var t,n;return t=e,(n=[{key:"update",value:function(e){this.totalPackets=e}},{key:"getTotalPackets",value:function(){return this.totalPackets}},{key:"getStarted",value:function(){return this.started}},{key:"doReset",value:function(){this.started=null}},{key:"doStart",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;this.started=e||i.getCurrent()}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.MediaTimeout=e},{"../../../../utility/timestamps":132}],85:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaTimoutObserver=void 0;var i=u(e("../../../../utility/timestamps")),o=u(e("../../../../config/constants")),a=e("../../../circuitbreakerevent"),s=e("./mediatimeout");function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.name="MediaTimeoutObserver",this.mediaTimeouts=new Map}var t,n,r;return t=e,r=[{key:"getTotalPackets",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return t&&(e=t.getTrack())&&e.data?t.getStreamType()===o.streamType.inbound?e.data.packetsReceived:e.data.packetsSent:0}}],(n=[{key:"observeMediaTimeout",value:function(t){var n,r,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return t?(n=e.getTotalPackets(t),(r=this.mediaTimeouts.get(t.getSSRC()))?n>r.getTotalPackets()?(r.update(n,c?c.startTime:void 0),r.doReset(),null):r.getStarted()?(c?c.now:i.getCurrent())-r.getStarted()<1e4?null:new a.CircuitBreakerEvent(o.circuitBreakerDisruptionType.mediaTimeout,t.getSSRC()):(r.doStart(c?c.startTime:void 0),null):((r=new s.MediaTimeout).update(n,c?c.startTime:void 0),this.mediaTimeouts.set(t.getSSRC(),r),null)):null}},{key:"check",value:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(!((n=n.filter(function(e){var t=e.getRequestedMeasurement();return t&&e.hasTraffic()&&t.getReportType()===o.reportType.remote&&!1===a.CircuitBreakerEvent.isBadTrack(e)})).length<1))return e=[],n.forEach(function(n,i){(n=t.observeMediaTimeout(n,r?r[i]:void 0))&&e.push(n)}),0<e.length?e:void 0}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.MediaTimoutObserver=e},{"../../../../config/constants":50,"../../../../utility/timestamps":132,"../../../circuitbreakerevent":77,"./mediatimeout":84}],86:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaUsability=void 0;var i=c(e("../../../../utility/timestamps")),o=c(e("../../../../config/constants")),a=c(e("../../../validator"));function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.flDistortedTime=null,this.rttDistortedTime=null}var t,n;return t=e,(n=[{key:"update",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;!e||(t=e.getTrack())&&t.data&&(this.checkFL(t.data.csioIntFLRate,e.getMediaType(),n),this.checkRTT(t.data.csioAvgRtt,e.getMediaType(),n))}},{key:"checkFL",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;a.checkForPositiveValue(e)&&(.99<e?null===this.flDistortedTime&&(this.flDistortedTime=t||i.getCurrent()):this.flDistortedTime=null)}},{key:"checkRTT",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;a.checkForPositiveValue(e)&&((t===o.mediaType.video?2e3:1500)<e?null===this.rttDistortedTime&&(this.rttDistortedTime=n||i.getCurrent()):this.rttDistortedTime=null)}},{key:"isDistorted",value:function(){var e=(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0)||i.getCurrent();return!!(this.flDistortedTime&&5e3<e-this.flDistortedTime)||!!(this.rttDistortedTime&&15e3<e-this.rttDistortedTime)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.MediaUsability=e},{"../../../../config/constants":50,"../../../../utility/timestamps":132,"../../../validator":114}],87:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaUsabilityObserver=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../../../../config/constants")),o=e("../../../circuitbreakerevent"),a=e("./mediausability");function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.name="MediaUsabilityObserver",this.mediaUsabilities=new Map}var t,n;return t=e,(n=[{key:"observeMediaUsability",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,n=this.mediaUsabilities.get(e.getSSRC());return n?(n.update(e,t?t.startTime:void 0),n.isDistorted(t?t.now:void 0)?new o.CircuitBreakerEvent(i.circuitBreakerDisruptionType.mediaUsability,e.getSSRC()):null):(n=new a.MediaUsability,this.mediaUsabilities.set(e.getSSRC(),n),null)}},{key:"check",value:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(!((n=n.filter(function(e){return!1===o.CircuitBreakerEvent.isBadTrack(e)&&e.hasTraffic()})).length<1))return e=[],n.forEach(function(n,i){(n=t.observeMediaUsability(n,r?r[i]:void 0))&&e.push(n)}),0<e.length?e:void 0}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.MediaUsabilityObserver=e},{"../../../../config/constants":50,"../../../circuitbreakerevent":77,"./mediausability":86}],88:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.RTCPTimeout=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../../../../utility/timestamps"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.lastApproved=null,this.lastRTCPTimestamp=null,this.networkRoundTripTime=5}var t,n;return t=e,(n=[{key:"update",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return!!(t=t.getTrack())&&(!t.data.timestamp||(this.lastRTCPTimestamp?!t.data.timestamp||this.lastRTCPTimestamp<t.data.timestamp&&(e=t.data.timestamp-this.lastRTCPTimestamp,this.lastRTCPTimestamp=t.data.timestamp,this.networkRoundTripTime=.8*this.networkRoundTripTime+.2*e,this.lastApproved=n||i.getCurrent(),!0):(this.lastRTCPTimestamp=t.data.timestamp,this.lastApproved=n||i.getCurrent(),!0)))}},{key:"getLastApproved",value:function(){return this.lastApproved}},{key:"getLastRTCPTimestamp",value:function(){return this.lastRTCPTimestamp}},{key:"getNetworkRoundTripTime",value:function(){return this.networkRoundTripTime}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.RTCPTimeout=e},{"../../../../utility/timestamps":132}],89:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.RTCPTimeoutObserver=void 0;var i=u(e("../../../../utility/timestamps")),o=u(e("../../../../config/constants")),a=e("../../../circuitbreakerevent"),s=e("./rtcptimeout");function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.name="RTCPTimeoutObserver",this.rtcpTimeouts=new Map}var t,n;return t=e,(n=[{key:"observeRTCPTimeouts",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,r=this.rtcpTimeouts.get(t.getSSRC());return r?r.update(t,n?n.lastApproved:void 0)||(e=Math.max(3e4,5*r.getNetworkRoundTripTime()),(n?n.now:i.getCurrent())-r.getLastApproved()<e)?null:new a.CircuitBreakerEvent(o.circuitBreakerDisruptionType.RTCPTimeout,t.getSSRC()):((r=new s.RTCPTimeout).update(t,n?n.lastApproved:void 0),this.rtcpTimeouts.set(t.getSSRC(),r),null)}},{key:"check",value:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(!((n=n.filter(function(e){var t=e.getRequestedMeasurement();return t&&e.getStreamType()===o.streamType.inbound&&t.getReportType()===o.reportType.remote})).length<1))return e=[],n.forEach(function(n,i){(n=t.observeRTCPTimeouts(n,r?r[i]:void 0))&&e.push(n)}),0<e.length?e:void 0}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.RTCPTimeoutObserver=e},{"../../../../config/constants":50,"../../../../utility/timestamps":132,"../../../circuitbreakerevent":77,"./rtcptimeout":88}],90:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.CPULimitationObserver=void 0;var i=s(e("../../config/constants")),o=s(e("../../utility/timestamps"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=s?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var d=(function(){function e(){c(this,e),this.ewmaDiscardedPackets=0,this.ewmaLostPackets=0,this.ewmaDroppedFrames=0,this.last=0,this.noticed=0}return l(e,[{key:"test",value:function(e){var t,n,r=e.discardedPackets,i=e.lostPackets;return!(!i||i<1||!r||r<1||(0===this.last?(this.last=o.getCurrent(),this.ewmaLostPackets=i,this.ewmaDiscardedPackets=r,1):(t=o.getCurrent(),n=Math.max(t-this.last,1),n=Math.min((5e3-n)/5e3,.9),e=e.droppedFrames,this.ewmaLostPackets=this.ewmaLostPackets*n+i,this.ewmaDroppedFrames=this.ewmaDroppedFrames*n+e,this.ewmaDiscardedPackets=this.ewmaDiscardedPackets*n+r,!e||e<1||1<this.ewmaLostPackets||1<this.ewmaDiscardedPackets||t-this.noticed<1e4||this.ewmaDroppedFrames<1||(this.noticed=t,0))))}}]),e})();e=(function(){function e(t){c(this,e),this.notifyCallback=t,this.inbVideoTesters=new Map}return l(e,[{key:"accept",value:function(e){for(var t=e.filter(function(e){return e.getMediaType()===i.mediaType.video&&e.getStreamType()===i.streamType.inbound}),n=0;n<t.length;++n){var r=t[n];this.checkInboundVideo(r)}}},{key:"checkInboundVideo",value:function(e){var t=e.peek();e=e.getSSRC();this.inbVideoTesters.has(e)||this.inbVideoTesters.set(e,new d),this.inbVideoTesters.get(e).test(t)&&(t={reason:i.limitationType.cpu,ssrc:e},this.notifyCallback(t))}},{key:"toString",value:function(){return"CPULimitationObserver"}}]),e})();n.CPULimitationObserver=e},{"../../config/constants":50,"../../utility/timestamps":132}],91:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.OneWayMediaObserver=void 0;var i=e("../onewaymediadisruption"),o=e("../../utility/registry"),a=u(e("../../config/constants")),s=u(e("../../utility/timestamps"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=Math.max(5,5)+5,f="STARTED",p="ENDED",h="NOOP";e=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.startTime=s.getCurrent(),this.notifierCallback=t,this.oneWayInbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.oneWayOutbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.browserName=o.Registry.getEndpoint().getBrowserName()}var t,n;return t=e,(n=[{key:"isDeadTrack",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=e&&e.getRequestedMeasurement();if(!t)return!0;if(e.getStreamType()===a.streamType.inbound){if(t.getReceivedBytes()<1)return!0}else if(t.getSentBytes()<1)return!0;return!e.lastTrack||!e.lastTrack.data||!e.lastTrack.data.mimeType&&!e.lastTrack.data.googCodecName}},{key:"isValidTrack",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.streamType.inbound;return!!t&&!!(e=t.getRequestedMeasurement())&&e.getReportType()===a.reportType.local&&t.getStreamType()===n&&t.getMediaType()===a.mediaType.audio}},{key:"handleUserCallbackEvent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=o.Registry.getCallbacks().get(a.callbackFunctions.mediaDisruption);t&&"function"==typeof t&&e.forEach(function(e){e={type:e.isStarted()?a.mediaDisruptionCallbackType.oneWayMediaStart:a.mediaDisruptionCallbackType.oneWayMediaStop,payload:e.getContent()},t(e)})}},{key:"accept",value:function(e){var t=this,n=e.filter(function(e){return t.isValidTrack(e,a.streamType.inbound)});e=e.filter(function(e){return t.isValidTrack(e,a.streamType.outbound)});0<(n=this.getDisruptions(n,e)).length&&(this.handleUserCallbackEvent(n),this.notifierCallback(n))}},{key:"toString",value:function(){return"DisruptionObserver"}},{key:"getDisruptedTrack",value:function(){var e=this;return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).find(function(t){return t&&!1===t.hasTraffic()&&!1===e.isDeadTrack(t)})}},{key:"isStartedAndHasTraffic",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return 0===e.getStartTime()}).length<1,n=e.filter(function(e){return!e.hasTraffic()}).length<1;return 0<e.length&&t&&n}},{key:"hasTracksAndTraffic",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return!e.hasTraffic()}).length<1;return 0<e.length&&t}},{key:"isInitialSetupDelayPassed",value:function(){return s.getCurrent()>this.startTime+15e3}},{key:"isInbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(t)&&this.isInitialSetupDelayPassed())return t=void 0,this.hasTracksAndTraffic(e)||(e=(e=this.getDisruptedTrack(e))&&e.getSSRC())&&(t=new i.OneWayMediaDisruption(a.oneWayMediaTypes.audio,e,a.streamType.inbound)),t}},{key:"isOutbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(e)&&this.isInitialSetupDelayPassed())return e=void 0,this.hasTracksAndTraffic(t)||(t=(t=this.getDisruptedTrack(t))&&t.getSSRC())&&(e=new i.OneWayMediaDisruption(a.oneWayMediaTypes.audio,t,a.streamType.outbound)),e}},{key:"updateDisruptionAndRecoveryCount",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return e?(t=Math.min(t+1,d),n=0):(n=Math.min(n+1,d),t=0),{disruptionCount:t,recoveryCount:n}}},{key:"getDisruptionState",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return!1===n&&5<=e?f:!0===n&&5<=t?p:h}},{key:"getAudioDisruption",value:function(e,t,n){var r=void 0,i=void 0;if(n!==a.streamType.inbound&&n===a.streamType.outbound)r=this.isOutbOneWayAudioDisruption(e,t),i=this.oneWayOutbAudioDisruption;else if(i)return e=(n=this.updateDisruptionAndRecoveryCount(r,i.disruptionCount,i.recoveryCount)).disruptionCount,t=n.recoveryCount,(n=this.getDisruptionState(e,t,i.started))===f?(i.started=!0,i.disruption=r.setStart(),i.disruptionCount=0,i.recoveryCount=0):n===p?(i.started=!1,i.disruption=i.disruption.setEnd(),i.disruptionCount=0,i.recoveryCount=0):(i.recoveryCount=t,i.disruptionCount=e),n!==h?i.disruption:void 0}},{key:"getDisruptions",value:function(e,t){var n=[],r=this.getAudioDisruption(e,t,a.streamType.inbound);e=this.getAudioDisruption(e,t,a.streamType.outbound);return r&&n.push(r),e&&n.push(e),n}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.OneWayMediaObserver=e},{"../../config/constants":50,"../../utility/registry":128,"../../utility/timestamps":132,"../onewaymediadisruption":95}],92:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.QPSumObserver=void 0;var i=s(e("../../config/constants")),o=s(e("../../utility/timestamps"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=s?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var d=(function(){function e(t){c(this,e),this.lastQpSum=null,this.qpAvg=null,this.noticed=0}return l(e,[{key:"test",value:function(e){var t,n;return!!((e=e.getTrack())&&e.data&&e.data.qpSum)&&(this.lastQpSum?(n=e.data.qpSum-this.lastQpSum,this.lastQpSum=e.data.qpSum,null===this.qpAvg?this.qpAvg=n:this.qpAvg=.2*n+.8*this.qpAvg,t=Math.max(2*this.qpAvg,1),!(n<this.qpAvg+t)&&(n=o.getCurrent(),this.noticed<n-1e4)):(this.lastQpSum=e.data.qpSum,!1))}}]),e})();e=(function(){function e(t){c(this,e),this.notifyCallback=t,this.testers=new Map}return l(e,[{key:"accept",value:function(e){for(var t=0;t<e.length;++t){var n,r=e[t];r.getMediaType()===i.mediaType.video&&(n=r.getSSRC(),this.testers.has(n)||this.testers.set(n,new d(r)),this.testers.get(n).test(r)&&(n={reason:i.qualityDisruptionTypes.qpchange},this.notifyCallback(n)))}}},{key:"toString",value:function(){return"QPSumObserver"}}]),e})();n.QPSumObserver=e},{"../../config/constants":50,"../../utility/timestamps":132}],93:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TrackMonitorTester=n.TestHelper=n.SendingTrigger=void 0;var i=l(e("../../utility/timestamps")),o=e("../../utility/runningstats"),a=l(e("../validator")),s=l(e("../../config/constants")),c=l(e("../../utility/csiologger"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t=t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var v=(function(){function e(t,n,r,i){p(this,e),n?r?i?(this.consecutivePositive=0,this.name=t,this.minThreshold=n,this.resetThreshold=i,this.runningStats=new o.RunningStats(r)):c.warn("resetThreshold was null or undefined : ".concat(i)):c.warn("windowLength was null or undefined : ".concat(r)):c.warn("minThreshold was null or undefined : ".concat(n))}return y(e,[{key:"doTest",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(null==e)return!1;this.runningStats.add(e);var n=this.runningStats.getMean(),r=this.runningStats.getStd();return!(!n||!r)&&(r=Math.max(this.minThreshold,2*r)*t,(t=Math.abs(n-e)>r)?(this.consecutivePositive+=1,this.consecutivePositive>this.resetThreshold&&this.runningStats.reset()):this.consecutivePositive=0,t)}}]),e})(),g=(n.TestHelper=v,(function(){function e(t){var n=void 0===(n=t.maxMarginFactor)?s.adaptiveStatsThresholds.maxMarginFactor:n,r=void 0===(r=t.marginReductionFactor)?s.adaptiveStatsThresholds.marginReductionFactor:r,i=void 0===(i=t.marginIncreaseFactor)?s.adaptiveStatsThresholds.marginIncreaseFactor:i,o=void 0===(o=t.marginDecreaseIntervalInMs)?s.adaptiveStatsThresholds.marginDecreaseIntervalInMs:o,a=void 0===(a=t.maxGradualCounter)?s.adaptiveStatsThresholds.maxGradualCounter:a,c=void 0===(c=t.minIntervalInMs)?s.adaptiveStatsThresholds.minIntervalInMs:c,u=void 0===(u=t.rippleBase)?s.adaptiveStatsThresholds.rippleBase:u,l=void 0===(l=t.windowSize)?s.adaptiveStatsThresholds.windowSize:l,d=void 0===(d=t.resetThreshold)?s.adaptiveStatsThresholds.resetThreshold:d;t=void 0===(t=t.minThreshold)?s.adaptiveStatsThresholds.minThreshold:t;p(this,e),this.rttTester=new v("RTT Tester",t.rtt,l,d),this.throughputTester=new v("Throughput Tester",t.throughput,l,d),this.FLTester=new v("FL Tester",t.fractionalLoss,l,d),this.marginFactor=1,this.lastDecreased=0,this.lastTriggering=0,this.maxMarginFactor=n,this.marginReductionFactor=r,this.marginIncreaseFactor=i,this.marginDecreaseIntervalInMs=o,this.maxGradualCounter=a,this.gradualCounter=a,this.minIntervalInMs=c,this.rippleBase=u}return y(e,[{key:"test",value:function(e){if(n=(r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0)?{}:e.peek()){e=(r?{}:e.getTrack()).data;var t=r?r.rtt:n.getRTT(),n=(e=a.checkForNan(parseInt(r?r.throughput:e.intervalBandwidth,10)),r?r.loss:n.getFractionLost()),r=r?r.time:i.getCurrent();t=this.rttTester.doTest(t,this.marginFactor),e=this.throughputTester.doTest(e,this.marginFactor),n=this.FLTester.doTest(n,this.marginFactor);if(t||e||n)return this.marginFactor=Math.min(this.marginFactor*this.marginIncreaseFactor,this.maxMarginFactor),this.lastTriggering=r,this.lastDecreased=r,!(this.gradualCounter=0);if(r-this.lastDecreased>this.marginDecreaseIntervalInMs&&(this.marginFactor=Math.max(this.marginFactor*this.marginReductionFactor,1),this.lastDecreased=r),this.gradualCounter<this.maxGradualCounter&&(t=this.minIntervalInMs*Math.pow(this.rippleBase,this.gradualCounter),this.lastTriggering<r-t))return this.lastTriggering=r,this.gradualCounter+=1,!0}return!1}}]),e})());n.TrackMonitorTester=g,e=(function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};p(this,e),t?(this.notifyCallback=t,this.minIntervalInMs=n.minIntervalInMs||s.adaptiveStatsThresholds.minIntervalInMs,this.maxIntervalInMs=n.maxIntervalInMs||s.adaptiveStatsThresholds.maxIntervalInMs,this.config=n,this.notified=0,this.testers=new Map):c.warn("notifyCallback was null or undefined : ".concat(t))}return y(e,[{key:"setup",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"getMostRecentTrackStartTime",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return!!t&&"function"==typeof t.getCreationTime&&Math.max(t.getCreationTime(),e)},Number.MIN_VALUE)}},{key:"accept",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,n=t?t.time:i.getCurrent(),r=n-this.notified,o=this.doSend(e,t);this.minIntervalInMs===this.maxIntervalInMs?(c.log("Elapsed time in fix intervalset: "+r),r>this.minIntervalInMs&&(this.notifyCallback&&this.notifyCallback(t?n:null),this.notified=n)):r<this.minIntervalInMs||!((e=t?void 0:this.getMostRecentTrackStartTime(e))&&n-e<s.adaptiveStatsThresholds.maxInitialTimeoutInMs&&r>s.adaptiveStatsThresholds.initialNotifyIntervalTimeoutInMs)&&r<this.maxIntervalInMs&&!1===o||(this.notifyCallback&&this.notifyCallback(t?n:null),this.notified=n)}},{key:"setIntervals",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"toString",value:function(){return"SendingTrigger"}},{key:"getTrackIdentifier",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;if(e&&(e=e.getRequestedMeasurement()))return e.getSSRC()+"-"+e.getStreamType()+"-"+e.getReportType()}},{key:"isGoodTracks",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return!(!e||!(e=e.getRequestedMeasurement())||e.getReportType()!==s.reportType.local||e.getStreamType()!==s.streamType.inbound&&e.getStreamType()!==s.streamType.outbound)}},{key:"doSend",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(t){if(this.testers.has("test-ssrc")||this.testers.set("test-ssrc",new g(f(f({},this.config),{},{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get("test-ssrc").test(e,t))return!0}else for(var n=0;n<e.length;n+=1){var r=e[n];if(this.isGoodTracks(r)){var i=this.getTrackIdentifier(r);if(i&&(this.testers.has(i)||this.testers.set(i,new g(f(f({},this.config),{},{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get(i).test(r)))return!0}}return!1}}]),e})();n.SendingTrigger=e},{"../../config/constants":50,"../../utility/csiologger":119,"../../utility/runningstats":129,"../../utility/timestamps":132,"../validator":114}],94:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputObserver=void 0;var i=s(e("../../config/constants")),o=s(e("../../utility/timestamps"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=s?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.notifierCallback=t,this.observations=new Map}var t,n;return t=e,(n=[{key:"accept",value:function(e){var t;(e=e.filter(function(e){return e.getMediaType()===i.mediaType.video&&e.getStreamType()===i.streamType.outbound})).length<1||(t=this,e.forEach(function(e){t.observe(e)}))}},{key:"toString",value:function(){return"ThroughputObserver"}},{key:"getObservations",value:function(e){return this.observations.has(e)||this.observations.set(e,{ssrc:0,started:0,max:0,maxTs:0,stable:0,stableTs:0,ready:!1,maxVerified:!1,stableVerified:!1}),this.observations.get(e)}},{key:"observe",value:function(e){var t,n=e.getSSRC(),r=this.getObservations(n),i=o.getCurrent();!0!==r.ready&&(0===r.started?(r.ssrc=n,r.started=i):(e=(n=e.getTrack().data).csioIntBRKbps,t=Math.min(50,.05*e),r.max<e?(r.max=e,r.maxTs=i):1e4<i-r.maxTs&&(r.maxVerified=!0),i-r.started<15e3||(e-t<n.csioAvgBRKbps&&n.csioAvgBRKbps<e+t&&(r.stableTs=i,r.stable=e,r.stableVerified=!0),r.stableVerified&&r.maxVerified&&(n={ssrc:String(r.ssrc),maxsendingKBitrate:r.max,timeToMaxSendingKBitrate:r.maxTs-r.started,stablesendingKBitrate:r.stable,timeToStableSendingKBitrate:r.stableTs-r.started},this.notifierCallback(n),r.ready=!0))))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.ThroughputObserver=e},{"../../config/constants":50,"../../utility/timestamps":132}],95:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.OneWayMediaDisruption=void 0;var i=(function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"0",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.mediaType=t,this.ssrc="".concat(n),this.streamType=r,this.started=i}var t,n;return t=e,(n=[{key:"setStart",value:function(){return this.started=!0,this}},{key:"setEnd",value:function(){return this.started=!1,this}},{key:"getContent",value:function(){return{mediaType:this.mediaType,ssrc:this.ssrc,streamType:this.streamType,disruptionType:this.streamType}}},{key:"isStarted",value:function(){return this.started}},{key:"toString",value:function(){return JSON.stringify({started:this.started,ssrc:this.ssrc,mediaType:this.mediaType,disruptionType:this.streamType})}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.OneWayMediaDisruption=i},{}],96:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.PcStats=void 0;var i=(function(){function e(t,n,r,i,o,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.candidatePair=t,this.codec=n,this.pcHash=r,this.trackStats=i,this.transportStats=o,this.measurements=a}var t,n;return t=e,(n=[{key:"getCandidatePair",value:function(){return this.candidatePair}},{key:"getCodec",value:function(){return this.codec}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getMeasurements",value:function(){return this.measurements}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.PcStats=i},{}],97:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.QualityEvaluator=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e){return(function(e){if(Array.isArray(e))return s(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})(e)||(function(e,t){var n;if(e)return"string"==typeof e?s(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n;return t=e,(n=[{key:"isAudio",value:function(e){return e&&e.data&&(e.mediaType===i.mediaType.audio||e.data.mediaType===i.mediaType.audio||e.data.csioMediaType===i.mediaType.audio)}},{key:"isVideo",value:function(e){return e&&e.data&&(e.mediaType===i.mediaType.video||e.data.mediaType===i.mediaType.video||e.data.csioMediaType===i.mediaType.video)}},{key:"isInbound",value:function(e){return e&&e.data&&(e.streamType===i.streamType.inbound||e.data.streamType===i.streamType.inbound||e.data.csioStreamType===i.streamType.inbound)}},{key:"isOutbound",value:function(e){return e&&e.data&&(e.streamType===i.streamType.outbound||e.data.streamType===i.streamType.outbound||e.data.csioStreamType===i.streamType.outbound)}},{key:"isInboundAudio",value:function(e){return this.isInbound(e)&&this.isAudio(e)}},{key:"isInboundVideo",value:function(e){return this.isInbound(e)&&this.isVideo(e)}},{key:"isOutboundAudio",value:function(e){return this.isOutbound(e)&&this.isAudio(e)}},{key:"isOutboundVideo",value:function(e){return this.isOutbound(e)&&this.isVideo(e)}},{key:"getDescendentRating",value:function(e,t){return t.green<=e?i.avQualityRatings.excellent:t.red<e?i.avQualityRatings.fair:i.avQualityRatings.bad}},{key:"getAscendingRating",value:function(e,t){return t.red<e?i.avQualityRatings.bad:t.green<=e?i.avQualityRatings.fair:i.avQualityRatings.excellent}},{key:"fromQualityString",value:function(){switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.avQualityRatings.unknown){case i.avQualityRatings.bad:return i.qualityRating.bad;case i.avQualityRatings.fair:return i.qualityRating.fair;case i.avQualityRatings.excellent:return i.qualityRating.excellent}return 0}},{key:"toQualityString",value:function(){switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.qualityRating.excellent){case i.qualityRating.excellent:return i.avQualityRatings.excellent;case i.qualityRating.good:case i.qualityRating.fair:case i.qualityRating.poor:return i.avQualityRatings.fair;case i.qualityRating.bad:return i.avQualityRatings.bad}return i.avQualityRatings.unknown}},{key:"inboundAudioQuality",value:function(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data||{},n=[];return t.csioIntBRKbps&&0<t.csioIntBRKbps&&(e=this.getDescendentRating(t.csioIntBRKbps,i.throughputThreshold.audio),e=this.fromQualityString(e),n.push({result:e,weight:1})),t.csioIntFL&&0<t.csioIntFL&&(e=this.getAscendingRating(t.csioIntFL,i.fractionalLossThreshold.audio),e=this.fromQualityString(e),n.push({result:e,weight:1})),t.csioeM&&0<t.csioeM&&(e=this.getAscendingRating(t.csioeM,i.eModelThreshold.audio),t=this.fromQualityString(e),n.push({result:t,weight:1})),n}},{key:"inboundVideoQuality",value:function(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data||{},n=[];return t.csioIntBRKbps&&0<t.csioIntBRKbps&&(e=this.getDescendentRating(t.csioIntBRKbps,i.throughputThreshold.video),e=this.fromQualityString(e),n.push({result:e,weight:1})),t.csioSig2Latency&&0<t.csioSig2Latency&&(e=this.getAscendingRating(t.csioSig2Latency,i.rttThreshold.video),e=this.fromQualityString(e),n.push({result:e,weight:1})),t.csioFrameRateMean&&t.prevFrameRateMean&&0<t.csioFrameRateMean&&0<t.csioPrevFrameRateMean&&(e=t.csioFrameRateMean/Math.max(t.csioPrevFrameRateMean,1),t=this.getDescendentRating(e,i.currOverPrevFrameRateThreshold.video),e=this.fromQualityString(t),n.push({result:e,weight:1})),n}},{key:"outboundAudioQuality",value:function(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data||{},n=[];return t.csioIntBRKbps&&0<t.csioIntBRKbps&&(e=this.getDescendentRating(t.csioIntBRKbps,i.throughputThreshold.audio),e=this.fromQualityString(e),n.push({result:e,weight:1})),t.csioeM&&0<t.csioeM&&(e=this.getAscendingRating(t.csioeM,i.eModelThreshold.audio),t=this.fromQualityString(e),n.push({result:t,weight:1})),n}},{key:"outboundVideoQuality",value:function(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data||{},n=[];return t.csioIntBRKbps&&0<t.csioIntBRKbps&&(e=this.getDescendentRating(t.csioIntBRKbps,i.throughputThreshold.video),e=this.fromQualityString(e),n.push({result:e,weight:1})),t.csioSig2Latency&&0<t.csioSig2Latency&&(e=this.getAscendingRating(t.csioSig2Latency,i.rttThreshold.video),e=this.fromQualityString(e),n.push({result:e,weight:1})),t.csioFrameRateMean&&t.prevFrameRateMean&&0<t.csioFrameRateMean&&0<t.csioPrevFrameRateMean&&(e=t.csioFrameRateMean/t.csioPrevFrameRateMean,t=this.getDescendentRating(e,i.currOverPrevFrameRateThreshold.video),e=this.fromQualityString(t),n.push({result:e,weight:1})),n}},{key:"getOverallTrackQuality",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0,r=0,i=e.length;r<i;r+=1)t+=e[r].weight;for(var o=0,a=e.length;o<a;o+=1){var s=e[o];n+=s.result*s.weight/Math.max(t,1)}return n=Math.floor(n),this.toQualityString(n)}},{key:"updateQualityStats",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.tracks||[],n=0,r=t.length;n<r;n+=1){var i,o,s=t[n],c=[];c=(this.isInboundAudio(s)?(i=this.inboundAudioQuality(s),c.push.apply(c,a(i))):this.isInboundVideo(s)?(i=this.inboundVideoQuality(s),c.push.apply(c,a(i))):this.isOutboundAudio(s)?(o=this.outboundAudioQuality(s),c.push.apply(c,a(o))):this.isOutboundVideo(s)&&(o=this.outboundVideoQuality(s),c.push.apply(c,a(o))),this.getOverallTrackQuality(c));s.data.csioMark=c}return e}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.QualityEvaluator=e},{"../config/constants":50}],98:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Resolution=void 0;var i=(function(){function e(t,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.width=t,this.height=n,this.frameRate=r}var t,n;return t=e,(n=[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getFrameRate",value:function(){return this.frameRate}},{key:"toString",value:function(){return this.width&&this.height&&this.frameRate?this.width.toString()+"X"+this.height.toString()+"X"+this.frameRate.toString():null}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.Resolution=i},{}],99:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapterIO=n.StatsAdapter=void 0;var i=d(e("../config/constants")),o=e("../collections/component"),a=e("../utility/registry"),c=d(e("../config/settings")),u=d(e("../utility/hash"));function l(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(l=function(e){return e?n:t})(e))}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=v(e);n=t?(n=v(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(i)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g={RawStatsIn:"RawStatsIn",RawStatsOut:"RawStatsOut",UnprocessedOut:"UnprocessedOut"};n.StatsAdapterIO=g,e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=h(r);function r(e,t){var i;if(this instanceof r)return(i=n.call(this,"StatsAdapter")).bindPort(g.RawStatsIn,i.receiveRawData,y(i)),i.declarePort(g.RawStatsOut),i.declarePort(g.UnprocessedOut),i.codeBase=e,i.browser=t,i;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"receiveRawData",value:function(e,t,n){if(e&&(n=this.extractRawStats(n),e=this.extractRawStats(e))){this.mergeStats(e,n),window&&window.csioReactNative&&(e=this.removeValues(e)),this.isConnected(g.UnprocessedOut)&&this.transmit(g.UnprocessedOut,e,t);var r=this.processRawStats(e,t);if(r&&r.transportStats)for(var i=0;i<r.transportStats.length;i++)r.transportStats[i].hash=this.getTransportHash(r.transportStats[i]);r&&r.transportStats&&this.checkTransportStatsUpdates(r.transportStats,t),(r=(r=r&&r.trackStats?this.backFillTrackStats(r):r)&&r.transportStats&&r.candidatePair?this.backFillCandidatePairStats(r):r).pcHash=t,this.transmit(g.RawStatsOut,r)}}},{key:"isCandidateRelayed",value:function(e,t){return!(!e||"relay"!==e.candidateType&&"relayed"!==e.candidateType)||!(!t||"relay"!==t.candidateType&&"relayed"!==t.candidateType)}},{key:"mergeStats",value:function(e,t){var n=["inbound-rtp","outbound-rtp"],r=["googFrameRateOutput","googFrameRateDecoded","googFrameRateReceived","googFrameRateSent","framerateMean","framesPerSecond"];if(t){for(var i,o,a=new Map,s=0;s<t.length;s++)"VideoBwe"===t[s].type?i=t[s]:(o=parseInt(t[s].ssrc,10),a.set(o,t[s]));for(var c=0;c<e.length;c++){var u=e[c].type;if(n.includes(u)){u=e[c].ssrc;var l,d=a.get(u);for(l in d)d.hasOwnProperty(l)&&(l.startsWith("goog")||"audioOutputLevel"===l||"audioInputLevel"===l?e[c][l]=d[l]:"timestamp"===l&&(e[c].legacyTimeStamp=d.timestamp)),e[c].roundTripTime||(e[c].googRtt=d.googRtt),r.includes(l)&&(e[c].legacyFrameRatePerSecond=d[l])}}i&&e.push(i)}}},{key:"getTrack",value:function(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t)return e[n];return null}},{key:"removeValues",value:function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.values){for(var r=0;r<n.values.length;++r)s(n,n.values[r]);delete n.values}}return e}},{key:"getMediaTracksInfo",value:function(e){if(!e)return null;for(var t=[],n=[],r=this.extractRawStats(e),i=0;i<r.length;++i){var o=r[i];(o=this.statsClassifier(o)).tracks?t.push(o.tracks.data):o.trackStats&&n.push(o.trackStats)}for(var a=0;a<t.length;++a){var s=t[a].trackId;(s=this.getTrack(n,s))&&this.mergeObjects(t[a],s)}return t}},{key:"getIceCandidates",value:function(e){return e?(e=this.extractRawStats(e),this.processRawStatsForIceInfo(e)):{localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]}}},{key:"extractRawStats",value:function(e){var t=[];if(e&&e.result)t=e.result();else if(e&&e.forEach)e.forEach(function(e){t.push(e)});else for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);for(var r=[],i=0;i<t.length;i++){var o=this.getParsedStats(t[i]);r.push(o)}if(!(0<r.filter(function(e){return"transport"===e.type}).length))for(var a,s=0;s<r.length;s++)("candidate-pair"!==r[s].type&&"candidatepair"!==r[s].type||!r[s].selected)&&("googCandidatePair"!==r[s].type||!0!==r[s].googActiveConnection&&"true"!==r[s].googActiveConnection)||((a={}).selectedCandidatePairId=r[s].id,a.id=r[s].id,this.mergeObjects(a,r[s]),a.type="transport",r.push(a));return r}},{key:"normalizeIceCandidates",value:function(e){for(var t=[],n=0;n<e.length;n+=1){var r={},i=e[n];r.transport=i.protocol||"udp",r.ip=i.ip||i.ipAddress,r.port=i.portNumber?Number(i.portNumber):i.port,r.id=i.id,r.type=i.type,r.networkType=i.networkType,r.candidateType=i.candidateType,"ssltcp"===r.transport&&(r.transport="tcp"),r.id||(r.id="csio"+i.port),r.ip||i.address&&(r.ip=i.address),r.ip&&(c.collectIP||(r.ip=i.id),t.push(r))}return t}},{key:"normalizeCanidatePairs",value:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];"in-progress"===n.state&&(n.state="inprogress"),n.state||(n.state="succeeded"),n.nominated||(n.nominated="true"===n.googActiveConnection),n.priority||(n.priority=123),n.id||(n.id="csio"+n.priority)}return e}},{key:"processRawStatsForIceInfo",value:function(e){var t,n=[],r=[],i=[];if(!e)return{localIceCandidates:n,remoteIceCandidates:r,iceCandidatePairs:i};for(var o=0;o<e.length;++o){var a=e[o];(a=this.statsClassifier(a)).candidatePair?i.push(a.candidatePair):a.transportStats?"transport"===a.transportStats.type?t=a.transportStats.selectedCandidatePairId:i.push(a.transportStats):a.localCandidate?n.push(a.localCandidate):a.remoteCandidate&&r.push(a.remoteCandidate)}if(t)for(var s=0;s<i.length;++s)i[s].id===t&&(i[s].googActiveConnection="true");return{localIceCandidates:this.normalizeIceCandidates(n),remoteIceCandidates:this.normalizeIceCandidates(r),iceCandidatePairs:this.normalizeCanidatePairs(i)}}},{key:"processRawStats",value:function(e,t){for(var n,r,o={localIceCandidates:{},remoteIceCandidates:{},tracks:[],candidatePair:[],transportStats:[],trackStats:[],codec:[]},s=0;s<e.length;s++){var c=e[s];(c=this.statsClassifier(c)).tracks?o.tracks.push(c.tracks):c.candidatePair?o.candidatePair.push(c.candidatePair):c.bwe?o.bwe=c.bwe:c.trackStats?o.trackStats.push(c.trackStats):c.codec?o.codec.push(c.codec):c.localCandidate?o.localIceCandidates[c.localCandidate.id]=c.localCandidate:c.remoteCandidate&&(o.remoteIceCandidates[c.remoteCandidate.id]=c.remoteCandidate),c.transportStats&&(this.codeBase!==i.codeBaseType.firefox?(0<parseInt(c.transportStats.bytesReceived,10)||0<parseInt(c.transportStats.bytesSent,10))&&o.transportStats.push(c.transportStats):"true"!==c.transportStats.selected&&!0!==c.transportStats.selected||o.transportStats.push(c.transportStats))}return o.tracks&&((n=a.Registry.getConferenceManager().getConferenceForPcHash(t))&&(r=n.getPeerConnectionManager().getPcHandlerByHash(t)),o.tracks.forEach(function(e){var t=r.getSSRCInfo(String(e.data.ssrc));void 0!==t&&t.localStartTime||r&&(r.updateSDP(o.tracks),t=r.getSSRCInfo(String(e.data.ssrc))),t&&(e.cname=t.cname,e.msid=t.msid,e.associatedVideoTag=t.associatedVideoTag,e.usageLabel=t.usageLabel)})),o.transportStats&&this.codeBase===i.codeBaseType.firefox&&(o.transportStats=this.getAddressInfoFromCandidates(o.transportStats,o.localIceCandidates,o.remoteIceCandidates)),o}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names){for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);e.id&&(t.id=e.id)}else s(t,e);if(t.values){for(var i=0;i<t.values.length;++i)s(t,t.values[i]);delete t.values}return t}},{key:"statsClassifier",value:function(e){function t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return-1!==n.indexOf(e.type)}var n={},r=t("inbound-rtp","inboundrtp","remote-inbound-rtp"),i=t("outbound-rtp","outboundrtp","remote-outbound-rtp"),o=e.isRemote?"true"===e.isRemote||!0===e.isRemote:null;return null===o&&(o=t("remote-inbound-rtp","remote-outbound-rtp")),r||i?(n.tracks={},n.tracks.data=e,n.tracks.ssrc=e.ssrc,n.tracks.streamType=r?"inbound":"outbound",n.tracks.reportType=o?"remote":"local"):t("localcandidate","local-candidate")?n.localCandidate=e:t("remotecandidate","remote-candidate")?n.remoteCandidate=e:t("transport")?n.transportStats=e:t("VideoBwe")?n.bwe=e:t("track")?n.trackStats=e:t("candidate-pair","candidatepair","googCandidatePair")?n.candidatePair=e:t("codec")?n.codec=e:t("ssrc")&&(n.tracks={},n.tracks.data=e,n.tracks.ssrc=e.ssrc,n.tracks.reportType="local",n.tracks.streamType=e.bytesSent?"outbound":"inbound"),n}},{key:"getAddressInfoFromCandidates",value:function(e,t,n){for(var r,i,o=0;o<e.length;o++)r=t[e[o].localCandidateId],i=n[e[o].remoteCandidateId],r&&i&&(e[o].localAddr=r.ipAddress+":"+r.portNumber,e[o].remoteAddr=i.ipAddress+":"+i.portNumber,e[o].localAddrType=r.candidateType,e[o].remoteAddrType=i.candidateType,e[o].transportType=r.transport);return e}},{key:"getTransportHash",value:function(e){var t;return e&&(this.codeBase===i.codeBaseType.chrome?e.googLocalAddress?(t=e.googLocalAddress).concat(":",e.googRemoteAddress):e.selectedCandidatePairId&&(t=e.selectedCandidatePairId):this.codeBase===i.codeBaseType.firefox&&(t=e.localAddr).concat(":",e.remoteAddr)),u.generateHash(t)}},{key:"backFillTrackStats",value:function(e){for(var t,n,r=e.tracks.length,i=0;i<r;i++)(t=e.tracks[i]).data.trackId&&(n=this.getStatsForId(e.trackStats,t.data.trackId))&&(e.tracks[i].data=this.mergeObjects(e.tracks[i].data,n)),t.data.codecId&&(n=this.getStatsForId(e.codec,t.data.codecId))&&(e.tracks[i].data=this.mergeObjects(e.tracks[i].data,n));return e}},{key:"backFillCandidatePairStats",value:function(e){for(var t,n=e.transportStats.length,r=0;r<n;r++)(t=e.transportStats[r]).selectedCandidatePairId&&(t=this.getStatsForId(e.candidatePair,t.selectedCandidatePairId))&&(e.transportStats[r]=this.mergeObjects(e.transportStats[r],t),e.transportStats[r].csioIsRelayed=this.isCandidateRelayed(e.localIceCandidates[t.localCandidateId],e.remoteIceCandidates[t.remoteCandidateId]));return e}},{key:"mergeObjects",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&"id"!==n&&"type"!==n&&(e[n]=t[n]);return e}},{key:"getStatsForId",value:function(e,t){if(e&&0<(e=e.filter(function(e){return e.id===t})).length)return e[0]}},{key:"formatRelayType",value:function(e){var t="None";switch(e){case 0:t="TURN/TLS";break;case 1:t="TURN/TCP";break;case 2:t="TURN/UDP"}return t}},{key:"getRelayType",value:function(e,t){var n,r=this;return t.getIceCandidates().some(function(t){var i;return!!t.typePreference&&(i=t.typePreference>>24,"rtp"===t.protocol&&t.address===e&&(0<=i&&i<=2&&(n=r.formatTypePreference(i)),!0))}),n}},{key:"getTransportInfo",value:function(e,t){for(var n={},r=!1,i=0;i<e.length;i++){var o=e[i];if(navigator.mozGetUserMedia&&"candidatepair"===o.type&&("true"===o.selected||!0===o.selected)){n.foundActive=!0,n.localAddr=o.localAddr,n.remoteAddr=o.remoteAddr,n.localAddrType=o.localAddrType,n.remoteAddrType=o.remoteAddrType,n.transportType=o.transportType,n.localCandidateId=o.localCandidateId,n.remoteCandidateId=o.remoteCandidateId;break}if("googCandidatePair"===o.type&&("true"===o.googActiveConnection||!0===o.googActiveConnection)){n.foundActive=!0,n.localAddr=o.googLocalAddress,n.remoteAddr=o.googRemoteAddress,n.localAddrType=o.googLocalCandidateType,n.remoteAddrType=o.googRemoteCandidateType,n.transportType=o.googTransportType;break}if("transport"===o.type){r=!0,o.selectedCandidatePairId&&(n.selectedCandidatePairId=o.selectedCandidatePairId);break}}return r&&n.localAddr&&(n.ipv6=0===n.localAddr.indexOf("["),n.relayType=getRelayType(n.localAddr,t)),n}},{key:"sendFabricTransportSwitch",value:function(e,t){e.sendFabricTransportSwitch(t)}},{key:"checkTransportStatsUpdates",value:function(e,t){var n=a.Registry.getConferenceManager().getConferenceForPcHash(t);!n||(n=n.getPeerConnectionManager().getPcHandlerByHash(t))&&(t=this.getTransportInfo(e,n),!(e=n.getTransportInfo())||e.localAddr===t.localAddr&&e.remoteAddr===t.remoteAddr&&e.transportType===t.transportType&&e.selectedCandidatePairId===t.selectedCandidatePairId&&e.localCandidateId===t.localCandidateId&&e.remoteCandidateId===t.remoteCandidateId||(n.setTransportInfo(t),this.sendFabricTransportSwitch(n,t.relayType)))}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(o.Component);n.StatsAdapter=e},{"../collections/component":38,"../config/constants":50,"../config/settings":51,"../utility/hash":123,"../utility/registry":128}],100:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=c(e);n=t?(n=c(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(i)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAssemblerIO=n.StatsAssembler=void 0,e=e("../collections/component");var u={StatsTupleIn:"StatsTupleIn",CallstatsOut:"CallstatsOut"};n.StatsAssemblerIO=u,e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);var n=a(r);function r(){var e;if(this instanceof r)return(e=n.call(this,"StatsAssembler")).pcHashes=[],e.bindPort(u.StatsTupleIn,e.receiveStats,s(e)),e.declarePort(u.CallstatsOut),e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"receiveStats",value:function(e){for(var t=this,n=0;n<e.tracks.length;n++)!(function(n){var r=e.tracks[n];t.pcHashes.find(function(e){return e===r.pcHash})||t.pcHashes.push(r.pcHash)})(n);for(var r=e.getTransportStats(),i=0;i<this.pcHashes.length;i++){var o=this.pcHashes[i],a={};a.codec=e.getCodec(),a.trackStats=e.getTrackStats(),a.tracks=[];for(var s,c=0;c<e.tracks.length;c++){var l=e.tracks[c];l.pcHash===o&&a.tracks.push(l)}r&&r.has(o)&&((s=r.get(o))&&1===s.length?a.Transport=s[0]:a.Transport=s,this.transmit(u.CallstatsOut,o,a,e.getDestination()))}}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(e.Component);n.StatsAssembler=e},{"../collections/component":38}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StatsCallbackBuilder=void 0;var r=e("../utility/registry");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.callback=null}var t,n;return t=e,(n=[{key:"setCallback",value:function(e){this.callback=e}},{key:"buildStats",value:function(e,t){this.callback&&this.buildFromUnifiedFormat(e,t)}},{key:"getConnectionState",value:function(){return!0===navigator.onLine?"online":"offline"}},{key:"buildConferenceUrl",value:function(e){return e=e.getConferenceId(),(e=r.Registry.getConferenceManager().get(e))?e.getUrl():null}},{key:"buildFromUnifiedFormat",value:function(e,t){var n={};n.connectionState=this.getConnectionState(),n.conferenceURL=this.buildConferenceUrl(t),n.fabricState=t.getPcState(),n.streams={},n.mediaStreamTracks=[];for(var r=0;r<e.length;r++){var i,o,a=e[r];"inbound-rtp"!==a.type&&"outbound-rtp"!==a.type&&"ssrc"!==a.type&&"inboundrtp"!==a.type&&"outboundrtp"!==a.type||(i={ssrc:a.ssrc,statsType:a.type,fractionLoss:a.csioIntFL,bitrate:a.csioIntBRKbps,quality:a.csioMark,mediaType:a.csioMediaType,jitter:a.jitter,audioOutputLevel:a.audioOutputLevel,audioIntputLevel:a.audioInputLevel,audioLevel:a.audioLevel,averageRTT:a.csioAvgRtt,averageJitter:a.csioAvgJitter,packetLossPercentage:a.csioPktLossPercentage,rtt:a.roundTripTime,packetRate:a.csioIntPR,remoteUserID:t.getRemoteId()},(o=t.getSSRCInfo(a.ssrc+""))&&(i.cname=o.cname,i.msid=o.msid,i.usageLabel=o.usageLabel,i.associatedVideoTag=o.associatedVideoTag),a.hasOwnProperty("roundTripTime")?i.rtt=a.roundTripTime:a.hasOwnProperty("googRtt")?i.rtt=a.googRtt:a.hasOwnProperty("mozRtt")&&(i.rtt=a.mozRtt),a.hasOwnProperty("jitter")?i.jitter=a.jitter:a.hasOwnProperty("googJitterReceived")&&(i.jitter=a.googJitterReceived),"inboundrtp"===i.statsType?i.statsType="inbound-rtp":"outboundrtp"===i.statsType?i.statsType="outbound-rtp":"ssrc"===i.statsType&&(0<a.id.indexOf("send")?i.statsType="outbound-rtp":i.statsType="inbound-rtp"),"remote-inbound-rtp"===i.statsType||"remote-outbound-rtp"===i.statsType||!0!==a.isRemote&&"true"!==a.isRemote||(i.statsType="remote-"+i.statsType),n.streams[a.ssrc]=i,n.mediaStreamTracks.push(i))}this.callback(n)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.StatsCallbackBuilder=e},{"../utility/registry":128}],102:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsMonitorIO=n.StatsMonitor=void 0;var i=e("../collections/component"),o=e("./tracksmonitor"),a=e("./transportsmonitor"),s=e("./intervalstatsmonitor"),c=e("./qualityevaluator"),u=e("./statstuple"),l=e("../utility/registry"),d=e("./monitorhooks/sendingtrigger"),f=e("./monitorhooks/onewaymediaobserver"),p=e("./monitorhooks/throughputobserver"),h=e("./monitorhooks/cpulimitationobserver"),y=e("./monitorhooks/qpsumobserver"),v=e("./monitorhooks/circuitbreakerobserver"),g=e("./monitorhooks/avdesyncobserver"),m=k(e("../utility/timestamps")),b=k(e("../config/constants")),w=k(e("../utility/csiologger"));function S(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(S=function(e){return e?n:t})(e))}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=S(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=O(e);n=t?(n=O(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _(i)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E={PcStatsTupleIn:"PcStatsTupleIn",StatsTupleOut:"StatsTupleOut"};n.StatsMonitorIO=E,e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e);var n=P(r);function r(e){var t;if(this instanceof r)return(t=n.call(this,"StatsMonitor")).bindPort(E.PcStatsTupleIn,t.receive,_(t)),t.declarePort(E.StatsTupleOut),t.lastPcStats=null,t.lastPcHash=null,t.tracksmonitor=new o.TracksMonitor,t.transportsmonitor=new a.TransportsMonitor(e),t.intervalstatsmonitor=new s.IntervalStatsMonitor,t.qualityevaluator=new c.QualityEvaluator,t.candidatepairs=new Map,t.monitorhooks=[],t.sendingTrigger=new d.SendingTrigger(t.sendStatsTuple.bind(_(t))),t.oneWayMediaObserver=new f.OneWayMediaObserver(t.sendDisruptions.bind(_(t))),t.throughputObserver=new p.ThroughputObserver(t.sendThroughputObservations.bind(_(t))),t.cpuLimitationObserver=new h.CPULimitationObserver(t.sendCPULimitationObservations.bind(_(t))),t.qpSumObserver=new y.QPSumObserver(t.sendQPSumDistortions.bind(_(t))),t.circuitBreakerObserver=new v.CircuitBreakerObserver(t.sendCircuitBreakerEvent.bind(_(t))),t.avDesyncObserver=new g.AVDeSyncObserver,t.setupHooks(),t.statsToCallbackSent=m.getCurrent(),t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"setupHooks",value:function(){this.monitorhooks.push(this.sendingTrigger.accept.bind(this.sendingTrigger)),this.monitorhooks.push(this.oneWayMediaObserver.accept.bind(this.oneWayMediaObserver)),this.monitorhooks.push(this.throughputObserver.accept.bind(this.throughputObserver)),this.monitorhooks.push(this.cpuLimitationObserver.accept.bind(this.cpuLimitationObserver)),this.monitorhooks.push(this.qpSumObserver.accept.bind(this.qpSumObserver)),this.monitorhooks.push(this.circuitBreakerObserver.accept.bind(this.circuitBreakerObserver)),this.monitorhooks.push(this.avDesyncObserver.accept.bind(this.avDesyncObserver))}},{key:"setIntervals",value:function(e,t){this.sendingTrigger.setup(e,t)}},{key:"receive",value:function(e){for(var t=e.getPcHash(),n=(this.candidatepairs.set(t,e.getCandidatePair()),this.transportsmonitor.set(t,e.getTransportStats()),this.intervalstatsmonitor.set(t,e.getMeasurements()),e.getMeasurements()),r=0;r<n.length;r++){var i=n[r],o=this.tracksmonitor.getMonitor(i);o?o.add(i):w.warn("No monitor for ssrc "+i.getSSRC())}this.lastPcStats=e,this.lastPcHash=t;for(var a=this.tracksmonitor.getMonitors(),s=this.monitorhooks,c=0;c<s.length;c++)(0,s[c])(a);5e3<(e=m.getCurrent())-this.statsToCallbackSent&&(this.sendStatsTuple(b.statsDestination.callback),this.statsToCallbackSent=e)}},{key:"getCandidatePairs",value:function(){var e=[];return this.candidatepairs.forEach(function(t,n){e.push([n,t])}),e}},{key:"sendStatsTuple",value:function(){var e=(null===(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)&&(e=b.statsDestination.backend),new u.StatsTuple(this.getCandidatePairs(),this.lastPcStats.getCodec(),this.lastPcStats.getTrackStats(),this.transportsmonitor.getIntervalStats(),this.tracksmonitor.extractTracks(),this.intervalstatsmonitor.getIntervalStats(e),e));e=this.qualityevaluator.updateQualityStats(e);this.transmit(E.StatsTupleOut,e)}},{key:"sendDisruptions",value:function(e){var t=this;e.forEach(function(e){e.isStarted()?t.sendEventMsg(b.internalFabricEvent.oneWayMediaStart,e.getContent()):t.sendEventMsg(b.internalFabricEvent.oneWayMediaStop,e.getContent())})}},{key:"sendCircuitBreakerEvent",value:function(e){var t=this;e.forEach(function(e){t.sendEventMsg(b.internalFabricEvent.circuitBreaker,e.getContent())})}},{key:"sendCPULimitationObservations",value:function(e){}},{key:"sendQPSumDistortions",value:function(e){}},{key:"sendThroughputObservations",value:function(e){this.sendEventMsg(b.internalFabricEvent.sendingThroughputObservations,e)}},{key:"sendEventMsg",value:function(e,t){var n,r,i;!this.lastPcHash||(n=l.Registry.getConferenceManager().getConferenceForPcHash(this.lastPcHash))&&(r=(n=n.getPeerConnectionManager().getPcHandlerByHash(this.lastPcHash)).getPeerConnection(),i=n.getConferenceId(),(e===b.internalFabricEvent.oneWayMediaStart||e===b.internalFabricEvent.oneWayMediaStop)&&n.isMuted||l.Registry.getEventMessageBuilder().make(e,i,r,t))}},{key:"delete",value:function(e){this.tracksmonitor&&this.tracksmonitor.deleteTracks(e),this.transportsmonitor&&this.transportsmonitor.delete(e),this.intervalstatsmonitor&&this.intervalstatsmonitor.delete(e),this.candidatepairs&&this.candidatepairs.has(e)&&this.candidatepairs.delete(e)}}])&&C(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(i.Component);n.StatsMonitor=e},{"../collections/component":38,"../config/constants":50,"../utility/csiologger":119,"../utility/registry":128,"../utility/timestamps":132,"./intervalstatsmonitor":78,"./monitorhooks/avdesyncobserver":81,"./monitorhooks/circuitbreakerobserver":82,"./monitorhooks/cpulimitationobserver":90,"./monitorhooks/onewaymediaobserver":91,"./monitorhooks/qpsumobserver":92,"./monitorhooks/sendingtrigger":93,"./monitorhooks/throughputobserver":94,"./qualityevaluator":97,"./statstuple":105,"./tracksmonitor":112,"./transportsmonitor":113}],103:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsParserIO=n.StatsParser=void 0;var i=e("../collections/component"),o=e("./measurement"),a=e("./pcstats"),s=d(e("./validator")),c=d(e("../config/constants")),u=d(e("../utility/csiologger"));function l(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(l=function(e){return e?n:t})(e))}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=v(e);n=t?(n=v(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(i)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g={RawStatsIn:"RawStatsIn",PcStatsTupleOut:"PcStatsTupleOut"};n.StatsParserIO=g,e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=h(r);function r(){var e;if(this instanceof r)return(e=n.call(this,"StatsParser")).bindPort(g.RawStatsIn,e.receive,y(e)),e.declarePort(g.PcStatsTupleOut),e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"receive",value:function(e){if(null===e)u.warn("Stats object can not be null");else{for(var t=e.tracks,n=[],r=0;r<t.length;++r){var i=t[r];i&&i.data?(i=o.Measurement.make(e.pcHash,this.getSSRC(i),this.getStreamType(i),this.getMediaType(i),this.getReportType(i),this.getFrameRateReceived(i),this.getFrameHeight(i),this.getFrameWidth(i),this.getDroppedFramesNum(i),this.getFramesReceived(i),this.getRTT(i),this.getJitter(i),this.getLostPackets(i),this.getReceivedPackets(i),this.getSentPackets(i),this.getDiscardedPackets(i),this.getSentBytes(i),this.getReceivedBytes(i),this.getFractionLost(i),this.getGoogEchoCancellationReturnLoss(i),this.getGoogEchoCancellationReturnLossEnhancement(i),i),n.push(i)):u.log("No track or track.data.")}var s=new a.PcStats(e.candidatePair,e.codec,e.pcHash,e.trackStats,e.transportStats,n);this.transmit(g.PcStatsTupleOut,s)}}},{key:"getSSRC",value:function(e){return e.ssrc}},{key:"getStreamType",value:function(e){return e.streamType===c.streamType.inbound?c.streamType.inbound:e.streamType===c.streamType.outbound?c.streamType.outbound:void 0}},{key:"getSentBytes",value:function(e){return void 0!==e.data.bytesSent&&null!==(e=s.checkForNan(parseInt(e.data.bytesSent,10)))?e:-1}},{key:"getReceivedBytes",value:function(e){return void 0!==e.data.bytesReceived&&null!==(e=s.checkForNan(parseInt(e.data.bytesReceived,10)))?e:-1}},{key:"getReceivedPackets",value:function(e){return void 0!==e.data.packetsReceived&&null!==(e=s.checkForNegativeValue(parseInt(e.data.packetsReceived,10)))?e:-1}},{key:"getSentPackets",value:function(e){return void 0!==e.data.packetsSent&&null!==(e=s.checkForNegativeValue(parseInt(e.data.packetsSent,10)))?e:-1}},{key:"getDiscardedPackets",value:function(e){return void 0!==e.data.discardedPackets&&null!==(e=s.checkForNan(parseInt(e.data.discardedPackets,10)))?e:-1}},{key:"getLostPackets",value:function(e){return void 0!==e.data.packetsLost&&null!==(e=s.checkForNegativeValue(parseInt(e.data.packetsLost,10)))?e:-1}},{key:"getDroppedFramesNum",value:function(e){return void 0!==e.data.droppedFrames&&null!==(e=s.checkForNegativeValue(parseInt(e.data.droppedFrames,10)))?e:-1}},{key:"getFramesReceived",value:function(e){return void 0!==e.data.framesReceived&&null!==(e=s.checkForNegativeValue(parseInt(e.data.framesReceived,10)))?e:-1}},{key:"getFrameRateReceived",value:function(e){var t=null;return void 0!==e.data.framerateMean?t=parseInt(e.data.framerateMean,10):void 0!==e.data.framesPerSecond?t=parseInt(e.data.framesPerSecond,10):void 0!==e.data.googFrameRateOutput?t=parseInt(e.data.googFrameRateOutput,10):void 0!==e.data.googFrameRateDecoded?t=parseInt(e.data.googFrameRateDecoded,10):void 0!==e.data.googFrameRateReceived?t=parseInt(e.data.googFrameRateReceived,10):void 0!==e.data.googFrameRateSent&&(t=parseInt(e.data.googFrameRateSent,10)),void 0!==t?s.checkForNegativeValue(t):t}},{key:"getFrameHeight",value:function(e){var t;return void 0!==e.data.frameHeight?t=e.data.frameHeight:void 0!==e.data.googFrameHeightReceived?t=e.data.googFrameHeightReceived:void 0!==e.data.googFrameHeightSent&&(t=e.data.googFrameHeightSent),t}},{key:"getJitter",value:function(e){return void 0!==e.data.jitter?s.checkForNan(parseFloat(e.data.jitter,10)):void 0!==e.data.googJitterReceived?s.checkForNan(parseFloat(e.data.googJitterReceived,10)):void 0}},{key:"getFrameWidth",value:function(e){return void 0!==e.data.frameWidth?e.data.frameWidth:void 0!==e.data.googFrameWidthReceived?e.data.googFrameWidthReceived:void 0!==e.data.googFrameWidthSent?e.data.googFrameWidthSent:void 0}},{key:"getRTT",value:function(e){function t(e){return isNaN(e)||e<0?null:e}return void 0!==e.data.roundTripTime?t(parseFloat(e.data.roundTripTime,10)):void 0!==e.data.googRtt?t(parseFloat(e.data.googRtt,10)):void 0!==e.data.mozRtt?t(parseFloat(e.data.mozRtt,10)):void 0}},{key:"getMediaType",value:function(e){var t=c.mediaType.unknown;return e.data&&void 0!==e.data.mediaType?e.data.mediaType:e.data&&void 0!==e.data.kind?e.data.kind:(e.data.mediaType?t=e.data.mediaType:void 0!==e.data.googFrameRateReceived||void 0!==e.data.googFrameRateSent?t=c.mediaType.video:void 0!==e.data.audioInputLevel||void 0!==e.data.audioOutputLevel?t=c.mediaType.audio:void 0!==e.data.framerateMean&&(t=c.mediaType.video),t)}},{key:"getReportType",value:function(e){return e.reportType||c.reportType.unknown}},{key:"getFractionLost",value:function(e){return void 0===e.data.fractionLost?-1:(e=parseFloat(e.data.fractionLost,10),isNaN(e)||e<0?null:e)}},{key:"getGoogEchoCancellationReturnLoss",value:function(e){return void 0===e.data.googEchoCancellationReturnLoss?-1:s.checkForNan(parseFloat(e.data.googEchoCancellationReturnLoss,10))}},{key:"getGoogEchoCancellationReturnLossEnhancement",value:function(e){return void 0===e.data.googEchoCancellationReturnLossEnhancement?-1:s.checkForNan(parseFloat(e.data.googEchoCancellationReturnLossEnhancement,10))}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(i.Component);n.StatsParser=e},{"../collections/component":38,"../config/constants":50,"../utility/csiologger":119,"./measurement":79,"./pcstats":96,"./validator":114}],104:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsTransmitterIO=n.StatsTransmitter=void 0;var i=e("../collections/component"),o=e("../utility/registry"),a=l(e("../config/constants")),s=l(e("../utility/csiologger")),c=l(e("../config/settings"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=y(e);n=t?(n=y(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return h(i)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v={CallstatsIn:"CallstatsIn",UnprocessedIn:"UnprocessedIn"};n.StatsTransmitterIO=v,e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var n=p(r);function r(){var e;if(this instanceof r)return(e=n.call(this,"StatsTransmitter")).battery=o.Registry.getBattery(),e.lastUnprocessedStats={},e.bindPort(v.CallstatsIn,e.receiveCallstats,h(e)),e.bindPort(v.UnprocessedIn,e.receiveUnprocessed,h(e)),e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"receiveUnprocessed",value:function(e,t){this.lastUnprocessedStats[t]=e}},{key:"receiveCallstats",value:function(e,t,n){(t=this.getUnifiedFormat(t,e))?this.send(e,t,n):s.warn("Content can not be sent")}},{key:"send",value:function(e,t,n){var r=o.Registry.getConferenceManager().getConferenceForPcHash(e);(r=r&&r.getPeerConnectionManager().getPcHandlerByHash(e))&&(e=r.getPcState())!==a.fabricState.terminated&&e!==a.fabricState.hold&&(n===a.statsDestination.callback?this.sendToStatsCallback(t.stats,r):o.Registry.getEventMessageBuilder().make(a.callstatsChannels.processedStats,r.getConferenceId(),r.getPeerConnection(),t))}},{key:"sendToStatsCallback",value:function(e,t){var n=o.Registry.getStatsCallbackBuilder();n&&n.buildStats(e,t)}},{key:"getUnifiedFormat",value:function(e,t){for(var n=this.lastUnprocessedStats[t],r=[],i=0;i<n.length;i++){var a=n[i],s=(function(t){for(var n=0;n<e.tracks.length;n++){var r=e.tracks[n];if(r.data.id===t.id&&r.data.type===t.type)return r.data}return t.id===e.Transport.id&&t.type===e.Transport.type?e.Transport:null})(a);if(s)for(var u in s)s.hasOwnProperty(u)&&"id"!==u&&"type"!==u&&"timestamp"!==u&&(a[u]=s[u]);r.push(a)}for(var l=["localcandidate","local-candidate","remotecandidate","remote-candidate"],d=0;d<r.length;d++)!l.includes(r[d].type)||c.collectIP||(r[d].id||(r[d].id="csio-"+r[d].port),r[d].ip=r[d].id,r[d].address=r[d].id);return(t={stats:r}).wifiStats=o.Registry.getWifiStatsExecutor().getWifiStats(),t.batteryStatus={},t.batteryStatus.batteryLevel=this.battery.getLevel(),t.batteryStatus.isBatteryCharging=this.battery.getCharging(),-1===t.batteryStatus.batteryLevel&&(t.batteryStatus=null),t}}])&&d(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(i.Component);n.StatsTransmitter=e},{"../collections/component":38,"../config/constants":50,"../config/settings":51,"../utility/csiologger":119,"../utility/registry":128}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StatsTuple=void 0;var r=e("./intervalstatsmonitor");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n,i,o,a,s,c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.candidatePairs=t,this.codec=n,this.trackStats=i,this.transportStats=o,this.tracks=r.IntervalStatsMonitor.mergeIntervalStats(a,s),this.destination=c}var t,n;return t=e,(n=[{key:"getCandidatePairs",value:function(){return this.candidatePairs}},{key:"getCodec",value:function(){return this.codec}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getTracks",value:function(){return this.tracks}},{key:"getDestination",value:function(){return this.destination}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.StatsTuple=e},{"./intervalstatsmonitor":78}],106:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.EchoDetection=void 0;var i=s(e("../../config/constants")),o=s(e("../validator"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=s?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=d(e);n=t?(n=d(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n,r=l(a);function a(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(this instanceof a)return r.call(this,e,t,n);throw new TypeError("Cannot call a class as a function")}return t=a,e=[{key:"isValidTrack",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return!!e&&e.getReportType()===i.reportType.local&&e.getStreamType()===i.streamType.outbound&&e.getMediaType()===i.mediaType.audio}},{key:"getEModelValue",value:function(e,t){return t=t-40*Math.log((1+e/10)/(1+e/150))+6*Math.pow(Math.E,e*e*-.3),o.isNumber(t)?t:null}},{key:"getEchoRating",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return 14<=e?i.echoDetectionLabel.acceptable:8<e&&e<14?i.echoDetectionLabel.limitingCase:e<=8?i.echoDetectionLabel.unacceptable:null}}],(n=[{key:"detectEcho",value:function(e,t,n){return o.isNumber(e)&&o.isNumber(t)&&o.isNumber(n)?(n=a.getEModelValue(n/2,e+t),a.getEchoRating(n)):null}},{key:"add",value:function(e){this.filter(e)&&this.calculate(e)}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;e=this.detectEcho(e.getGoogEchoCancellationReturnLoss(),e.getGoogEchoCancellationReturnLossEnhancement(),e.getRTT());this.notify(e)}}])&&c(t.prototype,n),e&&c(t,e),Object.defineProperty(t,"prototype",{writable:!1}),a})(e("./swplugin").SWPlugin),n.EchoDetection=e},{"../../config/constants":50,"../validator":114,"./swplugin":109}],107:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=s(e);n=t?(n=s(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWAvg=void 0,e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);var n=a(r);function r(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=this;if(o instanceof r)return(o=n.call(this,e,t,i)).sum=0,o.counter=0,o;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"add",value:function(e){this.filter(e)&&(this.sum+=this.extract(e),this.counter+=1,this.calculate())}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=0;this.counter<1||(e=this.sum/this.counter),this.notify(e)}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(e("./swplugin").SWPlugin),n.SWAvg=e},{"./swplugin":109}],108:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=s(e);n=t?(n=s(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWFunctor=void 0,e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);var n=a(r);function r(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=this;if(o instanceof r)return(o=n.call(this,null,null,i)).addFunc=e,o.remFunc=t,o;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"add",value:function(e){this.filter(e)&&this.addFunc&&this.addFunc(e)}},{key:"remove",value:function(e){this.filter(e)&&this.remFunc&&this.remFunc(e)}},{key:"toString",value:function(){return"SWFuncPlugin"}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(e("./swplugin").SWPlugin),n.SWFunctor=e},{"./swplugin":109}],109:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWPlugin=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../../utility/csiologger"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.extractorFnc=t,this.notifierFnc=n,this.filterFunc=r}var t,n;return t=e,(n=[{key:"notify",value:function(e,t,n){this.notifierFnc?this.notifierFnc(e,t,n):i.warn("Failed notification for "+this.toString())}},{key:"extract",value:function(e){return this.extractorFnc?this.extractorFnc(e):(i.warn(this.toString()+" tried to extract without extractorFnc"),null)}},{key:"filter",value:function(e){return!this.filterFunc||this.filterFunc(e)}},{key:"add",value:function(e){i.log("Abstract method is called width value: "+e)}},{key:"remove",value:function(e){i.log("Abstract method is called with value: "+e)}},{key:"toString",value:function(){return"SWPlugin"}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.SWPlugin=e},{"../../utility/csiologger":119}],110:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWSBTreePercentile=void 0;var i=e("./swplugin"),o=e("../../collections/sizedbalancedtree"),a=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../../config/constants"));function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=d(e);n=t?(n=d(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=l(r);function r(e,t,i){if(this instanceof r)return(e=n.call(this,e,t,i)).sbTree=new o.SizedBalancedTree(a.maxSBTTreeSize),e.result=null,e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"add",value:function(e){this.filter(e)&&(this.sbTree.add(this.extract(e)),this.calculate())}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=this.sbTree.getSize(),t=Math.round(.5*e),n=(t=this.sbTree.select(t),Math.round(.75*e));n=this.sbTree.select(n),e=Math.round(.95*e),e=this.sbTree.select(e);this.notify(t,n,e)}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r})(i.SWPlugin),n.SWSBTreePercentile=e},{"../../collections/sizedbalancedtree":43,"../../config/constants":50,"./swplugin":109}],111:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TrackMonitor=void 0;var i=e("../utility/registry"),o=e("../collections/slidingwindow"),a=e("../statspipeline/swplugins/swavg"),s=e("../statspipeline/swplugins/echodetection"),c=e("../statspipeline/swplugins/swsbtreepercentile"),u=e("../statspipeline/swplugins/swfunctor"),l=y(e("../utility/timestamps")),d=y(e("../config/constants")),f=y(e("./validator")),p=y(e("../utility/csiologger"));function h(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(h=function(e){return e?n:t})(e))}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function v(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t=t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=(function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var n,i=k(e);n=t?(n=k(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=(function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n,r=S(o);function o(e,t,n,i){if(this instanceof o)return(e=r.call(this,e,t)).thresholds=[],e.enableThresholds=!1,e.requestTime=0,e.started=0,e.created=l.getCurrent(),e.mediaType=i,e.streamType=n,e.metrics=e.makeTrack(),e.lastTrack={},e.prevFrameRateMean=null,e.ssrc=null,e;throw new TypeError("Cannot call a class as a function")}return t=o,e=[{key:"make",value:function(e,t,n,r){var i=(e=new o(e,t,n,r)).metrics;return e.attach(new a.SWAvg(function(e){return e.getJitter()},function(e){i.csioAvgJitter=e},function(e){return e=e.getJitter(),f.isNumber(e)})),e.attach(new a.SWAvg(function(e){return e.getRTT()},function(e){i.csioAvgRtt=e},function(e){return e=e.getRTT(),f.isNumber(e)})),e.attach(new s.EchoDetection(function(e){return e},function(e){i.csioEchoLabel=e},function(e){return s.EchoDetection.isValidTrack(e)})),e.attach(new c.SWSBTreePercentile(function(e){return e.getJitter()},function(e,t,n){i.csioPercentileJitter=n,i.csio75PercentileJitter=t},function(e){return e=e.getJitter(),f.isNumber(e)})),e.attach(new c.SWSBTreePercentile(function(e){return e.getRTT()},function(e,t,n){i.csioSig2Latency=n,i.csioSig2Latency75=t,i.csioeM=n+40},function(e){return e=e.getRTT(),f.isNumber(e)})),n===d.streamType.inbound?o.setupInboundMonitor(e):n===d.streamType.outbound?o.setupOutboundMonitor(e):p.warn("Unrecognized streamType ("+n+") at TrackMonitor"),r===d.mediaType.audio?o.setupAudioMonitor(e):r===d.mediaType.video?o.setupVideoMonitor(e):p.warn("Unrecognized mediaType ("+r+") at TrackMonitor"),e}},{key:"setupInboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(n){var r,i,o,a,s,c=n.getFractionLost();f.checkForPositiveValue(c)||(r=n.getLostPackets(),i=n.getReceivedPackets(),s=a=0,s=(o=e.getRequestedMeasurement())?(a=r-o.getLostPackets(),i-o.getReceivedPackets()):(a=r,i),f.checkForPositiveValue(a)&&f.checkForPositiveValue(s)&&(c=a/Math.max(s+a,1),f.checkForPositiveValue(c)&&(t.csioIntFLRate=c,n.setFractionLost(c))))}),e.addPreProcess(function(n){var r;!n.getFrameRateReceived()&&n.getFramesReceived()&&0<e.started&&(n=n.getFramesReceived(),0<(r=l.getCurrent()-e.started)&&0<=n&&(t.csioEstFrameRatePerSecond=1e3*n/r))}),e.attach(new u.SWFunctor(function(n){var r=l.getCurrent(),o=n.getResolution(),a=e.getRequestedMeasurement(),s=e.getRequestTime(),c=8*n.getReceivedBytes(),u=n.getReceivedPackets(),f=0,p=0,h=Math.max(r-e.getStartTime(),p),y=a?(f=c-8*a.getReceivedBytes(),Math.max(r-s,p)):(p=i.Registry.getCredentials().isAdaptiveStatsEnabled()?d.adaptiveStatsIntervalsInMs.min:i.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),p),f=c,Math.max(h,p));t.csioAvgBRKbps=c/h,t.intervalBandwidth=Math.max(f/y,0),t.csioAvgPacketSize=n.getReceivedBytes()/Math.max(u,1),t.csiores=o},null,null)),e.attach(new c.SWSBTreePercentile(function(e){return e.getFractionLost()},function(e,n,r){r=f.checkForPositiveValue(r)?r:null,t.csioPercentileFl=r},function(e){return e=e.getFractionLost(),f.isNumber(e)&&f.checkForPositiveValue(e)}))}},{key:"setupOutboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(n){var r,i,o,a,s,c=n.getFractionLost();f.checkForPositiveValue(c)||(r=n.getLostPackets(),i=n.getSentPackets(),s=a=0,s=(o=e.getRequestedMeasurement())?(a=r-o.getLostPackets(),i-o.getSentPackets()):(a=r,i),f.checkForPositiveValue(a)&&f.checkForPositiveValue(s)&&(c=a/Math.max(s+a,1),f.checkForPositiveValue(c)&&(t.csioIntFLRate=c,n.setFractionLost(c))))}),e.attach(new u.SWFunctor(function(n){var r=l.getCurrent(),o=n.getResolution(),a=e.getRequestedMeasurement(),s=e.getRequestTime(),c=8*n.getSentBytes(),u=n.getSentPackets(),f=0,p=0,h=Math.max(r-e.getStartTime(),p),y=a?(f=c-8*a.getSentBytes(),Math.max(r-s,p)):(p=i.Registry.getCredentials().isAdaptiveStatsEnabled()?d.adaptiveStatsIntervalsInMs.min:i.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),p),f=c,Math.max(h,p));t.csioAvgBRKbps=c/h,t.intervalBandwidth=Math.max(f/y,0),t.csioAvgPacketSize=n.getSentBytes()/Math.max(u,1),t.csiores=o},null,null)),e.attach(new c.SWSBTreePercentile(function(e){return e.getFractionLost()},function(e,n,r){r=f.checkForPositiveValue(r)?r:null,t.csioPercentileFl=r},function(e){return e=e.getFractionLost(),f.isNumber(e)&&f.checkForPositiveValue(e)}))}},{key:"setupAudioMonitor",value:function(e){var t=e.metrics;e.attach(new u.SWFunctor(function(e){t.csioMediaType=d.mediaType.audio},null,null))}},{key:"setupVideoMonitor",value:function(e){var t=e.metrics;e.attach(new a.SWAvg(function(e){return e.getFrameRateReceived()},function(n){e.prevFrameRateMean=t.csioFrameRateMean,t.csioPrevFrameRateMean=t.csioFrameRateMean,t.csioFrameRateMean=n},function(e){return e=e.getFrameRateReceived(),f.isNumber(e)})),e.attach(new a.SWAvg(function(e){return e.getFrameHeight()},function(e){t.csioFrameHeightMean=e},function(e){return e=e.getFrameHeight(),f.isNumber(e)})),e.attach(new a.SWAvg(function(e){return e.getFrameWidth()},function(e){t.csioFrameWidthMean=e},function(e){return e=e.getFrameWidth(),f.isNumber(e)})),e.attach(new c.SWSBTreePercentile(function(e){return e.getFrameRateReceived()},function(e){t.csioFrameRate50Percentile=e},function(e){return e=e.getFrameRateReceived(),f.isNumber(e)})),e.attach(new c.SWSBTreePercentile(function(e){return e.getFrameHeight()},function(e){t.csioFrameHeight50Percentile=e},function(e){return e=e.getFrameHeight(),f.isNumber(e)})),e.attach(new c.SWSBTreePercentile(function(e){return e.getFrameWidth()},function(e){t.csioFrameWidth50Percentile=e},function(e){return e=e.getFrameWidth(),f.isNumber(e)})),e.attach(new u.SWFunctor(function(e){t.csioMediaType=d.mediaType.video},null,null))}}],(n=[{key:"makeTrack",value:function(){return{csioMediaType:void 0,csioMark:void 0,intervalBandwidth:void 0,csioAvgBRKbps:void 0,csioAvDesync:void 0,csioIntBRKbps:void 0,csioIntFL:void 0,csioIntFLRate:void 0,csioIntMs:void 0,csioIntPR:void 0,csioPercentileFl:void 0,csioAvgJitter:void 0,csioAvgRtt:void 0,csioEchoLabel:void 0,csioPercentileJitter:void 0,csioSig2Latency:void 0,csioTimeElapseMs:void 0,csioeM:void 0,csiores:void 0,csioFrameWidth95Percentile:void 0,csioFrameWidth50Percentile:void 0,csioFrameHeight95Percentile:void 0,csioFrameHeight50Percentile:void 0,csioFrameRate95Percentile:void 0,csioFrameRate50Percentile:void 0,csioFrameWidthMean:void 0,csioFrameHeightMean:void 0,csioFrameRateMean:void 0,csioIntPktRcv:void 0}}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"add",value:function(e){this.ssrc=e.getSSRC(),this.lastTrack=e.extractTrack(),this.lastTrack.pcHash=e.getPcHash(),0===this.started&&(this.started=l.getCurrent()),b(k(o.prototype),"add",this).call(this,e)}},{key:"hasTraffic",value:function(){return 0<this.metrics.intervalBandwidth}},{key:"getTrack",value:function(){var e=this.lastTrack;return e.data=g(g({},e.data),this.metrics),e}},{key:"extractTrack",value:function(){var e=this.lastTrack;return e.data=g(g({},e.data),this.metrics),this.requestTime=l.getCurrent(),this.requestedMeasurement=this.peek(),e}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getStartTime",value:function(){return this.started}},{key:"getCreationTime",value:function(){return this.created}},{key:"getRequestTime",value:function(){return Math.max(this.started,this.requestTime)}},{key:"getRequestedMeasurement",value:function(){return this.requestedMeasurement}},{key:"addPreProcess",value:function(e){b(k(o.prototype),"addPreProcess",this).call(this,e)}},{key:"addPostProcess",value:function(e){b(k(o.prototype),"addPostProcess",this).call(this,e)}}])&&m(t.prototype,n),e&&m(t,e),Object.defineProperty(t,"prototype",{writable:!1}),o})(o.SlidingWindow),n.TrackMonitor=e},{"../collections/slidingwindow":45,"../config/constants":50,"../statspipeline/swplugins/echodetection":106,"../statspipeline/swplugins/swavg":107,"../statspipeline/swplugins/swfunctor":108,"../statspipeline/swplugins/swsbtreepercentile":110,"../utility/csiologger":119,"../utility/registry":128,"../utility/timestamps":132,"./validator":114}],112:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TracksMonitor=void 0;var i=e("./trackmonitor"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/constants"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.inbMonitors=new Map,this.outbMonitors=new Map}var t,n;return t=e,(n=[{key:"getMonitor",value:function(e){var t=e.getStreamType(),n=e.getMediaType(),r=(e=e.getSSRC(),null);return t===o.streamType.inbound?n===o.mediaType.audio?r=this.getInbAudioMonitor(e):n===o.mediaType.video&&(r=this.getInbVideoMonitor(e)):t===o.streamType.outbound&&(n===o.mediaType.audio?r=this.getOutbAudioMonitor(e):n===o.mediaType.video&&(r=this.getOutbVideoMonitor(e))),r}},{key:"extractTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),e}},{key:"deleteTracks",value:function(e){var t=this;this.outbMonitors.forEach(function(n,r){(n=n.getRequestedMeasurement())&&n.getPcHash()===e&&t.outbMonitors.has(r)&&t.outbMonitors.delete(r)}),this.inbMonitors.forEach(function(n,r){(n=n.getRequestedMeasurement())&&n.getPcHash()===e&&t.inbMonitors.has(r)&&t.inbMonitors.delete(r)})}},{key:"getTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.getTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.getTrack())}),e}},{key:"getMonitors",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t)}),this.inbMonitors.forEach(function(t,n){e.push(t)}),e}},{key:"getInbAudioMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=i.TrackMonitor.make(1e3,3e4,o.streamType.inbound,o.mediaType.audio),this.inbMonitors.set(e,t)),t}},{key:"getInbVideoMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=i.TrackMonitor.make(1e3,3e4,o.streamType.inbound,o.mediaType.video),this.inbMonitors.set(e,t)),t}},{key:"getOutbAudioMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=i.TrackMonitor.make(1e3,3e4,o.streamType.outbound,o.mediaType.audio),this.outbMonitors.set(e,t)),t}},{key:"getOutbVideoMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=i.TrackMonitor.make(1e3,3e4,o.streamType.outbound,o.mediaType.video),this.outbMonitors.set(e,t)),t}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.TracksMonitor=e},{"../config/constants":50,"./trackmonitor":111}],113:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TransportsMonitor=void 0;var i=s(e("../config/constants")),o=s(e("../utility/timestamps"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=s?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var d=(function(){function e(t){c(this,e),this.previous=t,this.actual=t,this.outdated=o.getCurrent()}return l(e,[{key:"setActual",value:function(e){this.actual=e}},{key:"outdate",value:function(){this.previous=this.actual,this.outdated=o.getCurrent()}},{key:"getActual",value:function(){return this.actual}},{key:"getPrevious",value:function(){return this.previous}},{key:"getElapsedTime",value:function(){return o.getCurrent()-this.outdated}}]),e})();e=(function(){function e(t){c(this,e),this.stats=new Map,this.codeBase=t}return l(e,[{key:"set",value:function(e,t){var n=this.stats.get(e);if(n)n.setActual(t);else{if(t)for(var r=0;r<t.length;++r)t[r].csioTurnMins=0,t[r].csioBytesSent=0,t[r].csioBytesReceived=0;this.stats.set(e,new d(t))}}},{key:"delete",value:function(e){e&&this.stats.has(e)&&this.stats.delete(e)}},{key:"getIntervalStats",value:function(){var e=this,t=new Map;return this.stats.forEach(function(n,r){t.set(r,e.getIntervalStat(n)),n.outdate()}),t}},{key:"getIntervalStat",value:function(e){return this.codeBase===i.codeBaseType.chrome?this.getIntervalStatForChrome(e):this.getDefaultIntervalStat(e)}},{key:"getDefaultIntervalStat",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(n)for(var i=0;i<t.length;++i){var o=t[i],a=n[i];if(!a||!o)return t;var s=parseInt(a.bytesReceived,10),c=parseInt(a.bytesSent,10);o.csioReceivedBwKbps=8*(parseInt(o.bytesReceived,10)-s)/r,o.csioSentBwKbps=8*(parseInt(o.bytesSent,10)-c)/r,o.csioIntBytesReceived=parseInt(o.bytesReceived,10)-s,o.csioIntBytesSent=parseInt(o.bytesSent,10)-c,o.csioIsRelayed&&(0<o.csioIntBytesSent||0<o.csioIntBytesReceived)?(o.csioTurnMins=r+a.csioTurnMins,o.csioBytesSent=a.csioBytesSent+o.csioIntBytesSent,o.csioBytesReceived=a.csioBytesReceived+o.csioIntBytesReceived):o.csioTurnMins=a.csioTurnMins}return t}},{key:"getIntervalStatForChrome",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(!n)return actual;for(var i=0;i<t.length;++i){var o=t[i],a=n[i];if(!a||!o)return t;var s=parseInt(a.bytesReceived,10),c=parseInt(a.bytesSent,10);o.csioReceivedBwKbps=8*(parseInt(o.bytesReceived,10)-s)/r,o.csioSentBwKbps=8*(parseInt(o.bytesSent,10)-c)/r,o.csioIntBytesReceived=parseInt(o.bytesReceived,10)-s,o.csioIntBytesSent=parseInt(o.bytesSent,10)-c,void 0!==a.packetsSent&&void 0!==o.packetsSent&&(o.csioSentPacketRate=(parseInt(o.packetsSent,10)-parseInt(a.packetsSent,10))/(r/1e3),o.csioIntPacketsSent=parseInt(o.packetsSent,10)-parseInt(a.packetsSent,10)),void 0!==a.packetsReceived&&void 0!==o.packetsReceived&&(o.csioReceivedPacketRate=(parseInt(o.packetsReceived,10)-parseInt(a.packetsReceived,10))/(r/1e3),o.csioIntPacketsReceived=parseInt(o.packetsReceived,10)-parseInt(a.packetsReceived,10)),o.csioIsRelayed&&(0<o.csioIntBytesSent||0<o.csioIntBytesReceived)?(o.csioTurnMins=r+a.csioTurnMins,o.csioBytesSent=a.csioBytesSent+o.csioIntBytesSent,o.csioBytesReceived=a.csioBytesReceived+o.csioIntBytesReceived):o.csioTurnMins=a.csioTurnMins}return t}}]),e})();n.TransportsMonitor=e},{"../config/constants":50,"../utility/timestamps":132}],114:[function(e,t,n){"use strict";function r(e){return isNaN(e)?null:e}Object.defineProperty(n,"__esModule",{value:!0}),n.checkForNan=r,n.checkForNegativeValue=function(e){return null!==r(e)&&0<=e?e:null},n.checkForPositiveValue=function(e){return void 0!==e&&null!==r(e)&&0<=e},n.isNumber=function(e){return void 0!==e&&null!==r(e)&&Number.isFinite(e)}},{}],115:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.WifiStatsExecutor=void 0;var i=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.getWifiStatsMethod=null,this.wifiStats=null,this.interval=1e4}var t,n;return t=e,(n=[{key:"resetGetWifiStatsMethod",value:function(){this.getWifiStatsMethod=null}},{key:"setGetWifiStatsMethod",value:function(e){this.getWifiStatsMethod=e,this.wifiStatsHandler()}},{key:"getWifiStats",value:function(){return this.getWifiStatsMethod||(this.wifiStats=null),this.wifiStats}},{key:"wifiStatsHandler",value:function(){var e=this;e.getWifiStatsMethod&&e.getWifiStatsMethod().then(function(t){e.wifiStats=JSON.parse(t),setTimeout(function(){e.wifiStatsHandler()},e.interval)}).catch(function(){setTimeout(function(){e.wifiStatsHandler()},e.interval)})}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.WifiStatsExecutor=i},{}],116:[function(e,t,n){"use strict";function r(e){return window.btoa(e)}function i(e){return window.atob(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.decode=i,n.encode=r,n.strtohex=function(e){for(var t=i(e.replace(/[ \r\n]+$/,"")),n=[],r=0;r<t.length;++r){var o=t.charCodeAt(r).toString(16);1===o.length&&(o="0"+o),n.push(o)}return n.join("")},n.urlencode=function(e){return r(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},n.urlencodeUnicode=function(e){return(function(e){return r(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))})(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}},{}],117:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Callbacks=void 0;var i=c(e("../config/constants")),o=e("./registry"),a=c(e("./csiologger"));function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.callbacks={}}var t,n;return t=e,(n=[{key:"set",value:function(e,t){"function"==typeof t&&(i.callbackFunctions.hasOwnProperty(e)?(this.callbacks[e]=t,e===i.callbackFunctions.stats&&o.Registry.getStatsCallbackBuilder().setCallback(t)):a.error("Couldn't set callback: ".concat(e)))}},{key:"get",value:function(e){return this.callbacks.hasOwnProperty(e)?this.callbacks[e]:null}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Callbacks=e},{"../config/constants":50,"./csiologger":119,"./registry":128}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Credentials=void 0;var r=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r})(e("./csiologger"));function i(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(i=function(e){return e?n:t})(e))}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.appId=null,this.userId=null,this.userIdObject=null,this.deviceId=null,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.adaptiveStatsEnabled=!1,this.siteId=null,this.additionalIDs=null,this.ingestedEvents=[],this.enableMLNotification=!1}var t,n;return t=e,(n=[{key:"getAppId",value:function(){return this.appId}},{key:"setAppId",value:function(e){this.appId="string"==typeof e?parseInt(e,10):e}},{key:"getSiteId",value:function(){return this.siteId}},{key:"setSiteId",value:function(e){this.siteId=e}},{key:"getUserId",value:function(){return this.userId}},{key:"setUserId",value:function(e){"object"===o(e)?(this.userId=e.aliasName,this.setUserIdObject(e)):this.userId=e}},{key:"getUserIdObject",value:function(){return this.userIdObject}},{key:"setUserIdObject",value:function(e){this.userIdObject=e}},{key:"getStatsSubmissionInterval",value:function(){return this.statsSubmissionInterval}},{key:"setStatsSubmissionInterval",value:function(e){r.log("setStatsSubmissionInterval is ",e),this.statsSubmissionInterval=e}},{key:"getEnableMLNotification",value:function(){return this.enableMLNotification}},{key:"setEnableMLNotification",value:function(e){this.additionalIDs&&"WorkW"===this.additionalIDs.productName||(this.enableMLNotification=e)}},{key:"getCollectSDP",value:function(){return this.collectSDP}},{key:"setCollectSDP",value:function(e){this.collectSDP=e}},{key:"getIngestedEvents",value:function(){return this.ingestedEvents}},{key:"setIngestedEvents",value:function(e){e&&0<e.length&&(this.ingestedEvents=e)}},{key:"isAdaptiveStatsEnabled",value:function(){return this.adaptiveStatsEnabled}},{key:"setAdaptiveStatsEnabled",value:function(){this.adaptiveStatsEnabled=0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},{key:"getAdditionalIDs",value:function(){return this.additionalIDs}},{key:"setAdditionalIDs",value:function(e){this.additionalIDs=e}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Credentials=e},{"./csiologger":119}],119:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.error=function(){var e;(e=console).warn.apply(e,arguments)},n.info=function(){var e;"true"===i.csioDebug&&(e=console).info.apply(e,arguments)},n.log=function(){var e;"true"===i.csioDebug&&(e=console).log.apply(e,arguments)},n.sendLog=function(e,t){i.callbackLogger&&i.callbackLogger({logLevel:e,args:[t]})},n.warn=function(){var e;"true"===i.csioDebug&&(e=console).warn.apply(e,arguments)};var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../config/settings"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}},{"../config/settings":51}],120:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Endpoint=void 0;var i=u(e("../browserapi/localstorage")),o=u(e("../browserapi/detectbrowser")),a=u(e("../utility/timestamps")),s=u(e("../utility/hash"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=null,this.appversion=null,this.magicKey=Math.floor(4294967296*Math.random()),this.browserName=null,this.browserVersion=null,this.osName=null,this.osVersion=null,this.codeBase=null,this.userAgent=null,this.retrieveId()}var t,n;return t=e,(n=[{key:"setup",value:function(){var e=o.detect();this.browserName=e.browserName,this.browserVersion=e.browserVersion,this.osName=e.os,this.osVersion=e.osVersion,this.codeBase=e.codeBase,this.userAgent=e.userAgent}},{key:"retrieveId",value:function(){var e,t=this,n=i.get("endpointID");null===n?(e=a.getCurrent(),e=Math.random()*e,s.generateSHA256(e.toString(),function(e){t.id=e,i.store("endpointID",e)})):this.id=n}},{key:"getId",value:function(){return this.id}},{key:"getAppVersion",value:function(){return this.appversion}},{key:"setAppVersion",value:function(e){this.appversion=e}},{key:"getMagicKey",value:function(){return this.magicKey}},{key:"getBrowserName",value:function(){return this.browserName}},{key:"getBrowserVersion",value:function(){return this.browserVersion}},{key:"getOsName",value:function(){return this.osName}},{key:"getOsVersion",value:function(){return this.osVersion}},{key:"getCodeBase",value:function(){return this.codeBase}},{key:"getUserAgent",value:function(){return this.userAgent}},{key:"serialize",value:function(){return{type:"browser",buildName:this.browserName,buildVersion:this.browserVersion,appVersion:this.appversion,os:this.osName,osVersion:this.osVersion,userAgent:this.userAgent}}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.Endpoint=e},{"../browserapi/detectbrowser":32,"../browserapi/localstorage":34,"../utility/hash":123,"../utility/timestamps":132}],121:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessage=void 0;var r=u(e("../config/constants")),i=u(e("../config/settings")),o=e("./registry"),a=u(e("./csiologger"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t,n,r,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.eventType=t,this.customEntries=r,this.pcHandler=i,this.auth=o.Registry.getAuthenticator(),this.clocksync=o.Registry.getClockSync(),this.timestamp=this.clocksync.getSynchronizedTimestamp(),this.conferenceId=n,this.clockUnSynced=!this.clocksync.isCompleted()}var t,n,c;return t=e,c=[{key:"checkCustomEntries",value:function(e,t){if(!f[e])return a.error("eventType not recognized:",e),!1;var n,r=f[e];for(n in r)if(!t.hasOwnProperty(n)||l(t[n])!==r[n])return a.error("customEntries for",e,"should have",n,"of type",r[n]),!1;return!0}}],(n=[{key:"updateConferenceId",value:function(e){a.log("updating conferenceId to ",this.eventType,this.conferenceId,e),this.conferenceId=e}},{key:"toJson",value:function(){var e;return this.canBeSent()?(e=this.getCommonHeader(),s(e,this.customEntries),this.eventType===r.internalFabricEvent.userJoined&&delete e.connectionID,e):null}},{key:"getCallback",value:function(){return this.pcHandler?this.pcHandler.getCallback():null}},{key:"canBeSent",value:function(){var e,t=r.tmpConferenceId;if(this.conferenceId===t)return!1;if(this.pcHandler&&!this.pcHandler.getRemoteId())return!1;if(this.eventType!==r.precalltestEvents.results&&this.eventType!==r.precalltestEvents.notification){if(!(t=o.Registry.getConferenceManager().get(this.conferenceId)))return!1;e=t.getUcId()}return!(!this.auth.getToken()||(this.auth.isTokenValid()?!(this.isPriority()||this.clocksync.isCompleted()&&e)||this.eventType===r.internalFabricEvent.userAlive&&!e:(this.auth.reAuthenticate(),1)))}},{key:"isCachable",value:function(){return-1===[r.internalFabricEvent.userAlive].indexOf(this.eventType)}},{key:"isPriority",value:function(){var e=!1;return this.eventType===r.internalFabricEvent.userJoined||this.eventType===r.precalltestEvents.results||this.eventType===r.precalltestEvents.notification||this.eventType===r.internalFabricEvent.userAlive||e}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getCommonHeader",value:function(){var e={version:i.version,callstatsVersion:i.version,channel:this.decideChannel(),timestamp:this.timestamp,action:this.eventType,eventType:this.eventType,localID:encodeURIComponent(o.Registry.getCredentials().getUserId()),timeShift:0,appID:o.Registry.getCredentials().getAppId(),deviceID:o.Registry.getEndpoint().getId(),token:this.auth.getToken(),confID:encodeURIComponent(this.conferenceId)},t=(this.clockUnSynced&&(e.timestamp+=this.clocksync.getOffset()),this.eventType!==r.internalFabricEvent.userJoined&&this.eventType!==r.internalFabricEvent.fabricSetup&&this.eventType!==r.fabricEvent.fabricSetupFailed&&this.eventType!==r.precalltestEvents.results&&this.eventType!==r.precalltestEvents.notification||(e.siteID=o.Registry.getCredentials().getSiteId()),this.eventType!==r.internalFabricEvent.userJoined&&this.eventType!==r.precalltestEvents.results&&this.eventType!==r.precalltestEvents.notification||(e.additionalIDs=o.Registry.getCredentials().getAdditionalIDs()),o.Registry.getConferenceManager().get(this.conferenceId));return e.ucID=t?t.getUcId():null,this.pcHandler?(e.remoteID=encodeURIComponent(this.pcHandler.getRemoteId()),e.connectionID=this.pcHandler.getPcHash()):(e.remoteID=encodeURIComponent(o.Registry.getCredentials().getUserId()),e.connectionID=encodeURIComponent(o.Registry.getCredentials().getUserId())),e.remoteID||(e.remoteID=encodeURIComponent(o.Registry.getCredentials().getUserId())),e}},{key:"decideChannel",value:function(){if(this.eventType==r.callstatsChannels.sdpSubmission)return r.callstatsChannels.sdpSubmission;if(this.eventType==r.callstatsChannels.userFeedback)return r.callstatsChannels.userFeedback;if(this.eventType==r.callstatsChannels.processedStats)return r.callstatsChannels.processedStats;for(var e in r.precalltestEvents)if(this.eventType==r.precalltestEvents[e])return r.callstatsChannels.preCallTest;return r.callstatsChannels.callstatsEvent}}])&&d(t.prototype,n),c&&d(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e})();var f=(n.EventMessage=e,{});f[r.internalFabricEvent.userJoined]={endpointInfo:"object"},f[r.internalFabricEvent.userLeft]={},f[r.internalFabricEvent.userAlive]={},f[r.internalFabricEvent.userDetails]={},f[r.internalFabricEvent.connectedDeviceList]={mediaDeviceList:"object"},f[r.fabricEvent.activeDeviceList]={mediaDeviceList:"object"},f[r.fabricEvent.audioMute]={},f[r.fabricEvent.audioUnmute]={},f[r.fabricEvent.videoPause]={},f[r.fabricEvent.videoResume]={},f[r.fabricEvent.screenShareStart]={},f[r.fabricEvent.screenShareStop]={},f[r.internalFabricEvent.mediaPlaybackStart]={ssrc:"string"},f[r.internalFabricEvent.mediaPlaybackSuspended]={ssrc:"string"},f[r.internalFabricEvent.mediaPlaybackStalled]={ssrc:"string"},f[r.internalFabricEvent.oneWayMedia]={mediaType:"string",ssrc:"string"},f[r.internalFabricEvent.oneWayMediaStart]={mediaType:"string",disruptionType:"string",ssrc:"string"},f[r.internalFabricEvent.oneWayMediaStop]={mediaType:"string",disruptionType:"string",ssrc:"string"},f[r.internalFabricEvent.circuitBreaker]={disruptionType:"string",ssrc:"string"},f[r.internalFabricEvent.fabricSetup]={localIceCandidates:"object",remoteIceCandidates:"object",iceCandidatePairs:"object"},f[r.fabricEvent.callDetails]={callType:"string"},f[r.fabricEvent.fabricSetupFailed]={delay:"number",reason:"string",function:"string",endpoint:"object"},f[r.internalFabricEvent.fabricStateChange]={changedState:"string",prevState:"string",newState:"string"},f[r.internalFabricEvent.fabricDropped]={prevIceConnectionState:"string",currIceConnectionState:"string",currIceCandidatePair:"object",delay:"number"},f[r.internalFabricEvent.iceConnectionDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},f[r.internalFabricEvent.iceConnectionDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},f[r.internalFabricEvent.iceDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},f[r.internalFabricEvent.iceDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},f[r.internalFabricEvent.iceFailed]={localIceCandidates:"object",prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},f[r.internalFabricEvent.iceAborted]={prevIceConnectionState:"string",currIceConnectionState:"string"},f[r.internalFabricEvent.iceRestarted]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},f[r.internalFabricEvent.fabricTransportSwitch]={prevIceCandidatePair:"object",currIceCandidatePair:"object"},f[r.internalFabricEvent.iceTerminated]={prevIceConnectionState:"string",currIceConnectionState:"string"},f[r.fabricEvent.fabricTerminated]={},f[r.fabricEvent.fabricHold]={},f[r.fabricEvent.fabricResume]={},f[r.fabricEvent.callUnAnswered]={},f[r.callstatsChannels.sdpSubmission]={localSDP:"string",remoteSDP:"string"},f[r.internalFabricEvent.ssrcMap]={ssrcData:"object"},f[r.callstatsChannels.userFeedback]={feedback:"object"},f[r.internalFabricEvent.sendingThroughputObservations]={ssrc:"string",maxsendingKBitrate:"number",timeToMaxSendingKBitrate:"number",stablesendingKBitrate:"number",timeToStableSendingKBitrate:"number"},f[r.fabricEvent.dominantSpeaker]={},f[r.fabricEvent.applicationErrorLog]={message:"string",messageType:"string"},f[r.callstatsChannels.processedStats]={stats:"object"},f[r.customEvents.stats]={stats:"object"},f[r.customEvents.event]={eventList:"object"},f[r.customEvents.conferenceSummary]={pstnTime:"number",ringingTime:"number",contactID:"string",isCallForwarded:"boolean"},f[r.callstatsChannels.senderConfiguration]={rtc_rtp_parameters:"object"},f[r.internalFabricEvent.limitationObservations]={reason:"string"},f[r.qualityDisruptionTypes.qpchange]={reason:"string"},f[r.precalltestEvents.results]={results:"object"},f[r.precalltestEvents.associate]={ids:"object"},f[r.precalltestEvents.notification]={}},{"../config/constants":50,"../config/settings":51,"./csiologger":119,"./registry":128}],122:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessageBuilder=void 0;var r=e("./eventmessage"),i=c(e("../config/constants")),o=e("./registry"),a=c(e("./csiologger"));function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.transmissionmanager=o.Registry.getTransmissionManager()}var t,n;return t=e,(n=[{key:"make",value:function(e,t,n){var s,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof e||null===c||"object"!==u(c))return a.error("failed typeof checks:",e,u(e),u(c),c),o.Registry.getGenericEventHandler().sendEvent(i.logEvents.error,{msg:"failed typeof checks:"+e+":"+u(c)+":"+u(e)}),!1;if(null===t&&e!==i.precalltestEvents.results&&e!==i.precalltestEvents.notification)return a.error("failed conferenceId checks:",e,t),o.Registry.getGenericEventHandler().sendEvent(i.logEvents.error,{msg:"failed conferenceId checks:"+e}),!1;if(!n&&e!==i.callstatsChannels.userFeedback&&e!==i.fabricEvent.applicationErrorLog&&e!==i.fabricEvent.fabricSetupFailed&&e!==i.internalFabricEvent.userJoined&&e!==i.precalltestEvents.results&&e!==i.precalltestEvents.notification&&e!==i.customEvents.stats&&e!==i.customEvents.event&&e!==i.customEvents.conferenceSummary)return a.error("peerconnection cannot be null",e),o.Registry.getGenericEventHandler().sendEvent(i.logEvents.error,{msg:"peerconnection cannot be null"+e}),!1;if(!r.EventMessage.checkCustomEntries(e,c))return a.error("failed checks:",e,c),o.Registry.getGenericEventHandler().sendEvent(i.logEvents.error,{msg:"failed customEntries checks:"+e}),!1;t&&(l=o.Registry.getConferenceManager().get(t))&&n&&(s=l.getPeerConnectionManager().getPcHandler(n));var l=new r.EventMessage(e,t,c,s);return this.transmissionmanager.send(l),!0}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.EventMessageBuilder=e},{"../config/constants":50,"./csiologger":119,"./eventmessage":121,"./registry":128}],123:[function(e,t,n){"use strict";function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=0;if(!e)return n;for(var r=0,i=e.length;r<i;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t&&t(n+""),n+""}function i(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t[t.length]=r:(127<r&&r<2048?t[t.length]=r>>6|192:(t[t.length]=r>>12|224,t[t.length]=r>>6&63|128),t[t.length]=63&r|128)}return new Uint8Array(t).buffer}function o(e){for(var t,n=new DataView(e),r="",i=0;i<n.byteLength;i++)r+=t=(t=n.getUint8(i).toString(16)).length<2?"0"+t:t;return r}Object.defineProperty(n,"__esModule",{value:!0}),n.generateHash=r,n.generateSHA256=function(e,t){var n,a={name:"SHA-256"};window.crypto?(n=window.crypto.subtle||window.crypto.webkitSubtle)?n.digest(a,i(e)).then(function(e){t(o(e))}).catch(function(){r(e,t)}):r(e,t):window.msCrypto&&window.msCrypto.subtle?((n=window.msCrypto.subtle.digest(a,i(e))).oncomplete=function(e){e.target&&t(o(e.target.result))},n.onerror=function(){r(e,t)}):r(e,t)}},{}],124:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.getRemoteAddress=function(e){var t,n,r=null,o=[],a=[],s=[];s.push({urls:["stun:taas-oci.callstats.io:443"],username:"discoverip-pct"}),s.push({urls:["stun:taas-oci.callstats.io:80"],username:"discoverip-pct"}),RTCPeerConnection?r=RTCPeerConnection:webkitRTCPeerConnection?r=webkitRTCPeerConnection:mozRTCPeerConnection?r=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(r=window.RTCPeerConnection),s={iceTransportPolicy:"all",iceServers:s};try{t=new r(s),n=new r(s)}catch(r){e(o)}t.createDataChannel("ipd",{negotiated:!0,id:0}),t.onicecandidate=function(t){var r,s;t.candidate&&t.candidate.candidate&&(r=(s=t.candidate.candidate.split(" "))[7].toLowerCase(),s=s[4],"host"!==r&&(a.includes(s)||"srflx"!==r&&"prflx"!==r||(a.push(s),o.push({address:s,candidateType:r}),e(o)),n.addIceCandidate(t.candidate).then(function(){i.log("Ice candidate added successfully to the pc2")}).catch(function(e){i.log("addIceCandidate failure to pc2",e)})))},n.onicecandidate=function(n){var r,s;n.candidate&&n.candidate.candidate&&(r=(s=n.candidate.candidate.split(" "))[7].toLowerCase(),s=s[4],"host"===r||"srflx"!==r&&"prflx"!==r||(a.includes(s)||(a.push(s),o.push({address:s,candidateType:r}),e(o)),t.addIceCandidate(n.candidate).then(function(){i.log("Ice candidate added successfully to the pc1")}).catch(function(e){i.log("addIceCandidate failure to pc1",e)})))},t.createOffer().then(function(r){var o,a,s;r=r,a=n,s=e,(o=t).setLocalDescription(r).then(function(){i.log("pc1  setLocalDescription success")}).catch(function(e){s([])}),a.setRemoteDescription(r).then(function(){i.log("pc2  setRemoteDescription success")}).catch(function(e){s([])}),a.createAnswer().then(function(e){var t,n;e=e,t=o,n=s,a.setLocalDescription(e).then(function(){i.log("pc2  setLocalDescription success")}).catch(function(e){n([])}),t.setRemoteDescription(e).then(function(){i.log("pc1  setRemoteDescription success")}).catch(function(e){n([])})}).catch(function(e){s([])})}).catch(function(t){e(o)})};var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("./csiologger"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}},{"./csiologger":119}],125:[function(e,t,n){"use strict";function r(e){return!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}Object.defineProperty(n,"__esModule",{value:!0}),n.isValid=r,n.parse=function(e){var t=null;return null!==e&&r(e)?JSON.parse(e):t}},{}],126:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.setErrorEventListener=function(){window&&window.addEventListener&&window.addEventListener("error",function(e){var t=i.Registry.getGenericEventHandler();if(e&&e.filename&&-1<e.filename.indexOf("callstats")){for(var n=!1,r={fileName:e.filename,line:e.lineno,col:e.colno,jsVersion:o.version,eventType:"error",message:e.message,pageURL:window.location.href},s=i.Registry.getConferenceManager().getConferenceIds(),c=0;c<s.length;c++)r.conferenceID=s[c],t.sendEvent(a.logEvents.error,r),n=!0;n||t.sendEvent(a.logEvents.error,r)}})};var i=e("./registry"),o=c(e("../config/settings")),a=c(e("../config/constants"));function s(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(s=function(e){return e?n:t})(e))}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}},{"../config/constants":50,"../config/settings":51,"./registry":128}],127:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.addPctMeasurementToAggregator=function(e){var t,n,r,a;e&&e.tests&&(e.tests.rtt&&(t=e.tests.rtt.median,n=e.tests.rtt.variance),e.tests.throughput&&(a=e.tests.throughput.average,r=Math.max(e.tests.throughput.fractionLostBytes,0)),a=new i.PCTMeasurement(a,t,n,r,e.provider,e.timestamp),o.Registry.getPCTAggregator().addPCTMeasurement(a))},n.getPrecalltestResultsToStore=l,n.getPublicPrecalltestResults=d,n.storePctResults=function(e){if(e=l(e)){var t=o.Registry.getCredentials().getAppId(),n=a.get("csioPctResultsArray"),r={},i=[];if(n)try{(r=JSON.parse(n))&&(i=r[t])&&50<=i.length&&i.shift()}catch(e){s.warn("csioPctResultsString JSON parse error")}(i&&i.push?i:i=[]).push(e),r[t]=i,a.store("csioPctResultsArray",JSON.stringify(r)),s.warn("Storing pct results",r)}};var i=e("../collections/pctmeasurement"),o=e("../utility/registry"),a=u(e("../browserapi/localstorage")),s=u(e("./csiologger"));function c(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(c=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,i,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function l(e){var t=d(e);return e&&e.tests&&(t.appID=o.Registry.getCredentials().getAppId(),t.resultID=e.id,t.failures=e.failures,t.startTimestamp=e.startTimestamp,t.endTimestamp=e.endTimestamp,e.notification&&(e.notification.summary&&(t.summary=e.notification.summary.text,t.summaryCode=e.notification.summary.code),e.notification.status&&(t.status=e.notification.status.text,t.statusCode=e.notification.status.code),e.notification.connectivity&&(t.connectivity=e.notification.connectivity.text,t.connectivityCode=e.notification.connectivity.code)),e.tests.ice&&(t.localIP=e.tests.ice.localIP,t.turnIpAddress=e.tests.ice.turnIpAddress,t.turnNetworkType=e.tests.ice.turnNetworkType)),t}function d(e){var t={mediaConnectivity:!1,throughput:null,fractionalLoss:null,rtt:null,jitter:null,timestamp:Date.now()};return e&&e.tests&&(t.provider=e.provider,t.startTimestamp=e.startTimestamp,t.endTimestamp=e.endTimestamp,e.tests.rtt&&(t.rtt=e.tests.rtt.median,t.mediaConnectivity=!0,t.jitter=e.tests.rtt.variance),e.tests.throughput&&(t.throughput=e.tests.throughput.average,t.fractionalLoss=Math.max(e.tests.throughput.fractionLostBytes,0),t.mediaConnectivity=!0,t.bytesSent=e.tests.throughput.bytesSent),e.tests.ice&&(e.tests.ice.relayTcpSuccess||e.tests.ice.relayTlsSuccess||e.tests.ice.relayUdpSuccess)&&(t.mediaConnectivity=!0),e.notification&&(t.notification=e.notification.notification,t.notificationCode=e.notification.notificationTextCode,t.sctCode=e.notification.notificationCode)),t}},{"../browserapi/localstorage":34,"../collections/pctmeasurement":40,"../utility/registry":128,"./csiologger":119}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Registry=void 0;var r=e("../services/clocksync"),i=e("../services/configservice/configservicewrapper"),o=e("../services/authenticator"),a=e("../services/backendlog"),s=e("../services/transmissionmanager"),c=e("./eventmessagebuilder"),u=e("../conference/conferencemanager"),l=e("../utility/credentials"),d=e("../statspipeline/statsadapter"),f=e("../statspipeline/statsparser"),p=e("../statspipeline/statsmonitor"),h=e("../statspipeline/statstransmitter"),y=e("../statspipeline/statsassembler"),v=e("../utility/endpoint"),g=e("../browserapi/battery"),m=e("precalltest"),b=e("../statspipeline/wifistatsexecutor"),w=e("./callbacks"),S=e("../statspipeline/statscallbackbuilder"),k=e("../services/connectionmanager"),C=e("../collections/pctaggregator"),T=e("../services/pctrunnerservice"),P=e("../services/jabraservice");function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=null,E=null,I=null,R=null,M=null,j=null,x=null,F=null,D=null,A=null,L=null,N=null,B=null,W=null,H=null,U=null,V=null,q=null,G=null,z=null,Y=null,J=null,Q=null;e=(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n;return t=e,n=[{key:"getJabraService",value:function(){return Q=Q||new P.JabraService}},{key:"getPCTRunnerService",value:function(){return J=J||new T.PCTRunnerService}},{key:"getPCTAggregator",value:function(){return Y=Y||new C.PCTAggregator}},{key:"getConferenceManager",value:function(){return U=U||new u.ConferenceManager}},{key:"getStatsCallbackBuilder",value:function(){return G=G||new S.StatsCallbackBuilder}},{key:"getClockSync",value:function(){return E=E||new r.ClockSync}},{key:"getWifiStatsExecutor",value:function(){return V=V||new b.WifiStatsExecutor}},{key:"getAuthenticator",value:function(){return I=I||new o.Authenticator}},{key:"getConfigServiceWrapper",value:function(){return R=R||new i.ConfigServiceWrapper}},{key:"getGenericEventHandler",value:function(){return M||(M=new a.GenericEventHandler).enable(),M}},{key:"getConnectionManager",value:function(){return z=z||new k.ConnectionManager}},{key:"getTransmissionManager",value:function(){return j=j||new s.TransmissionManager}},{key:"getEventMessageBuilder",value:function(){return x=x||new c.EventMessageBuilder}},{key:"getCredentials",value:function(){return F=F||new l.Credentials}},{key:"getEndpoint",value:function(){return D=D||new v.Endpoint}},{key:"getStatsAdapter",value:function(){var t,n;return A||(t=e.getEndpoint().getCodeBase(),n=e.getEndpoint().getBrowserName(),A=new d.StatsAdapter(t,n)),A}},{key:"getPreCallTest",value:function(){return O=O||new m.PreCallTest}},{key:"getStatsParser",value:function(){return L=L||new f.StatsParser}},{key:"getStatsMonitor",value:function(){var t;return N||(t=e.getEndpoint().getCodeBase(),N=new p.StatsMonitor(t)),N}},{key:"getStatsTransmitter",value:function(){return B=B||new h.StatsTransmitter}},{key:"getStatsAssembler",value:function(){return W=W||new y.StatsAssembler}},{key:"getBattery",value:function(){return H=H||new g.Battery}},{key:"getCallbacks",value:function(){return q=q||new w.Callbacks}}],null&&_(t.prototype,null),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.Registry=e},{"../browserapi/battery":31,"../collections/pctaggregator":39,"../conference/conferencemanager":48,"../services/authenticator":60,"../services/backendlog":61,"../services/clocksync":62,"../services/configservice/configservicewrapper":66,"../services/connectionmanager":67,"../services/jabraservice":68,"../services/pctrunnerservice":71,"../services/transmissionmanager":74,"../statspipeline/statsadapter":99,"../statspipeline/statsassembler":100,"../statspipeline/statscallbackbuilder":101,"../statspipeline/statsmonitor":102,"../statspipeline/statsparser":103,"../statspipeline/statstransmitter":104,"../statspipeline/wifistatsexecutor":115,"../utility/credentials":118,"../utility/endpoint":120,"./callbacks":117,"./eventmessagebuilder":122,precalltest:3}],129:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.RunningStats=void 0;var i=e("../collections/queue"),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=o?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("../statspipeline/validator"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.queue=new i.Queue(t),this.cumulativeSum=0}var t,n;return t=e,(n=[{key:"add",value:function(e){this.cumulativeSum+=e,e=this.queue.push(e),o.isNumber(e)&&(this.cumulativeSum-=e)}},{key:"getMean",value:function(){return this.queue.size()<1?null:this.cumulativeSum/this.queue.size()}},{key:"getVariance",value:function(){if(this.queue.size()<2)return null;for(var e=this.getMean(),t=0,n=this.queue.getFront();n;){var r=n,i=r.value-e;t+=i*i,n=r.next}return t/this.queue.size()}},{key:"getStd",value:function(){var e;return this.queue.size()<2?null:(e=this.getVariance(),Math.sqrt(e))}},{key:"reset",value:function(){this.cumulativeSum=0,this.queue.clear()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.RunningStats=e},{"../collections/queue":42,"../statspipeline/validator":114}],130:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Sigmoid=void 0;var i=(function(){function e(t,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.max=t,this.midpoint=n,this.stepness=r,this.actualStep=0,this.reset()}var t,n;return t=e,(n=[{key:"reset",value:function(){this.actualStep=0}},{key:"setMidpoint",value:function(e){this.midpoint=e}},{key:"setMax",value:function(e){this.max=e}},{key:"setStepness",value:function(e){this.stepness=e}},{key:"increaseActualStep",value:function(e){this.actualStep+=e}},{key:"getActual",value:function(){return this.actualStep+=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,this.max/(1+Math.exp(-1*this.stepness*(this.actualStep-this.midpoint)))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.Sigmoid=i},{}],131:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TimeoutProcess=void 0;var i=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i})(e("./csiologger"));function o(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(o=function(e){return e?n:t})(e))}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.interval=t,this.timerId=null,this.callback=function(){i.warn("no callback function set",this)}}var t,n;return t=e,(n=[{key:"setCallback",value:function(e){this.callback=e}},{key:"start",value:function(){var e=this;this.timerId=setInterval(function(){e.callback()},this.interval)}},{key:"stop",value:function(){clearInterval(this.timerId),this.timerId=null}},{key:"isStarted",value:function(){return null!==this.timerId}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e})(),n.TimeoutProcess=e},{"./csiologger":119}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()},n.getSinceOrigin=function(){return window&&window.performance&&window.performance.now?window.performance.now():null}},{}],133:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Url=void 0;var o=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.base=t;for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.appendixes=r}var t,n,o;return t=e,o=[{key:"concat",value:function(e,t){var n,r;return t?e?(n="/"===e.substr(e.length-1),r="/"===t.substring(0,1),n||r?n&&r?e+t.substring(1):e+t:e+"/"+t):t:e}}],(n=[{key:"append",value:function(e){this.appendixes.push(e)}},{key:"toString",value:function(){var t=this.getString(this.base),n=this;return this.appendixes.forEach(function(r){null!=r&&(r=n.getString(r),t=e.concat(t,r))}),t}},{key:"getString",value:function(e){switch(r(e)){case"function":return this.getString(e());case"number":return e+"";default:return e}}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e})();n.Url=o},{}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assignPollyfill=function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0})},n.isIntegerPollyfill=function(){Number.isInteger||(Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})},n.normalizeMediaDeviceList=function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r={};r.mediaDeviceID=e[n].deviceId,r.groupID=e[n].groupId,r.kind=e[n].kind,r.label=e[n].label,r.mediaDeviceID&&t.push(r)}return t}},{}]},{},[36])},468,[32]);
__d(function(g,r,i,a,m,e,d){var t,f=r(d[0])(r(d[1]));void 0===(t=g||window||this).$&&((0,f.default)(t),t.$=f.default)},469,[2,470]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),window.$=u.default;var f=u.default;e.default=f},470,[2,471,488,499,511,512,513]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6])),s=t(r(d[7])),h=t(r(d[8])),p=t(r(d[9])),y=t(r(d[10])),v=t(r(d[11])),b=t(r(d[12])),j=t(r(d[13])),S=t(r(d[14])),O=t(r(d[15])),x=/HTML$/i,k=function t(n,u){return new t.fn.init(n,u)};function A(t){var n=!!t&&t.length,u=(0,O.default)(t);return"function"!=typeof t&&!(0,j.default)(t)&&("array"===u||0===n||"number"==typeof n&&n>0&&n-1 in t)}k.fn=k.prototype={jquery:"@VERSION",constructor:k,length:0,toArray:function(){return o.default.call(this)},get:function(t){return null==t?o.default.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=k.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,function(n,u){return t.call(n,u,n)}))},slice:function(){return this.pushStack(o.default.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(t,n){return(n+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(t,n){return n%2}))},eq:function(t){var n=this.length,u=+t+(t<0?n:0);return this.pushStack(u>=0&&u<n?[this[u]]:[])},end:function(){return this.prevObject||this.constructor()}},k.extend=k.fn.extend=function(){var t,n,u,o,c,f,l=arguments[0]||{},s=1,h=arguments.length,p=!1;for("boolean"==typeof l&&(p=l,l=arguments[s]||{},s++),"object"!=typeof l&&"function"!=typeof l&&(l={}),s===h&&(l=this,s--);s<h;s++)if(null!=(t=arguments[s]))for(n in t)o=t[n],"__proto__"!==n&&l!==o&&(p&&o&&(k.isPlainObject(o)||(c=Array.isArray(o)))?(u=l[n],f=c&&!Array.isArray(u)?[]:c||k.isPlainObject(u)?u:{},c=!1,l[n]=k.extend(p,f,o)):void 0!==o&&(l[n]=o));return l},k.extend({expando:"jQuery"+("@VERSION"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var n,o;return!(!t||"[object Object]"!==h.default.call(t))&&(!(n=(0,u.default)(t))||"function"==typeof(o=p.default.call(n,"constructor")&&n.constructor)&&y.default.call(o)===v.default)},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},globalEval:function(t,n,u){(0,S.default)(t,{nonce:n&&n.nonce},u)},each:function(t,n){var u,o=0;if(A(t))for(u=t.length;o<u&&!1!==n.call(t[o],o,t[o]);o++);else for(o in t)if(!1===n.call(t[o],o,t[o]))break;return t},text:function(t){var n,u="",o=0,c=t.nodeType;if(c){if(1===c||9===c||11===c)return t.textContent;if(3===c||4===c)return t.nodeValue}else for(;n=t[o++];)u+=k.text(n);return u},makeArray:function(t,n){var u=n||[];return null!=t&&(A(Object(t))?k.merge(u,"string"==typeof t?[t]:t):f.default.call(u,t)),u},inArray:function(t,n,u){return null==n?-1:l.default.call(n,t,u)},isXMLDoc:function(t){var n=t.namespaceURI,u=(t.ownerDocument||t).documentElement;return!x.test(n||u&&u.nodeName||"HTML")},merge:function(t,n){for(var u=+n.length,o=0,c=t.length;o<u;o++)t[c++]=n[o];return t.length=c,t},grep:function(t,n,u){for(var o=[],c=0,f=t.length,l=!u;c<f;c++)!n(t[c],c)!==l&&o.push(t[c]);return o},map:function(t,n,u){var o,f,l=0,s=[];if(A(t))for(o=t.length;l<o;l++)null!=(f=n(t[l],l,u))&&s.push(f);else for(l in t)null!=(f=n(t[l],l,u))&&s.push(f);return(0,c.default)(s)},guid:1,support:b.default}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=n.default[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){s.default["[object "+n+"]"]=n.toLowerCase()});var E=k;e.default=E},471,[2,472,473,474,475,476,477,478,479,480,481,482,483,484,485,487]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[]},472,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Object.getPrototypeOf;e.default=t},473,[]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])).default.slice;e.default=t},474,[2,472]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=l.default.flat?function(t){return l.default.flat.call(t)}:function(t){return l.default.concat.apply([],t)};e.default=u},475,[2,472]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(r(d[1])).default.push;e.default=t},476,[2,472]);
__d(function(g,r,i,a,m,e,d){var f=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[1])).default.indexOf;e.default=t},477,[2,472]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={}},478,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.toString;e.default=u},479,[2,478]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.hasOwnProperty;e.default=u},480,[2,478]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.toString;e.default=u},481,[2,480]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])).default.call(Object);e.default=t},482,[2,481]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={}},483,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return null!=n&&n===n.window}},484,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o={type:!0,src:!0,nonce:!0,noModule:!0};var l=function(t,l,f){var u,c=(f=f||n.default).createElement("script");if(c.text=t,l)for(u in o)l[u]&&(c[u]=l[u]);f.head.appendChild(c).parentNode.removeChild(c)};e.default=l},485,[2,486]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=window.document;e.default=o},486,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=t(r(d[2]));var f=function(t){return null==t?t+"":"object"==typeof t?l.default[u.default.call(t)]||"object":typeof t};e.default=f},487,[2,478,479]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),p=t(r(d[8])),h=t(r(d[9])),y=t(r(d[10]));r(d[11]),r(d[12]),r(d[13]);var v=l.default,x=f.default.matches||f.default.msMatchesSelector;!(function(){var t,l,f,w,b,E,N=n.default.expando,C=0,T=0,S=W(),A=W(),R=W(),D=W(),L="(?:\\\\[\\da-fA-F]{1,6}"+p.default+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",I="\\["+p.default+"*("+L+")(?:"+p.default+"*([*^$|!~]?=)"+p.default+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+p.default+"*\\]",$=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",B=new RegExp(p.default+"+","g"),O=new RegExp("^"+p.default+"+|((?:^|[^\\\\])(?:\\\\.)*)"+p.default+"+$","g"),k=new RegExp("^"+p.default+"*,"+p.default+"*"),F=new RegExp("^"+p.default+"*([>+~]|"+p.default+")"+p.default+"*"),q=new RegExp(p.default+"|>"),P=new RegExp($),G=new RegExp("^"+L+"$"),H={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+p.default+"*(even|odd|(([+-]|)(\\d*)n|)"+p.default+"*(?:([+-]|)"+p.default+"*(\\d+)|))"+p.default+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+p.default+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+p.default+"*((?:-\\d)?\\d*)"+p.default+"*\\)|)(?=[^-]|$)","i")},M=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,j=/[+~]/,z=new RegExp("\\\\[\\da-fA-F]{1,6}"+p.default+"?|\\\\([^\\r\\n\\f])","g"),V=function(t,n){var u="0x"+t.slice(1)-65536;return n||(u<0?String.fromCharCode(u+65536):String.fromCharCode(u>>10|55296,1023&u|56320))},X=function(){ue()},J=oe(function(t){return!0===t.disabled&&(0,u.default)(t,"fieldset")},{dir:"parentNode",next:"legend"});function K(t){throw new Error("Syntax error, unrecognized expression: "+t)}function Q(t,u,l,f){var o,c,p,v,x,b,C,T=u&&u.ownerDocument,S=u?u.nodeType:9;if(l=l||[],"string"!=typeof t||!t||1!==S&&9!==S&&11!==S)return l;if(!f&&(ue(u),u=u||w,E)){if(11!==S&&(x=_.exec(t)))if(o=x[1]){if(9===S)return(p=u.getElementById(o))&&s.default.call(l,p),l;if(T&&(p=T.getElementById(o))&&n.default.contains(u,p))return s.default.call(l,p),l}else{if(x[2])return s.default.apply(l,u.getElementsByTagName(t)),l;if((o=x[3])&&u.getElementsByClassName)return s.default.apply(l,u.getElementsByClassName(o)),l}if(!(D[t+" "]||h.default&&h.default.test(t))){if(C=t,T=u,1===S&&(q.test(t)||F.test(t))){for(((T=j.test(t)&&re(u.parentNode)||u)!==u||y.default)&&((v=u.getAttribute("id"))?v=n.default.escapeSelector(v):u.setAttribute("id",v=N)),c=(b=ie(t)).length;c--;)b[c]=(v?"#"+v:":scope")+" "+fe(b[c]);C=b.join(",")}try{return s.default.apply(l,T.querySelectorAll(C)),l}catch(n){D(t,!0)}finally{v===N&&u.removeAttribute("id")}}}return ye(t.replace(O,"$1"),u,l,f)}function W(){var t=[];return function n(u,f){return t.push(u+" ")>l.cacheLength&&delete n[t.shift()],n[u+" "]=f}}function Y(t){return t[N]=!0,t}function Z(t){return function(n){return(0,u.default)(n,"input")&&n.type===t}}function ee(t){return function(n){return((0,u.default)(n,"input")||(0,u.default)(n,"button"))&&n.type===t}}function te(t){return function(n){return"form"in n?n.parentNode&&!1===n.disabled?"label"in n?"label"in n.parentNode?n.parentNode.disabled===t:n.disabled===t:n.isDisabled===t||n.isDisabled!==!t&&J(n)===t:n.disabled===t:"label"in n&&n.disabled===t}}function ne(t){return Y(function(n){return n=+n,Y(function(u,l){for(var f,o=t([],u.length,n),c=o.length;c--;)u[f=o[c]]&&(u[f]=!(l[f]=u[f]))})})}function re(t){return t&&void 0!==t.getElementsByTagName&&t}function ue(t){var u,l=t?t.ownerDocument||t:v;l!=w&&9===l.nodeType&&(b=(w=l).documentElement,E=!n.default.isXMLDoc(w),y.default&&v!=w&&(u=w.defaultView)&&u.top!==u&&u.addEventListener("unload",X))}for(t in Q.matches=function(t,n){return Q(t,null,null,n)},Q.matchesSelector=function(t,n){if(ue(t),E&&!D[n+" "]&&(!h.default||!h.default.test(n)))try{return x.call(t,n)}catch(t){D(n,!0)}return Q(n,w,null,[t]).length>0},(l=n.default.expr={cacheLength:50,createPseudo:Y,match:H,find:{ID:function(t,n){if(void 0!==n.getElementById&&E){var u=n.getElementById(t);return u?[u]:[]}},TAG:function(t,n){return void 0!==n.getElementsByTagName?n.getElementsByTagName(t):n.querySelectorAll(t)},CLASS:function(t,n){if(void 0!==n.getElementsByClassName&&E)return n.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(z,V),t[3]=(t[3]||t[4]||t[5]||"").replace(z,V),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||K(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&K(t[0]),t},PSEUDO:function(t){var n,u=!t[6]&&t[2];return H.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":u&&P.test(u)&&(n=ie(u,!0))&&(n=u.indexOf(")",u.length-n)-u.length)&&(t[0]=t[0].slice(0,n),t[2]=u.slice(0,n)),t.slice(0,3))}},filter:{ID:function(t){var n=t.replace(z,V);return function(t){return t.getAttribute("id")===n}},TAG:function(t){var n=t.replace(z,V).toLowerCase();return"*"===t?function(){return!0}:function(t){return(0,u.default)(t,n)}},CLASS:function(t){var n=S[t+" "];return n||(n=new RegExp("(^|"+p.default+")"+t+"("+p.default+"|$)"))&&S(t,function(t){return n.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,u,l){return function(f){var o=n.default.attr(f,t);return null==o?"!="===u:!u||(o+="","="===u?o===l:"!="===u?o!==l:"^="===u?l&&0===o.indexOf(l):"*="===u?l&&o.indexOf(l)>-1:"$="===u?l&&o.slice(-l.length)===l:"~="===u?(" "+o.replace(B," ")+" ").indexOf(l)>-1:"|="===u&&(o===l||o.slice(0,l.length+1)===l+"-"))}},CHILD:function(t,n,l,f,o){var c="nth"!==t.slice(0,3),s="last"!==t.slice(-4),p="of-type"===n;return 1===f&&0===o?function(t){return!!t.parentNode}:function(n,l,h){var y,v,x,w,b,E=c!==s?"nextSibling":"previousSibling",T=n.parentNode,S=p&&n.nodeName.toLowerCase(),A=!h&&!p,R=!1;if(T){if(c){for(;E;){for(x=n;x=x[E];)if(p?(0,u.default)(x,S):1===x.nodeType)return!1;b=E="only"===t&&!b&&"nextSibling"}return!0}if(b=[s?T.firstChild:T.lastChild],s&&A){for(R=(w=(y=(v=T[N]||(T[N]={}))[t]||[])[0]===C&&y[1])&&y[2],x=w&&T.childNodes[w];x=++w&&x&&x[E]||(R=w=0)||b.pop();)if(1===x.nodeType&&++R&&x===n){v[t]=[C,w,R];break}}else if(A&&(R=w=(y=(v=n[N]||(n[N]={}))[t]||[])[0]===C&&y[1]),!1===R)for(;(x=++w&&x&&x[E]||(R=w=0)||b.pop())&&((p?!(0,u.default)(x,S):1!==x.nodeType)||!++R||(A&&((v=x[N]||(x[N]={}))[t]=[C,R]),x!==n)););return(R-=o)===f||R%f==0&&R/f>=0}}},PSEUDO:function(t,n){var u,f=l.pseudos[t]||l.setFilters[t.toLowerCase()]||K("unsupported pseudo: "+t);return f[N]?f(n):f.length>1?(u=[t,t,"",n],l.setFilters.hasOwnProperty(t.toLowerCase())?Y(function(t,u){for(var l,c=f(t,n),s=c.length;s--;)t[l=o.default.call(t,c[s])]=!(u[l]=c[s])}):function(t){return f(t,0,u)}):f}},pseudos:{not:Y(function(t){var n=[],u=[],l=he(t.replace(O,"$1"));return l[N]?Y(function(t,n,u,f){for(var o,c=l(t,null,f,[]),s=t.length;s--;)(o=c[s])&&(t[s]=!(n[s]=o))}):function(t,f,o){return n[0]=t,l(n,null,o,u),n[0]=null,!u.pop()}}),has:Y(function(t){return function(n){return Q(t,n).length>0}}),contains:Y(function(t){return t=t.replace(z,V),function(u){return(u.textContent||n.default.text(u)).indexOf(t)>-1}}),lang:Y(function(t){return G.test(t||"")||K("unsupported lang: "+t),t=t.replace(z,V).toLowerCase(),function(n){var u;do{if(u=E?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(u=u.toLowerCase())===t||0===u.indexOf(t+"-")}while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(t){var n=window.location&&window.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===b},focus:function(t){return t===w.activeElement&&w.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:te(!1),disabled:te(!0),checked:function(t){return(0,u.default)(t,"input")&&!!t.checked||(0,u.default)(t,"option")&&!!t.selected},selected:function(t){return y.default&&t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!l.pseudos.empty(t)},header:function(t){return U.test(t.nodeName)},input:function(t){return M.test(t.nodeName)},button:function(t){return(0,u.default)(t,"input")&&"button"===t.type||(0,u.default)(t,"button")},text:function(t){return(0,u.default)(t,"input")&&"text"===t.type},first:ne(function(){return[0]}),last:ne(function(t,n){return[n-1]}),eq:ne(function(t,n,u){return[u<0?u+n:u]}),even:ne(function(t,n){for(var u=0;u<n;u+=2)t.push(u);return t}),odd:ne(function(t,n){for(var u=1;u<n;u+=2)t.push(u);return t}),lt:ne(function(t,n,u){var l;for(l=u<0?u+n:u>n?n:u;--l>=0;)t.push(l);return t}),gt:ne(function(t,n,u){for(var l=u<0?u+n:u;++l<n;)t.push(l);return t})}}).pseudos.nth=l.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})l.pseudos[t]=Z(t);for(t in{submit:!0,reset:!0})l.pseudos[t]=ee(t);function le(){}function ie(t,n){var u,f,o,c,s,p,h,y=A[t+" "];if(y)return n?0:y.slice(0);for(s=t,p=[],h=l.preFilter;s;){for(c in u&&!(f=k.exec(s))||(f&&(s=s.slice(f[0].length)||s),p.push(o=[])),u=!1,(f=F.exec(s))&&(u=f.shift(),o.push({value:u,type:f[0].replace(O," ")}),s=s.slice(u.length)),l.filter)!(f=H[c].exec(s))||h[c]&&!(f=h[c](f))||(u=f.shift(),o.push({value:u,type:c,matches:f}),s=s.slice(u.length));if(!u)break}return n?s.length:s?K(t):A(t,p).slice(0)}function fe(t){for(var n=0,u=t.length,l="";n<u;n++)l+=t[n].value;return l}function oe(t,n,l){var f=n.dir,o=n.next,c=o||f,s=l&&"parentNode"===c,p=T++;return n.first?function(n,u,l){for(;n=n[f];)if(1===n.nodeType||s)return t(n,u,l);return!1}:function(n,l,h){var y,v,x=[C,p];if(h){for(;n=n[f];)if((1===n.nodeType||s)&&t(n,l,h))return!0}else for(;n=n[f];)if(1===n.nodeType||s)if(v=n[N]||(n[N]={}),o&&(0,u.default)(n,o))n=n[f]||n;else{if((y=v[c])&&y[0]===C&&y[1]===p)return x[2]=y[2];if(v[c]=x,x[2]=t(n,l,h))return!0}return!1}}function ae(t){return t.length>1?function(n,u,l){for(var f=t.length;f--;)if(!t[f](n,u,l))return!1;return!0}:t[0]}function de(t,n,u){for(var l=0,f=n.length;l<f;l++)Q(t,n[l],u);return u}function ce(t,n,u,l,f){for(var o,c=[],s=0,p=t.length,h=null!=n;s<p;s++)(o=t[s])&&(u&&!u(o,l,f)||(c.push(o),h&&n.push(s)));return c}function se(t,n,u,l,f,c){return l&&!l[N]&&(l=se(l)),f&&!f[N]&&(f=se(f,c)),Y(function(c,p,h,y){var v,x,w,b,E=[],N=[],C=p.length,T=c||de(n||"*",h.nodeType?[h]:h,[]),S=!t||!c&&n?T:ce(T,E,t,h,y);if(u?u(S,b=f||(c?t:C||l)?[]:p,h,y):b=S,l)for(v=ce(b,N),l(v,[],h,y),x=v.length;x--;)(w=v[x])&&(b[N[x]]=!(S[N[x]]=w));if(c){if(f||t){if(f){for(v=[],x=b.length;x--;)(w=b[x])&&v.push(S[x]=w);f(null,b=[],v,y)}for(x=b.length;x--;)(w=b[x])&&(v=f?o.default.call(c,w):E[x])>-1&&(c[v]=!(p[v]=w))}}else b=ce(b===p?b.splice(C,b.length):b),f?f(null,p,b,y):s.default.apply(p,b)})}function pe(t){for(var n,u,c,s=t.length,p=l.relative[t[0].type],h=p||l.relative[" "],y=p?1:0,v=oe(function(t){return t===n},h,!0),x=oe(function(t){return o.default.call(n,t)>-1},h,!0),w=[function(t,u,l){var o=!p&&(l||u!==f)||((n=u).nodeType?v(t,u,l):x(t,u,l));return n=null,o}];y<s;y++)if(u=l.relative[t[y].type])w=[oe(ae(w),u)];else{if((u=l.filter[t[y].type].apply(null,t[y].matches))[N]){for(c=++y;c<s&&!l.relative[t[c].type];c++);return se(y>1&&ae(w),y>1&&fe(t.slice(0,y-1).concat({value:" "===t[y-2].type?"*":""})).replace(O,"$1"),u,y<c&&pe(t.slice(y,c)),c<s&&pe(t=t.slice(c)),c<s&&fe(t))}w.push(u)}return ae(w)}function ge(t,u){var o=u.length>0,p=t.length>0,h=function(h,y,v,x,b){var N,T,S,A=0,R="0",D=h&&[],L=[],I=f,$=h||p&&l.find.TAG("*",b),B=C+=null==I?1:Math.random()||.1;for(b&&(f=y==w||y||b);null!=(N=$[R]);R++){if(p&&N){for(T=0,y||N.ownerDocument==w||(ue(N),v=!E);S=t[T++];)if(S(N,y||w,v)){s.default.call(x,N);break}b&&(C=B)}o&&((N=!S&&N)&&A--,h&&D.push(N))}if(A+=R,o&&R!==A){for(T=0;S=u[T++];)S(D,L,y,v);if(h){if(A>0)for(;R--;)D[R]||L[R]||(L[R]=c.default.call(x));L=ce(L)}s.default.apply(x,L),b&&!h&&L.length>0&&A+u.length>1&&n.default.uniqueSort(x)}return b&&(C=B,f=I),D};return o?Y(h):h}function he(t,n){var u,l=[],f=[],o=R[t+" "];if(!o){for(n||(n=ie(t)),u=n.length;u--;)(o=pe(n[u]))[N]?l.push(o):f.push(o);(o=R(t,ge(f,l))).selector=t}return o}function ye(t,n,u,f){var o,c,p,h,y,v="function"==typeof t&&t,x=!f&&ie(t=v.selector||t);if(u=u||[],1===x.length){if((c=x[0]=x[0].slice(0)).length>2&&"ID"===(p=c[0]).type&&9===n.nodeType&&E&&l.relative[c[1].type]){if(!(n=(l.find.ID(p.matches[0].replace(z,V),n)||[])[0]))return u;v&&(n=n.parentNode),t=t.slice(c.shift().value.length)}for(o=H.needsContext.test(t)?0:c.length;o--&&(p=c[o],!l.relative[h=p.type]);)if((y=l.find[h])&&(f=y(p.matches[0].replace(z,V),j.test(c[0].type)&&re(n.parentNode)||n))){if(c.splice(o,1),!(t=f.length&&fe(c)))return s.default.apply(u,f),u;break}}return(v||he(t,x))(f,n,!E,u,!n||j.test(t)&&re(n.parentNode)||n),u}le.prototype=l.filters=l.pseudos,l.setFilters=new le,ue(),n.default.find=Q})()},488,[2,471,489,486,490,477,491,476,492,493,494,495,496,497]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(o,t){return o.nodeName&&o.nodeName.toLowerCase()===t.toLowerCase()};e.default=o},489,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.documentElement;e.default=u},490,[2,486]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.pop;e.default=u},491,[2,472]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default="[\\x20\\t\\r\\n\\f]"},492,[]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])),u=l(r(d[2])),f=t.default&&new RegExp(":enabled|:disabled|\\["+u.default+"*name"+u.default+"*="+u.default+"*(?:''|\"\")");e.default=f},493,[2,494,492]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.documentMode;e.default=u},494,[2,486]);
__d(function(g,r,i,a,m,e,d){r(d[0])(r(d[1])).default.contains=function(n,o){var t=9===n.nodeType?n.documentElement:n,c=o&&o.parentNode;return n===c||!(!c||1!==c.nodeType||!(t.contains?t.contains(c):n.compareDocumentPosition&&16&n.compareDocumentPosition(c)))}},495,[2,471]);
__d(function(g,r,i,a,m,e,d){var t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function n(t,n){return n?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}r(d[0])(r(d[1])).default.escapeSelector=function(c){return(c+"").replace(t,n)}},496,[2,471]);
__d(function(g,r,i,a,m,e,d){var t,n=r(d[0]),o=n(r(d[1])),u=n(r(d[2])),c=n(r(d[3]));function f(n,c){if(n===c)return t=!0,0;var f=!n.compareDocumentPosition-!c.compareDocumentPosition;return f||(1&(f=(n.ownerDocument||n)==(c.ownerDocument||c)?n.compareDocumentPosition(c):1)?n==u.default||n.ownerDocument==u.default&&o.default.contains(u.default,n)?-1:c==u.default||c.ownerDocument==u.default&&o.default.contains(u.default,c)?1:0:4&f?-1:1)}o.default.uniqueSort=function(n){var o,u=[],l=0,s=0;if(t=!1,c.default.call(n,f),t){for(;o=n[s++];)o===n[s]&&(l=u.push(s));for(;l--;)n.splice(u[l],1)}return n}},497,[2,471,486,498]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.sort;e.default=u},498,[2,472]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));r(d[2]),r(d[3]),r(d[4]),r(d[5]);var f=u.default;e.default=f},499,[2,471,500,503,504,510]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),u=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5]));r(d[6]),u.default.fn.extend({attr:function(t,n){return(0,o.default)(this,u.default.attr,t,n,arguments.length>1)},removeAttr:function(t){return this.each(function(){u.default.removeAttr(this,t)})}}),u.default.extend({attr:function(t,o,n){var f,l,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?u.default.prop(t,o,n):(1===s&&u.default.isXMLDoc(t)||(l=u.default.attrHooks[o.toLowerCase()]),void 0!==n?null===n?void u.default.removeAttr(t,o):l&&"set"in l&&void 0!==(f=l.set(t,n,o))?f:(t.setAttribute(o,n+""),n):l&&"get"in l&&null!==(f=l.get(t,o))?f:null==(f=t.getAttribute(o))?void 0:f)},attrHooks:{},removeAttr:function(t,u){var o,n=0,l=u&&u.match(f.default);if(l&&1===t.nodeType)for(;o=l[n++];)t.removeAttribute(o)}}),l.default&&(u.default.attrHooks.type={set:function(t,u){if("radio"===u&&(0,n.default)(t,"input")){var o=t.value;return t.setAttribute("type",u),o&&(t.value=o),u}}}),u.default.each(u.default.expr.match.bool.source.match(/\w+/g),function(t,o){u.default.attrHooks[o]={get:function(t){var n,f=u.default.isXMLDoc(t),l=o.toLowerCase();return f||(n=null!=t.getAttribute(o)?l:null),n},set:function(t,o,n){return!1===o?u.default.removeAttr(t,n):t.setAttribute(n,n),n}}})},500,[2,471,501,489,502,494,488]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(d[1])),t=l(r(d[2])),f=function l(f,u,o,c,v,_,b){var j=0,p=f.length,s=null==o;if('object'===(0,t.default)(o))for(j in v=!0,o)l(f,u,j,o[j],!0,_,b);else if(void 0!==c&&(v=!0,'function'!=typeof c&&(b=!0),s&&(b?(u.call(f,c),u=null):(s=u,u=function(l,t,f){return s.call((0,n.default)(l),f)})),u))for(;j<p;j++)u(f[j],o,b?c:c.call(f[j],j,u(f[j],o)));return v?f:s?u.call(f):p?u(f[0],o):_};e.default=f},501,[2,471,487]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/[^\x20\t\r\n\f]+/g},502,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),p=t(r(d[3]));r(d[4]);var l=/^(?:input|select|textarea|button)$/i,u=/^(?:a|area)$/i;n.default.fn.extend({prop:function(t,p){return(0,o.default)(this,n.default.prop,t,p,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[n.default.propFix[t]||t]})}}),n.default.extend({prop:function(t,o,p){var l,u,f=t.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.default.isXMLDoc(t)||(o=n.default.propFix[o]||o,u=n.default.propHooks[o]),void 0!==p?u&&"set"in u&&void 0!==(l=u.set(t,p,o))?l:t[o]=p:u&&"get"in u&&null!==(l=u.get(t,o))?l:t[o]},propHooks:{tabIndex:{get:function(t){var n=t.getAttribute("tabindex");return n?parseInt(n,10):l.test(t.nodeName)||u.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.default&&(n.default.propHooks.selected={get:function(t){var n=t.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(t){var n=t.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),n.default.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.default.propFix[this.toLowerCase()]=this})},503,[2,471,501,494,488]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),f=t(r(d[3]));function l(t){return t.getAttribute&&t.getAttribute("class")||""}function u(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(f.default)||[]}r(d[4]),s.default.fn.extend({addClass:function(t){var f,o,h,c,C,y,p,v=0;if("function"==typeof t)return this.each(function(n){(0,s.default)(this).addClass(t.call(this,n,l(this)))});if((f=u(t)).length)for(;o=this[v++];)if(c=l(o),h=1===o.nodeType&&" "+(0,n.default)(c)+" "){for(y=0;C=f[y++];)h.indexOf(" "+C+" ")<0&&(h+=C+" ");c!==(p=(0,n.default)(h))&&o.setAttribute("class",p)}return this},removeClass:function(t){var f,o,h,c,C,y,p,v=0;if("function"==typeof t)return this.each(function(n){(0,s.default)(this).removeClass(t.call(this,n,l(this)))});if(!arguments.length)return this.attr("class","");if((f=u(t)).length)for(;o=this[v++];)if(c=l(o),h=1===o.nodeType&&" "+(0,n.default)(c)+" "){for(y=0;C=f[y++];)for(;h.indexOf(" "+C+" ")>-1;)h=h.replace(" "+C+" "," ");c!==(p=(0,n.default)(h))&&o.setAttribute("class",p)}return this},toggleClass:function(t,n){return"function"==typeof t?this.each(function(f){(0,s.default)(this).toggleClass(t.call(this,f,l(this),n),n)}):"boolean"==typeof n?n?this.addClass(t):this.removeClass(t):this.each(function(){var n,f,l,o;for(f=0,l=(0,s.default)(this),o=u(t);n=o[f++];)l.hasClass(n)?l.removeClass(n):l.addClass(n)})},hasClass:function(t){var s,f,u=0;for(s=" "+t+" ";f=this[u++];)if(1===f.nodeType&&(" "+(0,n.default)(l(f))+" ").indexOf(s)>-1)return!0;return!1}})},504,[2,471,505,502,506]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));var n=function(t){return(t.match(u.default)||[]).join(" ")};e.default=n},505,[2,502]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),f=t(r(d[2])),u=t(r(d[3]));r(d[4]);var l,s=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(n.default.fn.init=function(t,h,o){var y,c;if(!t)return this;if(o=o||l,'string'==typeof t){if((c='<'===t[0]&&'>'===t[t.length-1]&&t.length>=3?[null,t,null]:s.exec(t))&&(c[1]||!h)){if(c[1]){if(h=h instanceof n.default?h[0]:h,n.default.merge(this,n.default.parseHTML(c[1],h&&h.nodeType?h.ownerDocument||h:f.default,!0)),u.default.test(c[1])&&n.default.isPlainObject(h))for(c in h)'function'==typeof this[c]?this[c](h[c]):this.attr(c,h[c]);return this}return(y=f.default.getElementById(c[2]))&&(this[0]=y,this.length=1),this}return!h||h.jquery?(h||o).find(t):this.constructor(h).find(t)}return t.nodeType?(this[0]=t,this.length=1,this):'function'==typeof t?void 0!==o.ready?o.ready(t):t(n.default):n.default.makeArray(t,this)}).prototype=n.default.fn,l=(0,n.default)(f.default)},506,[2,471,486,507,508]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i},507,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3]));function l(t,f,l){return"function"==typeof f?n.default.grep(t,function(t,n){return!!f.call(t,n,t)!==l}):f.nodeType?n.default.grep(t,function(t){return t===f!==l}):"string"!=typeof f?n.default.grep(t,function(t){return u.default.call(f,t)>-1!==l}):n.default.filter(f,t,l)}r(d[4]),n.default.filter=function(t,u,f){var l=u[0];return f&&(t=":not("+t+")"),1===u.length&&1===l.nodeType?n.default.find.matchesSelector(l,t)?[l]:[]:n.default.find.matches(t,n.default.grep(u,function(t){return 1===t.nodeType}))},n.default.fn.extend({find:function(t){var u,f,l=this.length,o=this;if("string"!=typeof t)return this.pushStack((0,n.default)(t).filter(function(){for(u=0;u<l;u++)if(n.default.contains(o[u],this))return!0}));for(f=this.pushStack([]),u=0;u<l;u++)n.default.find(t,o[u],f);return l>1?n.default.uniqueSort(f):f},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&f.default.test(t)?(0,n.default)(t):t||[],!1).length}})},508,[2,471,477,509,488]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));r(d[2]);var f=u.default.expr.match.needsContext;e.default=f},509,[2,471,488]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),l=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4]));r(d[5]),l.default.fn.extend({val:function(t){var n,u,o,f=this[0];return arguments.length?(o="function"==typeof t,this.each(function(u){var f;1===this.nodeType&&(null==(f=o?t.call(this,u,(0,l.default)(this).val()):t)?f="":"number"==typeof f?f+="":Array.isArray(f)&&(f=l.default.map(f,function(t){return null==t?"":t+""})),(n=l.default.valHooks[this.type]||l.default.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,f,"value")||(this.value=f))})):f?(n=l.default.valHooks[f.type]||l.default.valHooks[f.nodeName.toLowerCase()])&&"get"in n&&void 0!==(u=n.get(f,"value"))?u:null==(u=f.value)?"":u:void 0}}),l.default.extend({valHooks:{select:{get:function(t){var n,u,f,s=t.options,v=t.selectedIndex,c="select-one"===t.type,h=c?null:[],p=c?v+1:s.length;for(f=v<0?p:c?v:0;f<p;f++)if((u=s[f]).selected&&!u.disabled&&(!u.parentNode.disabled||!(0,o.default)(u.parentNode,"optgroup"))){if(n=(0,l.default)(u).val(),c)return n;h.push(n)}return h},set:function(t,n){for(var u,o,f=t.options,s=l.default.makeArray(n),v=f.length;v--;)((o=f[v]).selected=l.default.inArray((0,l.default)(o).val(),s)>-1)&&(u=!0);return u||(t.selectedIndex=-1),s}}}}),n.default&&(l.default.valHooks.option={get:function(t){var n=t.getAttribute("value");return null!=n?n:(0,u.default)(l.default.text(t))}}),l.default.each(["radio","checkbox"],function(){l.default.valHooks[this]={set:function(t,n){if(Array.isArray(n))return t.checked=l.default.inArray((0,l.default)(t).val(),n)>-1}}})},510,[2,471,494,505,489,506]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));t.default.parseXML=function(n){var l;if(!n||"string"!=typeof n)return null;try{l=(new window.DOMParser).parseFromString(n,"text/xml")}catch(t){l=void 0}return l&&!l.getElementsByTagName("parsererror").length||t.default.error("Invalid XML: "+n),l}},511,[2,471]);
__d(function(g,r,i,a,m,e,d){var n,o=r(d[0])(r(d[1]));void 0===(n=g||window||this).$&&(n.$=o.default)},512,[2,471]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2]));r(d[3]),n.default.fn.extend({text:function(t){return(0,u.default)(this,function(t){return void 0===t?n.default.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)}});var f=n.default;e.default=f},513,[2,471,501,506]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);t.NativeModules.WiFiStats&&((window.SariskaMediaTransport||(window.SariskaMediaTransport={}),window.SariskaMediaTransport.app||(window.SariskaMediaTransport.app={}),window.SariskaMediaTransport.app).getWiFiStats=t.NativeModules.WiFiStats.getWiFiStats)},514,[7]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0;var t={batch:!0},c=r(d[0]);Object.keys(c).forEach(function(s){"default"!==s&&"__esModule"!==s&&(Object.prototype.hasOwnProperty.call(t,s)||s in e&&e[s]===c[s]||(e[s]=c[s]))});var s=r(d[1]);e.batch=s.unstable_batchedUpdates,(0,r(d[2]).setBatch)(s.unstable_batchedUpdates)},515,[516,545,521]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;e.__esModule=!0;var o=t(r(d[1]));e.Provider=o.default;var c=t(r(d[2]));e.connectAdvanced=c.default;var u=r(d[3]);e.ReactReduxContext=u.ReactReduxContext;var s=t(r(d[4]));e.connect=s.default;var l=r(d[5]);e.useDispatch=l.useDispatch,e.createDispatchHook=l.createDispatchHook;var v=r(d[6]);e.useSelector=v.useSelector,e.createSelectorHook=v.createSelectorHook;var n=r(d[7]);e.useStore=n.useStore,e.createStoreHook=n.createStoreHook;var S=t(r(d[8]));e.shallowEqual=S.default},516,[2,517,523,519,529,541,544,542,530]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;e.__esModule=!0,e.default=void 0;var u=n(r(d[2])),o=(t(r(d[3])),r(d[4])),s=r(d[5]),c=r(d[6]);var f=function(t){var n=t.store,f=t.context,l=t.children,v=(0,u.useMemo)(function(){var t=(0,s.createSubscription)(n);return{store:n,subscription:t}},[n]),b=(0,u.useMemo)(function(){return n.getState()},[n]);(0,c.useIsomorphicLayoutEffect)(function(){var t=v.subscription;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),b!==n.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}},[v,b]);var S=f||o.ReactReduxContext;return u.default.createElement(S.Provider,{value:v},l)};e.default=f},517,[2,518,55,70,519,520,522]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]).default;function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(n=function(t){return t?u:o})(t)}m.exports=function(o,u){if(!u&&o&&o.__esModule)return o;if(null===o||"object"!==t(o)&&"function"!=typeof o)return{default:o};var f=n(u);if(f&&f.has(o))return f.get(o);var p={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if("default"!==l&&Object.prototype.hasOwnProperty.call(o,l)){var s=c?Object.getOwnPropertyDescriptor(o,l):null;s&&(s.get||s.set)?Object.defineProperty(p,l,s):p[l]=o[l]}return p.default=o,f&&f.set(o,p),p},m.exports.__esModule=!0,m.exports.default=m.exports},518,[15]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;e.__esModule=!0,e.default=e.ReactReduxContext=void 0;var u=t(r(d[1])).default.createContext(null);e.ReactReduxContext=u;var l=u;e.default=l},519,[2,55]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.createSubscription=function(u,c){var o,f=t;function s(){b.onStateChange&&b.onStateChange()}function l(){var t,l,b;o||(o=c?c.addNestedSub(s):u.subscribe(s),t=(0,n.getBatch)(),l=null,b=null,f={clear:function(){l=null,b=null},notify:function(){t(function(){for(var n=l;n;)n.callback(),n=n.next})},get:function(){for(var n=[],t=l;t;)n.push(t),t=t.next;return n},subscribe:function(n){var t=!0,u=b={callback:n,next:null,prev:b};return u.prev?u.prev.next=u:l=u,function(){t&&null!==l&&(t=!1,u.next?u.next.prev=u.prev:b=u.prev,u.prev?u.prev.next=u.next:l=u.next)}}})}var b={addNestedSub:function(n){return l(),f.subscribe(n)},notifyNestedSubs:function(){f.notify()},handleChangeWrapper:s,isSubscribed:function(){return Boolean(o)},trySubscribe:l,tryUnsubscribe:function(){o&&(o(),o=void 0,f.clear(),f=t)},getListeners:function(){return f}};return b};var n=r(d[0]);var t={notify:function(){},get:function(){return[]}}},520,[521]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.setBatch=e.getBatch=void 0;var t=function(t){t()};e.setBatch=function(n){return t=n};e.getBatch=function(){return t}},521,[]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.useIsomorphicLayoutEffect=void 0;var o=r(d[0]).useLayoutEffect;e.useIsomorphicLayoutEffect=o},522,[55]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;e.__esModule=!0,e.default=function(t,n){void 0===n&&(n={});var p=n,M=p.getDisplayName,E=void 0===M?function(t){return"ConnectAdvanced("+t+")"}:M,B=p.methodName,D=void 0===B?'connectAdvanced':B,P=p.renderCountProp,_=void 0===P?void 0:P,A=p.shouldHandleStateChanges,F=void 0===A||A,H=p.storeKey,K=void 0===H?'store':H,W=(p.withRef,p.forwardRef),T=void 0!==W&&W,U=p.context,I=void 0===U?v.ReactReduxContext:U,L=(0,o.default)(p,y),O=I;return function(n){var p=n.displayName||n.name||'Component',v=E(p),y=(0,u.default)({},L,{getDisplayName:E,methodName:D,renderCountProp:_,shouldHandleStateChanges:F,storeKey:K,displayName:v,wrappedComponentName:p,WrappedComponent:n}),M=L.pure;function B(n){return t(n.dispatch,y)}var P=M?f.useMemo:function(t){return t()};function A(t){var c=(0,f.useMemo)(function(){var n=t.reactReduxForwardedRef,u=(0,o.default)(t,C);return[t.context,n,u]},[t]),p=c[0],v=c[1],y=c[2],M=(0,f.useMemo)(function(){return p&&p.Consumer&&(0,l.isContextConsumer)(f.default.createElement(p.Consumer,null))?p:O},[p,O]),E=(0,f.useContext)(M),D=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),_=(Boolean(E)&&Boolean(E.store),D?t.store:E.store),A=(0,f.useMemo)(function(){return B(_)},[_]),H=(0,f.useMemo)(function(){if(!F)return R;var t=(0,s.createSubscription)(_,D?null:E.subscription),n=t.notifyNestedSubs.bind(t);return[t,n]},[_,D,E]),K=H[0],W=H[1],T=(0,f.useMemo)(function(){return D?E:(0,u.default)({},E,{subscription:K})},[D,E,K]),U=(0,f.useReducer)(N,h,b),I=U[0],L=I[0],j=U[1];if(L&&L.error)throw L.error;var k=(0,f.useRef)(),q=(0,f.useRef)(y),z=(0,f.useRef)(),G=(0,f.useRef)(!1),J=P(function(){return z.current&&y===q.current?z.current:A(_.getState(),y)},[_,L,y]);S(w,[q,k,G,y,J,z,W]),S(x,[F,_,K,A,q,k,G,z,W,j],[_,K,A]);var Q=(0,f.useMemo)(function(){return f.default.createElement(n,(0,u.default)({},J,{ref:v}))},[v,n,J]),V=(0,f.useMemo)(function(){return F?f.default.createElement(M.Provider,{value:T},Q):Q},[M,Q,T]);return V}var H=M?f.default.memo(A):A;if(H.WrappedComponent=n,H.displayName=A.displayName=v,T){var W=f.default.forwardRef(function(t,n){return f.default.createElement(H,(0,u.default)({},t,{reactReduxForwardedRef:n}))});return W.displayName=v,W.WrappedComponent=n,(0,c.default)(W,n)}return(0,c.default)(H,n)}};var u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),f=n(r(d[5])),l=r(d[6]),s=r(d[7]),p=r(d[8]),v=r(d[9]),y=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],C=["reactReduxForwardedRef"],h=[],R=[null,null];function N(t,n){var u=t[1];return[n.payload,u+1]}function S(t,n,u){(0,p.useIsomorphicLayoutEffect)(function(){return t.apply(void 0,n)},u)}function w(t,n,u,o,c,f,l){t.current=o,n.current=c,u.current=!1,f.current&&(f.current=null,l())}function x(t,n,u,o,c,f,l,s,p,v){if(t){var y=!1,C=null,h=function(){if(!y){var t,u,h=n.getState();try{t=o(h,c.current)}catch(t){u=t,C=t}u||(C=null),t===f.current?l.current||p():(f.current=t,s.current=t,l.current=!0,v({type:'STORE_UPDATED',payload:{error:u}}))}};u.onStateChange=h,u.trySubscribe(),h();return function(){if(y=!0,u.tryUnsubscribe(),u.onStateChange=null,C)throw C}}}var b=function(){return[null,0]}},523,[2,518,32,52,524,55,527,520,522,519]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},n={};function s(p){return t.isMemo(p)?y:n[p.$$typeof]||o}n[t.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n[t.Memo]=y;var c=Object.defineProperty,f=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,O=Object.getPrototypeOf,P=Object.prototype;m.exports=function t(o,y,n){if('string'!=typeof y){if(P){var v=O(y);v&&v!==P&&t(o,v,n)}var b=f(y);l&&(b=b.concat(l(y)));for(var j=s(o),T=s(y),$=0;$<b.length;++$){var x=b[$];if(!(p[x]||n&&n[x]||T&&T[x]||j&&j[x])){var h=u(y,x);try{c(o,x,h)}catch(t){}}}}return o}},524,[525]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},525,[526]);
__d(function(g,r,i,a,m,e,d){'use strict';var t="function"==typeof Symbol&&Symbol.for,o=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,c=t?Symbol.for("react.fragment"):60107,f=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,y=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,b=t?Symbol.for("react.forward_ref"):60112,S=t?Symbol.for("react.suspense"):60113,$=t?Symbol.for("react.suspense_list"):60120,C=t?Symbol.for("react.memo"):60115,M=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,P=t?Symbol.for("react.responder"):60118,v=t?Symbol.for("react.scope"):60119;function x(t){if("object"==typeof t&&null!==t){var $=t.$$typeof;switch($){case o:switch(t=t.type){case l:case p:case c:case s:case f:case S:return t;default:switch(t=t&&t.$$typeof){case y:case b:case M:case C:case u:return t;default:return $}}case n:return $}}}function F(t){return x(t)===p}e.AsyncMode=l,e.ConcurrentMode=p,e.ContextConsumer=y,e.ContextProvider=u,e.Element=o,e.ForwardRef=b,e.Fragment=c,e.Lazy=M,e.Memo=C,e.Portal=n,e.Profiler=s,e.StrictMode=f,e.Suspense=S,e.isAsyncMode=function(t){return F(t)||x(t)===l},e.isConcurrentMode=F,e.isContextConsumer=function(t){return x(t)===y},e.isContextProvider=function(t){return x(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return x(t)===b},e.isFragment=function(t){return x(t)===c},e.isLazy=function(t){return x(t)===M},e.isMemo=function(t){return x(t)===C},e.isPortal=function(t){return x(t)===n},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===f},e.isSuspense=function(t){return x(t)===S},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===c||t===p||t===s||t===f||t===S||t===$||"object"==typeof t&&null!==t&&(t.$$typeof===M||t.$$typeof===C||t.$$typeof===u||t.$$typeof===y||t.$$typeof===b||t.$$typeof===w||t.$$typeof===P||t.$$typeof===v||t.$$typeof===_)},e.typeOf=x},526,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},527,[528]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=60103,n=60106,o=60107,c=60108,u=60114,f=60109,s=60110,l=60112,y=60113,p=60120,$=60115,b=60116,v=60121,_=60122,C=60117,S=60129,w=60131;if("function"==typeof Symbol&&Symbol.for){var M=Symbol.for;t=M("react.element"),n=M("react.portal"),o=M("react.fragment"),c=M("react.strict_mode"),u=M("react.profiler"),f=M("react.provider"),s=M("react.context"),l=M("react.forward_ref"),y=M("react.suspense"),p=M("react.suspense_list"),$=M("react.memo"),b=M("react.lazy"),v=M("react.block"),_=M("react.server.block"),C=M("react.fundamental"),S=M("react.debug_trace_mode"),w=M("react.legacy_hidden")}function P(v){if("object"==typeof v&&null!==v){var _=v.$$typeof;switch(_){case t:switch(v=v.type){case o:case u:case c:case y:case p:return v;default:switch(v=v&&v.$$typeof){case s:case l:case b:case $:case f:return v;default:return _}}case n:return _}}}var x=f,h=t,F=l,j=o,z=b,E=$,k=n,L=u,R=c,A=y;e.ContextConsumer=s,e.ContextProvider=x,e.Element=h,e.ForwardRef=F,e.Fragment=j,e.Lazy=z,e.Memo=E,e.Portal=k,e.Profiler=L,e.StrictMode=R,e.Suspense=A,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return P(t)===s},e.isContextProvider=function(t){return P(t)===f},e.isElement=function(n){return"object"==typeof n&&null!==n&&n.$$typeof===t},e.isForwardRef=function(t){return P(t)===l},e.isFragment=function(t){return P(t)===o},e.isLazy=function(t){return P(t)===b},e.isMemo=function(t){return P(t)===$},e.isPortal=function(t){return P(t)===n},e.isProfiler=function(t){return P(t)===u},e.isStrictMode=function(t){return P(t)===c},e.isSuspense=function(t){return P(t)===y},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===u||t===S||t===c||t===y||t===p||t===w||"object"==typeof t&&null!==t&&(t.$$typeof===b||t.$$typeof===$||t.$$typeof===f||t.$$typeof===s||t.$$typeof===l||t.$$typeof===C||t.$$typeof===v||t[0]===_)},e.typeOf=P},528,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;e.__esModule=!0,e.createConnect=q,e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),p=t(r(d[4])),l=t(r(d[5])),s=t(r(d[6])),c=t(r(d[7])),f=t(r(d[8])),v=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function P(t,o,n){for(var u=o.length-1;u>=0;u--){var p=o[u](t);if(p)return p}return function(o,u){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+u.wrappedComponentName+".")}}function E(t,o){return t===o}function q(t){var q=void 0===t?{}:t,S=q.connectHOC,h=void 0===S?u.default:S,w=q.mapStateToPropsFactories,M=void 0===w?s.default:w,T=q.mapDispatchToPropsFactories,C=void 0===T?l.default:T,y=q.mergePropsFactories,D=void 0===y?c.default:y,F=q.selectorFactory,O=void 0===F?f.default:F;return function(t,u,l,s){void 0===s&&(s={});var c=s,f=c.pure,q=void 0===f||f,S=c.areStatesEqual,w=void 0===S?E:S,T=c.areOwnPropsEqual,y=void 0===T?p.default:T,F=c.areStatePropsEqual,_=void 0===F?p.default:F,N=c.areMergedPropsEqual,H=void 0===N?p.default:N,B=(0,n.default)(c,v),I=P(t,M,'mapStateToProps'),b=P(u,C,'mapDispatchToProps'),j=P(l,D,'mergeProps');return h(O,(0,o.default)({methodName:'connect',getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:I,initMapDispatchToProps:b,initMergeProps:j,pure:q,areStatesEqual:w,areOwnPropsEqual:y,areStatePropsEqual:_,areMergedPropsEqual:H},B))}}var S=q();e.default=S},529,[2,32,52,523,530,531,537,538,539]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){return t===n?0!==t||0!==n||1/t==1/n:t!=t&&n!=n}e.__esModule=!0,e.default=function(n,u){if(t(n,u))return!0;if('object'!=typeof n||null===n||'object'!=typeof u||null===u)return!1;var o=Object.keys(n),f=Object.keys(u);if(o.length!==f.length)return!1;for(var l=0;l<o.length;l++)if(!Object.prototype.hasOwnProperty.call(u,o[l])||!t(n[o[l]],u[o[l]]))return!1;return!0}},530,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;e.__esModule=!0,e.default=void 0,e.whenMapDispatchToPropsIsFunction=p,e.whenMapDispatchToPropsIsMissing=s,e.whenMapDispatchToPropsIsObject=u;var t=o(r(d[1])),n=r(d[2]);function p(o){return'function'==typeof o?(0,n.wrapMapToPropsFunc)(o,'mapDispatchToProps'):void 0}function s(o){return o?void 0:(0,n.wrapMapToPropsConstant)(function(o){return{dispatch:o}})}function u(o){return o&&'object'==typeof o?(0,n.wrapMapToPropsConstant)(function(n){return(0,t.default)(o,n)}):void 0}var c=[p,s,u];e.default=c},531,[2,532,533]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=function(n,t){var u={},o=function(o){var f=n[o];'function'==typeof f&&(u[o]=function(){return t(f.apply(void 0,arguments))})};for(var f in n)o(f);return u}},532,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;e.__esModule=!0,e.getDependsOnOwnProps=o,e.wrapMapToPropsConstant=function(n){return function(o,p){var s=n(o,p);function t(){return s}return t.dependsOnOwnProps=!1,t}},e.wrapMapToPropsFunc=function(n,p){return function(p,s){s.displayName;var t=function(n,o){return t.dependsOnOwnProps?t.mapToProps(n,o):t.mapToProps(n)};return t.dependsOnOwnProps=!0,t.mapToProps=function(p,s){t.mapToProps=n,t.dependsOnOwnProps=o(n);var u=t(p,s);return'function'==typeof u&&(t.mapToProps=u,t.dependsOnOwnProps=o(u),u=t(p,s)),u},t}};n(r(d[1]));function o(n){return null!==n.dependsOnOwnProps&&void 0!==n.dependsOnOwnProps?Boolean(n.dependsOnOwnProps):1!==n.length}},533,[2,534]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;e.__esModule=!0,e.default=function(t,f,l){(0,u.default)(t)||(0,n.default)(l+"() in "+f+" must return a plain object. Instead received "+t+".")};var u=t(r(d[1])),n=t(r(d[2]))},534,[2,535,536]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=function(t){if('object'!=typeof t||null===t)return!1;var o=Object.getPrototypeOf(t);if(null===o)return!0;var u=o;for(;null!==Object.getPrototypeOf(u);)u=Object.getPrototypeOf(u);return o===u}},535,[]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=function(o){'undefined'!=typeof console&&'function'==typeof console.error&&console.error(o);try{throw new Error(o)}catch(o){}}},536,[]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=void 0,e.whenMapStateToPropsIsFunction=t,e.whenMapStateToPropsIsMissing=n;var o=r(d[0]);function t(t){return'function'==typeof t?(0,o.wrapMapToPropsFunc)(t,'mapStateToProps'):void 0}function n(t){return t?void 0:(0,o.wrapMapToPropsConstant)(function(){return{}})}var u=[t,n];e.default=u},537,[533]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;e.__esModule=!0,e.default=void 0,e.defaultMergeProps=u,e.whenMergePropsIsFunction=f,e.whenMergePropsIsOmitted=c,e.wrapMergePropsFunc=o;var t=n(r(d[1]));n(r(d[2]));function u(n,u,o){return(0,t.default)({},o,n,u)}function o(n){return function(t,u){u.displayName;var o,f=u.pure,c=u.areMergedPropsEqual,s=!1;return function(t,u,p){var l=n(t,u,p);return s?f&&c(l,o)||(o=l):(s=!0,o=l),o}}}function f(n){return'function'==typeof n?o(n):void 0}function c(n){return n?void 0:function(){return u}}var s=[f,c];e.default=s},538,[2,32,534]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;e.__esModule=!0,e.default=function(n,s){var c=s.initMapStateToProps,P=s.initMapDispatchToProps,l=s.initMergeProps,f=(0,t.default)(s,o),M=c(n,f),O=P(n,f),S=l(n,f);return(f.pure?u:p)(M,O,S,n,f)},e.impureFinalPropsSelectorFactory=p,e.pureFinalPropsSelectorFactory=u;var t=n(r(d[1])),o=(n(r(d[2])),["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);function p(n,t,o,p){return function(u,s){return o(n(u,s),t(p,s),s)}}function u(n,t,o,p,u){var s,c,P,l,f,M=u.areStatesEqual,O=u.areOwnPropsEqual,S=u.areStatePropsEqual,v=!1;function w(u,v){var w,F,T=!O(v,c),_=!M(u,s,v,c);return s=u,c=v,T&&_?(P=n(s,c),t.dependsOnOwnProps&&(l=t(p,c)),f=o(P,l,c)):T?(n.dependsOnOwnProps&&(P=n(s,c)),t.dependsOnOwnProps&&(l=t(p,c)),f=o(P,l,c)):_?(w=n(s,c),F=!S(w,P),P=w,F&&(f=o(P,l,c)),f):f}return function(u,M){return v?w(u,M):(P=n(s=u,c=M),l=t(p,c),f=o(P,l,c),v=!0,f)}}},539,[2,52,540]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;e.__esModule=!0,e.default=function(o,t,n,s){p(o,'mapStateToProps',s),p(t,'mapDispatchToProps',s),p(n,'mergeProps',s)};var t=o(r(d[1]));function p(o,p,n){if(!o)throw new Error("Unexpected value for "+p+" in "+n+".");'mapStateToProps'!==p&&'mapDispatchToProps'!==p||Object.prototype.hasOwnProperty.call(o,'dependsOnOwnProps')||(0,t.default)("The selector for "+p+" of "+n+" did not specify a value for dependsOnOwnProps.")}},540,[2,536]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.createDispatchHook=c,e.useDispatch=void 0;var t=r(d[0]),o=r(d[1]);function c(c){void 0===c&&(c=t.ReactReduxContext);var u=c===t.ReactReduxContext?o.useStore:(0,o.createStoreHook)(c);return function(){return u().dispatch}}var u=c();e.useDispatch=u},541,[519,542]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.createStoreHook=n,e.useStore=void 0;var t=r(d[0]),o=r(d[1]),u=r(d[2]);function n(n){void 0===n&&(n=o.ReactReduxContext);var c=n===o.ReactReduxContext?u.useReduxContext:function(){return(0,t.useContext)(n)};return function(){return c().store}}var c=n();e.useStore=c},542,[55,519,543]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.useReduxContext=function(){return(0,t.useContext)(u.ReactReduxContext)};var t=r(d[0]),u=r(d[1])},543,[55,519]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.createSelectorHook=v,e.useSelector=void 0;var t=r(d[0]),u=r(d[1]),n=r(d[2]),c=r(d[3]),o=r(d[4]),s=function(t,u){return t===u};function f(u,o,s,f){var v,R=(0,t.useReducer)(function(t){return t+1},0)[1],h=(0,t.useMemo)(function(){return(0,n.createSubscription)(s,f)},[s,f]),b=(0,t.useRef)(),S=(0,t.useRef)(),l=(0,t.useRef)(),x=(0,t.useRef)(),y=s.getState();try{if(u!==S.current||y!==l.current||b.current){var p=u(y);v=void 0!==x.current&&o(p,x.current)?x.current:p}else v=x.current}catch(t){throw b.current&&(t.message+="\nThe error may be correlated with this previous error:\n"+b.current.stack+"\n\n"),t}return(0,c.useIsomorphicLayoutEffect)(function(){S.current=u,l.current=y,x.current=v,b.current=void 0}),(0,c.useIsomorphicLayoutEffect)(function(){function t(){try{var t=s.getState();if(t===l.current)return;var u=S.current(t);if(o(u,x.current))return;x.current=u,l.current=t}catch(t){b.current=t}R()}return h.onStateChange=t,h.trySubscribe(),t(),function(){return h.tryUnsubscribe()}},[s,h]),v}function v(n){void 0===n&&(n=o.ReactReduxContext);var c=n===o.ReactReduxContext?u.useReduxContext:function(){return(0,t.useContext)(n)};return function(u,n){void 0===n&&(n=s);var o=c(),v=f(u,n,o.store,o.subscription);return(0,t.useDebugValue)(v),v}}var R=v();e.useSelector=R},544,[55,543,520,522,519]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0;var t=r(d[0]);e.unstable_batchedUpdates=t.unstable_batchedUpdates},545,[7]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.store=void 0;var o=r(d[0]),t=r(d[1]),c=(0,o.createStore)(t.rootReducer);e.store=c},546,[547,549]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);var n,o=(n=t)&&'object'==typeof n&&'default'in n?n:{default:n};function f(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var u='function'==typeof Symbol&&Symbol.observable||'@@observable',c=function(){return Math.random().toString(36).substring(7).split('').join('.')},p={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function l(t){if('object'!=typeof t||null===t)return!1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}function y(t,n,o){var c;if('function'==typeof n&&'function'==typeof o||'function'==typeof o&&'function'==typeof arguments[3])throw new Error(f(0));if('function'==typeof n&&void 0===o&&(o=n,n=void 0),void 0!==o){if('function'!=typeof o)throw new Error(f(1));return o(y)(t,n)}if('function'!=typeof t)throw new Error(f(2));var v=t,h=n,s=[],w=s,E=!1;function b(){w===s&&(w=s.slice())}function O(){if(E)throw new Error(f(3));return h}function N(t){if('function'!=typeof t)throw new Error(f(4));if(E)throw new Error(f(5));var n=!0;return b(),w.push(t),function(){if(n){if(E)throw new Error(f(6));n=!1,b();var o=w.indexOf(t);w.splice(o,1),s=null}}}function _(t){if(!l(t))throw new Error(f(7));if(void 0===t.type)throw new Error(f(8));if(E)throw new Error(f(9));try{E=!0,h=v(h,t)}finally{E=!1}for(var n=s=w,o=0;o<n.length;o++){(0,n[o])()}return t}return _({type:p.INIT}),(c={dispatch:_,subscribe:N,getState:O,replaceReducer:function(t){if('function'!=typeof t)throw new Error(f(10));v=t,_({type:p.REPLACE})}})[u]=function(){var t,n=N;return(t={subscribe:function(t){if('object'!=typeof t||null===t)throw new Error(f(11));function o(){t.next&&t.next(O())}return o(),{unsubscribe:n(o)}}})[u]=function(){return this},t},c}var v=y;function h(t){Object.keys(t).forEach(function(n){var o=t[n];if(void 0===o(void 0,{type:p.INIT}))throw new Error(f(12));if(void 0===o(void 0,{type:p.PROBE_UNKNOWN_ACTION()}))throw new Error(f(13))})}function s(t,n){return function(){return n(t.apply(this,arguments))}}function w(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return 0===n.length?function(t){return t}:1===n.length?n[0]:n.reduce(function(t,n){return function(){return t(n.apply(void 0,arguments))}})}e.__DO_NOT_USE__ActionTypes=p,e.applyMiddleware=function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return function(t){return function(){var u=t.apply(void 0,arguments),c=function(){throw new Error(f(15))},p={getState:u.getState,dispatch:function(){return c.apply(void 0,arguments)}},l=n.map(function(t){return t(p)});return c=w.apply(void 0,l)(u.dispatch),o.default(o.default({},u),{},{dispatch:c})}}},e.bindActionCreators=function(t,n){if('function'==typeof t)return s(t,n);if('object'!=typeof t||null===t)throw new Error(f(16));var o={};for(var u in t){var c=t[u];'function'==typeof c&&(o[u]=s(c,n))}return o},e.combineReducers=function(t){for(var n=Object.keys(t),o={},u=0;u<n.length;u++){var c=n[u];'function'==typeof t[c]&&(o[c]=t[c])}var p,l=Object.keys(o);try{h(o)}catch(t){p=t}return function(t,n){if(void 0===t&&(t={}),p)throw p;for(var u=!1,c={},y=0;y<l.length;y++){var v=l[y],h=o[v],s=t[v],w=h(s,n);if(void 0===w)throw n&&n.type,new Error(f(14));c[v]=w,u=u||w!==s}return(u=u||l.length!==Object.keys(t).length)?c:t}},e.compose=w,e.createStore=y,e.legacy_createStore=v},547,[548]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function o(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);o&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,c)}return n}m.exports=function(n){for(var c=1;c<arguments.length;c++){var p=null!=arguments[c]?arguments[c]:{};c%2?o(Object(p),!0).forEach(function(o){t(n,o,p[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(p)):o(Object(p)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(p,t))})}return n},m.exports.__esModule=!0,m.exports.default=m.exports},548,[253]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.rootReducer=e.appReducer=void 0;var c=r(d[0]),o=r(d[1]),n=r(d[2]),t=r(d[3]),u=r(d[4]),s=r(d[5]),p=(0,c.combineReducers)({conference:o.conference,connection:n.connection,localTrack:t.localTrack,remoteTrack:u.remoteTrack,sariskaMediaTransport:s.sariskaMediaTransport});e.appReducer=p;e.rootReducer=function(c,o){return p(c,o)}},549,[547,550,793,794,795,796]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.conference=void 0;var n=r(d[0]);e.conference=function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.ADD_CONFERENCE:return E=t.payload;case n.REMOVE_CONFERENCE:return E=null;case n.CONFERENCE_ACTION:if(null===E)return;var l=t.param1,u=t.param2,c=t.method;return E[c](l,u),c===n.CONFERENCE_LEAVE&&(E=null),E;default:return E}}},550,[551]);
__d(function(g,r,i,a,m,e,d){var E=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.USER_STATUS_CHANGED=e.USER_ROLE_CHANGED=e.USER_LEFT=e.USER_JOINED=e.UPDATE_REMOTE_TRACK=e.UPDATE_LOCAL_TRACK=e.TRACK_REMOVED=e.TRACK_MUTE_CHANGED=e.TRACK_AUDIO_LEVEL_CHANGED=e.TRACK_ADDED=e.TALK_WHILE_MUTED=e.SWITCH_CAMERA=e.SUBTITLES_RECEIVED=e.SUBJECT_CHANGED=e.STOP_SIP_VIDEO_CALLING=e.START_SIP_VIDEO_CALLING=e.START_RECORDING=e.START_MUTED_POLICY_CHANGED=e.STARTED_MUTED=e.SARISKA_MEDIA_TRANSPORT_ACTION=e.REPLACE_TRACK=e.REMOVE_TRACK=e.REMOVE_REMOTE_TRACK=e.REMOVE_LOCAL_TRACK=e.REMOVE_CONNECTION=e.REMOVE_CONFERENCE=e.REMOVE_ALL_REMOTE_TRACK=e.REMOVE_ALL_LOCAL_TRACK=e.REMOTE_TRACK_ACTION=e.REMOTE_STATS_UPDATED=e.RECORDER_STATE_CHANGED=e.PASSWORD_REQUIRED=e.PARTICIPANT_PROPERTY_CHANGED=e.PARTICIPANT_KICKED=e.NO_AUDIO_INPUT=e.NOISY_MIC=e.MESSAGE_RECEIVED=e.MEMBERS_ONLY_CHANGED=e.LOCAL_TRACK_ACTION=e.LOCAL_STATS_UPDATED=e.LOBBY_USER_UPDATED=e.LOBBY_USER_LEFT=e.LOBBY_USER_JOINED=e.LAST_N_ENDPOINTS_CHANGED=e.KICKED=e.INIT_SDK=e.ENDPOINT_MESSAGE_RECEIVED=e.DTMF_SUPPORT_CHANGED=e.DOMINANT_SPEAKER_CHANGED=e.DISPLAY_NAME_CHANGED=e.CREATE_LOCAL_TRACKS=e.CREATE_CONNECTION=e.CREATE_CONFERENCE=e.CONNECTION_FAILED=e.CONNECTION_ESTABLISHED=e.CONNECTION_DISCONNECTED=e.CONNECTION_DISCONNECT=e.CONNECTION_ACTION=e.CONFERENCE_UNIQUE_ID_SET=e.CONFERENCE_LEFT=e.CONFERENCE_LEAVE=e.CONFERENCE_JOINED=e.CONFERENCE_FAILED=e.CONFERENCE_ERROR=e.CONFERENCE_ACTION=e.BEFORE_STATISTICS_DISPOSED=e.AUTH_STATUS_CHANGED=e.AUDIO_INPUT_STATE_CHANGE=e.ANALYTICS_EVENT_RECEIVED=e.ADD_TRACK=e.ADD_REMOTE_TRACK=e.ADD_LOCAL_TRACK=e.ADD_CONNECTION=e.ADD_CONFERENCE=void 0;E(r(d[1]));e.ADD_LOCAL_TRACK='ADD_LOCAL_TRACK';e.UPDATE_LOCAL_TRACK='UPDATE_LOCAL_TRACK';e.REMOVE_LOCAL_TRACK='REMOVE_LOCAL_TRACK';e.LOCAL_TRACK_ACTION='LOCAL_TRACK_ACTION';e.ADD_REMOTE_TRACK='ADD_REMOTE_TRACK';e.UPDATE_REMOTE_TRACK='UPDATE_REMOTE_TRACK';e.REMOVE_REMOTE_TRACK='REMOVE_REMOTE_TRACK';e.REMOTE_TRACK_ACTION='REMOTE_TRACK_ACTION';e.ADD_CONFERENCE='ADD_CONFERENCE';e.ADD_CONNECTION='ADD_CONNECTION';e.CONNECTION_ACTION='CONNECTION_ACTION';e.CONFERENCE_ACTION='CONFERENCE_ACTION';e.REMOVE_CONFERENCE='REMOVE_CONFERENCE';e.SWITCH_CAMERA="SWITCH_CAMERA";e.ADD_TRACK="addTrack";e.REMOVE_TRACK="removeTrack";e.REPLACE_TRACK="replaceTrack";e.CREATE_LOCAL_TRACKS="CREATE_LOCAL_TRACKS";e.INIT_SDK="INIT_SDK";e.CREATE_CONNECTION="CREATE_CONNECTION";e.CREATE_CONFERENCE="CREATE_CONFERENCE";e.REMOVE_CONNECTION="REMOVE_CONNECTION";e.SARISKA_MEDIA_TRANSPORT_ACTION="SARISKA_MEDIA_TRANSPORT_ACTION";e.CONNECTION_ESTABLISHED="CONNECTION_ESTABLISHED";e.CONNECTION_DISCONNECTED="CONNECTION_DISCONNECTED";e.CONNECTION_FAILED="CONNECTION_FAILED";e.CONFERENCE_JOINED="CONFERENCE_JOINED";e.CONFERENCE_LEFT="CONFERENCE_LEFT";e.TRACK_AUDIO_LEVEL_CHANGED="TRACK_AUDIO_LEVEL_CHANGED";e.DOMINANT_SPEAKER_CHANGED="DOMINANT_SPEAKER_CHANGED";e.USER_JOINED="USER_JOINED";e.USER_LEFT="USER_LEFT";e.MESSAGE_RECEIVED="MESSAGE_RECEIVED";e.DISPLAY_NAME_CHANGED="DISPLAY_NAME_CHANGED";e.SUBJECT_CHANGED="SUBJECT_CHANGED";e.LAST_N_ENDPOINTS_CHANGED="LAST_N_ENDPOINTS_CHANGED";e.CONFERENCE_UNIQUE_ID_SET="CONFERENCE_UNIQUE_ID_SET";e.DTMF_SUPPORT_CHANGED="DTMF_SUPPORT_CHANGED";e.USER_ROLE_CHANGED="USER_ROLE_CHANGED";e.USER_STATUS_CHANGED="USER_STATUS_CHANGED";e.CONFERENCE_FAILED="CONFERENCE_FAILED";e.CONFERENCE_ERROR="CONFERENCE_ERROR";e.KICKED="KICKED";e.PARTICIPANT_KICKED="PARTICIPANT_KICKED";e.START_MUTED_POLICY_CHANGED="START_MUTED_POLICY_CHANGED";e.STARTED_MUTED="STARTED_MUTED";e.BEFORE_STATISTICS_DISPOSED="BEFORE_STATISTICS_DISPOSED";e.ENDPOINT_MESSAGE_RECEIVED="ENDPOINT_MESSAGE_RECEIVED";e.AUTH_STATUS_CHANGED="AUTH_STATUS_CHANGED";e.TALK_WHILE_MUTED="TALK_WHILE_MUTED";e.NO_AUDIO_INPUT="NO_AUDIO_INPUT";e.AUDIO_INPUT_STATE_CHANGE="AUDIO_INPUT_STATE_CHANGE";e.NOISY_MIC="NOISY_MIC";e.PARTICIPANT_PROPERTY_CHANGED="PARTICIPANT_PROPERTY_CHANGED";e.LOCAL_STATS_UPDATED="LOCAL_STATS_UPDATED";e.REMOTE_STATS_UPDATED="REMOTE_STATS_UPDATED";e.TRACK_ADDED="TRACK_ADDED";e.TRACK_REMOVED="TRACK_REMOVED";e.TRACK_MUTE_CHANGED="TRACK_MUTE_CHANGED";e.CONFERENCE_LEAVE="leave";e.CONNECTION_DISCONNECT="disconnect";e.REMOVE_ALL_REMOTE_TRACK="REMOVE_ALL_REMOTE_TRACK";e.REMOVE_ALL_LOCAL_TRACK="REMOVE_ALL_LOCAL_TRACK";e.LOBBY_USER_JOINED="LOBBY_USER_JOINED";e.LOBBY_USER_UPDATED="LOBBY_USER_UPDATED";e.LOBBY_USER_LEFT="LOBBY_USER_LEFT";e.MEMBERS_ONLY_CHANGED="MEMBERS_ONLY_CHANGED";e.RECORDER_STATE_CHANGED="RECORDER_STATE_CHANGED";e.START_RECORDING="startRecording";e.PASSWORD_REQUIRED="PASSWORD_REQUIRED";e.START_SIP_VIDEO_CALLING="startSIPVideoCall";e.STOP_SIP_VIDEO_CALLING="stopSIPVideoCall";e.ANALYTICS_EVENT_RECEIVED="analyticsEventReceived";e.SUBTITLES_RECEIVED="SubtitlesReceived"},551,[2,552]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).default},552,[553]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));r(d[2]);var o=t(r(d[3])),s=Q(r(d[4])),c=Q(r(d[5])),l=t(r(d[6])),u=Q(r(d[7])),f=Q(r(d[8])),v=t(r(d[9])),p=Q(r(d[10])),b=t(r(d[11])),y=Q(r(d[12])),S=Q(r(d[13])),w=Q(r(d[14])),h=t(r(d[15])),O=t(r(d[16])),E=t(r(d[17])),A=r(d[18]),T=r(d[19]),D=t(r(d[20])),L=Q(r(d[21])),_=t(r(d[22])),P=t(r(d[23])),k=t(r(d[24])),M=t(r(d[25])),C=t(r(d[26])),I=t(r(d[27])),G=t(r(d[28])),j=t(r(d[29])),U=t(r(d[30])),H=t(r(d[31])),N=t(r(d[32])),R=Q(r(d[33])),J=t(r(d[34])),W=r(d[35]),x=Q(r(d[36])),V=Q(r(d[37])),q=r(d[38]),B=r(d[39]),F=r(d[40]),K=Q(r(d[41]));function z(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(z=function(t){return t?o:n})(t)}function Q(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=z(n);if(o&&o.has(t))return o.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var u=c?Object.getOwnPropertyDescriptor(t,l):null;u&&(u.get||u.set)?Object.defineProperty(s,l,u):s[l]=t[l]}return s.default=t,o&&o.set(t,s),s}function $(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=X(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X(t,n){if(t){if("string"==typeof t)return Y(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Y(t,n):void 0}}function Y(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var Z=this&&this.__rest||function(t,n){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(o[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(s=Object.getOwnPropertySymbols(t);c<s.length;c++)n.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(t,s[c])&&(o[s[c]]=t[s[c]])}return o},ee=o.default.getLogger(__filename);function te(t){var n={audio_requested:t.devices.includes('audio'),video_requested:t.devices.includes('video'),screen_sharing_requested:t.devices.includes('desktop')};return n.video_requested&&(n.resolution=t.resolution),n}var ne,ie=(ne={version:'{#COMMIT_HASH#}',JitsiConnection:l.default,ProxyConnectionService:k.default,effects:{createPresenterEffect:B.createPresenterEffect,createRnnoiseProcessor:B.createRnnoiseProcessor,createScreenshotCaptureEffect:B.createScreenshotCaptureEffect,createVirtualBackgroundEffect:B.createVirtualBackgroundEffect},constants:{participantConnectionStatus:A.ParticipantConnectionStatus,recording:M.default,sipVideoGW:R,transcriptionStatus:w,trackStreamingStatus:T.TrackStreamingStatus},events:{conference:c,connection:f,detection:L,track:S,mediaDevices:p,connectionQuality:x,e2eping:V},errors:{conference:s,connection:u,track:y},errorTypes:{JitsiTrackError:b.default},logLevels:o.default.levels,mediaDevices:v.default,analytics:j.default.analytics,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.init(t)},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t=(0,n.default)((0,n.default)({},F.initSDKConfig),t),C.default.init(t.externalStorage),j.default.init(t),void 0!==t.enableUnifiedOnChrome&&t.flags&&(t.flags.enableUnifiedOnChrome=t.enableUnifiedOnChrome),P.default.init(t.flags||{}),window.connectionTimes||(window.connectionTimes={}),!0!==t.enableAnalyticsLogging&&(ee.warn('Analytics disabled, disposing.'),this.analytics.dispose()),t.enableWindowOnErrorHandler&&H.default.addHandler(this.getGlobalOnErrorHandler.bind(this)),this.version){var o={id:'component_version',component:'sariska-media-transport',version:this.version};j.default.sendLog(JSON.stringify(o))}return h.default.init(t)},isDesktopSharingEnabled:function(){return h.default.isDesktopSharingEnabled()},isWebRtcSupported:function(){return h.default.isWebRtcSupported()},setLogLevel:function(t){o.default.setLogLevel(t)},setLogLevelById:function(t,n){o.default.setLogLevelById(t,n)},addGlobalLogTransport:function(t){o.default.addGlobalTransport(t)},removeGlobalLogTransport:function(t){o.default.removeGlobalTransport(t)},setGlobalLogOptions:function(t){o.default.setGlobalOptions(t)},createLocalTracks:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(window.location.href.indexOf("iAmRecorder")>=0)return[];var s=!1,c=n.firePermissionPromptIsShownEvent,l=n.fireSlowPromiseEvent,u=Z(n,["firePermissionPromptIsShownEvent","fireSlowPromiseEvent"]);return(c||o)&&!h.default.arePermissionsGrantedForAvailableDevices()?v.default.emitEvent(p.PERMISSION_PROMPT_IS_SHOWN,O.default.getName()):l&&window.setTimeout(function(){s||v.default.emitEvent(p.SLOW_GET_USER_MEDIA)},1e3),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes['obtainPermissions.start']=window.performance.now(),h.default.obtainAudioAndVideoPermissions(u).then(function(n){if(s=!0,window.connectionTimes['obtainPermissions.end']=window.performance.now(),j.default.sendAnalytics((0,q.createGetUserMediaEvent)('success',te(u))),!h.default.options.disableAudioLevels)for(var o=function(){var t=n[c],o=t.getOriginalStream();t.getType()===W.MediaType.AUDIO&&(j.default.startLocalStats(o,t.setAudioLevel.bind(t)),t.addEventListener(S.LOCAL_TRACK_STOPPED,function(){j.default.stopLocalStats(o)}))},c=0;c<n.length;c++)o();var l=h.default.getCurrentlyAvailableMediaDevices();if(l)for(var f=0;f<n.length;f++){n[f]._setRealDeviceIdFromDeviceList(l)}for(var v,p=$(n);!(v=p()).done;){var b=v.value;b.type===W.MediaType.VIDEO&&'desktop'===b.videoType&&t.setVideoTrackContentHints(b.track,'detail')}return n}).catch(function(t){if(s=!0,t.name===y.SCREENSHARING_USER_CANCELED){var o={id:'screensharing_user_canceled',message:t.message};j.default.sendLog(JSON.stringify(o)),j.default.sendAnalytics((0,q.createGetUserMediaEvent)('warning',{reason:'extension install user canceled'}))}else if(t.name===y.NOT_FOUND){var c={id:'usermedia_missing_device',status:t.gum.devices};j.default.sendLog(JSON.stringify(c));var l=te(n);l.reason='device not found',l.devices=t.gum.devices.join('.'),j.default.sendAnalytics((0,q.createGetUserMediaEvent)('error',l))}else{j.default.sendGetUserMediaFailed(t);var u=te(n);u.reason=t.name,j.default.sendAnalytics((0,q.createGetUserMediaEvent)('error',u))}return window.connectionTimes['obtainPermissions.end']=window.performance.now(),Promise.reject(t)})},createTrackVADEmitter:function(t,n,o){return _.default.create(t,n,o)},createAudioMixer:function(){return new J.default},getActiveAudioDevice:function(){return(0,D.default)()},isDeviceListAvailable:function(){return ee.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(t){return ee.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(t)},isMultipleAudioInputSupported:function(){return this.mediaDevices.isMultipleAudioInputSupported()},isCollectingLocalStats:function(){return j.default.audioLevelsEnabled&&I.default.isLocalStatsSupported()},enumerateDevices:function(t){ee.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(t)},getGlobalOnErrorHandler:function(t,n,o,s,c){ee.error("UnhandledError: "+t,"Script: "+n,"Line: "+o,"Column: "+s,'StackTrace: ',c),j.default.reportGlobalError(c)},setNetworkInfo:function(t){var n=t.isOnline;j.default.sendAnalytics(K.createNetworkInfoEvent({isOnline:n})),E.default.updateNetworkInfo({isOnline:n})},setVideoTrackContentHints:function(t,n){'contentHint'in t?(t.contentHint=n,t.contentHint!==n&&ee.debug('Invalid video track contentHint')):ee.debug('MediaStreamTrack contentHint attribute not supported')},precallTest:G.default,util:{AuthUtil:U.default,ScriptUtil:N.default,browser:O.default}},'object'==typeof window.SariskaMediaTransport?(0,n.default)({},window.SariskaMediaTransport,ne):ne);e.default=ie},553,[2,32,470,435,554,555,556,604,601,762,763,564,565,599,638,669,568,631,598,705,764,712,716,590,765,768,643,585,769,563,770,584,580,757,771,589,710,721,566,772,761,792]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e.VIDEOBRIDGE_NOT_AVAILABLE=e.SETTINGS_ERROR=e.RESERVATION_ERROR=e.PASSWORD_REQUIRED=e.PASSWORD_NOT_SUPPORTED=e.OFFER_ANSWER_FAILED=e.NOT_ALLOWED_ERROR=e.MEMBERS_ONLY_ERROR=e.JitsiConferenceErrors=e.INCOMPATIBLE_SERVER_VERSIONS=e.ICE_FAILED=e.GRACEFUL_SHUTDOWN=e.FOCUS_LEFT=e.FOCUS_DISCONNECTED=e.CONNECTION_ERROR=e.CONFERENCE_RESTARTED=e.CONFERENCE_MAX_USERS=e.CONFERENCE_DESTROYED=e.CONFERENCE_ACCESS_DENIED=e.CHAT_ERROR=e.AUTHENTICATION_REQUIRED=void 0,e.JitsiConferenceErrors=E,(function(E){E.AUTHENTICATION_REQUIRED="conference.authenticationRequired",E.CHAT_ERROR="conference.chatError",E.SETTINGS_ERROR="conference.settingsError",E.CONFERENCE_DESTROYED="conference.destroyed",E.CONFERENCE_MAX_USERS="conference.max_users",E.CONNECTION_ERROR="conference.connectionError",E.CONFERENCE_RESTARTED="conference.restarted",E.NOT_ALLOWED_ERROR="conference.connectionError.notAllowed",E.MEMBERS_ONLY_ERROR="conference.connectionError.membersOnly",E.CONFERENCE_ACCESS_DENIED="conference.connectionError.accessDenied",E.FOCUS_DISCONNECTED="conference.focusDisconnected",E.FOCUS_LEFT="conference.focusLeft",E.GRACEFUL_SHUTDOWN="conference.gracefulShutdown",E.ICE_FAILED="conference.iceFailed",E.INCOMPATIBLE_SERVER_VERSIONS="conference.incompatible_server_versions",E.OFFER_ANSWER_FAILED="conference.offerAnswerFailed",E.PASSWORD_NOT_SUPPORTED="conference.passwordNotSupported",E.PASSWORD_REQUIRED="conference.passwordRequired",E.RESERVATION_ERROR="conference.reservationError",E.VIDEOBRIDGE_NOT_AVAILABLE="conference.videobridgeNotAvailable"})(E||(e.JitsiConferenceErrors=E={}));var R=E.AUTHENTICATION_REQUIRED;e.AUTHENTICATION_REQUIRED=R;var O=E.CHAT_ERROR;e.CHAT_ERROR=O;var _=E.SETTINGS_ERROR;e.SETTINGS_ERROR=_;var N=E.CONFERENCE_DESTROYED;e.CONFERENCE_DESTROYED=N;var S=E.CONFERENCE_MAX_USERS;e.CONFERENCE_MAX_USERS=S;var C=E.CONNECTION_ERROR;e.CONNECTION_ERROR=C;var n=E.CONFERENCE_RESTARTED;e.CONFERENCE_RESTARTED=n;var T=E.NOT_ALLOWED_ERROR;e.NOT_ALLOWED_ERROR=T;var A=E.MEMBERS_ONLY_ERROR;e.MEMBERS_ONLY_ERROR=A;var D=E.CONFERENCE_ACCESS_DENIED;e.CONFERENCE_ACCESS_DENIED=D;var I=E.FOCUS_DISCONNECTED;e.FOCUS_DISCONNECTED=I;var c=E.FOCUS_LEFT;e.FOCUS_LEFT=c;var o=E.GRACEFUL_SHUTDOWN;e.GRACEFUL_SHUTDOWN=o;var F=E.ICE_FAILED;e.ICE_FAILED=F;var L=E.INCOMPATIBLE_SERVER_VERSIONS;e.INCOMPATIBLE_SERVER_VERSIONS=L;var U=E.OFFER_ANSWER_FAILED;e.OFFER_ANSWER_FAILED=U;var f=E.PASSWORD_NOT_SUPPORTED;e.PASSWORD_NOT_SUPPORTED=f;var t=E.PASSWORD_REQUIRED;e.PASSWORD_REQUIRED=t;var s=E.RESERVATION_ERROR;e.RESERVATION_ERROR=s;var v=E.VIDEOBRIDGE_NOT_AVAILABLE;e.VIDEOBRIDGE_NOT_AVAILABLE=v},554,[]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e._MEDIA_SESSION_STARTED=e._MEDIA_SESSION_ACTIVE_CHANGED=e.VIDEO_UNMUTE_PERMISSIONS_CHANGED=e.VIDEO_SIP_GW_SESSION_STATE_CHANGED=e.VIDEO_SIP_GW_AVAILABILITY_CHANGED=e.USER_STATUS_CHANGED=e.USER_ROLE_CHANGED=e.USER_LEFT=e.USER_JOINED=e.TRANSCRIPTION_STATUS_CHANGED=e.TRACK_UPDATED=e.TRACK_UNMUTE_REJECTED=e.TRACK_REMOVED=e.TRACK_MUTE_CHANGED=e.TRACK_AUDIO_LEVEL_CHANGED=e.TRACK_ADDED=e.TALK_WHILE_MUTED=e.SUSPEND_DETECTED=e.SUBTITLES_RECEIVED=e.SUBJECT_CHANGED=e.START_MUTED_POLICY_CHANGED=e.STARTED_MUTED=e.SERVER_REGION_CHANGED=e.RECORDER_STATE_CHANGED=e.PROPERTIES_CHANGED=e.PRIVATE_MESSAGE_RECEIVED=e.PHONE_NUMBER_CHANGED=e.PARTICIPANT_PROPERTY_CHANGED=e.PARTICIPANT_KICKED=e.PARTICIPANT_CONN_STATUS_CHANGED=e.PARTCIPANT_FEATURES_CHANGED=e.P2P_STATUS=e.NO_AUDIO_INPUT=e.NON_PARTICIPANT_MESSAGE_RECEIVED=e.NOISY_MIC=e.MESSAGE_RECEIVED=e.MEMBERS_ONLY_CHANGED=e.LOCK_STATE_CHANGED=e.LOBBY_USER_UPDATED=e.LOBBY_USER_LEFT=e.LOBBY_USER_JOINED=e.LAST_N_ENDPOINTS_CHANGED=e.KICKED=e.JitsiConferenceEvents=e.JVB121_STATUS=e.FORWARDED_SOURCES_CHANGED=e.FACE_LANDMARK_ADDED=e.ENDPOINT_STATS_RECEIVED=e.ENDPOINT_MESSAGE_RECEIVED=e.DTMF_SUPPORT_CHANGED=e.DOMINANT_SPEAKER_CHANGED=e.DISPLAY_NAME_CHANGED=e.DATA_CHANNEL_OPENED=e.CONNECTION_RESTORED=e.CONNECTION_INTERRUPTED=e.CONNECTION_ESTABLISHED=e.CONFERENCE_UNIQUE_ID_SET=e.CONFERENCE_LEFT=e.CONFERENCE_JOIN_IN_PROGRESS=e.CONFERENCE_JOINED=e.CONFERENCE_FAILED=e.CONFERENCE_ERROR=e.CONFERENCE_CREATED_TIMESTAMP=e.BREAKOUT_ROOMS_UPDATED=e.BREAKOUT_ROOMS_MOVE_TO_ROOM=e.BOT_TYPE_CHANGED=e.BEFORE_STATISTICS_DISPOSED=e.AV_MODERATION_REJECTED=e.AV_MODERATION_PARTICIPANT_REJECTED=e.AV_MODERATION_PARTICIPANT_APPROVED=e.AV_MODERATION_CHANGED=e.AV_MODERATION_APPROVED=e.AUTH_STATUS_CHANGED=e.AUDIO_UNMUTE_PERMISSIONS_CHANGED=e.AUDIO_INPUT_STATE_CHANGE=e.ANALYTICS_EVENT_RECEIVED=void 0,e.JitsiConferenceEvents=E,(function(E){E.AUDIO_INPUT_STATE_CHANGE="conference.audio_input_state_changed",E.AUDIO_UNMUTE_PERMISSIONS_CHANGED="conference.audio_unmute_permissions_changed",E.AUTH_STATUS_CHANGED="conference.auth_status_changed",E.BEFORE_STATISTICS_DISPOSED="conference.beforeStatisticsDisposed",E.CONFERENCE_ERROR="conference.error",E.CONFERENCE_FAILED="conference.failed",E.CONFERENCE_JOIN_IN_PROGRESS="conference.join_in_progress",E.CONFERENCE_JOINED="conference.joined",E.CONFERENCE_LEFT="conference.left",E.CONFERENCE_UNIQUE_ID_SET="conference.unique_id_set",E.CONNECTION_ESTABLISHED="conference.connectionEstablished",E.CONNECTION_INTERRUPTED="conference.connectionInterrupted",E.CONNECTION_RESTORED="conference.connectionRestored",E.DATA_CHANNEL_OPENED="conference.dataChannelOpened",E.DISPLAY_NAME_CHANGED="conference.displayNameChanged",E.DOMINANT_SPEAKER_CHANGED="conference.dominantSpeaker",E.CONFERENCE_CREATED_TIMESTAMP="conference.createdTimestamp",E.DTMF_SUPPORT_CHANGED="conference.dtmfSupportChanged",E.ENDPOINT_MESSAGE_RECEIVED="conference.endpoint_message_received",E.ENDPOINT_STATS_RECEIVED="conference.endpoint_stats_received",E.JVB121_STATUS="conference.jvb121Status",E.KICKED="conference.kicked",E.PARTICIPANT_KICKED="conference.participant_kicked",E.LAST_N_ENDPOINTS_CHANGED="conference.lastNEndpointsChanged",E.FORWARDED_SOURCES_CHANGED="conference.forwardedSourcesChanged",E.LOCK_STATE_CHANGED="conference.lock_state_changed",E.SERVER_REGION_CHANGED="conference.server_region_changed",E._MEDIA_SESSION_STARTED="conference.media_session.started",E._MEDIA_SESSION_ACTIVE_CHANGED="conference.media_session.active_changed",E.MEMBERS_ONLY_CHANGED="conference.membersOnlyChanged",E.MESSAGE_RECEIVED="conference.messageReceived",E.NO_AUDIO_INPUT="conference.no_audio_input",E.NOISY_MIC="conference.noisy_mic",E.NON_PARTICIPANT_MESSAGE_RECEIVED="conference.non_participant_message_received",E.PRIVATE_MESSAGE_RECEIVED="conference.privateMessageReceived",E.PARTICIPANT_CONN_STATUS_CHANGED="conference.participant_conn_status_changed",E.PARTCIPANT_FEATURES_CHANGED="conference.partcipant_features_changed",E.PARTICIPANT_PROPERTY_CHANGED="conference.participant_property_changed",E.P2P_STATUS="conference.p2pStatus",E.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",E.PROPERTIES_CHANGED="conference.propertiesChanged",E.RECORDER_STATE_CHANGED="conference.recorderStateChanged",E.VIDEO_SIP_GW_AVAILABILITY_CHANGED="conference.videoSIPGWAvailabilityChanged",E.VIDEO_SIP_GW_SESSION_STATE_CHANGED="conference.videoSIPGWSessionStateChanged",E.START_MUTED_POLICY_CHANGED="conference.start_muted_policy_changed",E.STARTED_MUTED="conference.started_muted",E.SUBJECT_CHANGED="conference.subjectChanged",E.SUSPEND_DETECTED="conference.suspendDetected",E.TALK_WHILE_MUTED="conference.talk_while_muted",E.TRACK_ADDED="conference.trackAdded",E.TRACK_AUDIO_LEVEL_CHANGED="conference.audioLevelsChanged",E.TRACK_MUTE_CHANGED="conference.trackMuteChanged",E.TRACK_REMOVED="conference.trackRemoved",E.TRACK_UNMUTE_REJECTED="conference.trackUnmuteRejected",E.TRANSCRIPTION_STATUS_CHANGED="conference.transcriptionStatusChanged",E.USER_JOINED="conference.userJoined",E.USER_LEFT="conference.userLeft",E.USER_ROLE_CHANGED="conference.roleChanged",E.USER_STATUS_CHANGED="conference.statusChanged",E.VIDEO_UNMUTE_PERMISSIONS_CHANGED="conference.video_unmute_permissions_changed",E.BOT_TYPE_CHANGED="conference.bot_type_changed",E.LOBBY_USER_JOINED="conference.lobby.userJoined",E.LOBBY_USER_UPDATED="conference.lobby.userUpdated",E.LOBBY_USER_LEFT="conference.lobby.userLeft",E.AV_MODERATION_APPROVED="conference.av_moderation.approved",E.AV_MODERATION_REJECTED="conference.av_moderation.rejected",E.AV_MODERATION_CHANGED="conference.av_moderation.changed",E.AV_MODERATION_PARTICIPANT_APPROVED="conference.av_moderation.participant.approved",E.AV_MODERATION_PARTICIPANT_REJECTED="conference.av_moderation.participant.rejected",E.FACE_LANDMARK_ADDED="conference.face_landmark.added",E.BREAKOUT_ROOMS_MOVE_TO_ROOM="conference.breakout-rooms.move-to-room",E.BREAKOUT_ROOMS_UPDATED="conference.breakout-rooms.updated",E.SUBTITLES_RECEIVED="conference.subtitles.received",E.ANALYTICS_EVENT_RECEIVED="analytics.event.received",E.TRACK_UPDATED="conference.track.updated"})(E||(e.JitsiConferenceEvents=E={}));var _=E.AUDIO_INPUT_STATE_CHANGE;e.AUDIO_INPUT_STATE_CHANGE=_;var A=E.AUDIO_UNMUTE_PERMISSIONS_CHANGED;e.AUDIO_UNMUTE_PERMISSIONS_CHANGED=A;var T=E.AUTH_STATUS_CHANGED;e.AUTH_STATUS_CHANGED=T;var N=E.BEFORE_STATISTICS_DISPOSED;e.BEFORE_STATISTICS_DISPOSED=N;var D=E.CONFERENCE_ERROR;e.CONFERENCE_ERROR=D;var C=E.CONFERENCE_FAILED;e.CONFERENCE_FAILED=C;var R=E.CONFERENCE_JOIN_IN_PROGRESS;e.CONFERENCE_JOIN_IN_PROGRESS=R;var S=E.CONFERENCE_JOINED;e.CONFERENCE_JOINED=S;var I=E.CONFERENCE_LEFT;e.CONFERENCE_LEFT=I;var O=E.CONFERENCE_UNIQUE_ID_SET;e.CONFERENCE_UNIQUE_ID_SET=O;var n=E.CONNECTION_ESTABLISHED;e.CONNECTION_ESTABLISHED=n;var c=E.CONNECTION_INTERRUPTED;e.CONNECTION_INTERRUPTED=c;var P=E.CONNECTION_RESTORED;e.CONNECTION_RESTORED=P;var U=E.DATA_CHANNEL_OPENED;e.DATA_CHANNEL_OPENED=U;var o=E.DISPLAY_NAME_CHANGED;e.DISPLAY_NAME_CHANGED=o;var G=E.DOMINANT_SPEAKER_CHANGED;e.DOMINANT_SPEAKER_CHANGED=G;var M=E.CONFERENCE_CREATED_TIMESTAMP;e.CONFERENCE_CREATED_TIMESTAMP=M;var H=E.DTMF_SUPPORT_CHANGED;e.DTMF_SUPPORT_CHANGED=H;var t=E.ENDPOINT_MESSAGE_RECEIVED;e.ENDPOINT_MESSAGE_RECEIVED=t;var v=E.ENDPOINT_STATS_RECEIVED;e.ENDPOINT_STATS_RECEIVED=v;var V=E.JVB121_STATUS;e.JVB121_STATUS=V;var L=E.KICKED;e.KICKED=L;var f=E.PARTICIPANT_KICKED;e.PARTICIPANT_KICKED=f;var s=E.LAST_N_ENDPOINTS_CHANGED;e.LAST_N_ENDPOINTS_CHANGED=s;var B=E.FORWARDED_SOURCES_CHANGED;e.FORWARDED_SOURCES_CHANGED=B;var F=E.LOCK_STATE_CHANGED;e.LOCK_STATE_CHANGED=F;var K=E.SERVER_REGION_CHANGED;e.SERVER_REGION_CHANGED=K;var p=E._MEDIA_SESSION_STARTED;e._MEDIA_SESSION_STARTED=p;var u=E._MEDIA_SESSION_ACTIVE_CHANGED;e._MEDIA_SESSION_ACTIVE_CHANGED=u;var Y=E.MEMBERS_ONLY_CHANGED;e.MEMBERS_ONLY_CHANGED=Y;var J=E.MESSAGE_RECEIVED;e.MESSAGE_RECEIVED=J;var h=E.NO_AUDIO_INPUT;e.NO_AUDIO_INPUT=h;var l=E.NOISY_MIC;e.NOISY_MIC=l;var b=E.NON_PARTICIPANT_MESSAGE_RECEIVED;e.NON_PARTICIPANT_MESSAGE_RECEIVED=b;var W=E.PRIVATE_MESSAGE_RECEIVED;e.PRIVATE_MESSAGE_RECEIVED=W;var k=E.PARTICIPANT_CONN_STATUS_CHANGED;e.PARTICIPANT_CONN_STATUS_CHANGED=k;var y=E.PARTCIPANT_FEATURES_CHANGED;e.PARTCIPANT_FEATURES_CHANGED=y;var j=E.PARTICIPANT_PROPERTY_CHANGED;e.PARTICIPANT_PROPERTY_CHANGED=j;var Q=E.P2P_STATUS;e.P2P_STATUS=Q;var w=E.PHONE_NUMBER_CHANGED;e.PHONE_NUMBER_CHANGED=w;var q=E.PROPERTIES_CHANGED;e.PROPERTIES_CHANGED=q;var x=E.RECORDER_STATE_CHANGED;e.RECORDER_STATE_CHANGED=x;var z=E.VIDEO_SIP_GW_AVAILABILITY_CHANGED;e.VIDEO_SIP_GW_AVAILABILITY_CHANGED=z;var X=E.VIDEO_SIP_GW_SESSION_STATE_CHANGED;e.VIDEO_SIP_GW_SESSION_STATE_CHANGED=X;var Z=E.START_MUTED_POLICY_CHANGED;e.START_MUTED_POLICY_CHANGED=Z;var $=E.STARTED_MUTED;e.STARTED_MUTED=$;var EE=E.SUBJECT_CHANGED;e.SUBJECT_CHANGED=EE;var _E=E.SUSPEND_DETECTED;e.SUSPEND_DETECTED=_E;var AE=E.TALK_WHILE_MUTED;e.TALK_WHILE_MUTED=AE;var TE=E.TRACK_ADDED;e.TRACK_ADDED=TE;var NE=E.TRACK_AUDIO_LEVEL_CHANGED;e.TRACK_AUDIO_LEVEL_CHANGED=NE;var eE=E.TRACK_MUTE_CHANGED;e.TRACK_MUTE_CHANGED=eE;var DE=E.TRACK_REMOVED;e.TRACK_REMOVED=DE;var CE=E.TRACK_UNMUTE_REJECTED;e.TRACK_UNMUTE_REJECTED=CE;var RE=E.TRANSCRIPTION_STATUS_CHANGED;e.TRANSCRIPTION_STATUS_CHANGED=RE;var SE=E.USER_JOINED;e.USER_JOINED=SE;var IE=E.USER_LEFT;e.USER_LEFT=IE;var OE=E.USER_ROLE_CHANGED;e.USER_ROLE_CHANGED=OE;var nE=E.USER_STATUS_CHANGED;e.USER_STATUS_CHANGED=nE;var rE=E.VIDEO_UNMUTE_PERMISSIONS_CHANGED;e.VIDEO_UNMUTE_PERMISSIONS_CHANGED=rE;var cE=E.BOT_TYPE_CHANGED;e.BOT_TYPE_CHANGED=cE;var PE=E.LOBBY_USER_JOINED;e.LOBBY_USER_JOINED=PE;var aE=E.LOBBY_USER_UPDATED;e.LOBBY_USER_UPDATED=aE;var UE=E.LOBBY_USER_LEFT;e.LOBBY_USER_LEFT=UE;var oE=E.AV_MODERATION_APPROVED;e.AV_MODERATION_APPROVED=oE;var GE=E.AV_MODERATION_REJECTED;e.AV_MODERATION_REJECTED=GE;var ME=E.AV_MODERATION_CHANGED;e.AV_MODERATION_CHANGED=ME;var HE=E.AV_MODERATION_PARTICIPANT_APPROVED;e.AV_MODERATION_PARTICIPANT_APPROVED=HE;var tE=E.AV_MODERATION_PARTICIPANT_REJECTED;e.AV_MODERATION_PARTICIPANT_REJECTED=tE;var vE=E.FACE_LANDMARK_ADDED;e.FACE_LANDMARK_ADDED=vE;var VE=E.BREAKOUT_ROOMS_MOVE_TO_ROOM;e.BREAKOUT_ROOMS_MOVE_TO_ROOM=VE;var dE=E.BREAKOUT_ROOMS_UPDATED;e.BREAKOUT_ROOMS_UPDATED=dE;var LE=E.SUBTITLES_RECEIVED;e.SUBTITLES_RECEIVED=LE;var iE=E.ANALYTICS_EVENT_RECEIVED;e.ANALYTICS_EVENT_RECEIVED=iE;var fE=E.TRACK_UPDATED;e.TRACK_UPDATED=fE},555,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.DISCO_JIBRI_FEATURE=void 0,e.default=y;var n=t(r(d[1])),o=t(r(d[2])),p=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=v(n);if(o&&o.has(t))return o.get(t);var p={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var u=s?Object.getOwnPropertyDescriptor(t,c):null;u&&(u.get||u.set)?Object.defineProperty(p,c,u):p[c]=t[c]}p.default=t,o&&o.set(t,p);return p})(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),u=r(d[6]),f=r(d[7]),l=r(d[8]),h=r(d[9]);function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(v=function(t){return t?o:n})(t)}function y(t,o,f){var l,v=this.parseJwt(t);this.name=o,this.user=v.context.user,(l=f?(0,n.default)({},h.devConnectionConfig):(0,n.default)({},h.connectionConfig)).serviceUrl=l.serviceUrl+"?room="+o,this.options=l,l.ownerId=v.context.group,this.xmpp=new c.default(l,t),this.token=t,this.isDev=f,this.addEventListener(p.CONNECTION_FAILED,function(t,n,o,p){s.default.sendAnalyticsAndLog((0,u.createConnectionFailedEvent)(t,n,p))}),this.addEventListener(p.CONNECTION_DISCONNECTED,function(t){t&&s.default.sendAnalytics(u.CONNECTION_DISCONNECTED,{message:t}),s.default.sendLog(JSON.stringify({id:u.CONNECTION_DISCONNECTED,msg:t}))})}e.DISCO_JIBRI_FEATURE="http://jitsi.org/protocol/jibri",y.prototype.parseJwt=function(t){try{return JSON.parse(atob(t.split('.')[1]))}catch(t){return null}},y.prototype.connect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f.jitsiLocalStorage.getItem('xmpp_username_override'),o=f.jitsiLocalStorage.getItem('xmpp_password_override');n&&n.length>0&&(t.id=n),o&&o.length>0&&(t.password=o),this.xmpp.connect(t.id,t.password)},y.prototype.attach=function(t){this.xmpp.attach(t)},y.prototype.disconnect=function(){var t;return(t=this.xmpp).disconnect.apply(t,arguments)},y.prototype.getJid=function(){return this.xmpp.getJid()},y.prototype.setToken=function(t){this.token=t},y.prototype.initJitsiConference=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,n.default)((0,n.default)({},h.conferenceConfig),t),t=(0,l.syncWithURL)(t);var p=this.name;return this.isDev&&(t=(0,n.default)((0,n.default)({},t),{hiddenDomain:"recorder.dev.sariska.io"})),t.iAmRecorder&&this.addFeature("http://jitsi.org/protocol/jibri"),new o.default({name:p,config:t,connection:this,user:this.user})},y.prototype.addEventListener=function(t,n){this.xmpp.addListener(t,n)},y.prototype.removeEventListener=function(t,n){this.xmpp.removeListener(t,n)},y.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},y.prototype.addFeature=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.addFeature(t,n,!0)},y.prototype.removeFeature=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.removeFeature(t,n,!0)},y.prototype.getLogs=function(){var t=this.xmpp.getJingleLog(),n={};n.time=new Date,n.url=window.location.href,n.ua=navigator.userAgent;var o=this.xmpp.getXmppLog();return o&&(n.xmpp=o),t.metadata=n,t}},556,[2,32,557,601,563,602,566,570,760,761]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=Se;var o=t(r(d[1])),n=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),p=r(d[5]),l=t(r(d[6])),u=t(r(d[7])),h=r(d[8]),f=me(r(d[9])),v=t(r(d[10])),y=me(r(d[11])),P=t(r(d[12])),S=t(r(d[13])),E=me(r(d[14])),_=me(r(d[15])),T=t(r(d[16])),b=r(d[17]),C=t(r(d[18])),I=r(d[19]),A=t(r(d[20])),M=t(r(d[21])),R=t(r(d[22])),D=t(r(d[23])),J=me(r(d[24])),N=t(r(d[25])),L=t(r(d[26])),k=t(r(d[27])),O=t(r(d[28])),w=t(r(d[29])),V=r(d[30]),F=t(r(d[31])),j=t(r(d[32])),U=t(r(d[33])),B=r(d[34]),H=t(r(d[35])),G=t(r(d[36])),x=t(r(d[37])),K=t(r(d[38])),W=t(r(d[39])),X=t(r(d[40])),q=t(r(d[41])),z=t(r(d[42])),Q=t(r(d[43])),Y=t(r(d[44])),Z=t(r(d[45])),ee=t(r(d[46])),te=me(r(d[47])),ie=t(r(d[48])),oe=t(r(d[49])),ne=r(d[50]),se=t(r(d[51])),re=t(r(d[52])),ae=r(d[53]),ce=t(r(d[54])),de=r(d[55]),pe=r(d[56]),le=r(d[57]),ue=r(d[58]);function he(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,n=new WeakMap;return(he=function(t){return t?n:o})(t)}function me(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=he(o);if(n&&n.has(t))return n.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var l=c?Object.getOwnPropertyDescriptor(t,p):null;l&&(l.get||l.set)?Object.defineProperty(s,p,l):s[p]=t[p]}return s.default=t,n&&n.set(t,s),s}function fe(t,o){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ge(t))||o&&t&&"number"==typeof t.length){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ge(t,o){if(t){if("string"==typeof t)return ve(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,o):void 0}}function ve(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,s=new Array(o);n<o;n++)s[n]=t[n];return s}var ye=this&&this.__awaiter||function(t,o,n,s){return new(n||(n=Promise))(function(c,p){function l(t){try{h(s.next(t))}catch(t){p(t)}}function u(t){try{h(s.throw(t))}catch(t){p(t)}}function h(t){var o;t.done?c(t.value):(o=t.value,o instanceof n?o:new n(function(t){t(o)})).then(l,u)}h((s=s.apply(t,o||[])).next())})};window.APP={conference:{}};var Pe=(0,p.getLogger)(__filename);function Se(t){var o;if(!t.name||t.name.toLowerCase()!==t.name.toString()){var n="Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!";throw Pe.error(n),new Error(n)}if(this.connection=t.connection,this.xmpp=null===(o=this.connection)||void 0===o?void 0:o.xmpp,this.xmpp.isRoomCreated(t.name,t.customDomain)){var s='A conference with the same name has already been created!';throw delete this.connection,delete this.xmpp,Pe.error(s),new Error(s)}this.eventEmitter=new l.default,this.options=t,this.eventManager=new v.default(this),this.participants={},this._signalingLayer=new ie.default,this._init(t),this.componentsVersions=new Z.default(this),this.jvbJingleSession=null,this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.isMutedByFocus=!1,this.mutedByFocusActor=null,this.isVideoMutedByFocus=!1,this.mutedVideoByFocusActor=null,this.wasStopped=!1,this.properties={},this.connectionQuality=new M.default(this,this.eventEmitter,t),this.avgRtpStatsReporter=new X.default(this,t.config.avgRtpStatsN||15),t.config.disableAudioLevels||(this._audioOutputProblemDetector=new W.default(this)),this.isJvbConnectionInterrupted=!1,this.speakerStatsCollector=new q.default(this),this.deferredStartP2PTask=null;var c=parseInt(t.config.p2p&&t.config.p2p.backToP2PDelay,10);this.backToP2PDelay=isNaN(c)?5:c,Pe.info("backToP2PDelay: "+this.backToP2PDelay),this.isP2PConnectionInterrupted=!1,this.p2p=!1,this.p2pJingleSession=null,this.videoSIPGWHandler=new ee.default(this.room),this.recordingManager=new x.default(this.room),this._conferenceJoinAnalyticsEventSent=void 0,this.isE2EESupported()&&(Pe.info('End-to-End Encryption is supported'),this._e2eEncryption=new V.E2EEncryption(this)),this._audioSenderLimitReached=void 0,this._videoSenderLimitReached=void 0,this.handleSubtitles(),t.config.enableLocalRecording&&(this.recordingController=new B.RecordingController,this.recordingController.registerEvents(this)),t.config.enableAnalytics&&this.enableAnalytics(),t.config.iAmRecorder&&(this.removeCommand('userinfo'),this.sendCommand('userinfo',{attributes:{xmlns:'http://jitsi.org/jitmeet/userinfo',robot:!0}}));var p=this;window.APP={conference:{_room:this,get membersCount(){return p.getParticipantsWithoutHidden().length+1},getStats:function(){return p.connectionQuality.getStats()},getConnectionState:function(){return p.getConnectionState()}}},this.localTracksDuration=new oe.default(this),this.sessions={},this.user=t.user}Se.prototype.constructor=Se,Se.resourceCreator=function(t){return h.Strophe.getNodeFromJid(t)},Se.prototype._init=function(){var t,o=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.eventManager.setupXMPPListeners();var s=this.options.config,p={disabledCodec:s.videoQuality?s.videoQuality.disabledCodec:s.p2p&&s.p2p.disableH264&&re.default.H264,enforcePreferredCodec:s.videoQuality&&s.videoQuality.enforcePreferredCodec,jvbCodec:s.videoQuality&&s.videoQuality.preferredCodec||s.preferH264&&re.default.H264,p2pCodec:s.p2p?s.p2p.preferredCodec||s.p2p.preferH264&&re.default.H264:re.default.VP8};this.codecSelection=new b.CodecSelection(this,p),this._statsCurrentId=s.statisticsId?s.statisticsId:K.default.callStatsUserName,this.room=this.xmpp.createRoom(this.options.name,(0,c.default)((0,c.default)({},s),{statsId:this._statsCurrentId}),Se.resourceCreator),this._signalingLayer.setChatRoom(this.room),this._onIceConnectionInterrupted=this._onIceConnectionInterrupted.bind(this),this.room.addListener(ue.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),this._onIceConnectionRestored=this._onIceConnectionRestored.bind(this),this.room.addListener(ue.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),this._onIceConnectionEstablished=this._onIceConnectionEstablished.bind(this),this.room.addListener(ue.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),this._updateProperties=this._updateProperties.bind(this),this.room.addListener(ue.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),this._sendConferenceJoinAnalyticsEvent=this._sendConferenceJoinAnalyticsEvent.bind(this),this.room.addListener(ue.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this._removeLocalSourceOnReject=this._removeLocalSourceOnReject.bind(this),this._updateRoomPresence=this._updateRoomPresence.bind(this),this.room.addListener(ue.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),this.room.addListener(ue.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),this.room.addListener(ue.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),this.room.addListener(ue.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),(null===(t=s.e2eping)||void 0===t?void 0:t.enabled)&&(this.e2eping=new F.default(this,s,function(t,n){try{o.sendMessage(t,n,!0)}catch(t){Pe.warn('Failed to send E2E ping request or response.',t&&t.msg)}})),this.rtc||(this.rtc=new C.default(this,n),this.eventManager.setupRTCListeners(),U.default.isSourceNameSignalingEnabled()&&this._registerRtcListeners(this.rtc)),this.receiveVideoController=new H.default(this,this.rtc),this.sendVideoController=new G.default(this,this.rtc),U.default.isSourceNameSignalingEnabled()||(this.participantConnectionStatus=new D.default(this.rtc,this,{p2pRtcMuteTimeout:s._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:s._peerConnStatusRtcMuteTimeout,outOfLastNTimeout:s._peerConnStatusOutOfLastNTimeout}),this.participantConnectionStatus.init());var l=!0;if(s.testing&&s.testing.callStatsThreshold&&(l=100*Math.random()<=s.testing.callStatsThreshold),this.statistics||(this.statistics=new z.default(this.xmpp,{aliasName:this._statsCurrentId,userName:s.statisticsDisplayName?s.statisticsDisplayName:this.myUserId(),confID:s.confID||this.connection.options.hosts.domain+"/"+this.options.name,siteID:s.siteID,customScriptUrl:s.callStatsCustomScriptUrl,callStatsID:s.callStatsID,callStatsSecret:s.callStatsSecret,callStatsApplicationLogsDisabled:s.callStatsApplicationLogsDisabled,enableCallStats:l,roomName:this.options.name,applicationName:s.applicationName,getWiFiStatsMethod:s.getWiFiStatsMethod,configParams:s.callStatsConfigParams}),z.default.analytics.addPermanentProperties({callstats_name:this._statsCurrentId}),s.longTasksStatsInterval&&this.statistics.attachLongTasksStats(this)),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),s.enableTalkWhileMuted&&A.default.supportsVADDetection())if(s.createVADProcessor){Pe.info('Using VAD detection for generating talk while muted events'),this._audioAnalyser||(this._audioAnalyser=new k.default(this,s.createVADProcessor));var u=new w.default;u.on(J.VAD_TALK_WHILE_MUTED,function(){return o.eventEmitter.emit(y.TALK_WHILE_MUTED)}),this._audioAnalyser.addVADDetectionService(u)}else Pe.warn('No VAD Processor was provided. Talk while muted detection service was not initialized!');if(s.enableNoisyMicDetection&&A.default.supportsVADDetection())if(s.createVADProcessor){this._audioAnalyser||(this._audioAnalyser=new k.default(this,s.createVADProcessor));var h=new O.default;h.on(J.VAD_NOISY_DEVICE,function(){return o.eventEmitter.emit(y.NOISY_MIC)}),this._audioAnalyser.addVADDetectionService(h)}else Pe.warn('No VAD Processor was provided. Noisy microphone detection service was not initialized!');s.enableNoAudioDetection&&(this._noAudioSignalDetection=new N.default(this),this._noAudioSignalDetection.on(J.NO_AUDIO_INPUT,function(){o.eventEmitter.emit(y.NO_AUDIO_INPUT)}),this._noAudioSignalDetection.on(J.AUDIO_INPUT_STATE_CHANGE,function(t){o.eventEmitter.emit(y.AUDIO_INPUT_STATE_CHANGE,t)})),'channelLastN'in s&&this.setLastN(s.channelLastN),this.jvb121Status=new j.default(this),this.p2pDominantSpeakerDetection=new L.default(this),s&&s.deploymentInfo&&s.deploymentInfo.userRegion&&this.setLocalParticipantProperty('region',s.deploymentInfo.userRegion),this.setLocalParticipantProperty('codecType',this.codecSelection.getPreferredCodec()),s&&s.transcriptionLanguage&&'en-US'!==s.transcriptionLanguage&&this.setLocalParticipantProperty('transcription_language',s.transcriptionLanguage)},Se.prototype.join=function(t){var o=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.room&&this.room.join(t,n).then(function(){return o._maybeSetSITimeout()})},Se.prototype.authenticateAndUpgradeRole=function(t){return T.default.call(this,(0,c.default)((0,c.default)({},t),{onCreateResource:Se.resourceCreator}))},Se.prototype.isJoined=function(){return this.room&&this.room.joined},Se.prototype.isP2PEnabled=function(){return Boolean(this.options.config.p2p&&this.options.config.p2p.enabled)||void 0===this.options.config.p2p},Se.prototype.isP2PTestModeEnabled=function(){return Boolean(this.options.config.testing&&this.options.config.testing.p2pTestMode)},Se.prototype.leave=function(){return ye(this,void 0,void 0,o.default.mark(function t(){var n,s,c=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.avgRtpStatsReporter&&(this.avgRtpStatsReporter.dispose(),this.avgRtpStatsReporter=null),this._audioOutputProblemDetector&&(this._audioOutputProblemDetector.dispose(),this._audioOutputProblemDetector=null),this.e2eping&&(this.e2eping.stop(),this.e2eping=null),this.getLocalTracks().forEach(function(t){return c.onLocalTrackRemoved(t)}),this.rtc.closeBridgeChannel(),this._sendConferenceLeftAnalyticsEvent(),this.statistics&&this.statistics.dispose(),this._delayedIceFailed&&this._delayedIceFailed.cancel(),this._maybeClearSITimeout(),this.jvbJingleSession&&(this.jvbJingleSession.close(),this.jvbJingleSession=null),this.p2pJingleSession&&(this.p2pJingleSession.close(),this.p2pJingleSession=null),this.room){t.next=14;break}throw new Error('The conference is has been already left');case 14:return(n=this.room).removeListener(ue.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),n.removeListener(ue.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),n.removeListener(ue.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),n.removeListener(ue.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),n.removeListener(ue.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),n.removeListener(ue.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),n.removeListener(ue.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),n.removeListener(ue.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),n.removeListener(ue.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),this.eventManager.removeXMPPListeners(),this._signalingLayer.setChatRoom(null),this.room=null,t.prev=27,t.next=30,n.leave();case 30:t.next=36;break;case 32:t.prev=32,t.t0=t.catch(27),s=t.t0,this.getParticipants().forEach(function(t){return c.onMemberLeft(t.getJid())});case 36:if(this.rtc&&this.rtc.destroy(),!s){t.next=39;break}throw s;case 39:case"end":return t.stop()}},t,this,[[27,32]])}))},Se.prototype.getActiveMediaSession=function(){return this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession},Se.prototype.getMediaSessions=function(){var t=[];return this.jvbJingleSession&&t.push(this.jvbJingleSession),this.p2pJingleSession&&t.push(this.p2pJingleSession),t},Se.prototype._registerRtcListeners=function(t){var o=this;t.addListener(ce.default.DATA_CHANNEL_OPEN,function(){for(var t,n=fe(o.rtc.localTracks);!(t=n()).done;){var s=t.value;s.isVideoTrack()&&o._sendBridgeVideoTypeMessage(s)}})},Se.prototype._sendBridgeVideoTypeMessage=function(t){var o=!t||t.isMuted()?se.default.NONE:t.getVideoType();o===se.default.DESKTOP&&this._desktopSharingFrameRate>I.SS_DEFAULT_FRAME_RATE&&(o=se.default.DESKTOP_HIGH_FPS),U.default.isSourceNameSignalingEnabled()&&t?this.rtc.sendSourceVideoType(t.getSourceName(),o):U.default.isSourceNameSignalingEnabled()||this.rtc.setVideoType(o)},Se.prototype.getName=function(){return this.options.name.toString()},Se.prototype.getConnection=function(){return this.connection},Se.prototype.isAuthEnabled=function(){return this.authEnabled},Se.prototype.isLoggedIn=function(){return Boolean(this.authIdentity)},Se.prototype.getAuthLogin=function(){return this.authIdentity},Se.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},Se.prototype.getExternalAuthUrl=function(t){var o=this;return new Promise(function(n,s){o.isExternalAuthEnabled()?t?o.room.moderator.getPopupLoginUrl(n,s):o.room.moderator.getLoginUrl(n,s):s()})},Se.prototype.getLocalTracks=function(t){var o=[];return this.rtc&&(o=this.rtc.getLocalTracks(t)),o},Se.prototype.getLocalAudioTrack=function(){return this.rtc?this.rtc.getLocalAudioTrack():null},Se.prototype.getLocalVideoTrack=function(){return this.rtc?this.rtc.getLocalVideoTrack():null},Se.prototype.getLocalVideoTracks=function(){return this.rtc?this.rtc.getLocalVideoTracks():null},Se.prototype.getPerformanceStats=function(){return{longTasksStats:this.statistics.getLongTasksStats()}},Se.prototype.on=function(t,o){this.eventEmitter&&this.eventEmitter.on(t,o)},Se.prototype.off=function(t,o){this.eventEmitter&&this.eventEmitter.removeListener(t,o)},Se.prototype.addEventListener=Se.prototype.on,Se.prototype.removeEventListener=Se.prototype.off,Se.prototype.addCommandListener=function(t,o){this.room&&this.room.addPresenceListener(t,o)},Se.prototype.removeCommandListener=function(t,o){this.room&&this.room.removePresenceListener(t,o)},Se.prototype.sendTextMessage=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'body';this.room&&this.room.sendMessage(t,o)},Se.prototype.sendPrivateTextMessage=function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'body';this.room&&this.room.sendPrivateMessage(t,o,n)},Se.prototype.sendCommand=function(t,o){this.room?this.room.addOrReplaceInPresence(t,o)&&this.room.sendPresence():Pe.warn('Not sending a command, room not initialized.')},Se.prototype.sendCommandOnce=function(t,o){this.sendCommand(t,o),this.removeCommand(t)},Se.prototype.removeCommand=function(t){this.room&&this.room.removeFromPresence(t)},Se.prototype.setDisplayName=function(t){if(this.room){if(!t&&!this.room.getFromPresence("nick"))return;this.room.addOrReplaceInPresence("nick",{attributes:{xmlns:'http://jabber.org/protocol/nick'},value:t})&&this.room.sendPresence()}},Se.prototype.setSubject=function(t){this.room&&this.isModerator()?this.room.setSubject(t):Pe.warn("Failed to set subject, "+(this.room?'':'not in a room, ')+(this.isModerator()?'':'participant is not a moderator'))},Se.prototype.getTranscriber=function(){if(void 0===this.transcriber){this.transcriber=new Q.default;for(var t,o=fe(this.getLocalTracks(ae.MediaType.AUDIO));!(t=o()).done;){var n=t.value;this.transcriber.addTrack(n)}for(var s,c=fe(this.rtc.getRemoteTracks(ae.MediaType.AUDIO));!(s=c()).done;){var p=s.value;this.transcriber.addTrack(p)}}return this.transcriber},Se.prototype.getTranscriptionStatus=function(){return this.room.transcriptionStatus},Se.prototype.addTrack=function(t){var o,n=this;if(t){t.isAudioTrack()&&this.options.config.startAudioMuted&&t.mute(),t.isVideoTrack()&&this.options.config.startVideoMuted&&t.mute();var s=t.getType(),c=this.rtc.getLocalTracks(s);if(c.length>0){if(t===c[0])return Promise.resolve(t);if(U.default.isMultiStreamSupportEnabled()&&s===ae.MediaType.VIDEO){var p=(0,de.getSourceNameForJitsiTrack)(this.myUserId(),s,null===(o=this.getLocalTracks(s))||void 0===o?void 0:o.length);t.setSourceName(p);var l=[];return this.p2pJingleSession&&l.push(this.p2pJingleSession.addTracks([t])),this.jvbJingleSession&&l.push(this.jvbJingleSession.addTracks([t])),Promise.all(l).then(function(){n._setupNewTrack(t),n._sendBridgeVideoTypeMessage(t),n._updateRoomPresence(n.getActiveMediaSession()),(n.isMutedByFocus||n.isVideoMutedByFocus)&&n._fireMuteChangeEvent(t)})}return Promise.reject(new Error("Cannot add second "+s+" track to the conference"))}return this.replaceTrack(null,t).then(function(){t.getVideoType()===pe.VideoType.DESKTOP&&U.default.isMultiStreamSupportEnabled()&&n._updateRoomPresence(n.getActiveMediaSession())})}},Se.prototype._fireAudioLevelChangeEvent=function(t,o){var n=this.getActivePeerConnection();o&&n!==o||this.eventEmitter.emit(y.TRACK_AUDIO_LEVEL_CHANGED,this.myUserId(),t)},Se.prototype._fireMuteChangeEvent=function(t){var o;if(this.isMutedByFocus&&t.isAudioTrack()&&!t.isMuted()?(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,ae.MediaType.AUDIO)):this.isVideoMutedByFocus&&t.isVideoTrack()&&!t.isMuted()&&(this.isVideoMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,ae.MediaType.VIDEO)),this.mutedByFocusActor&&t.isAudioTrack()){var n=h.Strophe.getResourceFromJid(this.mutedByFocusActor);o=this.participants[n]}else if(this.mutedVideoByFocusActor&&t.isVideoTrack()){var s=h.Strophe.getResourceFromJid(this.mutedVideoByFocusActor);o=this.participants[s]}t.isVideoTrack()&&!A.default.doesVideoMuteByStreamRemove()&&this._sendBridgeVideoTypeMessage(t),this.eventEmitter.emit(y.TRACK_MUTE_CHANGED,t,o)},Se.prototype._getInitialLocalTracks=function(){var t=this;return this.getLocalTracks().filter(function(o){var n=o.getType();return!(n!==ae.MediaType.AUDIO||t.isStartAudioMuted()&&!A.default.isWebKitBased()&&!A.default.isReactNative())||n===ae.MediaType.VIDEO&&!t.isStartVideoMuted()})},Se.prototype.onLocalTrackRemoved=function(t){t.setConference(null),this.rtc.removeLocalTrack(t),t.removeEventListener(_.TRACK_MUTE_CHANGED,t.muteHandler),t.isAudioTrack()&&t.removeEventListener(_.TRACK_AUDIO_LEVEL_CHANGED,t.audioLevelHandler),t.isVideoTrack()&&t.videoType===pe.VideoType.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(y.TRACK_REMOVED,t)},Se.prototype.removeTrack=function(t){return this.replaceTrack(t,null)},Se.prototype.replaceTrack=function(t,o){var n,s=this,c=null===t||void 0===t?void 0:t.getVideoType(),p=(null===t||void 0===t?void 0:t.getType())||(null===o||void 0===o?void 0:o.getType()),l=null===o||void 0===o?void 0:o.getVideoType();if(U.default.isMultiStreamSupportEnabled()&&t&&o&&c!==l)throw new Error("Replacing a track of videoType="+c+" with a track of videoType="+l+" is not supported in this mode.");if(U.default.isSourceNameSignalingEnabled()&&o)if(t)o.setSourceName(t.getSourceName());else{var u=(0,de.getSourceNameForJitsiTrack)(this.myUserId(),p,null===(n=this.getLocalTracks(p))||void 0===n?void 0:n.length);o.setSourceName(u)}var h=this===(null===t||void 0===t?void 0:t.conference);return h&&t.disposed?Promise.reject(new S.default(E.TRACK_IS_DISPOSED)):(null===o||void 0===o?void 0:o.disposed)?Promise.reject(new S.default(E.TRACK_IS_DISPOSED)):(t&&!h&&Pe.warn("JitsiConference.replaceTrack oldTrack ("+t+" does not belong to this conference"),this._doReplaceTrack(h?t:null,o).then(function(){return h&&s.onLocalTrackRemoved(t),o&&s._setupNewTrack(o),(h&&(null===t||void 0===t?void 0:t.isVideoTrack())||(null===o||void 0===o?void 0:o.isVideoTrack()))&&s._sendBridgeVideoTypeMessage(o),(null===t||void 0===t?void 0:t._setEffectInProgress)||(null===o||void 0===o?void 0:o._setEffectInProgress)||s._updateRoomPresence(s.getActiveMediaSession()),null!==o&&(s.isMutedByFocus||s.isVideoMutedByFocus)&&s._fireMuteChangeEvent(o),Promise.resolve()}).catch(function(t){return Pe.error("replaceTrack failed: "+(null===t||void 0===t?void 0:t.stack)),Promise.reject(t)}))},Se.prototype._doReplaceTrack=function(t,o){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.replaceTrack(t,o)):Pe.info('_doReplaceTrack - no JVB JingleSession'),this.p2pJingleSession?n.push(this.p2pJingleSession.replaceTrack(t,o)):Pe.info('_doReplaceTrack - no P2P JingleSession'),Promise.all(n)},Se.prototype._removeLocalSourceOnReject=function(t,o,n){if(t){Pe.warn("Source-add rejected on "+t+", reason=\""+(null===o||void 0===o?void 0:o.reason)+"\", message=\""+(null===o||void 0===o?void 0:o.msg)+"\"");var s=this.getLocalTracks(n)[0];this.eventEmitter.emit(y.TRACK_UNMUTE_REJECTED,s)}},Se.prototype._setupNewTrack=function(t){var o,n=t.getType();if(t.isAudioTrack()||t.isVideoTrack()&&t.videoType!==pe.VideoType.DESKTOP){var s=C.default.getCurrentlyAvailableMediaDevices().find(function(o){return o.kind===t.getTrack().kind+"input"&&o.label===t.getTrack().label});s&&z.default.sendActiveDeviceListEvent(C.default.getEventDataForActiveDevice(s))}if(U.default.isSourceNameSignalingEnabled()&&!t.getSourceName()){var c=(0,de.getSourceNameForJitsiTrack)(this.myUserId(),n,null===(o=this.getLocalTracks(n))||void 0===o?void 0:o.length);t.setSourceName(c)}this.rtc.addLocalTrack(t),t.setConference(this),t.muteHandler=this._fireMuteChangeEvent.bind(this,t),t.addEventListener(_.TRACK_MUTE_CHANGED,t.muteHandler),t.isAudioTrack()&&(t.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),t.addEventListener(_.TRACK_AUDIO_LEVEL_CHANGED,t.audioLevelHandler)),this.eventEmitter.emit(y.TRACK_ADDED,t)},Se.prototype._setNewVideoType=function(t){var o=!1;if(U.default.isSourceNameSignalingEnabled()&&t&&(o=this._signalingLayer.setTrackVideoType(t.getSourceName(),t.videoType)),!U.default.isMultiStreamSupportEnabled()){var n=t?t.videoType:pe.VideoType.CAMERA;if(n!==pe.VideoType.CAMERA||this.room.getFromPresence("videoType")){var s=this.room.addOrReplaceInPresence("videoType",{value:n});o=o||s}}return o},Se.prototype._setTrackMuteStatus=function(t,o,n){var s=!1;if(U.default.isSourceNameSignalingEnabled()&&o&&(s=this._signalingLayer.setTrackMuteStatus(o.getSourceName(),n)),!U.default.isMultiStreamSupportEnabled()){var c,p;if(!this.room)return!1;t===ae.MediaType.AUDIO?c=this.room.addAudioInfoToPresence(n):p=this.room.addVideoInfoToPresence(n),s=s||c||p}return s},Se.prototype._addLocalTrackAsUnmute=function(t){var o=[];return this.jvbJingleSession?o.push(this.jvbJingleSession.addTrackAsUnmute(t)):Pe.debug('Add local MediaStream as unmute - no JVB Jingle session started yet'),this.p2pJingleSession?o.push(this.p2pJingleSession.addTrackAsUnmute(t)):Pe.debug('Add local MediaStream as unmute - no P2P Jingle session started yet'),Promise.allSettled(o)},Se.prototype._removeLocalTrackAsMute=function(t){var o=[];return this.jvbJingleSession?o.push(this.jvbJingleSession.removeTrackAsMute(t)):Pe.debug('Remove local MediaStream - no JVB JingleSession started yet'),this.p2pJingleSession?o.push(this.p2pJingleSession.removeTrackAsMute(t)):Pe.debug('Remove local MediaStream - no P2P JingleSession started yet'),Promise.allSettled(o)},Se.prototype.getRole=function(){return this.room.role},Se.prototype.isHidden=function(){return this.connection?h.Strophe.getDomainFromJid(this.connection.getJid())===this.options.config.hiddenDomain:null},Se.prototype.isModerator=function(){return this.room?this.room.isModerator():null},Se.prototype.lock=function(t){var o=this;return this.isModerator()?new Promise(function(n,s){o.room.lockRoom(t||'',function(){return n()},function(t){return s(t)},function(){return s(f.PASSWORD_NOT_SUPPORTED)})}):Promise.reject(new Error('You are not moderator.'))},Se.prototype.unlock=function(){return this.lock()},Se.prototype.selectParticipant=function(t){this.selectParticipants([t])},Se.prototype.selectParticipants=function(t){if(!Array.isArray(t))throw new Error('Invalid argument; participantIds must be an array.');this.receiveVideoController.selectEndpoints(t)},Se.prototype.getLastN=function(){return this.receiveVideoController.getLastN()},Se.prototype.getForwardedSources=function(){return this.rtc.getForwardedSources()},Se.prototype.setLastN=function(t){if(!Number.isInteger(t)&&!Number.parseInt(t,10))throw new Error("Invalid value for lastN: "+t);var o=Number(t);if(o<-1)throw new RangeError('lastN cannot be smaller than -1');if(this.receiveVideoController.setLastN(o),this.p2pJingleSession){var n=0!==o;this.p2pJingleSession.setMediaTransferActive(!0,n).catch(function(t){Pe.error("Failed to adjust video transfer status ("+n+")",t)})}},Se.prototype.isInLastN=function(t){return this.rtc.isInLastN(t)},Se.prototype.getParticipants=function(){return Object.values(this.participants)},Se.prototype.getParticipantsWithoutHidden=function(){var t=this.getParticipants().filter(function(t){return!t._hidden});return t=t.filter(function(t){var o;return!(null===(o=null===t||void 0===t?void 0:t._properties)||void 0===o?void 0:o.features_jigasi)})},Se.prototype.getParticipantCount=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.getParticipants();return t||(o=o.filter(function(t){return!t.isHidden()})),o.length+1},Se.prototype.getParticipantById=function(t){return this.participants[t]},Se.prototype.grantOwner=function(t){var o=this.getParticipantById(t);o&&this.room.setAffiliation(o.getConnectionJid(),'owner')},Se.prototype.revokeOwner=function(t){var o=this.getParticipantById(t),n=this.myUserId()===t,s=this.isMembersOnly()?'member':'none';n?this.room.setAffiliation(this.connection.getJid(),s):o&&this.room.setAffiliation(o.getConnectionJid(),s)},Se.prototype.kickParticipant=function(t,o){var n=this.getParticipantById(t);n&&this.room.kick(n.getJid(),o)},Se.prototype._maybeClearSITimeout=function(){this._sessionInitiateTimeout&&(this.jvbJingleSession||this.getParticipantCount()<2)&&(window.clearTimeout(this._sessionInitiateTimeout),this._sessionInitiateTimeout=null)},Se.prototype._maybeSetSITimeout=function(){var t=this;!this.jvbJingleSession&&this.getParticipantCount()>=2&&!this._sessionInitiateTimeout&&(this._sessionInitiateTimeout=window.setTimeout(function(){t._sessionInitiateTimeout=null,z.default.sendAnalytics((0,le.createJingleEvent)(le.ACTION_JINGLE_SI_TIMEOUT,{p2p:!1,value:5e3}))},5e3))},Se.prototype.muteParticipant=function(t,o){var n=o||ae.MediaType.AUDIO;if(n===ae.MediaType.AUDIO||n===ae.MediaType.VIDEO){var s=this.getParticipantById(t);s&&this.room.muteParticipant(s.getJid(),!0,n)}else Pe.error("Unsupported media type: "+n)},Se.prototype.onMemberJoined=function(t,o,n,s,c,p,l,u,f,v,S){var E=h.Strophe.getResourceFromJid(t);if('focus'!==E&&this.myUserId()!==E){var _=new P.default(t,this,o,s,c,p,l);_.setConnectionJid(f),_.setRole(n),_.setBotType(u),_.setFeatures(v),_.setIsReplacing(S),this.participants[E]=_,this.eventEmitter.emit(y.USER_JOINED,E,_),this._updateFeatures(_),this.isJoined()&&this._maybeStartOrStopP2P(),this._maybeSetSITimeout()}},Se.prototype._onMucJoined=function(){this._maybeStartOrStopP2P()},Se.prototype._updateFeatures=function(t){var o=this;t.getFeatures().then(function(n){t._supportsDTMF=n.has('urn:xmpp:jingle:dtmf:0'),o.updateDTMFSupport(),n.has(ne.FEATURE_JIGASI)&&t.setProperty('features_jigasi',!0),n.has(ne.FEATURE_E2EE)&&t.setProperty('features_e2ee',!0)}).catch(function(){return!1})},Se.prototype._onMemberBotTypeChanged=function(t,o){var n=this.getParticipants().find(function(o){return o.getJid()===t});if(n){n.setBotType(o);var s=h.Strophe.getResourceFromJid(t);this.eventEmitter.emit(y.BOT_TYPE_CHANGED,s,o)}n.getBotType()||this._maybeStartOrStopP2P()},Se.prototype.onMemberLeft=function(t){var o=this,n=h.Strophe.getResourceFromJid(t);if('focus'!==n&&this.myUserId()!==n){for(var c,p=this.participants[n],l=[],u=fe(this.getMediaSessions());!(c=u()).done;){var f=c.value,v=f.peerconnection.getRemoteTracks(n);v&&(l=[].concat((0,s.default)(l),(0,s.default)(v))),f.removeRemoteStreamsOnLeave(n)}l.forEach(function(t){o.eventEmitter.emit(y.TRACK_REMOVED,t)}),p&&(delete this.participants[n],this.eventEmitter.emit(y.USER_LEFT,n,p)),null!==this.room&&(this._maybeStartOrStopP2P(!0),this._maybeClearSITimeout())}},Se.prototype.onMemberKicked=function(t,o,n,s,c){if(o!==this.myUserId()){var p=this.participants[o];if(t)return this.eventEmitter.emit(y.KICKED,p,s,c),void this.leave();var l=this.participants[n];l.setIsReplaced(c),this.eventEmitter.emit(y.PARTICIPANT_KICKED,p,l,s)}},Se.prototype.onLocalRoleChanged=function(t){this.eventEmitter.emit(y.USER_ROLE_CHANGED,this.myUserId(),t)},Se.prototype.onUserRoleChanged=function(t,o){var n=h.Strophe.getResourceFromJid(t),s=this.getParticipantById(n);s&&(s.setRole(o),this.eventEmitter.emit(y.USER_ROLE_CHANGED,n,o))},Se.prototype.onDisplayNameChanged=function(t,o){var n=h.Strophe.getResourceFromJid(t),s=this.getParticipantById(n);s&&s._displayName!==o&&(s._displayName=o,this.eventEmitter.emit(y.DISPLAY_NAME_CHANGED,n,o))},Se.prototype.onRemoteTrackAdded=function(t){var o=this;if(!t.isP2P||this.isP2PActive())if(t.isP2P||!this.isP2PActive()){var n=t.getParticipantId(),s=this.getParticipantById(n);if(s){s._tracks.push(t),this.transcriber&&this.transcriber.addTrack(t);var c=this.eventEmitter;t.addEventListener(_.TRACK_MUTE_CHANGED,function(){return c.emit(y.TRACK_MUTE_CHANGED,t)}),t.isAudioTrack()&&t.addEventListener(_.TRACK_AUDIO_LEVEL_CHANGED,function(t,s){o.getActivePeerConnection()===s&&c.emit(y.TRACK_AUDIO_LEVEL_CHANGED,n,t)}),c.emit(y.TRACK_ADDED,t)}else Pe.error("No participant found for id: "+n)}else Pe.info('Trying to add remote JVB track, when in P2P - IGNORED');else Pe.info('Trying to add remote P2P track, when not in P2P - IGNORED')},Se.prototype.onCallAccepted=function(t,o){this.p2pJingleSession===t&&(Pe.info('P2P setAnswer'),this.p2pJingleSession.setAnswer(o),this.eventEmitter.emit(y._MEDIA_SESSION_STARTED,this.p2pJingleSession))},Se.prototype.onTransportInfo=function(t,o){this.p2pJingleSession===t&&(Pe.info('P2P addIceCandidates'),this.p2pJingleSession.addIceCandidates(o))},Se.prototype.onRemoteTrackRemoved=function(t){var o=this;this.getParticipants().forEach(function(n){for(var s=n.getTracks(),c=0;c<s.length;c++)if(s[c]===t){n._tracks.splice(c,1),o.eventEmitter.emit(y.TRACK_REMOVED,t),o.transcriber&&o.transcriber.removeTrack(t);break}},this)},Se.prototype._onIncomingCallP2P=function(t,o){var n,s,c=A.default.supportsUnifiedPlan()&&(!A.default.isChromiumBased()||null===(n=this.options.config.enableUnifiedOnChrome)||void 0===n||n),p=o.find('>content').attr('name');c!==('0'===p||'1'===p)?s={reason:'decline',reasonDescription:'P2P disabled',errorMsg:'P2P across two endpoints in different SDP modes is disabled'}:!this.isP2PEnabled()&&!this.isP2PTestModeEnabled()||A.default.isFirefox()||A.default.isWebKitBased()?s={reason:'decline',reasonDescription:'P2P disabled',errorMsg:'P2P mode disabled in the configuration or browser unsupported'}:this.p2pJingleSession?s={reason:'busy',reasonDescription:'P2P already in progress',errorMsg:'Duplicated P2P "session-initiate"'}:this._shouldBeInP2PMode()||(s={reason:'decline',reasonDescription:'P2P requirements not met',errorMsg:'Received P2P "session-initiate" when should not be in P2P mode'},z.default.sendAnalytics((0,le.createJingleEvent)(le.ACTION_P2P_DECLINED))),s?this._rejectIncomingCall(t,s):this._acceptP2PIncomingCall(t,o)},Se.prototype.onIncomingCall=function(t,o,n){if(t.isP2P)this._onIncomingCallP2P(t,o);else{if(!this.isFocus(t.remoteJid)){var s='Rejecting session-initiate from non-focus.';return void this._rejectIncomingCall(t,{reason:'security-error',reasonDescription:s,errorMsg:s})}this._acceptJvbIncomingCall(t,o,n)}},Se.prototype._acceptJvbIncomingCall=function(t,o,n){var s=this;this.jvbJingleSession=t,this.room.connectionTimes['session.initiate']=n,this._sendConferenceJoinAnalyticsEvent(),this.wasStopped&&z.default.sendAnalyticsAndLog((0,le.createJingleEvent)(le.ACTION_JINGLE_RESTART,{p2p:!1}));var p=$(o).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr('region');this.eventEmitter.emit(y.SERVER_REGION_CHANGED,p),this._maybeClearSITimeout(),z.default.sendAnalytics((0,le.createJingleEvent)(le.ACTION_JINGLE_SI_RECEIVED,{p2p:!1,value:n}));try{t.initialize(this.room,this.rtc,this._signalingLayer,(0,c.default)((0,c.default)({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()}))}catch(t){return Y.default.callErrorHandler(t),void Pe.error(t)}this._setBridgeChannel(o,t.peerconnection);var l=this._getInitialLocalTracks();try{t.acceptOffer(o,function(){s.isP2PActive()&&s.jvbJingleSession&&s._suspendMediaTransferForJvbConnection(),s.eventEmitter.emit(y._MEDIA_SESSION_STARTED,t),s.isP2PActive()||s.eventEmitter.emit(y._MEDIA_SESSION_ACTIVE_CHANGED,t)},function(t){Y.default.callErrorHandler(t),Pe.error('Failed to accept incoming Jingle session',t)},l),this._desktopSharingFrameRate&&t.peerconnection.setDesktopSharingFrameRate(this._desktopSharingFrameRate),Pe.info('Starting CallStats for JVB connection...'),this.statistics.startCallStats(this.jvbJingleSession.peerconnection,'jitsi'),this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection)}catch(t){Y.default.callErrorHandler(t),Pe.error(t)}},Se.prototype._setBridgeChannel=function(t,o){var n=null,s=$(t).find('>content>transport>web-socket').first();1===s.length&&(n=s[0].getAttribute('url')),n?this.rtc.initializeBridgeChannel(null,n):this.rtc.initializeBridgeChannel(o,null)},Se.prototype._rejectIncomingCall=function(t,o){(null===o||void 0===o?void 0:o.errorMsg)&&Pe.warn(o.errorMsg),t.terminate(null,function(t){Pe.warn("An error occurred while trying to terminate invalid Jingle session",t)},{reason:o&&o.reason,reasonDescription:o&&o.reasonDescription,sendSessionTerminate:!0})},Se.prototype.onCallEnded=function(t,o,n){if(Pe.info("Call ended: "+o+" - "+n+" P2P ?"+t.isP2P),t===this.jvbJingleSession)this.wasStopped=!0,z.default.sendAnalytics((0,le.createJingleEvent)(le.ACTION_JINGLE_TERMINATE,{p2p:!1})),this.statistics&&(this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection),Pe.info('Stopping JVB CallStats'),this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)),this.jvbJingleSession=null,this.rtc.onCallEnded();else if(t===this.p2pJingleSession){var s={};'decline'===o&&'force JVB121'===n?(Pe.info('In forced JVB 121 mode...'),z.default.analytics.addPermanentProperties({forceJvb121:!0})):'connectivity-error'===o&&'ICE FAILED'===n?z.default.analytics.addPermanentProperties({p2pFailed:!0}):'success'===o&&'restart'===n&&(s.requestRestart=!0),this._stopP2PSession(s)}else Pe.error('Received onCallEnded for invalid session',t.sid,t.remoteJid,o,n)},Se.prototype.onSuspendDetected=function(t){t.isP2P||(this.leave(),this.eventEmitter.emit(y.SUSPEND_DETECTED))},Se.prototype.updateDTMFSupport=function(){for(var t=!1,o=this.getParticipants(),n=0;n<o.length;n+=1)if(o[n].supportsDTMF()){t=!0;break}t!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=t,this.eventEmitter.emit(y.DTMF_SUPPORT_CHANGED,t))},Se.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},Se.prototype.myUserId=function(){return this.room&&this.room.myroomjid?h.Strophe.getResourceFromJid(this.room.myroomjid):null},Se.prototype.sendTones=function(t,o,n){var s=this.getActivePeerConnection();s?s.sendTones(t,o,n):Pe.warn('cannot sendTones: no peer connection')},Se.prototype.startRecording=function(t){return this.room?this.recordingManager.startRecording(t):Promise.reject(new Error('The conference is not created yet!'))},Se.prototype.stopRecording=function(t){return this.room?this.recordingManager.stopRecording(t):Promise.reject(new Error('The conference is not created yet!'))},Se.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},Se.prototype.dial=function(t){return this.room?this.room.dial(t):new Promise(function(t,o){o(new Error('The conference is not created yet!'))})},Se.prototype.hangup=function(){return this.room?this.room.hangup():new Promise(function(t,o){o(new Error('The conference is not created yet!'))})},Se.prototype.startTranscriber=function(){return this.dial('jitsi_meet_transcribe')},Se.prototype.stopTranscriber=Se.prototype.hangup,Se.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},Se.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},Se.prototype.getMeetingUniqueId=function(){if(this.room)return this.room.getMeetingId()},Se.prototype.getActivePeerConnection=function(){var t=this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession;return t?t.peerconnection:null},Se.prototype.getConnectionState=function(){var t=this.getActivePeerConnection();return t?t.getConnectionState():null},Se.prototype.setStartMutedPolicy=function(t){this.isModerator()?(this.startMutedPolicy=t,this.room.addOrReplaceInPresence('startmuted',{attributes:{audio:t.audio,video:t.video,xmlns:'http://jitsi.org/jitmeet/start-muted'}})&&this.room.sendPresence()):Pe.warn("Failed to set start muted policy, "+(this.room?'':'not in a room, ')+(this.isModerator()?'':'participant is not a moderator'))},Se.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},Se.prototype.isStartAudioMuted=function(){return this.startAudioMuted},Se.prototype.isStartVideoMuted=function(){return this.startVideoMuted},Se.prototype.getConnectionTimes=function(){return this.room.connectionTimes},Se.prototype.setLocalParticipantProperty=function(t,o){this.sendCommand("jitsi_participant_"+t,{value:o})},Se.prototype.removeLocalParticipantProperty=function(t){this.removeCommand("jitsi_participant_"+t),this.room.sendPresence()},Se.prototype.getLocalParticipantProperty=function(t){var o=this.room.presMap.nodes.find(function(o){return o.tagName==="jitsi_participant_"+t});return o?o.value:void 0},Se.prototype.sendFeedback=function(t,o){return this.statistics.sendFeedback(t,o)},Se.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},Se.prototype.getSsrcByTrack=function(t){var o;return t.isLocal()?null===(o=this.getActivePeerConnection())||void 0===o?void 0:o.getLocalSSRC(t):t.getSSRC()},Se.prototype._onTrackAttach=function(t,o){var n=t.isLocal(),s=null,c=t.isP2P,p=c?t.getParticipantId():'jitsi',l=c?this.p2pJingleSession&&this.p2pJingleSession.peerconnection:this.jvbJingleSession&&this.jvbJingleSession.peerconnection;n?l&&(s=l.getLocalSSRC(t)):s=t.getSSRC(),o.id&&s&&l&&this.statistics.associateStreamWithVideoTag(l,s,n,p,t.getUsageLabel(),o.id)},Se.prototype.sendApplicationLog=function(t){z.default.sendLog(t)},Se.prototype.isFocus=function(t){return this.room?this.room.isFocus(t):null},Se.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(y.CONFERENCE_FAILED,f.INCOMPATIBLE_SERVER_VERSIONS)},Se.prototype.sendEndpointMessage=function(t,o){this.rtc.sendChannelMessage(t,o)},Se.prototype.sendEndpointStatsMessage=function(t){this.rtc.sendEndpointStatsMessage(t)},Se.prototype.broadcastEndpointMessage=function(t){this.sendEndpointMessage('',t)},Se.prototype.sendMessage=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'',n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=typeof t;if('object'===s||!n&&'string'===s)if(n)this.sendEndpointMessage(o,t);else{var c=t,p='body';if('object'===s){p='json-message',c.hasOwnProperty(ne.JITSI_MEET_MUC_TYPE)||(c[ne.JITSI_MEET_MUC_TYPE]='');try{c=JSON.stringify(c)}catch(t){return void Pe.error('Can not send a message, stringify failed: ',t)}}o?this.sendPrivateTextMessage(o,c,p):this.sendTextMessage(c,p)}else Pe.error("Can not send a message of type "+s)},Se.prototype.isConnectionInterrupted=function(){return this.isP2PActive()?this.isP2PConnectionInterrupted:this.isJvbConnectionInterrupted},Se.prototype._onConferenceRestarted=function(t){!t.isP2P&&this.options.config.enableForcedReload&&this.eventEmitter.emit(y.CONFERENCE_FAILED,f.CONFERENCE_RESTARTED)},Se.prototype._onIceConnectionInterrupted=function(t){t.isP2P?this.isP2PConnectionInterrupted=!0:this.isJvbConnectionInterrupted=!0,t.isP2P===this.isP2PActive()&&this.eventEmitter.emit(y.CONNECTION_INTERRUPTED)},Se.prototype._onIceConnectionFailed=function(t){t.isP2P?(z.default.analytics.addPermanentProperties({p2pFailed:!0}),this.p2pJingleSession&&z.default.sendAnalyticsAndLog((0,le.createP2PEvent)(le.ACTION_P2P_FAILED,{initiator:this.p2pJingleSession.isInitiator})),this._stopP2PSession({reason:'connectivity-error',reasonDescription:'ICE FAILED'})):t&&this.jvbJingleSession===t&&(this._delayedIceFailed=new R.default(this),this._delayedIceFailed.start(t))},Se.prototype._onIceConnectionRestored=function(t){t.isP2P?this.isP2PConnectionInterrupted=!1:(this.isJvbConnectionInterrupted=!1,this._delayedIceFailed&&this._delayedIceFailed.cancel()),t.isP2P===this.isP2PActive()&&this.eventEmitter.emit(y.CONNECTION_RESTORED)},Se.prototype._acceptP2PIncomingCall=function(t,o){var n=this;this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=t,this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,(0,c.default)((0,c.default)({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()})),Pe.info('Starting CallStats for P2P connection...');var s=h.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),p=this.participants[s];p&&(s=p.getStatsID()||s),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,s);var l=this.getLocalTracks();this.p2pJingleSession.acceptOffer(o,function(){Pe.debug('Got RESULT for P2P "session-accept"'),n.eventEmitter.emit(y._MEDIA_SESSION_STARTED,t)},function(t){Pe.error('Failed to accept incoming P2P Jingle session',t)},l)},Se.prototype._addRemoteJVBTracks=function(){this._addRemoteTracks('JVB',this.jvbJingleSession.peerconnection.getRemoteTracks())},Se.prototype._addRemoteP2PTracks=function(){this._addRemoteTracks('P2P',this.p2pJingleSession.peerconnection.getRemoteTracks())},Se.prototype._addRemoteTracks=function(t,o){for(var n,s=fe(o);!(n=s()).done;){var c=n.value;Pe.info("Adding remote "+t+" track: "+c),this.onRemoteTrackAdded(c)}},Se.prototype._onIceConnectionEstablished=function(t){this.setDisplayName((this.getLocalUser()&&this.getLocalUser().name)+"("+this.options.connection.options.ownerId+")"),null!==this.p2pJingleSession&&(this.p2pEstablishmentDuration=this.p2pJingleSession.establishmentDuration),null!==this.jvbJingleSession&&(this.jvbEstablishmentDuration=this.jvbJingleSession.establishmentDuration);var o=!1,n=this.options.config.forceJVB121Ratio;if(t.isP2P?this.p2pJingleSession!==t?(Pe.error('CONNECTION_ESTABLISHED - wrong P2P session instance ?!'),o=!0):!t.isInitiator&&'number'==typeof n&&Math.random()<n&&(Pe.info("Forcing JVB 121 mode (ratio="+n+")..."),z.default.analytics.addPermanentProperties({forceJvb121:!0}),this._stopP2PSession({reason:'decline',reasonDescription:'force JVB121'}),o=!0):o=!0,!isNaN(this.p2pEstablishmentDuration)&&!isNaN(this.jvbEstablishmentDuration)){var s=this.p2pEstablishmentDuration-this.jvbEstablishmentDuration;z.default.sendAnalytics(le.ICE_ESTABLISHMENT_DURATION_DIFF,{value:s})}t.isP2P===this.isP2PActive()&&this.eventEmitter.emit(y.CONNECTION_ESTABLISHED),o||(this._setP2PStatus(!0),this.jvbJingleSession?this._removeRemoteJVBTracks():Pe.info('Not removing remote JVB tracks - no session yet'),this._addRemoteP2PTracks(),this.jvbJingleSession&&this._suspendMediaTransferForJvbConnection(),Pe.info('Starting remote stats with p2p connection'),this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection),z.default.sendAnalyticsAndLog((0,le.createP2PEvent)(le.ACTION_P2P_ESTABLISHED,{initiator:this.p2pJingleSession.isInitiator})))},Se.prototype._updateProperties=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=!(0,u.default)(t,this.properties);if(this.properties=t,o){this.eventEmitter.emit(y.PROPERTIES_CHANGED,this.properties);var s='true'===this.properties['audio-limit-reached'],c='true'===this.properties['video-limit-reached'];this._audioSenderLimitReached!==s&&(this._audioSenderLimitReached=s,this.eventEmitter.emit(y.AUDIO_UNMUTE_PERMISSIONS_CHANGED,s),Pe.info("Audio unmute permissions set by Jicofo to "+s)),this._videoSenderLimitReached!==c&&(this._videoSenderLimitReached=c,this.eventEmitter.emit(y.VIDEO_UNMUTE_PERMISSIONS_CHANGED,c),Pe.info("Video unmute permissions set by Jicofo to "+c));['bridge-count','created-ms'].forEach(function(o){void 0!==t[o]&&z.default.analytics.addPermanentProperties((0,n.default)({},o.replace('-','_'),t[o]))})}},Se.prototype.getProperty=function(t){return this.properties[t]},Se.prototype._maybeClearDeferredStartP2P=function(){this.deferredStartP2PTask&&(Pe.info('Cleared deferred start P2P task'),clearTimeout(this.deferredStartP2PTask),this.deferredStartP2PTask=null)},Se.prototype._removeRemoteJVBTracks=function(){this._removeRemoteTracks('JVB',this.jvbJingleSession.peerconnection.getRemoteTracks())},Se.prototype._removeRemoteP2PTracks=function(){this._removeRemoteTracks('P2P',this.p2pJingleSession.peerconnection.getRemoteTracks())},Se.prototype._removeRemoteTracks=function(t,o){for(var n,s=fe(o);!(n=s()).done;){var c=n.value;Pe.info("Removing remote "+t+" track: "+c),this.onRemoteTrackRemoved(c)}},Se.prototype._resumeMediaTransferForJvbConnection=function(){Pe.info('Resuming media transfer over the JVB connection...'),this.jvbJingleSession.setMediaTransferActive(!0,!0).then(function(){Pe.info('Resumed media transfer over the JVB connection!')},function(t){Pe.error('Failed to resume media transfer over the JVB connection:',t)})},Se.prototype._setP2PStatus=function(t){if(this.p2p!==t){if(this.p2p=t,t){Pe.info('Peer to peer connection established!'),z.default.analytics.addPermanentProperties({p2pFailed:!1,forceJvb121:!1});var o=0!==this.getLastN();this.p2pJingleSession.setMediaTransferActive(!0,o).catch(function(t){Pe.error("Failed to sync up P2P video transfer status("+o+")",t)})}else Pe.info('Peer to peer connection closed!');this.jvbJingleSession&&this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection,!t),this.dtmfManager=null,this.eventEmitter.emit(y.P2P_STATUS,this,this.p2p),this.eventEmitter.emit(y._MEDIA_SESSION_ACTIVE_CHANGED,this.getActiveMediaSession()),this.eventEmitter.emit(this.isConnectionInterrupted()?y.CONNECTION_INTERRUPTED:y.CONNECTION_RESTORED)}else Pe.debug("Called _setP2PStatus with the same status: "+t)},Se.prototype._startP2PSession=function(t){if(this._maybeClearDeferredStartP2P(),this.p2pJingleSession)Pe.error('P2P session already started!');else{this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid,t),Pe.info('Created new P2P JingleSession',this.room.myroomjid,t),this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,(0,c.default)((0,c.default)({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()})),Pe.info('Starting CallStats for P2P connection...');var o=h.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),n=this.participants[o];n&&(o=n.getStatsID()||o),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,o);var s=this.getLocalTracks();this.p2pJingleSession.invite(s)}},Se.prototype._suspendMediaTransferForJvbConnection=function(){Pe.info('Suspending media transfer over the JVB connection...'),this.jvbJingleSession.setMediaTransferActive(!1,!1).then(function(){Pe.info('Suspended media transfer over the JVB connection !')},function(t){Pe.error('Failed to suspend media transfer over the JVB connection:',t)})},Se.prototype._maybeStartOrStopP2P=function(t){if(!this.isP2PEnabled()||this.isP2PTestModeEnabled()||A.default.isFirefox()||A.default.isWebKitBased()||this.isE2EEEnabled())Pe.info('Auto P2P disabled');else{var o=this.getParticipants(),n=o.length,s=this._shouldBeInP2PMode();if(!s&&this.deferredStartP2PTask&&this._maybeClearDeferredStartP2P(),!this.p2pJingleSession&&s){var c=n&&o[0],p=this.myUserId(),l=c.getId();if(p>l)return void Pe.debug("I'm the bigger peersId - the other peer should start P2P",p,l);if(p===l)return void Pe.error('The same IDs ? ',p,l);var u=c.getJid();if(t){if(this.deferredStartP2PTask)return void Pe.error('Deferred start P2P task\'s been set already!');Pe.info("Will start P2P with: "+u+" after "+this.backToP2PDelay+" seconds..."),this.deferredStartP2PTask=setTimeout(this._startP2PSession.bind(this,u),1e3*this.backToP2PDelay)}else Pe.info("Will start P2P with: "+u),this._startP2PSession(u)}else this.p2pJingleSession&&!s&&(Pe.info("Will stop P2P with: "+this.p2pJingleSession.remoteJid),this.p2pJingleSession.isInitiator&&n>1&&z.default.sendAnalyticsAndLog((0,le.createP2PEvent)(le.ACTION_P2P_SWITCH_TO_JVB)),this._stopP2PSession())}},Se.prototype._shouldBeInP2PMode=function(){var t=this.getParticipants(),o=t.length,n=void 0!==t.find(function(t){return'poltergeist'===t.getBotType()||t.hasFeature(ne.FEATURE_JIGASI)}),s=1===o&&!n;return Pe.debug("P2P? peerCount: "+o+", hasBotPeer: "+n+" => "+s),s},Se.prototype._stopP2PSession=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.reason,n=void 0===o?'success':o,s=t.reasonDescription,c=void 0===s?'Turning off P2P session':s,p=t.requestRestart,l=void 0!==p&&p;if(this.p2pJingleSession){var u=this.isP2PActive();u&&(this.jvbJingleSession&&!l&&this._resumeMediaTransferForJvbConnection(),this._removeRemoteP2PTracks()),Pe.info('Stopping remote stats for P2P connection'),this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection),Pe.info('Stopping CallStats for P2P connection'),this.statistics.stopCallStats(this.p2pJingleSession.peerconnection),this.p2pJingleSession.terminate(function(){Pe.info('P2P session terminate RESULT')},function(t){'success'!==n&&Pe.error('An error occurred while trying to terminate P2P Jingle session',t)},{reason:n,reasonDescription:c,sendSessionTerminate:this.room&&this.getParticipantById(h.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))}),this.p2pJingleSession=null,this._setP2PStatus(!1),u&&(this.jvbJingleSession&&!l?this._addRemoteJVBTracks():Pe.info('Not adding remote JVB tracks - no session yet'))}else Pe.error('No P2P session to be stopped!')},Se.prototype._updateRoomPresence=function(t,o){if(t){if(o){if(o.skip)return;o.skip=!0}for(var n,s,c,p,l,u=!1,h=t.peerconnection.getLocalTracks(),f=h.filter(function(t){return t.getType()===ae.MediaType.AUDIO}),v=h.filter(function(t){return t.getType()===ae.MediaType.VIDEO}),y=fe(h);!(c=y()).done;){var P=c.value;n=this._setTrackMuteStatus(P.getType(),P,P.isMuted()),P.getType()===ae.MediaType.VIDEO&&(s=this._setNewVideoType(P)),u=u||n||s}if(!U.default.isMultiStreamSupportEnabled())(null===f||void 0===f?void 0:f.length)||(p=this._setTrackMuteStatus(ae.MediaType.AUDIO,void 0,!0)),(null===v||void 0===v?void 0:v.length)||(l=this._setTrackMuteStatus(ae.MediaType.VIDEO,void 0,!0),s=this._setNewVideoType()),u=u||p||l||s;u&&this.room.sendPresence()}},Se.prototype.isP2PActive=function(){return this.p2p},Se.prototype.getP2PConnectionState=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection.getConnectionState():null},Se.prototype.setDesktopSharingFrameRate=function(t){return'number'!=typeof t||isNaN(t)?(Pe.error("Invalid value "+t+" specified for desktop capture frame rate"),!1):(this._desktopSharingFrameRate=t,this.jvbJingleSession&&this.jvbJingleSession.peerconnection.setDesktopSharingFrameRate(t),this.rtc.setDesktopSharingFrameRate(t),!0)},Se.prototype.startP2PSession=function(){var t=this.getParticipants();if(1!==t.length)throw new Error('There must be exactly 1 participant to start the P2P session !');var o=t[0].getJid();this._startP2PSession(o)},Se.prototype.stopP2PSession=function(t){this._stopP2PSession(t)},Se.prototype.getSpeakerStats=function(){return this.speakerStatsCollector.getStats()},Se.prototype.sendFaceLandmarks=function(t){t.faceExpression&&this.xmpp.sendFaceExpressionEvent(this.room.roomjid,t)},Se.prototype.setReceiverConstraints=function(t){this.receiveVideoController.setReceiverConstraints(t)},Se.prototype.setReceiverVideoConstraint=function(t){this.receiveVideoController.setPreferredReceiveMaxFrameHeight(t)},Se.prototype.setSenderVideoConstraint=function(t){return this.sendVideoController.setPreferredSendMaxFrameHeight(t)},Se.prototype.createVideoSIPGWSession=function(t,o){return this.room?this.videoSIPGWHandler.createVideoSIPGWSession(t,o):new Error(te.ERROR_NO_CONNECTION)},Se.prototype._sendConferenceJoinAnalyticsEvent=function(){var t=this.getMeetingUniqueId();!this._conferenceJoinAnalyticsEventSent&&t&&null!==this.getActivePeerConnection()&&(z.default.sendAnalytics((0,le.createConferenceEvent)('joined',{meetingId:t,participantId:t+"."+this._statsCurrentId})),this._conferenceJoinAnalyticsEventSent=Date.now())},Se.prototype._sendConferenceLeftAnalyticsEvent=function(){var t=this.getMeetingUniqueId();t&&this._conferenceJoinAnalyticsEventSent&&z.default.sendAnalytics((0,le.createConferenceEvent)('left',{meetingId:t,participantId:t+"."+this._statsCurrentId,stats:{duration:Math.floor((Date.now()-this._conferenceJoinAnalyticsEventSent)/1e3),perf:this.getPerformanceStats()}}))},Se.prototype._restartMediaSessions=function(){this.p2pJingleSession&&this._stopP2PSession({reasonDescription:'restart',requestRestart:!0}),this.jvbJingleSession&&this.jvbJingleSession.terminate(null,function(t){Pe.warn('An error occurred while trying to terminate the JVB session',t)},{reason:'success',reasonDescription:'restart required',requestRestart:!0,sendSessionTerminate:!0}),this._maybeStartOrStopP2P(!1)},Se.prototype.isE2EEEnabled=function(){return Boolean(this._e2eEncryption&&this._e2eEncryption.isEnabled())},Se.prototype.isE2EESupported=function(){return V.E2EEncryption.isSupported(this.options.config)},Se.prototype.toggleE2EE=function(t){this.isE2EESupported()?this._e2eEncryption.setEnabled(t):Pe.warn('Cannot enable / disable E2EE: platform is not supported.')},Se.prototype.setMediaEncryptionKey=function(t){this._e2eEncryption.setEncryptionKey(t)},Se.prototype.isLobbySupported=function(){return Boolean(this.room&&this.room.getLobby().isSupported())},Se.prototype.isMembersOnly=function(){return Boolean(this.room&&this.room.membersOnlyEnabled)},Se.prototype.enableLobby=function(){return this.room&&this.isModerator()?this.room.getLobby().enable():Promise.reject(new Error('The conference not started or user is not moderator'))},Se.prototype.disableLobby=function(){this.room&&this.isModerator()?this.room.getLobby().disable():Pe.warn("Failed to disable lobby, "+(this.room?'':'not in a room, ')+(this.isModerator()?'':'participant is not a moderator'))},Se.prototype.joinLobby=function(t,o){return this.room?this.room.getLobby().join(t,o):Promise.reject(new Error('The conference not started'))},Se.prototype.myLobbyUserId=function(){if(this.room)return this.room.getLobby().getLocalId()},Se.prototype.sendLobbyMessage=function(t,o){if(this.room)return o?this.room.getLobby().sendPrivateMessage(o,t):this.room.getLobby().sendMessage(t)},Se.prototype.addLobbyMessageListener=function(t){if(this.room)return this.room.getLobby().addMessageListener(t)},Se.prototype.removeLobbyMessageHandler=function(t){if(this.room)return this.room.getLobby().removeMessageHandler(t)},Se.prototype.lobbyDenyAccess=function(t){this.room&&this.room.getLobby().denyAccess(t)},Se.prototype.lobbyApproveAccess=function(t){this.room&&this.room.getLobby().approveAccess(t)},Se.prototype.isAVModerationSupported=function(){return Boolean(this.room&&this.room.getAVModeration().isSupported())},Se.prototype.enableAVModeration=function(t){this.room&&this.isModerator()&&(t===ae.MediaType.AUDIO||t===ae.MediaType.VIDEO)?this.room.getAVModeration().enable(!0,t):Pe.warn("Failed to enable AV moderation, "+(this.room?'':'not in a room, ')+(this.isModerator()?'':'participant is not a moderator, ')+(this.room&&this.isModerator()?'wrong media type passed':''))},Se.prototype.disableAVModeration=function(t){this.room&&this.isModerator()&&(t===ae.MediaType.AUDIO||t===ae.MediaType.VIDEO)?this.room.getAVModeration().enable(!1,t):Pe.warn("Failed to disable AV moderation, "+(this.room?'':'not in a room, ')+(this.isModerator()?'':'participant is not a moderator, ')+(this.room&&this.isModerator()?'wrong media type passed':''))},Se.prototype.avModerationApprove=function(t,o){if(this.room&&this.isModerator()&&(t===ae.MediaType.AUDIO||t===ae.MediaType.VIDEO)){var n=this.getParticipantById(o);if(!n)return;this.room.getAVModeration().approve(t,n.getJid())}else Pe.warn("AV moderation approve skipped , "+(this.room?'':'not in a room, ')+(this.isModerator()?'':'participant is not a moderator, ')+(this.room&&this.isModerator()?'wrong media type passed':''))},Se.prototype.avModerationReject=function(t,o){if(this.room&&this.isModerator()&&(t===ae.MediaType.AUDIO||t===ae.MediaType.VIDEO)){var n=this.getParticipantById(o);if(!n)return;this.room.getAVModeration().reject(t,n.getJid())}else Pe.warn("AV moderation reject skipped , "+(this.room?'':'not in a room, ')+(this.isModerator()?'':'participant is not a moderator, ')+(this.room&&this.isModerator()?'wrong media type passed':''))},Se.prototype.getBreakoutRooms=function(){var t;return null===(t=this.room)||void 0===t?void 0:t.getBreakoutRooms()},Se.prototype.getLocalUser=function(){if(this.user)return this.user},Se.prototype.terminate=function(){this.sendCommand('terminate',{})},Se.prototype.handleSubtitles=function(){var t=this,o={};this.on(y.ENDPOINT_MESSAGE_RECEIVED,function(n,s){var c,p,l,u,h,f;if(s&&("transcription-result"===s.type||"translation-result"===s.type)){var v=t.getLocalParticipantProperty('translation_language');try{var P=s.message_id,S=s.participant.name,E={transcriptMessageID:P};if("translation-result"===s.type&&s.language===v)E.final=s.text,E.participantName=S;else if("transcription-result"===s.type&&!v){var _=s.transcript[0].text;o.transcriptMessageID===P?E=o:E.participantName=S,s.is_interim?s.stability>.85?(E.stable=_,E.unstable=void 0):E.unstable=_:E.final=_}var T='';if(E.final)T=E.final;else T=(E.stable||'')+(E.unstable||'');var b=(null===(u=null===(l=null===(p=t.participants[null===(c=null===s||void 0===s?void 0:s.participant)||void 0===c?void 0:c.id])||void 0===p?void 0:p._identity)||void 0===l?void 0:l.user)||void 0===u?void 0:u.name)||(null===(h=null===t||void 0===t?void 0:t.getLocalUser())||void 0===h?void 0:h.name);t.eventEmitter.emit(y.SUBTITLES_RECEIVED,null===(f=null===s||void 0===s?void 0:s.participant)||void 0===f?void 0:f.id,b,T)}catch(t){Pe.error('Error occurred while updating transcriptions\n',t)}}})},Se.prototype.enableAnalytics=function(){var t=this;this.statistics.addAnalyticsEventListener(function(o,n){var s='',c={};'string'==typeof o?(s=o,c=n):'object'==typeof o&&(s=o.name,c=o);var p={name:s,action:c.action?c.action:'',actionSubject:c.actionSubject?c.actionSubject:'',source:c.source?c.source:'',attributes:JSON.stringify(n)};t.eventEmitter.emit(y.ANALYTICS_EVENT_RECEIVED,p)})},Se.prototype.startLocalRecording=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'ogg';this.recordingController.startRecording(t)},Se.prototype.stopLocalRecording=function(){this.recordingController.stopRecording()},Se.prototype.switchFormat=function(){this.recordingController.switchFormat(format)},Se.prototype.setMuted=function(t){this.recordingController.setMuted(t)},Se.prototype.setMicDevice=function(t){this.recordingController.setMicDevice(t)},Se.prototype.startSIPVideoCall=function(t,o){if(!this.sessions[t]){var n=this.createVideoSIPGWSession(t,o);this.sessions[t]=n,n.start()}},Se.prototype.stopSIPVideoCall=function(t){this.sessions[t]&&(this.sessions[t].stop(),delete this.sessions[t])}},557,[2,283,253,41,32,435,558,559,560,554,561,555,597,564,565,599,600,668,669,650,568,709,711,598,712,713,714,715,718,719,605,720,722,590,723,738,739,740,643,743,744,745,563,747,584,754,755,757,758,759,602,670,648,589,593,698,594,566,596]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n='object'==typeof Reflect?Reflect:null,o=n&&'function'==typeof n.apply?n.apply:function(t,n,o){return Function.prototype.apply.call(t,n,o)};t=n&&'function'==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function u(){u.init.call(this)}m.exports=u,m.exports.once=function(t,n){return new Promise(function(o,s){function u(o){t.removeListener(n,f),s(o)}function f(){'function'==typeof t.removeListener&&t.removeListener('error',u),o([].slice.call(arguments))}x(t,n,f,{once:!0}),'error'!==n&&O(t,u,{once:!0})})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function c(t){if('function'!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function v(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function p(t,n,o,s){var u,f,p,l;if(c(o),void 0===(f=t._events)?(f=t._events=Object.create(null),t._eventsCount=0):(void 0!==f.newListener&&(t.emit('newListener',n,o.listener?o.listener:o),f=t._events),p=f[n]),void 0===p)p=f[n]=o,++t._eventsCount;else if('function'==typeof p?p=f[n]=s?[o,p]:[p,o]:s?p.unshift(o):p.push(o),(u=v(t))>0&&p.length>u&&!p.warned){p.warned=!0;var h=new Error('Possible EventEmitter memory leak detected. '+p.length+' '+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name='MaxListenersExceededWarning',h.emitter=t,h.type=n,h.count=p.length,l=h,console&&console.warn&&console.warn(l)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,n,o){var s={fired:!1,wrapFn:void 0,target:t,type:n,listener:o},u=l.bind(s);return u.listener=o,s.wrapFn=u,u}function y(t,n,o){var s=t._events;if(void 0===s)return[];var u=s[n];return void 0===u?[]:'function'==typeof u?o?[u.listener||u]:[u]:o?b(u):_(u,u.length)}function L(t){var n=this._events;if(void 0!==n){var o=n[t];if('function'==typeof o)return 1;if(void 0!==o)return o.length}return 0}function _(t,n){for(var o=new Array(n),s=0;s<n;++s)o[s]=t[s];return o}function w(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function b(t){for(var n=new Array(t.length),o=0;o<n.length;++o)n[o]=t[o].listener||t[o];return n}function O(t,n,o){'function'==typeof t.on&&x(t,'error',n,o)}function x(t,n,o,s){if('function'==typeof t.on)s.once?t.once(n,o):t.on(n,o);else{if('function'!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(n,function u(f){s.once&&t.removeEventListener(n,u),o(f)})}}Object.defineProperty(u,'defaultMaxListeners',{enumerable:!0,get:function(){return f},set:function(t){if('number'!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+'.');f=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if('number'!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+'.');return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return v(this)},u.prototype.emit=function(t){for(var n=[],s=1;s<arguments.length;s++)n.push(arguments[s]);var u='error'===t,f=this._events;if(void 0!==f)u=u&&void 0===f.error;else if(!u)return!1;if(u){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var v=new Error('Unhandled error.'+(c?' ('+c.message+')':''));throw v.context=c,v}var p=f[t];if(void 0===p)return!1;if('function'==typeof p)o(p,this,n);else{var l=p.length,h=_(p,l);for(s=0;s<l;++s)o(h[s],this,n)}return!0},u.prototype.addListener=function(t,n){return p(this,t,n,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,n){return p(this,t,n,!0)},u.prototype.once=function(t,n){return c(n),this.on(t,h(this,t,n)),this},u.prototype.prependOnceListener=function(t,n){return c(n),this.prependListener(t,h(this,t,n)),this},u.prototype.removeListener=function(t,n){var o,s,u,f,v;if(c(n),void 0===(s=this._events))return this;if(void 0===(o=s[t]))return this;if(o===n||o.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit('removeListener',t,o.listener||n));else if('function'!=typeof o){for(u=-1,f=o.length-1;f>=0;f--)if(o[f]===n||o[f].listener===n){v=o[f].listener,u=f;break}if(u<0)return this;0===u?o.shift():w(o,u),1===o.length&&(s[t]=o[0]),void 0!==s.removeListener&&this.emit('removeListener',t,v||n)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var n,o,s;if(void 0===(o=this._events))return this;if(void 0===o.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==o[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete o[t]),this;if(0===arguments.length){var u,f=Object.keys(o);for(s=0;s<f.length;++s)'removeListener'!==(u=f[s])&&this.removeAllListeners(u);return this.removeAllListeners('removeListener'),this._events=Object.create(null),this._eventsCount=0,this}if('function'==typeof(n=o[t]))this.removeListener(t,n);else if(void 0!==n)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this},u.prototype.listeners=function(t){return y(this,t,!0)},u.prototype.rawListeners=function(t){return y(this,t,!1)},u.listenerCount=function(t,n){return'function'==typeof t.listenerCount?t.listenerCount(n):L.call(t,n)},u.prototype.listenerCount=L,u.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},558,[]);
__d(function(g,r,i,a,m,e,d){var t='__lodash_hash_undefined__',n=1,o=2,u=9007199254740991,c='[object Arguments]',s='[object Array]',f='[object AsyncFunction]',l='[object Boolean]',_='[object Date]',h='[object Error]',p='[object Function]',v='[object GeneratorFunction]',y='[object Map]',b='[object Number]',j='[object Null]',w='[object Object]',z='[object Proxy]',A='[object RegExp]',O='[object Set]',k='[object String]',S='[object Symbol]',P='[object Undefined]',E='[object ArrayBuffer]',F='[object DataView]',$=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,M={};M['[object Float32Array]']=M['[object Float64Array]']=M['[object Int8Array]']=M['[object Int16Array]']=M['[object Int32Array]']=M['[object Uint8Array]']=M['[object Uint8ClampedArray]']=M['[object Uint16Array]']=M['[object Uint32Array]']=!0,M[c]=M[s]=M[E]=M[l]=M[F]=M[_]=M[h]=M[p]=M[y]=M[b]=M[w]=M[A]=M[O]=M[k]=M["[object WeakMap]"]=!1;var U='object'==typeof g&&g&&g.Object===Object&&g,B='object'==typeof self&&self&&self.Object===Object&&self,I=U||B||Function('return this')(),L='object'==typeof e&&e&&!e.nodeType&&e,T=L&&'object'==typeof m&&m&&!m.nodeType&&m,W=T&&T.exports===L,D=W&&U.process,R=(function(){try{return D&&D.binding&&D.binding('util')}catch(t){}})(),C=R&&R.isTypedArray;function N(t,n){for(var o=-1,u=null==t?0:t.length,c=0,s=[];++o<u;){var f=t[o];n(f,o,t)&&(s[c++]=f)}return s}function V(t,n){for(var o=-1,u=n.length,c=t.length;++o<u;)t[c+o]=n[o];return t}function G(t,n){for(var o=-1,u=null==t?0:t.length;++o<u;)if(n(t[o],o,t))return!0;return!1}function q(t,n){for(var o=-1,u=Array(t);++o<t;)u[o]=n(o);return u}function H(t,n){return null==t?void 0:t[n]}function J(t){var n=-1,o=Array(t.size);return t.forEach(function(t,u){o[++n]=[u,t]}),o}function K(t){var n=-1,o=Array(t.size);return t.forEach(function(t){o[++n]=t}),o}var Q,X,Y,Z=Array.prototype,tt=Function.prototype,et=Object.prototype,rt=I['__core-js_shared__'],nt=tt.toString,ot=et.hasOwnProperty,it=(Q=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||''))?'Symbol(src)_1.'+Q:'',at=et.toString,ut=RegExp('^'+nt.call(ot).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),ct=W?I.Buffer:void 0,st=I.Symbol,ft=I.Uint8Array,lt=et.propertyIsEnumerable,_t=Z.splice,ht=st?st.toStringTag:void 0,pt=Object.getOwnPropertySymbols,vt=ct?ct.isBuffer:void 0,yt=(X=Object.keys,Y=Object,function(t){return X(Y(t))}),bt=Kt(I,'DataView'),dt=Kt(I,'Map'),gt=Kt(I,'Promise'),jt=Kt(I,'Set'),wt=Kt(I,'WeakMap'),zt=Kt(Object,'create'),At=ee(bt),Ot=ee(dt),mt=ee(gt),kt=ee(jt),St=ee(wt),Pt=st?st.prototype:void 0,Et=Pt?Pt.valueOf:void 0;function Ft(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var u=t[n];this.set(u[0],u[1])}}function $t(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var u=t[n];this.set(u[0],u[1])}}function xt(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var u=t[n];this.set(u[0],u[1])}}function Mt(t){var n=-1,o=null==t?0:t.length;for(this.__data__=new xt;++n<o;)this.add(t[n])}function Ut(t){var n=this.__data__=new $t(t);this.size=n.size}function Bt(t,n){var o=oe(t),u=!o&&ne(t),c=!o&&!u&&ie(t),s=!o&&!u&&!c&&fe(t),f=o||u||c||s,l=f?q(t.length,String):[],_=l.length;for(var h in t)!n&&!ot.call(t,h)||f&&('length'==h||c&&('offset'==h||'parent'==h)||s&&('buffer'==h||'byteLength'==h||'byteOffset'==h)||Zt(h,_))||l.push(h);return l}function It(t,n){for(var o=t.length;o--;)if(re(t[o][0],n))return o;return-1}function Lt(t,n,o){var u=n(t);return oe(t)?u:V(u,o(t))}function Tt(t){return null==t?void 0===t?P:j:ht&&ht in Object(t)?Qt(t):te(t)}function Wt(t){return se(t)&&Tt(t)==c}function Dt(t,n,o,u,c){return t===n||(null==t||null==n||!se(t)&&!se(n)?t!=t&&n!=n:Rt(t,n,o,u,Dt,c))}function Rt(t,o,u,f,l,_){var h=oe(t),p=oe(o),v=h?s:Yt(t),y=p?s:Yt(o),b=(v=v==c?w:v)==w,j=(y=y==c?w:y)==w,z=v==y;if(z&&ie(t)){if(!ie(o))return!1;h=!0,b=!1}if(z&&!b)return _||(_=new Ut),h||fe(t)?Vt(t,o,u,f,l,_):Gt(t,o,v,u,f,l,_);if(!(u&n)){var A=b&&ot.call(t,'__wrapped__'),O=j&&ot.call(o,'__wrapped__');if(A||O){var k=A?t.value():t,S=O?o.value():o;return _||(_=new Ut),l(k,S,u,f,_)}}return!!z&&(_||(_=new Ut),qt(t,o,u,f,l,_))}function Ct(t){return!(!ce(t)||it&&it in t)&&(ae(t)?ut:$).test(ee(t))}function Nt(t){if(o=(n=t)&&n.constructor,u='function'==typeof o&&o.prototype||et,n!==u)return yt(t);var n,o,u,c=[];for(var s in Object(t))ot.call(t,s)&&'constructor'!=s&&c.push(s);return c}function Vt(t,u,c,s,f,l){var _=c&n,h=t.length,p=u.length;if(h!=p&&!(_&&p>h))return!1;var v=l.get(t);if(v&&l.get(u))return v==u;var y=-1,b=!0,j=c&o?new Mt:void 0;for(l.set(t,u),l.set(u,t);++y<h;){var w=t[y],z=u[y];if(s)var A=_?s(z,w,y,u,t,l):s(w,z,y,t,u,l);if(void 0!==A){if(A)continue;b=!1;break}if(j){if(!G(u,function(t,n){if(o=n,!j.has(o)&&(w===t||f(w,t,c,s,l)))return j.push(n);var o})){b=!1;break}}else if(w!==z&&!f(w,z,c,s,l)){b=!1;break}}return l.delete(t),l.delete(u),b}function Gt(t,u,c,s,f,p,v){switch(c){case F:if(t.byteLength!=u.byteLength||t.byteOffset!=u.byteOffset)return!1;t=t.buffer,u=u.buffer;case E:return!(t.byteLength!=u.byteLength||!p(new ft(t),new ft(u)));case l:case _:case b:return re(+t,+u);case h:return t.name==u.name&&t.message==u.message;case A:case k:return t==u+'';case y:var j=J;case O:var w=s&n;if(j||(j=K),t.size!=u.size&&!w)return!1;var z=v.get(t);if(z)return z==u;s|=o,v.set(t,u);var P=Vt(j(t),j(u),s,f,p,v);return v.delete(t),P;case S:if(Et)return Et.call(t)==Et.call(u)}return!1}function qt(t,o,u,c,s,f){var l=u&n,_=Ht(t),h=_.length;if(h!=Ht(o).length&&!l)return!1;for(var p=h;p--;){var v=_[p];if(!(l?v in o:ot.call(o,v)))return!1}var y=f.get(t);if(y&&f.get(o))return y==o;var b=!0;f.set(t,o),f.set(o,t);for(var j=l;++p<h;){var w=t[v=_[p]],z=o[v];if(c)var A=l?c(z,w,v,o,t,f):c(w,z,v,t,o,f);if(!(void 0===A?w===z||s(w,z,u,c,f):A)){b=!1;break}j||(j='constructor'==v)}if(b&&!j){var O=t.constructor,k=o.constructor;O!=k&&'constructor'in t&&'constructor'in o&&!('function'==typeof O&&O instanceof O&&'function'==typeof k&&k instanceof k)&&(b=!1)}return f.delete(t),f.delete(o),b}function Ht(t){return Lt(t,le,Xt)}function Jt(t,n){var o,u,c=t.__data__;return('string'==(u=typeof(o=n))||'number'==u||'symbol'==u||'boolean'==u?'__proto__'!==o:null===o)?c['string'==typeof n?'string':'hash']:c.map}function Kt(t,n){var o=H(t,n);return Ct(o)?o:void 0}function Qt(t){var n=ot.call(t,ht),o=t[ht];try{t[ht]=void 0}catch(t){}var u=at.call(t);return n?t[ht]=o:delete t[ht],u}Ft.prototype.clear=function(){this.__data__=zt?zt(null):{},this.size=0},Ft.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Ft.prototype.get=function(n){var o=this.__data__;if(zt){var u=o[n];return u===t?void 0:u}return ot.call(o,n)?o[n]:void 0},Ft.prototype.has=function(t){var n=this.__data__;return zt?void 0!==n[t]:ot.call(n,t)},Ft.prototype.set=function(n,o){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=zt&&void 0===o?t:o,this},$t.prototype.clear=function(){this.__data__=[],this.size=0},$t.prototype.delete=function(t){var n=this.__data__,o=It(n,t);return!(o<0||(o==n.length-1?n.pop():_t.call(n,o,1),--this.size,0))},$t.prototype.get=function(t){var n=this.__data__,o=It(n,t);return o<0?void 0:n[o][1]},$t.prototype.has=function(t){return It(this.__data__,t)>-1},$t.prototype.set=function(t,n){var o=this.__data__,u=It(o,t);return u<0?(++this.size,o.push([t,n])):o[u][1]=n,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new Ft,map:new(dt||$t),string:new Ft}},xt.prototype.delete=function(t){var n=Jt(this,t).delete(t);return this.size-=n?1:0,n},xt.prototype.get=function(t){return Jt(this,t).get(t)},xt.prototype.has=function(t){return Jt(this,t).has(t)},xt.prototype.set=function(t,n){var o=Jt(this,t),u=o.size;return o.set(t,n),this.size+=o.size==u?0:1,this},Mt.prototype.add=Mt.prototype.push=function(n){return this.__data__.set(n,t),this},Mt.prototype.has=function(t){return this.__data__.has(t)},Ut.prototype.clear=function(){this.__data__=new $t,this.size=0},Ut.prototype.delete=function(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o},Ut.prototype.get=function(t){return this.__data__.get(t)},Ut.prototype.has=function(t){return this.__data__.has(t)},Ut.prototype.set=function(t,n){var o=this.__data__;if(o instanceof $t){var u=o.__data__;if(!dt||u.length<199)return u.push([t,n]),this.size=++o.size,this;o=this.__data__=new xt(u)}return o.set(t,n),this.size=o.size,this};var Xt=pt?function(t){return null==t?[]:(t=Object(t),N(pt(t),function(n){return lt.call(t,n)}))}:function(){return[]},Yt=Tt;function Zt(t,n){return!!(n=null==n?u:n)&&('number'==typeof t||x.test(t))&&t>-1&&t%1==0&&t<n}function te(t){return at.call(t)}function ee(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+''}catch(t){}}return''}function re(t,n){return t===n||t!=t&&n!=n}(bt&&Yt(new bt(new ArrayBuffer(1)))!=F||dt&&Yt(new dt)!=y||gt&&"[object Promise]"!=Yt(gt.resolve())||jt&&Yt(new jt)!=O||wt&&"[object WeakMap]"!=Yt(new wt))&&(Yt=function(t){var n=Tt(t),o=n==w?t.constructor:void 0,u=o?ee(o):'';if(u)switch(u){case At:return F;case Ot:return y;case mt:return"[object Promise]";case kt:return O;case St:return"[object WeakMap]"}return n});var ne=Wt((function(){return arguments})())?Wt:function(t){return se(t)&&ot.call(t,'callee')&&!lt.call(t,'callee')},oe=Array.isArray;var ie=vt||function(){return!1};function ae(t){if(!ce(t))return!1;var n=Tt(t);return n==p||n==v||n==f||n==z}function ue(t){return'number'==typeof t&&t>-1&&t%1==0&&t<=u}function ce(t){var n=typeof t;return null!=t&&('object'==n||'function'==n)}function se(t){return null!=t&&'object'==typeof t}var fe=C?(function(t){return function(n){return t(n)}})(C):function(t){return se(t)&&ue(t.length)&&!!M[Tt(t)]};function le(t){return null!=(n=t)&&ue(n.length)&&!ae(n)?Bt(t):Nt(t);var n}m.exports=function(t,n){return Dt(t,n)}},559,[]);
__d(function(t,e,n,s,i,r,o){!(function(t,e){'object'==typeof r&&void 0!==i?i.exports=e():'function'==typeof define&&define.amd?define(e):(t=t||self).strophe=e()})(this,function(){'use strict';var e=void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var o=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},a=function(t){if("string"!=typeof t)throw new Error("str2binl was passed a non-string");for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},h=function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e},c=function(t){for(var e="",n=0;n<4*t.length;n++)e+="0123456789abcdef".charAt(t[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(t[n>>2]>>n%4*8&15);return e},l=function(t,e,n,s,i,r){return o((a=o(o(e,t),o(s,r)))<<(h=i)|a>>>32-h,n);var a,h},u=function(t,e,n,s,i,r,o){return l(e&n|~e&s,t,e,i,r,o)},d=function(t,e,n,s,i,r,o){return l(e&s|n&~s,t,e,i,r,o)},_=function(t,e,n,s,i,r,o){return l(e^n^s,t,e,i,r,o)},p=function(t,e,n,s,i,r,o){return l(n^(e|~s),t,e,i,r,o)},m=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n,s,i,r,a=1732584193,h=-271733879,c=-1732584194,l=271733878,m=0;m<t.length;m+=16)n=a,s=h,i=c,r=l,a=u(a,h,c,l,t[m+0],7,-680876936),l=u(l,a,h,c,t[m+1],12,-389564586),c=u(c,l,a,h,t[m+2],17,606105819),h=u(h,c,l,a,t[m+3],22,-1044525330),a=u(a,h,c,l,t[m+4],7,-176418897),l=u(l,a,h,c,t[m+5],12,1200080426),c=u(c,l,a,h,t[m+6],17,-1473231341),h=u(h,c,l,a,t[m+7],22,-45705983),a=u(a,h,c,l,t[m+8],7,1770035416),l=u(l,a,h,c,t[m+9],12,-1958414417),c=u(c,l,a,h,t[m+10],17,-42063),h=u(h,c,l,a,t[m+11],22,-1990404162),a=u(a,h,c,l,t[m+12],7,1804603682),l=u(l,a,h,c,t[m+13],12,-40341101),c=u(c,l,a,h,t[m+14],17,-1502002290),h=u(h,c,l,a,t[m+15],22,1236535329),a=d(a,h,c,l,t[m+1],5,-165796510),l=d(l,a,h,c,t[m+6],9,-1069501632),c=d(c,l,a,h,t[m+11],14,643717713),h=d(h,c,l,a,t[m+0],20,-373897302),a=d(a,h,c,l,t[m+5],5,-701558691),l=d(l,a,h,c,t[m+10],9,38016083),c=d(c,l,a,h,t[m+15],14,-660478335),h=d(h,c,l,a,t[m+4],20,-405537848),a=d(a,h,c,l,t[m+9],5,568446438),l=d(l,a,h,c,t[m+14],9,-1019803690),c=d(c,l,a,h,t[m+3],14,-187363961),h=d(h,c,l,a,t[m+8],20,1163531501),a=d(a,h,c,l,t[m+13],5,-1444681467),l=d(l,a,h,c,t[m+2],9,-51403784),c=d(c,l,a,h,t[m+7],14,1735328473),h=d(h,c,l,a,t[m+12],20,-1926607734),a=_(a,h,c,l,t[m+5],4,-378558),l=_(l,a,h,c,t[m+8],11,-2022574463),c=_(c,l,a,h,t[m+11],16,1839030562),h=_(h,c,l,a,t[m+14],23,-35309556),a=_(a,h,c,l,t[m+1],4,-1530992060),l=_(l,a,h,c,t[m+4],11,1272893353),c=_(c,l,a,h,t[m+7],16,-155497632),h=_(h,c,l,a,t[m+10],23,-1094730640),a=_(a,h,c,l,t[m+13],4,681279174),l=_(l,a,h,c,t[m+0],11,-358537222),c=_(c,l,a,h,t[m+3],16,-722521979),h=_(h,c,l,a,t[m+6],23,76029189),a=_(a,h,c,l,t[m+9],4,-640364487),l=_(l,a,h,c,t[m+12],11,-421815835),c=_(c,l,a,h,t[m+15],16,530742520),h=_(h,c,l,a,t[m+2],23,-995338651),a=p(a,h,c,l,t[m+0],6,-198630844),l=p(l,a,h,c,t[m+7],10,1126891415),c=p(c,l,a,h,t[m+14],15,-1416354905),h=p(h,c,l,a,t[m+5],21,-57434055),a=p(a,h,c,l,t[m+12],6,1700485571),l=p(l,a,h,c,t[m+3],10,-1894986606),c=p(c,l,a,h,t[m+10],15,-1051523),h=p(h,c,l,a,t[m+1],21,-2054922799),a=p(a,h,c,l,t[m+8],6,1873313359),l=p(l,a,h,c,t[m+15],10,-30611744),c=p(c,l,a,h,t[m+6],15,-1560198380),h=p(h,c,l,a,t[m+13],21,1309151649),a=p(a,h,c,l,t[m+4],6,-145523070),l=p(l,a,h,c,t[m+11],10,-1120210379),c=p(c,l,a,h,t[m+2],15,718787259),h=p(h,c,l,a,t[m+9],21,-343485551),a=o(a,n),h=o(h,s),c=o(c,i),l=o(l,r);return[a,h,c,l]},f={hexdigest:function(t){return c(m(a(t),8*t.length))},hash:function(t){return h(m(a(t),8*t.length))}};function g(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;var n,s,i,r,o,a,h,c,l=new Array(80),u=1732584193,d=-271733879,_=-1732584194,p=271733878,m=-1009589776;for(n=0;n<t.length;n+=16){for(r=u,o=d,a=_,h=p,c=m,s=0;s<80;s++)l[s]=s<16?t[n+s]:y(l[s-3]^l[s-8]^l[s-14]^l[s-16],1),i=T(T(y(u,5),S(s,d,_,p)),T(T(m,l[s]),b(s))),m=p,p=_,_=y(d,30),d=u,u=i;u=T(u,r),d=T(d,o),_=T(_,a),p=T(p,h),m=T(m,c)}return[u,d,_,p,m]}function S(t,e,n,s){return t<20?e&n|~e&s:t<40?e^n^s:t<60?e&n|e&s|n&s:e^n^s}function b(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function v(t,e){var n=x(t);n.length>16&&(n=g(n,8*t.length));for(var s=new Array(16),i=new Array(16),r=0;r<16;r++)s[r]=909522486^n[r],i[r]=1549556828^n[r];var o=g(s.concat(x(e)),512+8*e.length);return g(i.concat(o),672)}function T(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function y(t,e){return t<<e|t>>>32-e}function x(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}function N(t){for(var e,n,s="",i=0;i<4*t.length;i+=3)for(e=(t[i>>2]>>8*(3-i%4)&255)<<16|(t[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|t[i+2>>2]>>8*(3-(i+2)%4)&255,n=0;n<4;n++)8*i+6*n>32*t.length?s+="=":s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>6*(3-n)&63);return s}function A(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}var w={b64_hmac_sha1:function(t,e){return N(v(t,e))},b64_sha1:function(t){return N(g(x(t),8*t.length))},binb2str:A,core_hmac_sha1:v,str_hmac_sha1:function(t,e){return A(v(t,e))},str_sha1:function(t){return A(g(x(t),8*t.length))}},C=function(t){var e,n,s="",i=t.length;for(e=0;e<i;e++)(n=t.charCodeAt(e))>=0&&n<=127?s+=t.charAt(e):n>2047?(s+=String.fromCharCode(224|n>>12&15),s+=String.fromCharCode(128|n>>6&63),s+=String.fromCharCode(128|n>>0&63)):(s+=String.fromCharCode(192|n>>6&31),s+=String.fromCharCode(128|n>>0&63));return s},E=function(t){for(var e in t=t||{})if(Object.prototype.hasOwnProperty.call(t,e)){var s='',i='',r='',o=t[e],a="object"===n(o),h=escape(unescape(a?o.value:o));a&&(s=o.expires?";expires="+o.expires:'',i=o.domain?";domain="+o.domain:'',r=o.path?";path="+o.path:''),document.cookie=e+'='+h+s+i+r}};function O(t,e){return new L.Builder(t,e)}function I(t){return new L.Builder("iq",t)}function H(t){return new L.Builder("presence",t)}var L={VERSION:"@VERSION@",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:['a','blockquote','br','cite','em','img','li','ol','p','span','strong','ul','body'],attributes:{a:['href'],blockquote:['style'],br:[],cite:['style'],em:[],img:['src','alt','style','height','width'],li:['style'],ol:['style'],p:['style'],span:['style'],strong:[],ul:['style'],body:[]},css:['background-color','color','font-family','font-size','font-style','font-weight','margin-left','margin-right','text-align','text-decoration'],validTag:function(t){for(var e=0;e<L.XHTML.tags.length;e++)if(t===L.XHTML.tags[e])return!0;return!1},validAttribute:function(t,e){if(void 0!==L.XHTML.attributes[t]&&L.XHTML.attributes[t].length>0)for(var n=0;n<L.XHTML.attributes[t].length;n++)if(e===L.XHTML.attributes[t][n])return!0;return!1},validCSS:function(t){for(var e=0;e<L.XHTML.css.length;e++)if(t===L.XHTML.css[e])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(t,e){L.NS[t]=e},forEachChild:function(t,e,n){for(var s=0;s<t.childNodes.length;s++){var i=t.childNodes[s];i.nodeType!==L.ElementType.NORMAL||e&&!this.isTagEqual(i,e)||n(i)}},isTagEqual:function(t,e){return t.tagName===e},_xmlGenerator:null,_makeGenerator:function(){var t;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(t=this._getIEXmlDom()).appendChild(t.createElement('strophe')):t=document.implementation.createDocument('jabber:client','strophe',null),t},xmlGenerator:function(){return L._xmlGenerator||(L._xmlGenerator=L._makeGenerator()),L._xmlGenerator},_getIEXmlDom:function(){for(var t=null,e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<e.length&&null===t;n++)try{t=new ActiveXObject(e[n])}catch(e){t=null}return t},xmlElement:function(t){if(!t)return null;for(var e=L.xmlGenerator().createElement(t),s=1;s<arguments.length;s++){var i=arguments[s];if(i)if("string"==typeof i||"number"==typeof i)e.appendChild(L.xmlTextNode(i));else if("object"===n(i)&&"function"==typeof i.sort)for(var r=0;r<i.length;r++){var o=i[r];"object"===n(o)&&"function"==typeof o.sort&&void 0!==o[1]&&null!==o[1]&&e.setAttribute(o[0],o[1])}else if("object"===n(i))for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&void 0!==i[a]&&null!==i[a]&&e.setAttribute(a,i[a])}return e},xmlescape:function(t){return t=(t=(t=(t=(t=t.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(t){return t=(t=(t=(t=(t=t.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,"\"")},xmlTextNode:function(t){return L.xmlGenerator().createTextNode(t)},xmlHtmlNode:function(t){var e;DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t));return e},getText:function(t){if(!t)return null;var e="";0===t.childNodes.length&&t.nodeType===L.ElementType.TEXT&&(e+=t.nodeValue);for(var n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===L.ElementType.TEXT&&(e+=t.childNodes[n].nodeValue);return L.xmlescape(e)},copyElement:function(t){var e;if(t.nodeType===L.ElementType.NORMAL){e=L.xmlElement(t.tagName);for(var n=0;n<t.attributes.length;n++)e.setAttribute(t.attributes[n].nodeName,t.attributes[n].value);for(var s=0;s<t.childNodes.length;s++)e.appendChild(L.copyElement(t.childNodes[s]))}else t.nodeType===L.ElementType.TEXT&&(e=L.xmlGenerator().createTextNode(t.nodeValue));return e},createHtml:function(t){var e;if(t.nodeType===L.ElementType.NORMAL){var s=t.nodeName.toLowerCase();if(L.XHTML.validTag(s))try{e=L.xmlElement(s);for(var i=0;i<L.XHTML.attributes[s].length;i++){var r=L.XHTML.attributes[s][i],o=t.getAttribute(r);if(void 0!==o&&null!==o&&''!==o&&!1!==o&&0!==o)if('style'===r&&'object'===n(o)&&void 0!==o.cssText&&(o=o.cssText),'style'===r){for(var a=[],h=o.split(';'),c=0;c<h.length;c++){var l=h[c].split(':'),u=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(L.XHTML.validCSS(u)){var d=l[1].replace(/^\s*/,"").replace(/\s*$/,"");a.push(u+': '+d)}}a.length>0&&(o=a.join('; '),e.setAttribute(r,o))}else e.setAttribute(r,o)}for(var _=0;_<t.childNodes.length;_++)e.appendChild(L.createHtml(t.childNodes[_]))}catch(t){e=L.xmlTextNode('')}else{e=L.xmlGenerator().createDocumentFragment();for(var p=0;p<t.childNodes.length;p++)e.appendChild(L.createHtml(t.childNodes[p]))}}else if(t.nodeType===L.ElementType.FRAGMENT){e=L.xmlGenerator().createDocumentFragment();for(var m=0;m<t.childNodes.length;m++)e.appendChild(L.createHtml(t.childNodes[m]))}else t.nodeType===L.ElementType.TEXT&&(e=L.xmlTextNode(t.nodeValue));return e},escapeNode:function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,'').replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(t){return"string"!=typeof t?t:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(t){return t.indexOf("@")<0?null:t.split("@")[0]},getDomainFromJid:function(t){var e=L.getBareJidFromJid(t);if(e.indexOf("@")<0)return e;var n=e.split("@");return n.splice(0,1),n.join('@')},getResourceFromJid:function(t){if(!t)return null;var e=t.split("/");return e.length<2?null:(e.splice(0,1),e.join('/'))},getBareJidFromJid:function(t){return t?t.split("/")[0]:null},_handleError:function(t){void 0!==t.stack&&L.fatal(t.stack),t.sourceURL?L.fatal("error: "+this.handler+" "+t.sourceURL+":"+t.line+" - "+t.name+": "+t.message):t.fileName?L.fatal("error: "+this.handler+" "+t.fileName+":"+t.lineNumber+" - "+t.name+": "+t.message):L.fatal("error: "+t.message)},log:function(t,e){t===this.LogLevel.FATAL&&'object'===n(window.console)&&'function'==typeof window.console.error&&window.console.error(e)},debug:function(t){this.log(this.LogLevel.DEBUG,t)},info:function(t){this.log(this.LogLevel.INFO,t)},warn:function(t){this.log(this.LogLevel.WARN,t)},error:function(t){this.log(this.LogLevel.ERROR,t)},fatal:function(t){this.log(this.LogLevel.FATAL,t)},serialize:function(t){if(!t)return null;"function"==typeof t.tree&&(t=t.tree());var e,n=(e=Array(t.attributes.length).keys(),s(e)||i(e)||r()).map(function(e){return t.attributes[e].nodeName});n.sort();var o=n.reduce(function(e,n){return"".concat(e," ").concat(n,"=\"").concat(L.xmlescape(t.attributes.getNamedItem(n).value),"\"")},"<".concat(t.nodeName));if(t.childNodes.length>0){o+=">";for(var a=0;a<t.childNodes.length;a++){var h=t.childNodes[a];switch(h.nodeType){case L.ElementType.NORMAL:o+=L.serialize(h);break;case L.ElementType.TEXT:o+=L.xmlescape(h.nodeValue);break;case L.ElementType.CDATA:o+="<![CDATA["+h.nodeValue+"]]>"}}o+="</"+t.nodeName+">"}else o+="/>";return o},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(t,e){L._connectionPlugins[t]=e},Builder:function(t,e){"presence"!==t&&"message"!==t&&"iq"!==t||(e&&!e.xmlns?e.xmlns=L.NS.CLIENT:e||(e={xmlns:L.NS.CLIENT})),this.nodeTree=L.xmlElement(t,e),this.node=this.nodeTree}};L.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return L.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(void 0===t[e]?this.node.removeAttribute(e):this.node.setAttribute(e,t[e]));return this},c:function(t,e,n){var s=L.xmlElement(t,e,n);return this.node.appendChild(s),"string"!=typeof n&&"number"!=typeof n&&(this.node=s),this},cnode:function(t){var e,n=L.xmlGenerator();try{e=void 0!==n.importNode}catch(t){e=!1}var s=e?n.importNode(t,!0):L.copyElement(t);return this.node.appendChild(s),this.node=s,this},t:function(t){var e=L.xmlTextNode(t);return this.node.appendChild(e),this},h:function(t){var e=document.createElement('body');e.innerHTML=t;for(var n=L.createHtml(e);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},L.Handler=function(t,e,n,s,i,r,o){this.handler=t,this.ns=e,this.name=n,this.type=s,this.id=i,this.options=o||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(L.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=r?L.getBareJidFromJid(r):null:this.from=r,this.user=!0},L.Handler.prototype={getNamespace:function(t){var e=t.getAttribute("xmlns");return e&&this.options.ignoreNamespaceFragment&&(e=e.split('#')[0]),e},namespaceMatch:function(t){var e=this,n=!1;return!this.ns||(L.forEachChild(t,null,function(t){e.getNamespace(t)===e.ns&&(n=!0)}),n||this.getNamespace(t)===this.ns)},isMatch:function(t){var e=t.getAttribute('from');this.options.matchBareFromJid&&(e=L.getBareJidFromJid(e));var n=t.getAttribute("type");return!(!this.namespaceMatch(t)||this.name&&!L.isTagEqual(t,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&t.getAttribute("id")!==this.id||this.from&&e!==this.from)},run:function(t){var e=null;try{e=this.handler(t)}catch(t){throw L._handleError(t),t}return e},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},L.TimedHandler=function(t,e){this.period=t,this.handler=e,this.lastCalled=(new Date).getTime(),this.user=!0},L.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},L.Connection=function(t,e){var n=this;this.service=t,this.options=e||{};var s=this.options.protocol||"";for(var i in 0===t.indexOf("ws:")||0===t.indexOf("wss:")||0===s.indexOf("ws")?this._proto=new L.Websocket(this):this._proto=new L.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){return n._onIdle()},100),E(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),L._connectionPlugins)if(Object.prototype.hasOwnProperty.call(L._connectionPlugins,i)){var r=function(){};r.prototype=L._connectionPlugins[i],this[i]=new r,this[i].init(this)}},L.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(t){var e='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var e=16*Math.random()|0;return('x'===t?e:3&e|8).toString(16)});return"string"==typeof t||"number"==typeof t?e+":"+t:e+""},addProtocolErrorHandler:function(t,e,n){this.protocolErrorHandlers[t][e]=n},connect:function(t,e,n,s,i,r,o){this.jid=t,this.authzid=L.getBareJidFromJid(this.jid),this.authcid=o||L.getNodeFromJid(this.jid),this.pass=e,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=L.getDomainFromJid(this.jid),this._changeConnectStatus(L.Status.CONNECTING,null),this._proto._connect(s,i,r)},attach:function(t,e,n,s,i,r,o){if(!(this._proto instanceof L.Bosh)){var a=new Error('The "attach" method can only be used with a BOSH connection.');throw a.name='StropheSessionError',a}this._proto._attach(t,e,n,s,i,r,o)},restore:function(t,e,n,s,i){if(!this._sessionCachingSupported()){var r=new Error('The "restore" method can only be used with a BOSH connection.');throw r.name='StropheSessionError',r}this._proto._restore(t,e,n,s,i)},_sessionCachingSupported:function(){if(this._proto instanceof L.Bosh){if(!JSON)return!1;try{sessionStorage.setItem('_strophe_','_strophe_'),sessionStorage.removeItem('_strophe_')}catch(t){return!1}return!0}return!1},xmlInput:function(t){},xmlOutput:function(t){},rawInput:function(t){},rawOutput:function(t){},nextValidRid:function(t){},send:function(t){if(null!==t){if("function"==typeof t.sort)for(var e=0;e<t.length;e++)this._queueData(t[e]);else"function"==typeof t.tree?this._queueData(t.tree()):this._queueData(t);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(t,e,n,s){var i=this,r=null;"function"==typeof t.tree&&(t=t.tree());var o=t.getAttribute('id');if(o||(o=this.getUniqueId("sendPresence"),t.setAttribute("id",o)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){r&&i.deleteTimedHandler(r),'error'===t.getAttribute('type')?n&&n(t):e&&e(t)},null,'presence',null,o);s&&(r=this.addTimedHandler(s,function(){return i.deleteHandler(a),n&&n(null),!1}))}return this.send(t),o},sendIQ:function(t,e,n,s){var i=this,r=null;"function"==typeof t.tree&&(t=t.tree());var o=t.getAttribute('id');if(o||(o=this.getUniqueId("sendIQ"),t.setAttribute("id",o)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){r&&i.deleteTimedHandler(r);var s=t.getAttribute('type');if('result'===s)e&&e(t);else{if('error'!==s){var o=new Error("Got bad IQ type of ".concat(s));throw o.name="StropheError",o}n&&n(t)}},null,'iq',['error','result'],o);s&&(r=this.addTimedHandler(s,function(){return i.deleteHandler(a),n&&n(null),!1}))}return this.send(t),o},_queueData:function(t){if(null===t||!t.tagName||!t.childNodes){var e=new Error("Cannot queue non-DOMElement.");throw e.name="StropheError",e}this._data.push(t)},_sendRestart:function(){var t=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){return t._onIdle()},100)},addTimedHandler:function(t,e){var n=new L.TimedHandler(t,e);return this.addTimeds.push(n),n},deleteTimedHandler:function(t){this.removeTimeds.push(t)},addHandler:function(t,e,n,s,i,r,o){var a=new L.Handler(t,e,n,s,i,r,o);return this.addHandlers.push(a),a},deleteHandler:function(t){this.removeHandlers.push(t);var e=this.addHandlers.indexOf(t);e>=0&&this.addHandlers.splice(e,1)},registerSASLMechanisms:function(t){this.mechanisms={},(t=t||[L.SASLAnonymous,L.SASLExternal,L.SASLMD5,L.SASLOAuthBearer,L.SASLXOAuth2,L.SASLPlain,L.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(t){this.mechanisms[t.prototype.name]=t},disconnect:function(t){if(this._changeConnectStatus(L.Status.DISCONNECTING,t),L.warn("Disconnect was called because: "+t),this.connected){var e=!1;this.disconnecting=!0,this.authenticated&&(e=H({xmlns:L.NS.CLIENT,type:'unavailable'})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(e)}else L.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(t,e,n){for(var s in L._connectionPlugins)if(Object.prototype.hasOwnProperty.call(L._connectionPlugins,s)){var i=this[s];if(i.statusChanged)try{i.statusChanged(t,e)}catch(t){L.error("".concat(s," plugin caused an exception changing status: ").concat(t))}}if(this.connect_callback)try{this.connect_callback(t,e,n)}catch(t){L._handleError(t),L.error("User connection callback caused an exception: ".concat(t))}},_doDisconnect:function(t){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),L.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(L.Status.DISCONNECTED,t),this.connected=!1},_dataRecv:function(t,e){var n=this;L.debug("_dataRecv called");var s=this._proto._reqToData(t);if(null!==s){for(this.xmlInput!==L.Connection.prototype.xmlInput&&(s.nodeName===this._proto.strip&&s.childNodes.length?this.xmlInput(s.childNodes[0]):this.xmlInput(s)),this.rawInput!==L.Connection.prototype.rawInput&&(e?this.rawInput(e):this.rawInput(L.serialize(s)));this.removeHandlers.length>0;){var i=this.removeHandlers.pop(),r=this.handlers.indexOf(i);r>=0&&this.handlers.splice(r,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var o=s.getAttribute("type");if(null!==o&&"terminate"===o){if(this.disconnecting)return;var a=s.getAttribute("condition"),h=s.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&h.length>0&&(a="conflict"),this._changeConnectStatus(L.Status.CONNFAIL,a)):this._changeConnectStatus(L.Status.CONNFAIL,L.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a)}L.forEachChild(s,null,function(t){var e=n.handlers;n.handlers=[];for(var s=0;s<e.length;s++){var i=e[s];try{!i.isMatch(t)||!n.authenticated&&i.user?n.handlers.push(i):i.run(t)&&n.handlers.push(i)}catch(t){L.warn('Removing Strophe handlers due to uncaught exception: '+t.message)}}})}}},mechanisms:{},_connect_cb:function(t,e,n){var s;L.debug("_connect_cb was called"),this.connected=!0;try{s=this._proto._reqToData(t)}catch(t){if(t.name!==L.ErrorCondition.BAD_FORMAT)throw t;this._changeConnectStatus(L.Status.CONNFAIL,L.ErrorCondition.BAD_FORMAT),this._doDisconnect(L.ErrorCondition.BAD_FORMAT)}if(s&&(this.xmlInput!==L.Connection.prototype.xmlInput&&(s.nodeName===this._proto.strip&&s.childNodes.length?this.xmlInput(s.childNodes[0]):this.xmlInput(s)),this.rawInput!==L.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(L.serialize(s))),this._proto._connect_cb(s)!==L.Status.CONNFAIL))if(s.getElementsByTagNameNS?s.getElementsByTagNameNS(L.NS.STREAM,"features").length>0:s.getElementsByTagName("stream:features").length>0||s.getElementsByTagName("features").length>0){var i=[],r=s.getElementsByTagName("mechanism");if(r.length>0)for(var o=0;o<r.length;o++){var a=L.getText(r[o]);this.mechanisms[a]&&i.push(this.mechanisms[a])}0!==i.length||0!==s.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(i):this._proto._no_auth_received(e)}else this._proto._no_auth_received(e)},sortMechanismsByPriority:function(t){for(var e=0;e<t.length-1;++e){for(var n=e,s=e+1;s<t.length;++s)t[s].prototype.priority>t[n].prototype.priority&&(n=s);if(n!==e){var i=t[e];t[e]=t[n],t[n]=i}}return t},authenticate:function(t){this._attemptSASLAuth(t)||this._attemptLegacyAuth()},_attemptSASLAuth:function(t){t=this.sortMechanismsByPriority(t||[]);for(var e=!1,n=0;n<t.length;++n)if(t[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new t[n],this._sasl_mechanism.onStart(this);var s=O("auth",{xmlns:L.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var i=this._sasl_mechanism.onChallenge(this,null);s.t(btoa(i))}this.send(s.tree()),e=!0;break}return e},_sasl_challenge_cb:function(t){var e=atob(L.getText(t)),n=this._sasl_mechanism.onChallenge(this,e),s=O('response',{xmlns:L.NS.SASL});return""!==n&&s.t(btoa(n)),this.send(s.tree()),!0},_attemptLegacyAuth:function(){null===L.getNodeFromJid(this.jid)?(this._changeConnectStatus(L.Status.CONNFAIL,L.ErrorCondition.MISSING_JID_NODE),this.disconnect(L.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(L.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(I({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:L.NS.AUTH}).c("username",{}).t(L.getNodeFromJid(this.jid)).tree()))},_onLegacyAuthIQResult:function(t){var e=I({type:"set",id:"_auth_2"}).c('query',{xmlns:L.NS.AUTH}).c('username',{}).t(L.getNodeFromJid(this.jid)).up().c('password').t(this.pass);return L.getResourceFromJid(this.jid)||(this.jid=L.getBareJidFromJid(this.jid)+'/strophe'),e.up().c('resource',{}).t(L.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(e.tree()),!1},_sasl_success_cb:function(t){var e=this;if(this._sasl_data["server-signature"]){var n,s=atob(L.getText(t)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===s[1]&&(n=s[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}L.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var i=[],r=function(t,n){for(;t.length;)e.deleteHandler(t.pop());return e._onStreamFeaturesAfterSASL(n),!1};return i.push(this._addSysHandler(function(t){return r(i,t)},null,"stream:features",null,null)),i.push(this._addSysHandler(function(t){return r(i,t)},L.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_onStreamFeaturesAfterSASL:function(t){this.features=t;for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];'bind'===n.nodeName&&(this.do_bind=!0),'session'===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(L.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(L.Status.AUTHFAIL,null),!1)},bind:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var t=L.getResourceFromJid(this.jid);t?this.send(I({type:"set",id:"_bind_auth_2"}).c('bind',{xmlns:L.NS.BIND}).c('resource',{}).t(t).tree()):this.send(I({type:"set",id:"_bind_auth_2"}).c('bind',{xmlns:L.NS.BIND}).tree())}else L.log(L.LogLevel.INFO,"Strophe.Connection.prototype.bind called but \"do_bind\" is false")},_onResourceBindResultIQ:function(t){var e;if("error"===t.getAttribute("type"))return L.warn("Resource binding failed."),t.getElementsByTagName("conflict").length>0&&(e=L.ErrorCondition.CONFLICT),this._changeConnectStatus(L.Status.AUTHFAIL,e,t),!1;var n=t.getElementsByTagName("bind");if(!(n.length>0))return L.warn("Resource binding failed."),this._changeConnectStatus(L.Status.AUTHFAIL,null,t),!1;var s=n[0].getElementsByTagName("jid");s.length>0&&(this.jid=L.getText(s[0]),this.do_session?this._establishSession():(this.authenticated=!0,this._changeConnectStatus(L.Status.CONNECTED,null)))},_establishSession:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(L.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(I({type:"set",id:"_session_auth_2"}).c('session',{xmlns:L.NS.SESSION}).tree())},_onSessionResultIQ:function(t){if("result"===t.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(L.Status.CONNECTED,null);else if("error"===t.getAttribute("type"))return L.warn("Session creation failed."),this._changeConnectStatus(L.Status.AUTHFAIL,null,t),!1;return!1},_sasl_failure_cb:function(t){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(L.Status.AUTHFAIL,null,t),!1},_auth2_cb:function(t){return"result"===t.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(L.Status.CONNECTED,null)):"error"===t.getAttribute("type")&&(this._changeConnectStatus(L.Status.AUTHFAIL,null,t),this.disconnect('authentication failed')),!1},_addSysTimedHandler:function(t,e){var n=new L.TimedHandler(t,e);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(t,e,n,s,i){var r=new L.Handler(t,e,n,s,i);return r.user=!1,this.addHandlers.push(r),r},_onDisconnectTimeout:function(){return L.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(L.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var t=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var e=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(e);n>=0&&this.timedHandlers.splice(n,1)}for(var s=(new Date).getTime(),i=[],r=0;r<this.timedHandlers.length;r++){var o=this.timedHandlers[r];if(this.authenticated||!o.user)o.lastCalled+o.period-s<=0?o.run()&&i.push(o):i.push(o)}this.timedHandlers=i,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){return t._onIdle()},100))}},L.SASLMechanism=function(t,e,n){this.name=t,this.isClientFirst=e,this.priority=n},L.SASLMechanism.prototype={test:function(t){return!0},onStart:function(t){this._connection=t},onChallenge:function(t,e){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},L.SASLAnonymous=function(){},L.SASLAnonymous.prototype=new L.SASLMechanism("ANONYMOUS",!1,20),L.SASLAnonymous.prototype.test=function(t){return null===t.authcid},L.SASLPlain=function(){},L.SASLPlain.prototype=new L.SASLMechanism("PLAIN",!0,50),L.SASLPlain.prototype.test=function(t){return null!==t.authcid},L.SASLPlain.prototype.onChallenge=function(t){var e=t.authzid;return e+="\0",e+=t.authcid,e+="\0",e+=t.pass,C(e)},L.SASLSHA1=function(){},L.SASLSHA1.prototype=new L.SASLMechanism("SCRAM-SHA-1",!0,70),L.SASLSHA1.prototype.test=function(t){return null!==t.authcid},L.SASLSHA1.prototype.onChallenge=function(t,e,n){var s=n||f.hexdigest(""+1234567890*Math.random()),i="n="+C(t.authcid);return i+=",r=",i+=s,t._sasl_data.cnonce=s,t._sasl_data["client-first-message-bare"]=i,i="n,,"+i,this.onChallenge=function(t,e){for(var n,s,i,r,o,a,h,c,l="c=biws,",u="".concat(t._sasl_data["client-first-message-bare"],",").concat(e,","),d=t._sasl_data.cnonce,_=/([a-z]+)=([^,]+)(,|$)/;e.match(_);){var p=e.match(_);switch(e=e.replace(p[0],""),p[1]){case"r":n=p[2];break;case"s":s=p[2];break;case"i":i=p[2]}}if(n.substr(0,d.length)!==d)return t._sasl_data={},t._sasl_failure_cb();u+=l+="r="+n,s=atob(s),s+="\0\0\0\x01";var m=C(t.pass);for(r=a=w.core_hmac_sha1(m,s),h=1;h<i;h++){for(o=w.core_hmac_sha1(m,w.binb2str(a)),c=0;c<5;c++)r[c]^=o[c];a=o}r=w.binb2str(r);var f=w.core_hmac_sha1(r,"Client Key"),g=w.str_hmac_sha1(r,"Server Key"),S=w.core_hmac_sha1(w.str_sha1(w.binb2str(f)),u);for(t._sasl_data["server-signature"]=w.b64_hmac_sha1(g,u),c=0;c<5;c++)f[c]^=S[c];return l+=",p="+btoa(w.binb2str(f))},i},L.SASLMD5=function(){},L.SASLMD5.prototype=new L.SASLMechanism("DIGEST-MD5",!1,60),L.SASLMD5.prototype.test=function(t){return null!==t.authcid},L.SASLMD5.prototype._quote=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},L.SASLMD5.prototype.onChallenge=function(t,e,n){for(var s=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,i=n||f.hexdigest(""+1234567890*Math.random()),r="",o=null,a="";e.match(s);){var h=e.match(s);switch(e=e.replace(h[0],""),h[2]=h[2].replace(/^"(.+)"$/,"$1"),h[1]){case"realm":r=h[2];break;case"nonce":a=h[2];break;case"qop":h[2];break;case"host":o=h[2]}}var c=t.servtype+"/"+t.domain;null!==o&&(c=c+"/"+o);var l=C(t.authcid+":"+r+":"+this._connection.pass),u=f.hash(l)+":"+a+":"+i,d='AUTHENTICATE:'+c,_="";return _+='charset=utf-8,',_+='username='+this._quote(C(t.authcid))+',',_+='realm='+this._quote(r)+',',_+='nonce='+this._quote(a)+',',_+='nc=00000001,',_+='cnonce='+this._quote(i)+',',_+='digest-uri='+this._quote(c)+',',_+='response='+f.hexdigest(f.hexdigest(u)+":"+a+":00000001:"+i+":auth:"+f.hexdigest(d))+",",_+='qop=auth',this.onChallenge=function(){return""},_},L.SASLOAuthBearer=function(){},L.SASLOAuthBearer.prototype=new L.SASLMechanism("OAUTHBEARER",!0,40),L.SASLOAuthBearer.prototype.test=function(t){return null!==t.pass},L.SASLOAuthBearer.prototype.onChallenge=function(t){var e='n,';return null!==t.authcid&&(e=e+'a='+t.authzid),e+=',',e+="\x01",e+='auth=Bearer ',e+=t.pass,e+="\x01",C(e+="\x01")},L.SASLExternal=function(){},L.SASLExternal.prototype=new L.SASLMechanism("EXTERNAL",!0,10),L.SASLExternal.prototype.onChallenge=function(t){return t.authcid===t.authzid?'':t.authzid},L.SASLXOAuth2=function(){},L.SASLXOAuth2.prototype=new L.SASLMechanism("X-OAUTH2",!0,30),L.SASLXOAuth2.prototype.test=function(t){return null!==t.pass},L.SASLXOAuth2.prototype.onChallenge=function(t){var e="\0";return null!==t.authcid&&(e+=t.authzid),e+="\0",e+=t.pass,C(e)};var M={Strophe:L,$build:O,$iq:I,$msg:function(t){return new L.Builder("message",t)},$pres:H,SHA1:w,MD5:f,b64_hmac_sha1:w.b64_hmac_sha1,b64_sha1:w.b64_sha1,str_hmac_sha1:w.str_hmac_sha1,str_sha1:w.str_sha1},R=M.Strophe,q=M.$build;R.Request=function(t,e,n,s){this.id=++R._requestId,this.xmlData=t,this.data=R.serialize(t),this.origFunc=e,this.func=e,this.rid=n,this.date=NaN,this.sends=s||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},R.Request.prototype={getResponse:function(){var t=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(t=this.xhr.responseXML.documentElement).tagName)throw R.error("invalid response received"),R.error("responseText: "+this.xhr.responseText),R.error("responseXML: "+R.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(R.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(t=(new DOMParser).parseFromString(this.xhr.responseText,'application/xml').documentElement))throw new Error('Parsing produced null node');if(t.querySelector('parsererror')){R.error("invalid response received: "+t.querySelector('parsererror').textContent),R.error("responseText: "+this.xhr.responseText);var e=new Error;throw e.name=R.ErrorCondition.BAD_FORMAT,e}}return t},_newXHR:function(){var t=null;return window.XMLHttpRequest?(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t.onreadystatechange=this.func.bind(null,this),t}},R.Bosh=function(t){this._conn=t,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},R.Bosh.prototype={strip:null,_buildBody:function(){var t=q('body',{rid:this.rid++,xmlns:R.NS.HTTPBIND});return null!==this.sid&&t.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),t},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem('strophe-bosh-session'),this._conn.nextValidRid(this.rid)},_connect:function(t,e,n){this.wait=t||this.wait,this.hold=e||this.hold,this.errors=0;var s=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":R.NS.BOSH});n&&s.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new R.Request(s.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),s.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(t,e,n,s,i,r,o){this._conn.jid=t,this.sid=e,this.rid=n,this._conn.connect_callback=s,this._conn.domain=R.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=r||this.hold,this.window=o||this.window,this._conn._changeConnectStatus(R.Status.ATTACHED,null)},_restore:function(t,e,n,s,i){var r=JSON.parse(window.sessionStorage.getItem('strophe-bosh-session'));if(!(void 0!==r&&null!==r&&r.rid&&r.sid&&r.jid&&(void 0===t||null===t||R.getBareJidFromJid(r.jid)===R.getBareJidFromJid(t)||null===R.getNodeFromJid(t)&&R.getDomainFromJid(r.jid)===t))){var o=new Error("_restore: no restoreable session.");throw o.name="StropheSessionError",o}this._conn.restored=!0,this._attach(r.jid,r.sid,r.rid,e,n,s,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem('strophe-bosh-session',JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem('strophe-bosh-session')},_connect_cb:function(t){var e=t.getAttribute("type");if(null!==e&&"terminate"===e){var n=t.getAttribute("condition");R.error("BOSH-Connection failed: "+n);var s=t.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&s.length>0&&(n="conflict"),this._conn._changeConnectStatus(R.Status.CONNFAIL,n)):this._conn._changeConnectStatus(R.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),R.Status.CONNFAIL}this.sid||(this.sid=t.getAttribute("sid"));var i=t.getAttribute('requests');i&&(this.window=parseInt(i,10));var r=t.getAttribute('hold');r&&(this.hold=parseInt(r,10));var o=t.getAttribute('wait');o&&(this.wait=parseInt(o,10));var a=t.getAttribute('inactivity');a&&(this.inactivity=parseInt(a,10))},_disconnect:function(t){this._sendTerminate(t)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem('strophe-bosh-session'),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(t){var e=this._getRequestStatus(t),n=this._conn.protocolErrorHandlers.HTTP[e];n&&n.call(this,e)},_hitError:function(t){this.errors++,R.warn("request errored, status: "+t+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(t){R.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),t=t?t.bind(this._conn):this._conn._connect_cb.bind(this._conn);var e=this._buildBody();this._requests.push(new R.Request(e.tree(),this._onRequestStateChange.bind(this,t),e.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;this._requests.length>0;){var t=this._requests.pop();t.abort=!0,t.xhr.abort(),t.xhr.onreadystatechange=function(){}}},_onIdle:function(){var t=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===t.length&&!this._conn.disconnecting&&(R.debug("no requests during idle cycle, sending blank request"),t.push(null)),!this._conn.paused){if(this._requests.length<2&&t.length>0){for(var e=this._buildBody(),n=0;n<t.length;n++)null!==t[n]&&("restart"===t[n]?e.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":R.NS.BOSH}):e.cnode(t[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new R.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var s=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(R.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),s>Math.floor(R.TIMEOUT*this.wait)&&(R.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(R.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(t,e){var n;if(4===t.xhr.readyState)try{n=t.xhr.status}catch(t){R.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n='number'==typeof e?e:0),n},_onRequestStateChange:function(t,e){if(R.debug("request id "+e.id+"."+e.sends+" state changed to "+e.xhr.readyState),e.abort)e.abort=!1;else if(4===e.xhr.readyState){var n=this._getRequestStatus(e);if(this.lastResponseHeaders=e.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(e);var s=n>0&&n<500,i=e.sends>this._conn.maxRetries;if((s||i)&&(this._removeRequest(e),R.debug("request id "+e.id+" should now be removed")),200===n){var r=this._requests[0]===e;(this._requests[1]===e||r&&this._requests.length>0&&this._requests[0].age()>Math.floor(R.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(e.rid)+1),R.debug("request id "+e.id+"."+e.sends+" got 200"),t(e),this.errors=0}else 0===n||n>=400&&n<600||n>=12e3?(R.error("request id "+e.id+"."+e.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(e),n>=400&&n<500&&(this._conn._changeConnectStatus(R.Status.DISCONNECTING,null),this._conn._doDisconnect())):R.error("request id "+e.id+"."+e.sends+" error "+n+" happened");s||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(R.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(t){var e=this,n=this._requests[t],s=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),r=!isNaN(i)&&i>Math.floor(R.TIMEOUT*this.wait),o=null!==n.dead&&n.timeDead()>Math.floor(R.SECONDARY_TIMEOUT*this.wait),a=4===n.xhr.readyState&&(s<1||s>=500);if((r||o||a)&&(o&&R.error("Request ".concat(this._requests[t].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[t]=new R.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[t]),0===n.xhr.readyState){R.debug("request id "+n.id+"."+n.sends+" posting");try{var h=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",h),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(t){return R.error("XHR open failed: "+t.toString()),this._conn.connected||this._conn._changeConnectStatus(R.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var c=function(){if(n.date=new Date,e._conn.options.customHeaders){var t=e._conn.options.customHeaders;for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.xhr.setRequestHeader(s,t[s])}n.xhr.send(n.data)};if(n.sends>1){var l=1e3*Math.min(Math.floor(R.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout(function(){c()},l)}else c();n.sends++,this._conn.xmlOutput!==R.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==R.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else R.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(t){R.debug("removing request");for(var e=this._requests.length-1;e>=0;e--)t===this._requests[e]&&this._requests.splice(e,1);t.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(t){var e=this._requests[t];null===e.dead&&(e.dead=new Date),this._processRequest(t)},_reqToData:function(t){try{return t.getResponse()}catch(t){if("parsererror"!==t.message)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(t){R.debug("_sendTerminate was called");var e=this._buildBody().attrs({type:"terminate"});t&&e.cnode(t.tree());var n=new R.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var t=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){return t._conn._onIdle()},100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?R.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):R.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}};var D=M.Strophe,F=M.$build;return D.Websocket=function(t){this._conn=t,this.strip="wrapper";var e=t.service;if(0!==e.indexOf("ws:")&&0!==e.indexOf("wss:")){var n="";"ws"===t.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==e.indexOf("/")?n+=window.location.pathname+e:n+=e,t.service=n}},D.Websocket.prototype={_buildStream:function(){return F("open",{xmlns:D.NS.FRAMING,to:this._conn.domain,version:'1.0'})},_check_streamerror:function(t,e){var n;if(0===(n=t.getElementsByTagNameNS?t.getElementsByTagNameNS(D.NS.STREAM,"error"):t.getElementsByTagName("stream:error")).length)return!1;for(var s=n[0],i="",r="",o=0;o<s.childNodes.length;o++){var a=s.childNodes[o];if("urn:ietf:params:xml:ns:xmpp-streams"!==a.getAttribute("xmlns"))break;"text"===a.nodeName?r=a.textContent:i=a.nodeName}var h="WebSocket stream error: ";return h+=i||"unknown",r&&(h+=" - "+r),D.error(h),this._conn._changeConnectStatus(e,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(t){if(this._check_streamerror(t,D.Status.CONNFAIL))return D.Status.CONNFAIL},_handleStreamStart:function(t){var e=!1,n=t.getAttribute("xmlns");"string"!=typeof n?e="Missing xmlns in <open />":n!==D.NS.FRAMING&&(e="Wrong xmlns in <open />: "+n);var s=t.getAttribute("version");return"string"!=typeof s?e="Missing version in <open />":"1.0"!==s&&(e="Wrong version in <open />: "+s),!e||(this._conn._changeConnectStatus(D.Status.CONNFAIL,e),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(t){if(0===t.data.indexOf("<open ")||0===t.data.indexOf("<?xml")){var e=t.data.replace(/^(<\?.*?\?>\s*)*/,"");if(''===e)return;var n=(new DOMParser).parseFromString(e,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(t.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===t.data.indexOf("<close ")){var s=(new DOMParser).parseFromString(t.data,"text/xml").documentElement;this._conn.xmlInput(s),this._conn.rawInput(t.data);var i=s.getAttribute("see-other-uri");if(i){var r=this._conn.service;(r.indexOf("wss:")>=0&&i.indexOf("wss:")>=0||r.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(D.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(D.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var o=this._streamWrap(t.data),a=(new DOMParser).parseFromString(o,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(a,null,t.data)}},_disconnect:function(t){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){t&&this._conn.send(t);var e=F("close",{xmlns:D.NS.FRAMING});this._conn.xmlOutput(e.tree());var n=D.serialize(e);this._conn.rawOutput(n);try{this.socket.send(n)}catch(t){D.warn("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){D.debug("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(t){return"<wrapper>"+t+'</wrapper>'},_closeSocket:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(t){D.debug(t.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(t){this._conn.connected&&!this._conn.disconnecting?(D.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):t&&1006===t.code&&!this._conn.connected&&this.socket?(D.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(D.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):D.debug("Websocket closed")},_no_auth_received:function(t){D.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(D.Status.CONNFAIL,D.ErrorCondition.NO_AUTH_MECH),t&&t.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(t){D.error("Websocket error "+t),this._conn._changeConnectStatus(D.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var t=this._conn._data;if(t.length>0&&!this._conn.paused){for(var e=0;e<t.length;e++)if(null!==t[e]){var n=void 0;n="restart"===t[e]?this._buildStream().tree():t[e];var s=D.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(s),this.socket.send(s)}this._conn._data=[]}},_onMessage:function(t){var e,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(t.data===n)return this._conn.rawInput(n),this._conn.xmlInput(t),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===t.data.search("<open ")){if(e=(new DOMParser).parseFromString(t.data,"text/xml").documentElement,!this._handleStreamStart(e))return}else{var s=this._streamWrap(t.data);e=(new DOMParser).parseFromString(s,"text/xml").documentElement}return this._check_streamerror(e,D.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===e.firstChild.nodeName&&"unavailable"===e.firstChild.getAttribute("type")?(this._conn.xmlInput(e),void this._conn.rawInput(D.serialize(e))):void this._conn._dataRecv(e,t.data)},_onOpen:function(){D.debug("Websocket open");var t=this._buildStream();this._conn.xmlOutput(t.tree());var e=D.serialize(t);this._conn.rawOutput(e),this.socket.send(e)},_reqToData:function(t){return t},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e.Strophe=M.Strophe,e.$build=M.$build,e.$iq=M.$iq,e.$msg=M.$msg,e.$pres=M.$pres,M})},560,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=I;var E=r(d[1]),n=r(d[2]),o=D(r(d[3])),s=D(r(d[4])),_=r(d[5]),c=t(r(d[6])),R=t(r(d[7])),P=r(d[8]),A=t(r(d[9])),O=r(d[10]),C=t(r(d[11])),N=r(d[12]),T=r(d[13]);function M(t){if("function"!=typeof WeakMap)return null;var E=new WeakMap,n=new WeakMap;return(M=function(t){return t?n:E})(t)}function D(t,E){if(!E&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=M(E);if(n&&n.has(t))return n.get(t);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in t)if("default"!==_&&Object.prototype.hasOwnProperty.call(t,_)){var c=s?Object.getOwnPropertyDescriptor(t,_):null;c&&(c.get||c.set)?Object.defineProperty(o,_,c):o[_]=t[_]}return o.default=t,n&&n.set(t,o),o}var u=(0,E.getLogger)(__filename);function I(t){this.conference=t,this.xmppListeners={},t.on(s.TRACK_MUTE_CHANGED,function(E){if(E.isLocal()&&t.statistics){var n=E.isP2P?t.p2pJingleSession:t.jvbJingleSession,o=n&&n.peerconnection||null;t.statistics.sendMuteEvent(o,E.isMuted(),E.getType())}})}I.prototype.setupChatRoomListeners=function(){var t=this,E=this.conference,_=E.room;this.chatRoomForwarder=new R.default(_,this.conference.eventEmitter),_.addListener(T.XMPPEvents.ICE_RESTARTING,function(t){t.isP2P||E.rtc.closeBridgeChannel()}),_.addListener(T.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,function(t,o){var _=E.getParticipantById(n.Strophe.getResourceFromJid(t));_&&(_.setFeatures(o),E.eventEmitter.emit(s.PARTCIPANT_FEATURES_CHANGED,_))}),_.addListener(T.XMPPEvents.ICE_RESTART_SUCCESS,function(t,n){!t.isP2P&&E._setBridgeChannel(n,t.peerconnection)}),_.addListener(T.XMPPEvents.AUDIO_MUTED_BY_FOCUS,function(t){c.default.sendAnalytics((0,N.createRemotelyMutedEvent)(P.MediaType.AUDIO)),E.mutedByFocusActor=t,E.rtc.setAudioMute(!0).then(function(){E.isMutedByFocus=!0,E.mutedByFocusActor=null}).catch(function(t){E.mutedByFocusActor=null,u.warn('Error while audio muting due to focus request',t)})}),_.addListener(T.XMPPEvents.VIDEO_MUTED_BY_FOCUS,function(t){c.default.sendAnalytics((0,N.createRemotelyMutedEvent)(P.MediaType.VIDEO)),E.mutedVideoByFocusActor=t,E.rtc.setVideoMute(!0).then(function(){E.isVideoMutedByFocus=!0,E.mutedVideoByFocusActor=null}).catch(function(t){E.mutedVideoByFocusActor=null,u.warn('Error while video muting due to focus request',t)})}),this.chatRoomForwarder.forward(T.XMPPEvents.SUBJECT_CHANGED,s.SUBJECT_CHANGED),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_JOINED,s.CONFERENCE_JOINED),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_JOIN_IN_PROGRESS,s.CONFERENCE_JOIN_IN_PROGRESS),this.chatRoomForwarder.forward(T.XMPPEvents.MEETING_ID_SET,s.CONFERENCE_UNIQUE_ID_SET),_.addListener(T.XMPPEvents.MUC_JOINED,function(){t.conference._onMucJoined(),t.conference.isJvbConnectionInterrupted=!1,Object.keys(_.connectionTimes).forEach(function(t){var E=(0,N.createConnectionStageReachedEvent)("conference_"+t,{value:_.connectionTimes[t]});c.default.sendAnalytics(E)}),Object.keys(_.xmpp.connectionTimes).forEach(function(t){var E=(0,N.createConnectionStageReachedEvent)("xmpp_"+t,{value:_.xmpp.connectionTimes[t]});c.default.sendAnalytics(E)})}),_.addListener(T.XMPPEvents.RENEGOTIATION_FAILED,function(t,n){n.isP2P||E.eventEmitter.emit(s.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)}),this.chatRoomForwarder.forward(T.XMPPEvents.ROOM_JOIN_ERROR,s.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(T.XMPPEvents.ROOM_CONNECT_ERROR,s.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(T.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,s.CONFERENCE_FAILED,o.NOT_ALLOWED_ERROR),this.chatRoomForwarder.forward(T.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,s.CONFERENCE_FAILED,o.MEMBERS_ONLY_ERROR),this.chatRoomForwarder.forward(T.XMPPEvents.ROOM_MAX_USERS_ERROR,s.CONFERENCE_FAILED,o.CONFERENCE_MAX_USERS),_.addListener(T.XMPPEvents.ROOM_MAX_USERS_ERROR,function(){return E.leave()}),this.chatRoomForwarder.forward(T.XMPPEvents.PASSWORD_REQUIRED,s.CONFERENCE_FAILED,o.PASSWORD_REQUIRED),this.chatRoomForwarder.forward(T.XMPPEvents.AUTHENTICATION_REQUIRED,s.CONFERENCE_FAILED,o.AUTHENTICATION_REQUIRED),this.chatRoomForwarder.forward(T.XMPPEvents.BRIDGE_DOWN,s.CONFERENCE_FAILED,o.VIDEOBRIDGE_NOT_AVAILABLE),_.addListener(T.XMPPEvents.BRIDGE_DOWN,function(){return c.default.sendAnalytics((0,N.createBridgeDownEvent)())}),_.addListener(T.XMPPEvents.CONNECTION_RESTARTED,function(t){E._onConferenceRestarted(t)}),this.chatRoomForwarder.forward(T.XMPPEvents.RESERVATION_ERROR,s.CONFERENCE_FAILED,o.RESERVATION_ERROR),_.addListener(T.XMPPEvents.RESERVATION_ERROR,function(){return E.leave()}),this.chatRoomForwarder.forward(T.XMPPEvents.GRACEFUL_SHUTDOWN,s.CONFERENCE_FAILED,o.GRACEFUL_SHUTDOWN),_.addListener(T.XMPPEvents.CONNECTION_ICE_FAILED,function(t){E._onIceConnectionFailed(t)}),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_DESTROYED,s.CONFERENCE_FAILED,o.CONFERENCE_DESTROYED),_.addListener(T.XMPPEvents.MUC_DESTROYED,function(){return E.leave()}),this.chatRoomForwarder.forward(T.XMPPEvents.CHAT_ERROR_RECEIVED,s.CONFERENCE_ERROR,o.CHAT_ERROR),this.chatRoomForwarder.forward(T.XMPPEvents.SETTINGS_ERROR_RECEIVED,s.CONFERENCE_ERROR,o.SETTINGS_ERROR),this.chatRoomForwarder.forward(T.XMPPEvents.FOCUS_DISCONNECTED,s.CONFERENCE_FAILED,o.FOCUS_DISCONNECTED),_.addListener(T.XMPPEvents.FOCUS_LEFT,function(){c.default.sendAnalytics((0,N.createFocusLeftEvent)()),E.eventEmitter.emit(s.CONFERENCE_FAILED,o.FOCUS_LEFT)}),_.addListener(T.XMPPEvents.SESSION_ACCEPT_TIMEOUT,function(t){c.default.sendAnalyticsAndLog((0,N.createJingleEvent)(N.ACTION_JINGLE_SA_TIMEOUT,{p2p:t.isP2P}))}),_.addListener(T.XMPPEvents.RECORDER_STATE_CHANGED,function(t,o){if(o){var _=n.Strophe.getResourceFromJid(o),c=E.getParticipantById(_)||_;'off'===t.getStatus()?t.setTerminator(c):'on'===t.getStatus()&&t.setInitiator(c)}E.eventEmitter.emit(s.RECORDER_STATE_CHANGED,t)}),this.chatRoomForwarder.forward(T.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,s.TRANSCRIPTION_STATUS_CHANGED),this.chatRoomForwarder.forward(T.XMPPEvents.VIDEO_SIP_GW_AVAILABILITY_CHANGED,s.VIDEO_SIP_GW_AVAILABILITY_CHANGED),this.chatRoomForwarder.forward(T.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,s.VIDEO_SIP_GW_SESSION_STATE_CHANGED),this.chatRoomForwarder.forward(T.XMPPEvents.PHONE_NUMBER_CHANGED,s.PHONE_NUMBER_CHANGED),_.setParticipantPropertyListener(function(t,n){var o=E.getParticipantById(n);o&&o.setProperty(t.tagName.substring('jitsi_participant_'.length),t.value)}),_.addListener(T.XMPPEvents.KICKED,E.onMemberKicked.bind(E)),_.addListener(T.XMPPEvents.SUSPEND_DETECTED,E.onSuspendDetected.bind(E)),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_LOCK_CHANGED,s.LOCK_STATE_CHANGED),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,s.MEMBERS_ONLY_CHANGED),_.addListener(T.XMPPEvents.MUC_MEMBER_JOINED,E.onMemberJoined.bind(E)),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,s.LOBBY_USER_JOINED),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,s.LOBBY_USER_UPDATED),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,s.LOBBY_USER_LEFT),_.addListener(T.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,E._onMemberBotTypeChanged.bind(E)),_.addListener(T.XMPPEvents.MUC_MEMBER_LEFT,E.onMemberLeft.bind(E)),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_LEFT,s.CONFERENCE_LEFT),this.chatRoomForwarder.forward(T.XMPPEvents.MUC_DENIED_ACCESS,s.CONFERENCE_FAILED,o.CONFERENCE_ACCESS_DENIED),_.addListener(T.XMPPEvents.DISPLAY_NAME_CHANGED,E.onDisplayNameChanged.bind(E)),_.addListener(T.XMPPEvents.LOCAL_ROLE_CHANGED,function(t){E.onLocalRoleChanged(t),E.statistics&&E.isModerator()&&E.on(s.RECORDER_STATE_CHANGED,function(t){var E={error:t.getError(),id:'recorder_status',status:t.getStatus()};c.default.sendLog(JSON.stringify(E))})}),_.addListener(T.XMPPEvents.MUC_ROLE_CHANGED,E.onUserRoleChanged.bind(E)),_.addListener(C.default.IDENTITY_UPDATED,function(t,n){E.authEnabled=t,E.authIdentity=n,E.eventEmitter.emit(s.AUTH_STATUS_CHANGED,t,n)}),_.addListener(T.XMPPEvents.MESSAGE_RECEIVED,function(t,o,_,c){var R=n.Strophe.getResourceFromJid(t);-1===o.indexOf("Transcript")&&-1===o.indexOf("Fellow Jitser")&&E.eventEmitter.emit(s.MESSAGE_RECEIVED,R,o,c)}),_.addListener(T.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,function(t,o,_,c){var R=n.Strophe.getResourceFromJid(t);E.eventEmitter.emit(s.PRIVATE_MESSAGE_RECEIVED,R,o,c)}),_.addListener(T.XMPPEvents.PRESENCE_STATUS,function(t,o){var _=n.Strophe.getResourceFromJid(t),c=E.getParticipantById(_);c&&c._status!==o&&(c._status=o,E.eventEmitter.emit(s.USER_STATUS_CHANGED,_,o))}),_.addListener(T.XMPPEvents.JSON_MESSAGE_RECEIVED,function(t,o){var _=n.Strophe.getResourceFromJid(t),c=E.getParticipantById(_);c?E.eventEmitter.emit(s.ENDPOINT_MESSAGE_RECEIVED,c,o):E.eventEmitter.emit(s.NON_PARTICIPANT_MESSAGE_RECEIVED,_,o)}),_.addPresenceListener('startmuted',function(t,n){var o=!1;if(E.myUserId()===n&&E.isModerator())o=!0;else{var _=E.getParticipantById(n);_&&_.isModerator()&&(o=!0)}if(o){var c='true'===t.attributes.audio,R='true'===t.attributes.video,P=!1;c!==E.startMutedPolicy.audio&&(E.startMutedPolicy.audio=c,P=!0),R!==E.startMutedPolicy.video&&(E.startMutedPolicy.video=R,P=!0),P&&E.eventEmitter.emit(s.START_MUTED_POLICY_CHANGED,E.startMutedPolicy)}}),E.statistics&&(_.addListener(T.XMPPEvents.CONNECTION_ICE_FAILED,function(t){E.statistics.sendIceConnectionFailedEvent(t.peerconnection)}),_.addListener(T.XMPPEvents.ADD_ICE_CANDIDATE_FAILED,function(t,n){E.statistics.sendAddIceCandidateFailed(t,n)})),this.chatRoomForwarder.forward(T.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,s.BREAKOUT_ROOMS_MOVE_TO_ROOM),this.chatRoomForwarder.forward(T.XMPPEvents.BREAKOUT_ROOMS_UPDATED,s.BREAKOUT_ROOMS_UPDATED)},I.prototype.setupRTCListeners=function(){var t=this.conference,E=t.rtc;E.addListener(A.default.REMOTE_TRACK_ADDED,t.onRemoteTrackAdded.bind(t)),E.addListener(A.default.REMOTE_TRACK_REMOVED,t.onRemoteTrackRemoved.bind(t)),E.addListener(A.default.DOMINANT_SPEAKER_CHANGED,function(E,n){var o;if((null===(o=t.participants[E])||void 0===o||!o._hidden)&&t.lastDominantSpeaker!==E&&t.room){if(t.lastDominantSpeaker=E,t.eventEmitter.emit(s.DOMINANT_SPEAKER_CHANGED,E,n),n&&n.length){var c=n.slice(0);t.myUserId!==E&&c.splice(0,0,E),c.length>_.SPEAKERS_AUDIO_LEVELS&&c.splice(_.SPEAKERS_AUDIO_LEVELS,c.length-_.SPEAKERS_AUDIO_LEVELS),t.statistics&&t.statistics.setSpeakerList(c)}t.statistics&&t.myUserId()===E&&t.statistics.sendDominantSpeakerEvent(t.room.roomjid)}}),E.addListener(A.default.DATA_CHANNEL_OPEN,function(){var E=window.performance.now(),n='data.channel.opened';u.log("(TIME) data.channel.opened:\t",E),t.room.connectionTimes[n]=E,c.default.sendAnalytics((0,N.createConnectionStageReachedEvent)(n,{value:E})),t.eventEmitter.emit(s.DATA_CHANNEL_OPENED)}),E.addListener(A.default.ENDPOINT_MESSAGE_RECEIVED,function(E,n){var o=t.getParticipantById(E);o?t.eventEmitter.emit(s.ENDPOINT_MESSAGE_RECEIVED,o,n):u.warn("Ignored ENDPOINT_MESSAGE_RECEIVED for not existing participant: "+E,n)}),E.addListener(A.default.ENDPOINT_STATS_RECEIVED,function(E,n){var o=t.getParticipantById(E);o?t.eventEmitter.emit(s.ENDPOINT_STATS_RECEIVED,o,n):u.warn("Ignoring ENDPOINT_STATS_RECEIVED for a non-existant participant: "+E)}),E.addListener(A.default.LOCAL_UFRAG_CHANGED,function(t,E){t.isP2P||c.default.sendLog(JSON.stringify({id:'local_ufrag',value:E}))}),E.addListener(A.default.REMOTE_UFRAG_CHANGED,function(t,E){t.isP2P||c.default.sendLog(JSON.stringify({id:'remote_ufrag',value:E}))}),E.addListener(A.default.CREATE_ANSWER_FAILED,function(E,n){t.statistics.sendCreateAnswerFailed(E,n),n.isP2P||t.eventEmitter.emit(s.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,E)}),E.addListener(A.default.CREATE_OFFER_FAILED,function(E,n){t.statistics.sendCreateOfferFailed(E,n),n.isP2P||t.eventEmitter.emit(s.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,E)}),E.addListener(A.default.SET_LOCAL_DESCRIPTION_FAILED,function(E,n){t.statistics.sendSetLocalDescFailed(E,n),n.isP2P||t.eventEmitter.emit(s.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,E)}),E.addListener(A.default.SET_REMOTE_DESCRIPTION_FAILED,function(E,n){t.statistics.sendSetRemoteDescFailed(E,n),n.isP2P||t.eventEmitter.emit(s.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,E)}),E.addListener(A.default.LOCAL_TRACK_SSRC_UPDATED,function(E,n){E.isVideoTrack()&&E.videoType===O.VideoType.DESKTOP&&t.statistics.sendScreenSharingEvent(!0,n)})},I.prototype.removeXMPPListeners=function(){var t=this,E=this.conference;Object.keys(this.xmppListeners).forEach(function(n){E.xmpp.removeListener(n,t.xmppListeners[n])}),this.xmppListeners={}},I.prototype.setupXMPPListeners=function(){var t=this.conference;this._addConferenceXMPPListener(T.XMPPEvents.CALL_INCOMING,t.onIncomingCall.bind(t)),this._addConferenceXMPPListener(T.XMPPEvents.CALL_ACCEPTED,t.onCallAccepted.bind(t)),this._addConferenceXMPPListener(T.XMPPEvents.TRANSPORT_INFO,t.onTransportInfo.bind(t)),this._addConferenceXMPPListener(T.XMPPEvents.CALL_ENDED,t.onCallEnded.bind(t)),this._addConferenceXMPPListener(T.XMPPEvents.START_MUTED_FROM_FOCUS,function(E,n){t.options.config.ignoreStartMuted||(t.startAudioMuted=E,t.startVideoMuted=n,t.getLocalTracks().forEach(function(E){switch(E.getType()){case P.MediaType.AUDIO:t.startAudioMuted&&E.mute();break;case P.MediaType.VIDEO:t.startVideoMuted&&E.mute()}}),t.eventEmitter.emit(s.STARTED_MUTED))}),this._addConferenceXMPPListener(T.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,function(E){t.eventEmitter.emit(s.CONFERENCE_CREATED_TIMESTAMP,E)}),this._addConferenceXMPPListener(T.XMPPEvents.AV_MODERATION_CHANGED,function(E,n,o){var _=t.getParticipants().find(function(t){return t.getJid()===o});t.eventEmitter.emit(s.AV_MODERATION_CHANGED,{enabled:E,mediaType:n,actor:_})}),this._addConferenceXMPPListener(T.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,function(E,o){var _=t.getParticipantById(n.Strophe.getResourceFromJid(o));_&&t.eventEmitter.emit(s.AV_MODERATION_PARTICIPANT_APPROVED,{participant:_,mediaType:E})}),this._addConferenceXMPPListener(T.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,function(E,o){var _=t.getParticipantById(n.Strophe.getResourceFromJid(o));_&&t.eventEmitter.emit(s.AV_MODERATION_PARTICIPANT_REJECTED,{participant:_,mediaType:E})}),this._addConferenceXMPPListener(T.XMPPEvents.AV_MODERATION_APPROVED,function(E){return t.eventEmitter.emit(s.AV_MODERATION_APPROVED,{mediaType:E})}),this._addConferenceXMPPListener(T.XMPPEvents.AV_MODERATION_REJECTED,function(E){t.eventEmitter.emit(s.AV_MODERATION_REJECTED,{mediaType:E})})},I.prototype._addConferenceXMPPListener=function(t,E){this.xmppListeners[t]=E,this.conference.xmpp.addListener(t,E)},I.prototype.setupStatisticsListeners=function(){var t=this.conference;t.statistics&&(t.statistics.addAudioLevelListener(function(E,n,o,s){t.rtc.setAudioLevel(E,n,o,s)}),t.statistics.addBeforeDisposedListener(function(){t.eventEmitter.emit(s.BEFORE_STATISTICS_DISPOSED)}),t.options.config.startSilent||t.statistics.addByteSentStatsListener(function(E,n){t.getLocalTracks(P.MediaType.AUDIO).forEach(function(t){var o=E.getLocalSSRC(t);o&&n.hasOwnProperty(o)&&t.onByteSentStatsReceived(E,n[o])})}))}},561,[2,435,560,554,555,562,563,592,589,593,594,595,566,596]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SPEAKERS_AUDIO_LEVELS=e.CALLSTATS_SCRIPT_URL=void 0;e.CALLSTATS_SCRIPT_URL='https://api.callstats.io/static/callstats-ws.min.js';e.SPEAKERS_AUDIO_LEVELS=5},562,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=k;var n=t(r(d[1])),s=L(r(d[2])),o=t(r(d[3])),l=r(d[4]),c=L(r(d[5])),p=t(r(d[6])),u=t(r(d[7])),v=t(r(d[8])),f=t(r(d[9])),S=t(r(d[10])),E=r(d[11]),h=t(r(d[12])),y=r(d[13]);function I(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(I=function(t){return t?s:n})(t)}function L(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=I(n);if(s&&s.has(t))return s.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(o,c,p):o[c]=t[c]}return o.default=t,s&&s.set(t,o),o}function b(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=A(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t,n){if(t){if("string"==typeof t)return D(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?D(t,n):void 0}}function D(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var O,T=r(d[14]).getLogger(__filename),C=!1;function _(t){C||(u.default.loadScript(t.customScriptUrl||y.CALLSTATS_SCRIPT_URL,!0,!0,void 0,function(){return N(t)}),C=!0)}function N(t){f.default.isBackendInitialized()||f.default.initBackend({callStatsID:t.callStatsID,callStatsSecret:t.callStatsSecret,userName:t.userName,aliasName:t.aliasName,applicationName:t.applicationName,getWiFiStatsMethod:t.getWiFiStatsMethod,confID:t.confID,siteID:t.siteID,configParams:t.configParams})||T.error('CallStats Backend initialization failed bad')}function F(t){var n=new Error;return n.stack=t.stack,n.name=(t.name||'Unknown error')+(t.gum&&t.gum.error&&t.gum.error.name?" - "+t.gum.error.name:''),n.constraintName=t.gum&&t.gum.constraints?JSON.stringify(t.gum.constraints):'',n.message=t.message,n}function k(t,s){this.rtpStatsMap=new Map,this.eventEmitter=new n.default,this.xmpp=t,this.options=s||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&this.options.enableCallStats&&!0!==k.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&(this.callStatsApplicationLogsDisabled=this.options.callStatsApplicationLogsDisabled,p.default.isReactNative()?N(this.options):_(this.options),this.options.confID||T.warn('"confID" is not defined')),this.callsStatsInstances=new Map,k.instances.add(this)}k.init=function(t){k.audioLevelsEnabled=!t.disableAudioLevels,'number'==typeof t.pcStatsInterval&&(k.pcStatsInterval=t.pcStatsInterval),'number'==typeof t.audioLevelsInterval&&(k.audioLevelsInterval=t.audioLevelsInterval),'number'==typeof t.longTasksStatsInterval&&(k.longTasksStatsInterval=t.longTasksStatsInterval),k.disableThirdPartyRequests=t.disableThirdPartyRequests},k.audioLevelsEnabled=!1,k.audioLevelsInterval=200,k.pcStatsInterval=1e4,k.disableThirdPartyRequests=!1,k.analytics=v.default,k.analyticsEventEmitter=new n.default,Object.defineProperty(k,'instances',{get:function(){return O||(O=new Set),O}}),k.prototype.startRemoteStats=function(t){this.stopRemoteStats(t);try{var n=new h.default(t,k.audioLevelsInterval,k.pcStatsInterval,this.eventEmitter);n.start(k.audioLevelsEnabled),this.rtpStatsMap.set(t.id,n)}catch(t){T.error("Failed to start collecting remote statistics: "+t)}},k.localStats=[],k.startLocalStats=function(t,n){if(k.audioLevelsEnabled){var s=new S.default(t,k.audioLevelsInterval,n);this.localStats.push(s),s.start()}},k.prototype.addAudioLevelListener=function(t){k.audioLevelsEnabled&&this.eventEmitter.on(c.AUDIO_LEVEL,t)},k.prototype.removeAudioLevelListener=function(t){k.audioLevelsEnabled&&this.eventEmitter.removeListener(c.AUDIO_LEVEL,t)},k.prototype.addBeforeDisposedListener=function(t){this.eventEmitter.on(c.BEFORE_DISPOSED,t)},k.prototype.removeBeforeDisposedListener=function(t){this.eventEmitter.removeListener(c.BEFORE_DISPOSED,t)},k.prototype.addConnectionStatsListener=function(t){this.eventEmitter.on(c.CONNECTION_STATS,t)},k.prototype.removeConnectionStatsListener=function(t){this.eventEmitter.removeListener(c.CONNECTION_STATS,t)},k.prototype.addByteSentStatsListener=function(t){this.eventEmitter.on(c.BYTE_SENT_STATS,t)},k.prototype.removeByteSentStatsListener=function(t){this.eventEmitter.removeListener(c.BYTE_SENT_STATS,t)},k.prototype.addLongTasksStatsListener=function(t){this.eventEmitter.on(c.LONG_TASKS_STATS,t)},k.prototype.attachLongTasksStats=function(t){var n=this;p.default.supportsPerformanceObserver()?(this.performanceObserverStats=new E.PerformanceObserverStats(this.eventEmitter,k.longTasksStatsInterval),t.on(s.CONFERENCE_JOINED,function(){return n.performanceObserverStats.startObserver()}),t.on(s.CONFERENCE_LEFT,function(){return n.performanceObserverStats.stopObserver()})):T.warn('Performance observer for long tasks not supported by browser!')},k.prototype.getLongTasksStats=function(){return this.performanceObserverStats?this.performanceObserverStats.getLongTasksStats():null},k.prototype.removeLongTasksStatsListener=function(t){this.eventEmitter.removeListener(c.LONG_TASKS_STATS,t)},k.prototype.setSpeakerList=function(t){for(var n=0,s=Array.from(this.rtpStatsMap.values());n<s.length;n++){var o=s[n];o.peerconnection.isP2P||o.setSpeakerList(t)}},k.prototype.dispose=function(){try{this.callsStatsInstances.size||this.eventEmitter.emit(c.BEFORE_DISPOSED);for(var t,n=b(this.callsStatsInstances.values());!(t=n()).done;){var s=t.value;this.stopCallStats(s.tpc)}for(var o,l=b(this.rtpStatsMap.keys());!(o=l()).done;){var p=o.value;this._stopRemoteStats(p)}this.eventEmitter&&this.eventEmitter.removeAllListeners()}finally{k.instances.delete(this)}},k.stopLocalStats=function(t){if(k.audioLevelsEnabled)for(var n=0;n<k.localStats.length;n++)if(k.localStats[n].stream===t){k.localStats.splice(n,1)[0].stop();break}},k.prototype._stopRemoteStats=function(t){var n=this.rtpStatsMap.get(t);n&&(n.stop(),this.rtpStatsMap.delete(t))},k.prototype.stopRemoteStats=function(t){this._stopRemoteStats(t.id)},k.prototype.startCallStats=function(t,n){if(this.callStatsIntegrationEnabled)if(this.callsStatsInstances.has(t.id))T.error('CallStats instance for ${tpc} exists already');else{var s=this.options.confID;s.endsWith(this.options.roomName)||(s=this.options.confID.slice(0,this.options.confID.lastIndexOf('/'))+"/"+this.options.roomName),T.info("Starting CallStats for "+t+"...");var o=new f.default(t,{confID:s,remoteUserID:n});this.callsStatsInstances.set(t.id,o)}},k._getAllCallStatsInstances=function(){for(var t,n=new Set,s=b(k.instances);!(t=s()).done;)for(var o,l=b(t.value.callsStatsInstances.values());!(o=l()).done;){var c=o.value;n.add(c)}return n},k.prototype.stopCallStats=function(t){var n=this.callsStatsInstances.get(t.id);n&&(1===this.callsStatsInstances.size&&this.eventEmitter.emit(c.BEFORE_DISPOSED),this.callsStatsInstances.delete(t.id),n.sendTerminateEvent())},k.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},k.prototype.sendConnectionResumeOrHoldEvent=function(t,n){var s=this.callsStatsInstances.get(t.id);s&&s.sendResumeOrHoldEvent(n)},k.prototype.sendIceConnectionFailedEvent=function(t){var n=this.callsStatsInstances.get(t.id);n&&n.sendIceConnectionFailedEvent()},k.prototype.sendMuteEvent=function(t,n,s){var o=t&&this.callsStatsInstances.get(t.id);f.default.sendMuteEvent(n,s,o)},k.prototype.sendScreenSharingEvent=function(t,n){for(var s,o=b(this.callsStatsInstances.values());!(s=o()).done;){s.value.sendScreenSharingEvent(t,n)}},k.prototype.sendDominantSpeakerEvent=function(t){for(var n,s=b(this.callsStatsInstances.values());!(n=s()).done;){n.value.sendDominantSpeakerEvent()}this.xmpp.sendDominantSpeakerEvent(t)},k.sendActiveDeviceListEvent=function(t){var n=k._getAllCallStatsInstances();if(n.size)for(var s,o=b(n);!(s=o()).done;){var l=s.value;f.default.sendActiveDeviceListEvent(t,l)}else f.default.sendActiveDeviceListEvent(t,null)},k.prototype.associateStreamWithVideoTag=function(t,n,s,o,l,c){var p=this.callsStatsInstances.get(t.id);p&&p.associateStreamWithVideoTag(n,s,o,l,c)},k.sendGetUserMediaFailed=function(t){var n=t instanceof o.default?F(t):t,s=k._getAllCallStatsInstances();if(s.size)for(var l,c=b(s);!(l=c()).done;){var p=l.value;f.default.sendGetUserMediaFailed(n,p)}else f.default.sendGetUserMediaFailed(n,null)},k.prototype.sendCreateOfferFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendCreateOfferFailed(t)},k.prototype.sendCreateAnswerFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendCreateAnswerFailed(t)},k.prototype.sendSetLocalDescFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendSetLocalDescFailed(t)},k.prototype.sendSetRemoteDescFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendSetRemoteDescFailed(t)},k.prototype.sendAddIceCandidateFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendAddIceCandidateFailed(t)},k.sendLog=function(t){for(var n,s=new Set,o=b(k.instances);!(n=o()).done;){var l=n.value;if(l.callStatsApplicationLogsDisabled)return;l.callsStatsInstances.size&&s.add(l.callsStatsInstances.values().next().value)}if(s.size)for(var c,p=b(s);!(c=p()).done;){var u=c.value;f.default.sendApplicationLog(t,u)}else f.default.sendApplicationLog(t,null)},k.prototype.sendFeedback=function(t,n){return k.analytics.sendEvent(l.FEEDBACK,{rating:t,comment:n}),f.default.sendFeedback(this.options.confID,t,n)},k.LOCAL_JID=r(d[15]).LOCAL_JID,k.reportGlobalError=function(t){t instanceof o.default&&t.gum?k.sendGetUserMediaFailed(t):k.sendLog(t)},k.sendAnalyticsAndLog=function(t){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?(n='object'==typeof t?t:{name:t,properties:s},T.log(JSON.stringify(n)),this.analytics.sendEvent(t,s)):T.warn('No event or event name given.')},k.sendAnalytics=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.analytics.sendEvent(t,n),k.analyticsEventEmitter.emit(s.ANALYTICS_EVENT_RECEIVED,t,n)},k.prototype.addAnalyticsEventListener=function(t){k.analyticsEventEmitter.on(s.ANALYTICS_EVENT_RECEIVED,t)},k.prototype.removeAnalyticsEventListener=function(t){k.analyticsEventEmitter.removeListener(s.ANALYTICS_EVENT_RECEIVED,t)}},563,[2,558,555,564,566,567,568,580,582,583,585,586,588,562,435,591]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=o(s);if(n&&n.has(t))return n.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in t)if("default"!==E&&Object.prototype.hasOwnProperty.call(t,E)){var h=u?Object.getOwnPropertyDescriptor(t,E):null;h&&(h.get||h.set)?Object.defineProperty(c,E,h):c[E]=t[E]}c.default=t,n&&n.set(t,c);return c})(r(d[0]));function o(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:s})(t)}var s={};function n(o,n,u){if('object'==typeof o&&void 0!==o.name)switch(this.gum={error:o,constraints:n,devices:u&&Array.isArray(u)?u.slice(0):void 0},o.name){case'NotAllowedError':case'PermissionDeniedError':case'SecurityError':this.name=t.PERMISSION_DENIED,this.message=s[this.name]+(this.gum.devices||[]).join(', ');break;case'DevicesNotFoundError':case'NotFoundError':this.name=t.NOT_FOUND,this.message=s[this.name]+(this.gum.devices||[]).join(', ');break;case'ConstraintNotSatisfiedError':case'OverconstrainedError':var E=o.constraintName||o.constraint;n&&n.video&&(!u||u.indexOf('video')>-1)&&('minWidth'===E||'maxWidth'===E||'minHeight'===E||'maxHeight'===E||'width'===E||'height'===E||'deviceId'===E)?(this.name=t.UNSUPPORTED_RESOLUTION,this.message=s[this.name]+c(E,n)):(this.name=t.CONSTRAINT_FAILED,this.message=s[this.name]+o.constraintName);break;default:this.name=t.GENERAL,this.message=o.message||s[this.name]}else{if('string'!=typeof o)throw new Error('Invalid arguments');s[o]?(this.name=o,this.message=n||s[o]):this.message=o}this.stack=o.stack||(new Error).stack}function c(t,o){if(o&&o.video&&o.video.mandatory)switch(t){case'width':return o.video.mandatory.minWidth;case'height':return o.video.mandatory.minHeight;default:return o.video.mandatory[t]||''}return''}s[t.UNSUPPORTED_RESOLUTION]='Video resolution is not supported: ',s[t.SCREENSHARING_USER_CANCELED]='User canceled screen sharing prompt',s[t.SCREENSHARING_GENERIC_ERROR]='Unknown error from screensharing',s[t.ELECTRON_DESKTOP_PICKER_ERROR]='Unkown error from desktop picker',s[t.ELECTRON_DESKTOP_PICKER_NOT_FOUND]='Failed to detect desktop picker',s[t.GENERAL]='Generic getUserMedia error',s[t.PERMISSION_DENIED]='User denied permission to use device(s): ',s[t.NOT_FOUND]='Requested device(s) was/were not found: ',s[t.CONSTRAINT_FAILED]='Constraint could not be satisfied: ',s[t.TIMEOUT]='Could not start media source. Timeout occured!',s[t.TRACK_IS_DISPOSED]='Track has been already disposed',s[t.TRACK_NO_STREAM_FOUND]='Track does not have an associated Media Stream',n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var u=n;e.default=u},564,[565]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e.UNSUPPORTED_RESOLUTION=e.TRACK_NO_STREAM_FOUND=e.TRACK_IS_DISPOSED=e.TIMEOUT=e.SCREENSHARING_USER_CANCELED=e.SCREENSHARING_GENERIC_ERROR=e.PERMISSION_DENIED=e.NOT_FOUND=e.JitsiTrackErrors=e.GENERAL=e.ELECTRON_DESKTOP_PICKER_NOT_FOUND=e.ELECTRON_DESKTOP_PICKER_ERROR=e.CONSTRAINT_FAILED=void 0,e.JitsiTrackErrors=E,(function(E){E.CONSTRAINT_FAILED="gum.constraint_failed",E.ELECTRON_DESKTOP_PICKER_ERROR="gum.electron_desktop_picker_error",E.ELECTRON_DESKTOP_PICKER_NOT_FOUND="gum.electron_desktop_picker_not_found",E.GENERAL="gum.general",E.NOT_FOUND="gum.not_found",E.PERMISSION_DENIED="gum.permission_denied",E.SCREENSHARING_GENERIC_ERROR="gum.screensharing_generic_error",E.SCREENSHARING_USER_CANCELED="gum.screensharing_user_canceled",E.TIMEOUT="gum.timeout",E.TRACK_IS_DISPOSED="track.track_is_disposed",E.TRACK_NO_STREAM_FOUND="track.no_stream_found",E.UNSUPPORTED_RESOLUTION="gum.unsupported_resolution"})(E||(e.JitsiTrackErrors=E={}));var _=E.CONSTRAINT_FAILED;e.CONSTRAINT_FAILED=_;var R=E.ELECTRON_DESKTOP_PICKER_ERROR;e.ELECTRON_DESKTOP_PICKER_ERROR=R;var N=E.ELECTRON_DESKTOP_PICKER_NOT_FOUND;e.ELECTRON_DESKTOP_PICKER_NOT_FOUND=N;var O=E.GENERAL;e.GENERAL=O;var S=E.NOT_FOUND;e.NOT_FOUND=S;var T=E.PERMISSION_DENIED;e.PERMISSION_DENIED=T;var I=E.SCREENSHARING_GENERIC_ERROR;e.SCREENSHARING_GENERIC_ERROR=I;var C=E.SCREENSHARING_USER_CANCELED;e.SCREENSHARING_USER_CANCELED=C;var D=E.TIMEOUT;e.TIMEOUT=D;var A=E.TRACK_IS_DISPOSED;e.TRACK_IS_DISPOSED=A;var P=E.TRACK_NO_STREAM_FOUND;e.TRACK_NO_STREAM_FOUND=P;var U=E.UNSUPPORTED_RESOLUTION;e.UNSUPPORTED_RESOLUTION=U},565,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createTtfmEvent=e.createTransportStatsEvent=e.createTrackStreamingStatusEvent=e.createRttByRegionEvent=e.createRtpStatsEvent=e.createRemotelyMutedEvent=e.createParticipantConnectionStatusEvent=e.createP2PEvent=e.createNoDataFromSourceEvent=e.createJingleEvent=e.createGetUserMediaEvent=e.createFocusLeftEvent=e.createE2eRttEvent=e.createConnectionStageReachedEvent=e.createConnectionFailedEvent=e.createConferenceEvent=e.createBridgeDownEvent=e.createBridgeChannelClosedEvent=e.createAudioOutputProblemEvent=e.TYPE_UI=e.TYPE_TRACK=e.TYPE_PAGE=e.TYPE_OPERATIONAL=e.TRACK_UNMUTED=e.NO_BYTES_SENT=e.ICE_STATE_CHANGED=e.ICE_ESTABLISHMENT_DURATION_DIFF=e.ICE_DURATION=e.FEEDBACK=e.CONNECTION_DISCONNECTED=e.AnalyticsEvents=e.AVAILABLE_DEVICE=e.ACTION_P2P_SWITCH_TO_JVB=e.ACTION_P2P_FAILED=e.ACTION_P2P_ESTABLISHED=e.ACTION_P2P_DECLINED=e.ACTION_JINGLE_TR_SUCCESS=e.ACTION_JINGLE_TR_RECEIVED=e.ACTION_JINGLE_TERMINATE=e.ACTION_JINGLE_SI_TIMEOUT=e.ACTION_JINGLE_SI_RECEIVED=e.ACTION_JINGLE_SA_TIMEOUT=e.ACTION_JINGLE_RESTART=void 0;var E,n=t(r(d[1]));e.AnalyticsEvents=E,(function(t){t.TYPE_OPERATIONAL="operational",t.TYPE_PAGE="page",t.TYPE_TRACK="track",t.TYPE_UI="ui",t.ACTION_JINGLE_RESTART="restart",t.ACTION_JINGLE_SA_TIMEOUT="session-accept.timeout",t.ACTION_JINGLE_SI_RECEIVED="session-initiate.received",t.ACTION_JINGLE_SI_TIMEOUT="session-initiate.timeout",t.ACTION_JINGLE_TERMINATE="terminate",t.ACTION_JINGLE_TR_RECEIVED="transport-replace.received",t.ACTION_JINGLE_TR_SUCCESS="transport-replace.success",t.ACTION_P2P_DECLINED="decline",t.ACTION_P2P_ESTABLISHED="established",t.ACTION_P2P_FAILED="failed",t.ACTION_P2P_SWITCH_TO_JVB="switch.to.jvb",t.AVAILABLE_DEVICE="available.device",t.CONNECTION_DISCONNECTED="connection.disconnected",t.FEEDBACK="feedback",t.ICE_DURATION="ice.duration",t.ICE_ESTABLISHMENT_DURATION_DIFF="ice.establishment.duration.diff",t.ICE_STATE_CHANGED="ice.state.changed",t.NO_BYTES_SENT="track.no-bytes-sent",t.TRACK_UNMUTED="track.unmuted"})(E||(e.AnalyticsEvents=E={}));var T=E.TYPE_OPERATIONAL;e.TYPE_OPERATIONAL=T;var _=E.TYPE_PAGE;e.TYPE_PAGE=_;var I=E.TYPE_TRACK;e.TYPE_TRACK=I;var A=E.TYPE_UI;e.TYPE_UI=A;var c=E.ACTION_JINGLE_RESTART;e.ACTION_JINGLE_RESTART=c;var N=E.ACTION_JINGLE_SA_TIMEOUT;e.ACTION_JINGLE_SA_TIMEOUT=N;var o=E.ACTION_JINGLE_SI_RECEIVED;e.ACTION_JINGLE_SI_RECEIVED=o;var C=E.ACTION_JINGLE_SI_TIMEOUT;e.ACTION_JINGLE_SI_TIMEOUT=C;var O=E.ACTION_JINGLE_TERMINATE;e.ACTION_JINGLE_TERMINATE=O;var u=E.ACTION_JINGLE_TR_RECEIVED;e.ACTION_JINGLE_TR_RECEIVED=u;var P=E.ACTION_JINGLE_TR_SUCCESS;e.ACTION_JINGLE_TR_SUCCESS=P;var s=E.ACTION_P2P_DECLINED;e.ACTION_P2P_DECLINED=s;var v=E.ACTION_P2P_ESTABLISHED;e.ACTION_P2P_ESTABLISHED=v;var S=E.ACTION_P2P_FAILED;e.ACTION_P2P_FAILED=S;var L=E.ACTION_P2P_SWITCH_TO_JVB;e.ACTION_P2P_SWITCH_TO_JVB=L;var R=E.AVAILABLE_DEVICE;e.AVAILABLE_DEVICE=R;var D=E.CONNECTION_DISCONNECTED;e.CONNECTION_DISCONNECTED=D;var p=E.FEEDBACK;e.FEEDBACK=p;var l=E.ICE_DURATION;e.ICE_DURATION=l;var f=E.ICE_ESTABLISHMENT_DURATION_DIFF;e.ICE_ESTABLISHMENT_DURATION_DIFF=f;var G=E.ICE_STATE_CHANGED;e.ICE_STATE_CHANGED=G;var Y=E.NO_BYTES_SENT;e.NO_BYTES_SENT=Y;var J=E.TRACK_UNMUTED;e.TRACK_UNMUTED=J;e.createBridgeDownEvent=function(){return{action:'bridge.down',actionSubject:'bridge.down',type:T}};e.createConnectionFailedEvent=function(t,T,_){return{type:E.TYPE_OPERATIONAL,action:'connection.failed',attributes:(0,n.default)({error_type:t,error_message:T},_)}};e.createConferenceEvent=function(t,n){return{action:t,attributes:n,source:'conference',type:E.TYPE_OPERATIONAL}};var U=function(t,n){return{action:'connection.stage.reached',actionSubject:t,attributes:n,source:'connection.stage.reached',type:E.TYPE_OPERATIONAL}};e.createConnectionStageReachedEvent=U;e.createE2eRttEvent=function(t,n,T){return{attributes:{participant_id:t,region:n,rtt:T},name:'e2e_rtt',type:E.TYPE_OPERATIONAL}};e.createFocusLeftEvent=function(){return{action:'focus.left',actionSubject:'focus.left',type:E.TYPE_OPERATIONAL}};e.createGetUserMediaEvent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E.TYPE_OPERATIONAL,source:'get.user.media',action:t,attributes:n}};e.createParticipantConnectionStatusEvent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:E.TYPE_OPERATIONAL,source:'peer.conn.status',action:'duration',attributes:t}};e.createTrackStreamingStatusEvent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:E.TYPE_OPERATIONAL,source:'track.streaming.status',action:'duration',attributes:t}};e.createJingleEvent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E.TYPE_OPERATIONAL,action:t,source:'jingle',attributes:n}};e.createNoDataFromSourceEvent=function(t,n){return{attributes:{media_type:t,value:n},action:'track.no.data.from.source',type:E.TYPE_OPERATIONAL}};e.createP2PEvent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E.TYPE_OPERATIONAL,action:t,source:'p2p',attributes:n}};e.createRemotelyMutedEvent=function(t){return{type:E.TYPE_OPERATIONAL,action:'remotely.muted',mediaType:t}};e.createRtpStatsEvent=function(t){return{type:E.TYPE_OPERATIONAL,action:'rtp.stats',attributes:t}};e.createRttByRegionEvent=function(t){return{type:E.TYPE_OPERATIONAL,action:'rtt.by.region',attributes:t}};e.createTransportStatsEvent=function(t){return{type:E.TYPE_OPERATIONAL,action:'transport.stats',attributes:t}};e.createAudioOutputProblemEvent=function(t,n,T){return{type:E.TYPE_OPERATIONAL,action:'audio.output.problem',attributes:{userID:t,localAudioLevels:n,remoteAudioLevels:T}}};e.createBridgeChannelClosedEvent=function(t,n){return{type:E.TYPE_OPERATIONAL,action:'bridge-channel.error',attributes:{code:t,reason:n}}};e.createTtfmEvent=function(t){return U('ttfm',t)}},566,[2,32]);
__d(function(g,r,i,a,m,e,d){var S;Object.defineProperty(e,"__esModule",{value:!0}),e.LONG_TASKS_STATS=e.Events=e.CONNECTION_STATS=e.BYTE_SENT_STATS=e.BEFORE_DISPOSED=e.AUDIO_LEVEL=void 0,e.Events=S,(function(S){S.AUDIO_LEVEL="statistics.audioLevel",S.BEFORE_DISPOSED="statistics.before_disposed",S.BYTE_SENT_STATS="statistics.byte_sent_stats",S.CONNECTION_STATS="statistics.connectionstats",S.LONG_TASKS_STATS="statistics.long_tasks_stats"})(S||(e.Events=S={}));var T=S.AUDIO_LEVEL;e.AUDIO_LEVEL=T;var _=S.BEFORE_DISPOSED;e.BEFORE_DISPOSED=_;var E=S.BYTE_SENT_STATS;e.BYTE_SENT_STATS=E;var t=S.CONNECTION_STATS;e.CONNECTION_STATS=t;var s=S.LONG_TASKS_STATS;e.LONG_TASKS_STATS=s},567,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=new(t(r(d[1])).default);e.default=u},568,[2,569]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),v=r(d[6]);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var f=(0,r(d[7]).getLogger)(__filename),h=(function(t){(0,o.default)(R,t);var v,h,l=(v=R,h=p(),function(){var t,s=(0,c.default)(v);if(h){var n=(0,c.default)(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return(0,u.default)(this,t)});function R(){var t;return(0,s.default)(this,R),t=l.call(this),f.info("This appears to be "+t.getName()+", ver: "+t.getVersion()),t}return(0,n.default)(R,[{key:"doesVideoMuteByStreamRemove",value:function(){return this.isChromiumBased()||this.isWebKitBased()||this.isFirefox()}},{key:"isChromiumBased",value:function(){return(this.isChrome()||this.isElectron()||this.isNWJS()||this.isOpera())&&!this.isWebKitBased()}},{key:"isIosBrowser",value:function(){var t=navigator,s=t.userAgent,n=t.maxTouchPoints,o=t.platform;return Boolean(s.match(/iP(ad|hone|od)/i))||n&&n>2&&/MacIntel/.test(o)}},{key:"isWebKitBased",value:function(){return this._bowser.isEngine('webkit')&&void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia&&void 0!==window.RTCRtpTransceiver&&Object.keys(RTCRtpTransceiver.prototype).indexOf('currentDirection')>-1}},{key:"isTwa",value:function(){return'matchMedia'in window&&window.matchMedia('(display-mode:standalone)').matches}},{key:"isSupported",value:function(){return!(this.isSafari()&&this._getSafariVersion()<14)&&(this.isChromiumBased()&&this._getChromiumBasedVersion()>=72||this.isFirefox()||this.isReactNative()||this.isWebKitBased())}},{key:"isSupportedAndroidBrowser",value:function(){return this.isChromiumBased()||this.isFirefox()}},{key:"isSupportedIOSBrowser",value:function(){return this._getIOSVersion()>=14}},{key:"isUserInteractionRequiredForUnmute",value:function(){return this.isFirefox()&&this.isVersionLessThan('68')}},{key:"supportsVideoMuteOnConnInterrupted",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"supportsBandwidthStatistics",value:function(){return!this.isFirefox()&&!this.isWebKitBased()}},{key:"supportsCodecPreferences",value:function(){return Boolean(window.RTCRtpTransceiver&&'setCodecPreferences'in window.RTCRtpTransceiver.prototype&&window.RTCRtpReceiver&&void 0!==window.RTCRtpReceiver.getCapabilities)&&!this.isWebKitBased()}},{key:"supportsDeviceChangeEvent",value:function(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.ondevicechange&&void 0!==navigator.mediaDevices.addEventListener}},{key:"supportsLocalCandidateRttStatistics",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"supportsPerformanceObserver",value:function(){return void 0!==window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.indexOf('longtask')>-1}},{key:"supportsReceiverStats",value:function(){return void 0!==window.RTCRtpReceiver&&Object.keys(RTCRtpReceiver.prototype).indexOf('getSynchronizationSources')>-1&&!this.isWebKitBased()}},{key:"supportsRTTStatistics",value:function(){return!this.isFirefox()}},{key:"supportsVP9",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"usesSdpMungingForSimulcast",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"usesAdapter",value:function(){return!this.isReactNative()}},{key:"usesRidsForSimulcast",value:function(){return!1}},{key:"supportsGetDisplayMedia",value:function(){return void 0!==navigator.getDisplayMedia||void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getDisplayMedia}},{key:"supportsEncodedTransform",value:function(){return Boolean(window.RTCRtpScriptTransform)}},{key:"supportsInsertableStreams",value:function(){if(void 0===window.RTCRtpSender||!window.RTCRtpSender.prototype.createEncodedStreams)return!1;var t=new ReadableStream;try{return window.postMessage(t,'*',[t]),!0}catch(t){return!1}}},{key:"supportsAudioRed",value:function(){return Boolean(window.RTCRtpSender&&window.RTCRtpSender.getCapabilities&&window.RTCRtpSender.getCapabilities('audio').codecs.some(function(t){return'audio/red'===t.mimeType})&&window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities('audio').codecs.some(function(t){return'audio/red'===t.mimeType}))}},{key:"supportsUnifiedPlan",value:function(){return!(this.isReactNative()||this.isElectron()&&this._getChromiumBasedVersion()<96)}},{key:"supportsVADDetection",value:function(){return this.isChromiumBased()}},{key:"supportsRTX",value:function(){return!(this.isFirefox()&&this.isVersionLessThan('96'))}},{key:"_getChromiumBasedVersion",value:function(){if(this.isChromiumBased()){if(this.isNWJS())return Number.parseInt(process.versions.chromium,10);var t=navigator.userAgent;if(t.match(/Chrome/))return Number.parseInt(t.match(/Chrome\/([\d.]+)/)[1],10)}return-1}},{key:"_getSafariVersion",value:function(){return this.isSafari()?Number.parseInt(this.getVersion(),10):-1}},{key:"_getIOSVersion",value:function(){return this.isWebKitBased()?Number.parseInt(this.getVersion(),10):-1}}]),R})(v.BrowserDetection);e.default=h},569,[2,12,13,20,22,19,570,435]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))});var t=r(d[1]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))});var u=r(d[2]);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))});var o=r(d[3]);Object.keys(o).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))})},570,[571,573,575,579]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getGravatarURL=function(t){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'https://seccdn.libravatar.org/avatar/',o=(u=t,u&&u.indexOf('@')>0?n.default.hex(t.trim().toLowerCase()):t);var u;return""+v+o+'?d=404&size=200'};var n=t(r(d[1]))},571,[2,572]);
__d(function(g,r,i,a,m,e,d){!(function(){'use strict';var ERROR='input is invalid type',WINDOW='object'==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&'object'==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&'object'==typeof process&&process.versions&&process.versions.node;NODE_JS?root=g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&'object'==typeof m&&m.exports,AMD='function'==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&'undefined'!=typeof ArrayBuffer,HEX_CHARS='0123456789abcdef'.split(''),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=['hex','array','digest','buffer','arrayBuffer','base64'],BASE64_ENCODE_CHAR='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split(''),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return'[object Array]'===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return'object'==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(s){return new Md5(!0).update(s)[t]()}},createMethod=function(){var t=createOutputMethod('hex');NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(s){return t.create().update(s)};for(var s=0;s<OUTPUT_TYPES.length;++s){var o=OUTPUT_TYPES[s];t[o]=createOutputMethod(o)}return t},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if('string'==typeof t)return crypto.createHash('md5').update(t,'utf8').digest('hex');if(null===t||void 0===t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash('md5').update(new Buffer(t)).digest('hex'):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var s=new ArrayBuffer(68);this.buffer8=new Uint8Array(s),this.blocks=new Uint32Array(s)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var s,o=typeof t;if('string'!==o){if('object'!==o)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;s=!0}for(var h,f,n=0,A=t.length,u=this.blocks,R=this.buffer8;n<A;){if(this.hashed&&(this.hashed=!1,u[0]=u[16],u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),s)if(ARRAY_BUFFER)for(f=this.start;n<A&&f<64;++n)R[f++]=t[n];else for(f=this.start;n<A&&f<64;++n)u[f>>2]|=t[n]<<SHIFT[3&f++];else if(ARRAY_BUFFER)for(f=this.start;n<A&&f<64;++n)(h=t.charCodeAt(n))<128?R[f++]=h:h<2048?(R[f++]=192|h>>6,R[f++]=128|63&h):h<55296||h>=57344?(R[f++]=224|h>>12,R[f++]=128|h>>6&63,R[f++]=128|63&h):(h=65536+((1023&h)<<10|1023&t.charCodeAt(++n)),R[f++]=240|h>>18,R[f++]=128|h>>12&63,R[f++]=128|h>>6&63,R[f++]=128|63&h);else for(f=this.start;n<A&&f<64;++n)(h=t.charCodeAt(n))<128?u[f>>2]|=h<<SHIFT[3&f++]:h<2048?(u[f>>2]|=(192|h>>6)<<SHIFT[3&f++],u[f>>2]|=(128|63&h)<<SHIFT[3&f++]):h<55296||h>=57344?(u[f>>2]|=(224|h>>12)<<SHIFT[3&f++],u[f>>2]|=(128|h>>6&63)<<SHIFT[3&f++],u[f>>2]|=(128|63&h)<<SHIFT[3&f++]):(h=65536+((1023&h)<<10|1023&t.charCodeAt(++n)),u[f>>2]|=(240|h>>18)<<SHIFT[3&f++],u[f>>2]|=(128|h>>12&63)<<SHIFT[3&f++],u[f>>2]|=(128|h>>6&63)<<SHIFT[3&f++],u[f>>2]|=(128|63&h)<<SHIFT[3&f++]);this.lastByteIndex=f,this.bytes+=f-this.start,f>=64?(this.start=f-64,this.hash(),this.hashed=!0):this.start=f}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,s=this.lastByteIndex;t[s>>2]|=EXTRA[3&s],s>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,s,o,h,f,n,A=this.blocks;this.first?s=((s=((t=((t=A[0]-680876937)<<7|t>>>25)-271733879<<0)^(o=((o=(-271733879^(h=((h=(-1732584194^2004318071&t)+A[1]-117830708)<<12|h>>>20)+t<<0)&(-271733879^t))+A[2]-1126478375)<<17|o>>>15)+h<<0)&(h^t))+A[3]-1316259209)<<22|s>>>10)+o<<0:(t=this.h0,s=this.h1,o=this.h2,s=((s+=((t=((t+=((h=this.h3)^s&(o^h))+A[0]-680876936)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[1]-389564586)<<12|h>>>20)+t<<0)&(t^s))+A[2]+606105819)<<17|o>>>15)+h<<0)&(h^t))+A[3]-1044525330)<<22|s>>>10)+o<<0),s=((s+=((t=((t+=(h^s&(o^h))+A[4]-176418897)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[5]+1200080426)<<12|h>>>20)+t<<0)&(t^s))+A[6]-1473231341)<<17|o>>>15)+h<<0)&(h^t))+A[7]-45705983)<<22|s>>>10)+o<<0,s=((s+=((t=((t+=(h^s&(o^h))+A[8]+1770035416)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[9]-1958414417)<<12|h>>>20)+t<<0)&(t^s))+A[10]-42063)<<17|o>>>15)+h<<0)&(h^t))+A[11]-1990404162)<<22|s>>>10)+o<<0,s=((s+=((t=((t+=(h^s&(o^h))+A[12]+1804603682)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[13]-40341101)<<12|h>>>20)+t<<0)&(t^s))+A[14]-1502002290)<<17|o>>>15)+h<<0)&(h^t))+A[15]+1236535329)<<22|s>>>10)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[1]-165796510)<<5|t>>>27)+s<<0)^s))+A[6]-1069501632)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[11]+643717713)<<14|o>>>18)+h<<0)^h))+A[0]-373897302)<<20|s>>>12)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[5]-701558691)<<5|t>>>27)+s<<0)^s))+A[10]+38016083)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[15]-660478335)<<14|o>>>18)+h<<0)^h))+A[4]-405537848)<<20|s>>>12)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[9]+568446438)<<5|t>>>27)+s<<0)^s))+A[14]-1019803690)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[3]-187363961)<<14|o>>>18)+h<<0)^h))+A[8]+1163531501)<<20|s>>>12)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[13]-1444681467)<<5|t>>>27)+s<<0)^s))+A[2]-51403784)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[7]+1735328473)<<14|o>>>18)+h<<0)^h))+A[12]-1926607734)<<20|s>>>12)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[5]-378558)<<4|t>>>28)+s<<0))+A[8]-2022574463)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[11]+1839030562)<<16|o>>>16)+h<<0))+A[14]-35309556)<<23|s>>>9)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[1]-1530992060)<<4|t>>>28)+s<<0))+A[4]+1272893353)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[7]-155497632)<<16|o>>>16)+h<<0))+A[10]-1094730640)<<23|s>>>9)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[13]+681279174)<<4|t>>>28)+s<<0))+A[0]-358537222)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[3]-722521979)<<16|o>>>16)+h<<0))+A[6]+76029189)<<23|s>>>9)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[9]-640364487)<<4|t>>>28)+s<<0))+A[12]-421815835)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[15]+530742520)<<16|o>>>16)+h<<0))+A[2]-995338651)<<23|s>>>9)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[0]-198630844)<<6|t>>>26)+s<<0)|~o))+A[7]+1126891415)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[14]-1416354905)<<15|o>>>17)+h<<0)|~t))+A[5]-57434055)<<21|s>>>11)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[12]+1700485571)<<6|t>>>26)+s<<0)|~o))+A[3]-1894986606)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[10]-1051523)<<15|o>>>17)+h<<0)|~t))+A[1]-2054922799)<<21|s>>>11)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[8]+1873313359)<<6|t>>>26)+s<<0)|~o))+A[15]-30611744)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[6]-1560198380)<<15|o>>>17)+h<<0)|~t))+A[13]+1309151649)<<21|s>>>11)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[4]-145523070)<<6|t>>>26)+s<<0)|~o))+A[11]-1120210379)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[2]+718787259)<<15|o>>>17)+h<<0)|~t))+A[9]-343485551)<<21|s>>>11)+o<<0,this.first?(this.h0=t+1732584193<<0,this.h1=s-271733879<<0,this.h2=o-1732584194<<0,this.h3=h+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+s<<0,this.h2=this.h2+o<<0,this.h3=this.h3+h<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,s=this.h1,o=this.h2,h=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,s=this.h1,o=this.h2,h=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&s,s>>8&255,s>>16&255,s>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255,255&h,h>>8&255,h>>16&255,h>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),s=new Uint32Array(t);return s[0]=this.h0,s[1]=this.h1,s[2]=this.h2,s[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,s,o,h='',f=this.array(),n=0;n<15;)t=f[n++],s=f[n++],o=f[n++],h+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|s>>>4)]+BASE64_ENCODE_CHAR[63&(s<<2|o>>>6)]+BASE64_ENCODE_CHAR[63&o];return t=f[n],h+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+'=='};var exports=createMethod();COMMON_JS?m.exports=exports:(root.md5=exports,AMD&&define(function(){return exports}))})()},572,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BrowserCapabilities",{enumerable:!0,get:function(){return n.default}});var n=t(r(d[1]))},573,[2,574]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),n=r(d[4]),p=(function(){function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2?arguments[2]:void 0;(0,u.default)(this,t);var c,f=new n.BrowserDetection(l);if('object'==typeof o&&'string'==typeof f.getVersion())for(var v=o[f.getName()]||[],b=0;b<v.length;b++){var h=v[b];if('object'==typeof h){var _=h.version;if(!_||!f.isVersionGreaterThan(_)){c=h;break}}}c&&c.capabilities?this._capabilities=p?(0,s.default)({},c.capabilities,c.iframeCapabilities):c.capabilities:this._capabilities={isSupported:!1},void 0===this._capabilities.isSupported?this._capabilities.isSupported=!0:!1===this._capabilities.isSupported&&(this._capabilities={isSupported:!1})}return(0,o.default)(t,[{key:"isSupported",value:function(){return this._capabilities.isSupported}},{key:"supportsAudioIn",value:function(){return this._capabilities.audioIn||!1}},{key:"supportsAudioOut",value:function(){return this._capabilities.audioOut||!1}},{key:"supportsScreenSharing",value:function(){return this._capabilities.screenSharing||!1}},{key:"supportsVideoIn",value:function(){return this._capabilities.videoIn||!1}},{key:"supportsVideoOut",value:function(){return this._capabilities.videoOut||!1}}]),t})();e.default=p},574,[2,32,12,13,575]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BrowserDetection",{enumerable:!0,get:function(){return n.default}}),e.browsers=void 0;var n=t(r(d[1])),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var l=c?Object.getOwnPropertyDescriptor(t,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=t[p]}f.default=t,o&&o.set(t,f);return f})(r(d[2]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}e.browsers=o},575,[2,576,578]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),u=n(r(d[3])),s=n(r(d[4])),v=r(d[5]),c={Chrome:v.CHROME,Chromium:v.CHROME,Opera:v.OPERA,Firefox:v.FIREFOX,'Internet Explorer':v.INTERNET_EXPLORER,Safari:v.SAFARI};function h(){var n=navigator.userAgent,t={name:v.UNKNOWN,version:void 0};if(n.match(/Chrome/)&&!n.match(/Edge/))if(n.match(/Edg(A?)/)){var o=n.match(/Chrome\/([\d.]+)/)[1];Number.parseInt(o,10)>72&&(t.name=v.CHROME,t.version=o)}else t.name=v.CHROME,t.version=n.match(/Chrome\/([\d.]+)/)[1];return t}function f(){var n=navigator.userAgent;if(n.match(/Electron/)){var t=n.match(/Electron(?:\s|\/)([\d.]+)/)[1];return{name:v.ELECTRON,version:t}}}function l(){var n=navigator.userAgent;if(n.match(/JitsiMeetNW/)){var t=n.match(/JitsiMeetNW\/([\d.]+)/)[1];return{name:v.NWJS,version:t}}}function E(){var n,t,o=navigator.userAgent.match(/\b(react[ \t_-]*native)(?:\/(\S+))?/i);if(o||'ReactNative'===navigator.product)return o&&o.length>2&&(t=o[1],n=o[2]),t||(t='react-native'),n||(n='unknown'),{name:v.REACT_NATIVE,version:n}}function _(n){for(var t,o=[E,f,l],u=0;u<o.length;u++)if(t=o[u]())return t;var s=n.getBrowserName();return s in c?{name:c[s],version:n.getBrowserVersion()}:(t=h())||{name:v.UNKNOWN,version:void 0}}var N=(function(){function n(t){var u,h;if((0,o.default)(this,n),this._bowser=s.default.getParser(navigator.userAgent),void 0===t){var f=_(this._bowser);u=f.name,h=f.version}else t.name in c?(u=c[t.name],h=t.version):(u=v.UNKNOWN,h=void 0);this._name=u,this._version=h}return(0,u.default)(n,[{key:"getName",value:function(){return this._name}},{key:"isChrome",value:function(){return this._name===v.CHROME}},{key:"isOpera",value:function(){return this._name===v.OPERA}},{key:"isFirefox",value:function(){return this._name===v.FIREFOX}},{key:"isIExplorer",value:function(){return this._name===v.INTERNET_EXPLORER}},{key:"isSafari",value:function(){return this._name===v.SAFARI}},{key:"isNWJS",value:function(){return this._name===v.NWJS}},{key:"isElectron",value:function(){return this._name===v.ELECTRON}},{key:"isReactNative",value:function(){return this._name===v.REACT_NATIVE}},{key:"getVersion",value:function(){return this._version}},{key:"_checkCondition",value:function(n){if(this._version)return this._bowser.satisfies(n)}},{key:"isVersionGreaterThan",value:function(n){return this._checkCondition((0,t.default)({},this._name,">"+n))}},{key:"isVersionLessThan",value:function(n){return this._checkCondition((0,t.default)({},this._name,"<"+n))}},{key:"isVersionEqualTo",value:function(n){return this._checkCondition((0,t.default)({},this._name,"~"+n))}}]),n})();e.default=N},576,[2,253,12,13,577,578]);
__d(function(g,r,i,a,m,e,d){var t,n,s=r(d[0]);t=this,n=function(){return(function(t){var n={};function s(o){if(n[o])return n[o].exports;var u=n[o]={i:o,l:!1,exports:{}};return t[o].call(u.exports,u,u.exports,s),u.l=!0,u.exports}return s.m=t,s.c=n,s.d=function(t,n,o){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)s.d(o,u,function(n){return t[n]}.bind(null,u));return o},s.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="",s(s.s=90)})({17:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o=s(18),u=(function(){function t(){}return t.getFirstMatch=function(t,n){var s=n.match(t);return s&&s.length>0&&s[1]||""},t.getSecondMatch=function(t,n){var s=n.match(t);return s&&s.length>1&&s[2]||""},t.matchAndReturnConst=function(t,n,s){if(t.test(n))return s},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var n=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(n.push(0),10===n[0])switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var n=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(n.push(0),!(1===n[0]&&n[1]<5))return 1===n[0]&&n[1]<6?"Cupcake":1===n[0]&&n[1]>=6?"Donut":2===n[0]&&n[1]<2?"Eclair":2===n[0]&&2===n[1]?"Froyo":2===n[0]&&n[1]>2?"Gingerbread":3===n[0]?"Honeycomb":4===n[0]&&n[1]<1?"Ice Cream Sandwich":4===n[0]&&n[1]<4?"Jelly Bean":4===n[0]&&n[1]>=4?"KitKat":5===n[0]?"Lollipop":6===n[0]?"Marshmallow":7===n[0]?"Nougat":8===n[0]?"Oreo":9===n[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(n,s,o){void 0===o&&(o=!1);var u=t.getVersionPrecision(n),c=t.getVersionPrecision(s),f=Math.max(u,c),l=0,h=t.map([n,s],function(n){var s=f-t.getVersionPrecision(n),o=n+new Array(s+1).join(".0");return t.map(o.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});for(o&&(l=f-Math.min(u,c)),f-=1;f>=l;){if(h[0][f]>h[1][f])return 1;if(h[0][f]===h[1][f]){if(f===l)return 0;f-=1}else if(h[0][f]<h[1][f])return-1}},t.map=function(t,n){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)o.push(n(t[s]));return o},t.getBrowserAlias=function(t){return o.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return o.BROWSER_MAP[t]||""},t})();n.default=u,t.exports=n.default},18:function(t,n,s){"use strict";n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(91))&&o.__esModule?o:{default:o},c=s(18);function f(t,n){for(var s=0;s<n.length;s++){var o=n[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=(function(){function t(){}var n,s;return t.getParser=function(t,n){if(void 0===n&&(n=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new u.default(t,n)},t.parse=function(t){return new u.default(t).getResult()},n=t,s=[{key:"BROWSER_MAP",get:function(){return c.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return c.ENGINE_MAP}},{key:"OS_MAP",get:function(){return c.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return c.PLATFORMS_MAP}}],null&&f(n.prototype,null),s&&f(n,s),t})();n.default=l,t.exports=n.default},91:function(t,n,o){"use strict";n.__esModule=!0,n.default=void 0;var u=p(o(92)),c=p(o(93)),f=p(o(94)),l=p(o(95)),h=p(o(17));function p(t){return t&&t.__esModule?t:{default:t}}var v=(function(){function t(t,n){if(void 0===n&&(n=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==n&&this.parse()}var n=t.prototype;return n.getUA=function(){return this._ua},n.test=function(t){return t.test(this._ua)},n.parseBrowser=function(){var t=this;this.parsedResult.browser={};var n=u.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser},n.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},n.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},n.getBrowserVersion=function(){return this.getBrowser().version},n.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},n.parseOS=function(){var t=this;this.parsedResult.os={};var n=c.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os},n.getOSName=function(t){var n=this.getOS().name;return t?String(n).toLowerCase()||"":n||""},n.getOSVersion=function(){return this.getOS().version},n.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},n.getPlatformType=function(t){void 0===t&&(t=!1);var n=this.getPlatform().type;return t?String(n).toLowerCase()||"":n||""},n.parsePlatform=function(){var t=this;this.parsedResult.platform={};var n=f.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform},n.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},n.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},n.parseEngine=function(){var t=this;this.parsedResult.engine={};var n=l.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine},n.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},n.getResult=function(){return s({},this.parsedResult)},n.satisfies=function(t){var n=this,s={},o=0,u={},c=0;if(Object.keys(t).forEach(function(n){var f=t[n];"string"==typeof f?(u[n]=f,c+=1):"object"==typeof f&&(s[n]=f,o+=1)}),o>0){var f=Object.keys(s),l=f.find(function(t){return n.isOS(t)});if(l){var h=this.satisfies(s[l]);if(void 0!==h)return h}var p=f.find(function(t){return n.isPlatform(t)});if(p){var v=this.satisfies(s[p]);if(void 0!==v)return v}}if(c>0){var M=Object.keys(u).find(function(t){return n.isBrowser(t,!0)});if(void 0!==M)return this.compareVersion(u[M])}},n.isBrowser=function(t,n){void 0===n&&(n=!1);var s=this.getBrowserName().toLowerCase(),o=t.toLowerCase(),u=h.default.getBrowserTypeByAlias(o);return n&&u&&(o=u.toLowerCase()),o===s},n.compareVersion=function(t){var n=[0],s=t,o=!1,u=this.getBrowserVersion();if("string"==typeof u)return">"===t[0]||"<"===t[0]?(s=t.substr(1),"="===t[1]?(o=!0,s=t.substr(2)):n=[],">"===t[0]?n.push(1):n.push(-1)):"="===t[0]?s=t.substr(1):"~"===t[0]&&(o=!0,s=t.substr(1)),n.indexOf(h.default.compareVersions(u,s,o))>-1},n.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},n.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},n.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},n.is=function(t){return this.isBrowser(t)||this.isOS(t)||this.isPlatform(t)},n.some=function(t){var n=this;return void 0===t&&(t=[]),t.some(function(t){return n.is(t)})},t})();n.default=v,t.exports=n.default},92:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=/version\/(\d+(\.?_?\d+)+)/i,f=[{test:[/googlebot/i],describe:function(t){var n={name:"Googlebot"},s=u.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/opera/i],describe:function(t){var n={name:"Opera"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/opr\/|opios/i],describe:function(t){var n={name:"Opera"},s=u.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/SamsungBrowser/i],describe:function(t){var n={name:"Samsung Internet for Android"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/Whale/i],describe:function(t){var n={name:"NAVER Whale Browser"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/MZBrowser/i],describe:function(t){var n={name:"MZ Browser"},s=u.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/focus/i],describe:function(t){var n={name:"Focus"},s=u.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/swing/i],describe:function(t){var n={name:"Swing"},s=u.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/coast/i],describe:function(t){var n={name:"Opera Coast"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/yabrowser/i],describe:function(t){var n={name:"Yandex Browser"},s=u.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/ucbrowser/i],describe:function(t){var n={name:"UC Browser"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/Maxthon|mxios/i],describe:function(t){var n={name:"Maxthon"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/epiphany/i],describe:function(t){var n={name:"Epiphany"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/puffin/i],describe:function(t){var n={name:"Puffin"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/sleipnir/i],describe:function(t){var n={name:"Sleipnir"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/k-meleon/i],describe:function(t){var n={name:"K-Meleon"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/micromessenger/i],describe:function(t){var n={name:"WeChat"},s=u.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/qqbrowser/i],describe:function(t){var n={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},s=u.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/msie|trident/i],describe:function(t){var n={name:"Internet Explorer"},s=u.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/\sedg\//i],describe:function(t){var n={name:"Microsoft Edge"},s=u.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/edg([ea]|ios)/i],describe:function(t){var n={name:"Microsoft Edge"},s=u.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/vivaldi/i],describe:function(t){var n={name:"Vivaldi"},s=u.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/seamonkey/i],describe:function(t){var n={name:"SeaMonkey"},s=u.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/sailfish/i],describe:function(t){var n={name:"Sailfish"},s=u.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return s&&(n.version=s),n}},{test:[/silk/i],describe:function(t){var n={name:"Amazon Silk"},s=u.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/phantom/i],describe:function(t){var n={name:"PhantomJS"},s=u.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/slimerjs/i],describe:function(t){var n={name:"SlimerJS"},s=u.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n={name:"BlackBerry"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n={name:"WebOS Browser"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/bada/i],describe:function(t){var n={name:"Bada"},s=u.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/tizen/i],describe:function(t){var n={name:"Tizen"},s=u.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/qupzilla/i],describe:function(t){var n={name:"QupZilla"},s=u.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var n={name:"Firefox"},s=u.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/chromium/i],describe:function(t){var n={name:"Chromium"},s=u.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/chrome|crios|crmo/i],describe:function(t){var n={name:"Chrome"},s=u.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/GSA/i],describe:function(t){var n={name:"Google Search"},s=u.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:function(t){var n=!t.test(/like android/i),s=t.test(/android/i);return n&&s},describe:function(t){var n={name:"Android Browser"},s=u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/playstation 4/i],describe:function(t){var n={name:"PlayStation 4"},s=u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/safari|applewebkit/i],describe:function(t){var n={name:"Safari"},s=u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/.*/i],describe:function(t){var n=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:u.default.getFirstMatch(n,t),version:u.default.getSecondMatch(n,t)}}}];n.default=f,t.exports=n.default},93:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=s(18),f=[{test:[/Roku\/DVP/],describe:function(t){var n=u.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:c.OS_MAP.Roku,version:n}}},{test:[/windows phone/i],describe:function(t){var n=u.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.WindowsPhone,version:n}}},{test:[/windows/i],describe:function(t){var n=u.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),s=u.default.getWindowsVersionName(n);return{name:c.OS_MAP.Windows,version:n,versionName:s}}},{test:[/macintosh/i],describe:function(t){var n=u.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),s=u.default.getMacOSVersionName(n),o={name:c.OS_MAP.MacOS,version:n};return s&&(o.versionName=s),o}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var n=u.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:c.OS_MAP.iOS,version:n}}},{test:function(t){var n=!t.test(/like android/i),s=t.test(/android/i);return n&&s},describe:function(t){var n=u.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),s=u.default.getAndroidVersionName(n),o={name:c.OS_MAP.Android,version:n};return s&&(o.versionName=s),o}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n=u.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),s={name:c.OS_MAP.WebOS};return n&&n.length&&(s.version=n),s}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n=u.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||u.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||u.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:c.OS_MAP.BlackBerry,version:n}}},{test:[/bada/i],describe:function(t){var n=u.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.Bada,version:n}}},{test:[/tizen/i],describe:function(t){var n=u.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.Tizen,version:n}}},{test:[/linux/i],describe:function(){return{name:c.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:c.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var n=u.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.PlayStation4,version:n}}}];n.default=f,t.exports=n.default},94:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=s(18),f=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var n=u.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",s={type:c.PLATFORMS_MAP.mobile,vendor:"Huawei"};return n&&(s.model=n),s}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(t){var n=t.test(/ipod|iphone/i),s=t.test(/like (ipod|iphone)/i);return n&&!s},describe:function(t){var n=u.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:c.PLATFORMS_MAP.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var n=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&n>=3},describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.tv}}}];n.default=f,t.exports=n.default},95:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=s(18),f=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:c.ENGINE_MAP.Blink};var n=u.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:c.ENGINE_MAP.EdgeHTML,version:n}}},{test:[/trident/i],describe:function(t){var n={name:c.ENGINE_MAP.Trident},s=u.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:function(t){return t.test(/presto/i)},describe:function(t){var n={name:c.ENGINE_MAP.Presto},s=u.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:function(t){var n=t.test(/gecko/i),s=t.test(/like gecko/i);return n&&!s},describe:function(t){var n={name:c.ENGINE_MAP.Gecko},s=u.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:c.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var n={name:c.ENGINE_MAP.WebKit},s=u.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}}];n.default=f,t.exports=n.default}})},"object"==typeof e&&"object"==typeof m?m.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof e?e.bowser=n():t.bowser=n()},577,[32]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.UNKNOWN=e.SAFARI=e.REACT_NATIVE=e.OPERA=e.NWJS=e.INTERNET_EXPLORER=e.FIREFOX=e.ELECTRON=e.CHROME=void 0;e.CHROME='chrome';e.OPERA='opera';e.FIREFOX='firefox';e.INTERNET_EXPLORER='iexplorer';e.SAFARI='safari';e.NWJS='nwjs';e.ELECTRON='electron';e.REACT_NATIVE='react-native';e.UNKNOWN='unknown'},578,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.jitsiLocalStorage=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),c=t(r(d[6])),f=t(r(d[7]));function h(t){var n=v();return function(){var o,l=(0,c.default)(t);if(n){var u=(0,c.default)(this).constructor;o=Reflect.construct(l,arguments,u)}else o=l.apply(this,arguments);return(0,s.default)(this,o)}}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=(function(t){(0,u.default)(c,t);var s=h(c);function c(){var t,o,u,f;(0,n.default)(this,c);for(var h=arguments.length,v=new Array(h),y=0;y<h;y++)v[y]=arguments[y];return t=s.call.apply(s,[this].concat(v)),o=(0,l.default)(t),f={},(u="_storage")in o?Object.defineProperty(o,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):o[u]=f,t}return(0,o.default)(c,[{key:"clear",value:function(){this._storage={}}},{key:"length",get:function(){return Object.keys(this._storage).length}},{key:"getItem",value:function(t){return this._storage[t]}},{key:"setItem",value:function(t,n){this._storage[t]=n}},{key:"removeItem",value:function(t){delete this._storage[t]}},{key:"key",value:function(t){var n=Object.keys(this._storage);if(!(n.length<=t))return n[t]}},{key:"serialize",value:function(){return JSON.stringify(this._storage)}}]),c})(f.default),_=new((function(t){(0,u.default)(s,t);var l=h(s);function s(){var t;(0,n.default)(this,s),t=l.call(this);try{t._storage=window.localStorage,t._localStorageDisabled=!1}catch(t){}return t._storage||(console.warn('Local storage is disabled.'),t._storage=new y,t._localStorageDisabled=!0),t}return(0,o.default)(s,[{key:"isLocalStorageDisabled",value:function(){return this._localStorageDisabled}},{key:"clear",value:function(){this._storage.clear(),this.emit('changed')}},{key:"length",get:function(){return this._storage.length}},{key:"getItem",value:function(t){return this._storage.getItem(t)}},{key:"setItem",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._storage.setItem(t,n),o||this.emit('changed')}},{key:"removeItem",value:function(t){this._storage.removeItem(t),this.emit('changed')}},{key:"key",value:function(t){return this._storage.key(t)}},{key:"serialize",value:function(){if(this.isLocalStorageDisabled())return this._storage.serialize();for(var t=this._storage.length,n={},o=0;o<t;o++){var l=this._storage.key(o);n[l]=this._storage.getItem(l)}return JSON.stringify(n)}}]),s})(f.default));e.jitsiLocalStorage=_},579,[2,12,13,23,20,22,19,558]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t={loadScript:function(t,o,s,c,p,f){var l=document,u=l.createElement("script"),v=l.getElementsByTagName("script")[0];if(u.async=o,c){var N=n();if(N){var x=N.src,y=x.substring(0,x.lastIndexOf('/')+1);x&&y&&(t=y+t)}}p&&(u.onload=p),f&&(u.onerror=f),u.src=t,s?v.parentNode.insertBefore(u,v):v.parentNode.appendChild(u)}};m.exports=t},580,[581]);
__d(function(g,r,i,a,m,e,d){var t,n;t=this||window,n=function(){var t=/^(interactive|loaded|complete)$/,n=window.location?window.location.href:null,c=n&&n.replace(/#.*$/,"").replace(/\?.*$/,"")||null,o=document.getElementsByTagName("script"),l="readyState"in(o[0]||document.createElement("script")),u=!window.opera||"[object Opera]"!==window.opera.toString(),f="currentScript"in document;"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error.stackTraceLimit,Error.stackTraceLimit=1/0);var s=!1,p=!1;function h(t,n){var c,l=null;if(n=n||o,"string"==typeof t&&t)for(c=n.length;c--;)if(n[c].src===t){l=n[c];break}return l}function k(t){var n,c,l=null;for(n=0,c=(t=t||o).length;n<c;n++)if(!t[n].hasAttribute("src")){if(l){l=null;break}l=t[n]}return l}function b(t,n){var c,o=null,l="number"==typeof n;return n=l?Math.round(n):0,"string"==typeof t&&t&&(l?c=t.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(c=t.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&c[1]||(c=t.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)),c&&c[1]&&(o=n>0?b(t.slice(t.indexOf(c[0])+c[0].length),n-1):c[1])),o}function v(){if(0===o.length)return null;var n,w,y,E,S,x=[],j=v.skipStackDepth||1;for(n=0;n<o.length;n++)u&&l?t.test(o[n].readyState)&&x.push(o[n]):x.push(o[n]);if(w=new Error,s&&(y=w.stack),!y&&p)try{throw w}catch(t){y=t.stack}if(y&&!(S=h(E=b(y,j),x))&&c&&E===c&&(S=k(x)),S||1===x.length&&(S=x[0]),S||f&&(S=document.currentScript),!S&&u&&l)for(n=x.length;n--;)if("interactive"===x[n].readyState){S=x[n];break}return S||(S=x[x.length-1]||null),S}!(function(){try{var t=new Error;throw s="string"==typeof t.stack&&!!t.stack,t}catch(t){p="string"==typeof t.stack&&!!t.stack}})(),v.skipStackDepth=1;var w=v;return w.near=v,w.far=function(){return null},w.origin=function(){return null},w},"function"==typeof define&&define.amd?define([],n):"object"==typeof e?m.exports=n():t.currentExecutingScript=n()},581,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),c=t(r(d[3])),o=r(d[4]),u=r(d[5]),h=t(r(d[6])),l=(0,o.getLogger)(__filename),f=new((function(){function t(){(0,s.default)(this,t),this.reset()}return(0,c.default)(t,[{key:"reset",value:function(){this.disposed=!1,this.analyticsHandlers=new Set,this.cache=[],this.permanentProperties={},this.conferenceName='',this.addPermanentProperties({user_agent:navigator.userAgent,browser_name:h.default.getName()})}},{key:"dispose",value:function(){l.warn('Disposing of analytics adapter.'),this.analyticsHandlers&&this.analyticsHandlers.size>0&&this.analyticsHandlers.forEach(function(t){'function'==typeof t.dispose&&t.dispose()}),this.setAnalyticsHandlers([]),this.disposed=!0}},{key:"setAnalyticsHandlers",value:function(t){var n=this;if(!this.disposed){this.analyticsHandlers=new Set(t),this._setUserProperties();var s=this.cache;this.cache=null,s&&s.forEach(function(t){return n._sendEvent(t)})}}},{key:"_setUserProperties",value:function(){var t=this;this.analyticsHandlers.forEach(function(n){try{n.setUserProperties(t.permanentProperties)}catch(t){l.warn("Error in setUserProperties method of one of the analytics handlers: "+t)}})}},{key:"addPermanentProperties",value:function(t){this.permanentProperties=(0,n.default)((0,n.default)({},this.permanentProperties),t),this._setUserProperties()}},{key:"setConferenceName",value:function(t){this.conferenceName=t,this.addPermanentProperties({conference_name:t})}},{key:"sendEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disposed){var s=null;'string'==typeof t?s={type:u.TYPE_OPERATIONAL,action:t,actionSubject:t,source:t,attributes:n}:'object'==typeof t&&(s=t),this._verifyRequiredFields(s)?this._sendEvent(s):l.error("Dropping a mis-formatted event: "+JSON.stringify(s))}}},{key:"_verifyRequiredFields",value:function(t){if(!t)return!1;t.type||(t.type=u.TYPE_OPERATIONAL);var n=t.type;return n!==u.TYPE_OPERATIONAL&&n!==u.TYPE_PAGE&&n!==u.TYPE_UI&&n!==u.TYPE_TRACK?(l.error("Unknown event type: "+n),!1):n===u.TYPE_PAGE?Boolean(t.name):(t.action=t.action||t.name||t.actionSubject,t.actionSubject=t.actionSubject||t.name||t.action,t.source=t.source||t.name||t.action||t.actionSubject,t.action&&t.actionSubject&&t.source?!!(n!==u.TYPE_TRACK||(t.objectType=t.objectType||'generic-object-type',t.containerType=t.containerType||'conference','conference'!==t.containerType||t.containerId||(t.containerId=this.conferenceName),t.objectType&&t.objectId&&t.containerType&&t.containerId))||(l.error("Required field missing (containerId, containerType, objectId or objectType)"),!1):(l.error('Required field missing (action, actionSubject or source)'),!1))}},{key:"_maybeCacheEvent",value:function(t){return!!this.cache&&(this.cache.push(t),this.cache.length>100&&this.cache.splice(0,1),!0)}},{key:"_sendEvent",value:function(t){this._maybeCacheEvent(t)||this.analyticsHandlers.forEach(function(n){try{n.sendEvent(t)}catch(t){l.warn("Error sending analytics event: "+t)}})}}]),t})());e.default=f},582,[2,32,12,13,435,566,568]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),s=t(r(d[4])),l=t(r(d[5]));function u(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=f(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,n){if(t){if("string"==typeof t)return p(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}var v,b=r(d[6]).getLogger(__filename),h='createOffer',k='createAnswer',y='setLocalDescription',I='setRemoteDescription',E='addIceCandidate',D='getUserMedia',S='iceConnectionFailure',_='applicationLog',F='fabricHold',w='fabricResume',C='audioMute',N='audioUnmute',U='videoPause',A='videoResume',z='screenShareStart',M='screenShareStop',L='dominantSpeaker',R='activeDeviceList',Q='jitsi',W='error',H='event',O='mstWithUserID',T=(function(){function t(n,c){(0,o.default)(this,t),this.confID=c.confID,this.tpc=n,this.peerconnection=n.peerconnection,this.remoteUserID=c.remoteUserID||Q,this.hasFabric=!1,t.fabrics.add(this),t.backendInitialized&&(this._addNewFabric(),1===t.fabrics.size&&t._emptyReportQueue(this))}return(0,c.default)(t,[{key:"_addNewFabric",value:function(){b.info('addNewFabric',this.remoteUserID);try{var n={remoteEndpointType:this.tpc.isP2P?t.backend.endpointType.peer:t.backend.endpointType.server},o=t.backend.addNewFabric(this.peerconnection,this.remoteUserID,t.backend.fabricUsage.multiplex,this.confID,n,t._addNewFabricCallback);this.hasFabric=!0;var c='success'===o.status;return c||b.error('callstats fabric not initilized',o.message),c}catch(t){return l.default.callErrorHandler(t),!1}}},{key:"associateStreamWithVideoTag",value:function(n,o,c,s,l){if(t.backend){var u=o?t.userID:c;t.backendInitialized?t.backend.associateMstWithUserID(this.peerconnection,u,this.confID,n,s,l):t.reportsQueue.push({type:O,pc:this.peerconnection,data:{callStatsId:u,containerId:l,ssrc:n,usageLabel:s}})}}},{key:"sendDominantSpeakerEvent",value:function(){t._reportEvent(this,L)}},{key:"sendTerminateEvent",value:function(){t.backendInitialized&&t.backend.sendFabricEvent(this.peerconnection,t.backend.fabricEvent.fabricTerminated,this.confID),t.fabrics.delete(this)}},{key:"sendIceConnectionFailedEvent",value:function(){t._reportError(this,S,null,this.peerconnection)}},{key:"sendCreateOfferFailed",value:function(n){t._reportError(this,h,n,this.peerconnection)}},{key:"sendCreateAnswerFailed",value:function(n){t._reportError(this,k,n,this.peerconnection)}},{key:"sendResumeOrHoldEvent",value:function(n){t._reportEvent(this,n?w:F)}},{key:"sendScreenSharingEvent",value:function(n,o){var c;o&&(c={ssrc:o}),t._reportEvent(this,n?z:M,c)}},{key:"sendSetLocalDescFailed",value:function(n){t._reportError(this,y,n,this.peerconnection)}},{key:"sendSetRemoteDescFailed",value:function(n){t._reportError(this,I,n,this.peerconnection)}},{key:"sendAddIceCandidateFailed",value:function(n){t._reportError(this,E,n,this.peerconnection)}}],[{key:"_addNewFabricCallback",value:function(n,o){t.backend&&'success'!==n&&b.error("Monitoring status: "+n+" msg: "+o)}},{key:"_initCallback",value:function(n,o){if(b.log("CallStats Status: err="+n+" msg="+o),'success'===n){t.backendInitialized=!0;for(var c,s=!1,l=null,f=u(t.fabrics.values());!(c=f()).done;){var p=c.value;p.hasFabric||(b.debug('addNewFabric - initCallback'),p._addNewFabric()&&(s=!0,l||(l=p)))}s&&t._emptyReportQueue(l)}}},{key:"_emptyReportQueue",value:function(n){for(var o,c=n.confID,s=n.peerconnection,l=u(t.reportsQueue);!(o=l()).done;){var f=o.value;if(f.type===W){var p=f.data;t._reportError(n,p.type,p.error,p.pc||s)}else if(f.type===H){var v=f.data;t.backend.sendFabricEvent(f.pc||s,v.event,c,v.eventData)}else if(f.type===O){var b=f.data;t.backend.associateMstWithUserID(f.pc||s,b.callStatsId,c,b.ssrc,b.usageLabel,b.containerId)}}t.reportsQueue.length=0}},{key:"_reportError",value:function(n,o,c,s){var l=c;l||(b.warn('No error is passed!'),l=new Error('Unknown error')),t.backendInitialized&&n?t.backend.reportError(s,n.confID,o,l):t.reportsQueue.push({type:W,data:{error:l,pc:s,type:o}})}},{key:"_reportEvent",value:function(n,o,c){var s=n&&n.peerconnection,l=n&&n.confID;t.backendInitialized&&n?t.backend.sendFabricEvent(s,o,l,c):t.reportsQueue.push({confID:l,pc:s,type:H,data:{event:o,eventData:c}})}},{key:"_traceAndCatchBackendCalls",value:function(t){for(var n=function(){var n=t[u];t[u]=function(){try{for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return n.apply(t,c)}catch(t){l.default.callErrorHandler(t)}}},o=0,c=['associateMstWithUserID','sendFabricEvent','sendUserFeedback'];o<c.length;o++){var u=c[o];n()}for(var f=function(n){var o=t[n];t[n]=function(){for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];b.debug(n,s),o.apply(t,s)}},p=0,v=['associateMstWithUserID','sendFabricEvent','sendUserFeedback'];p<v.length;p++){f(v[p])}var h=t.reportError;t.reportError=function(n,o,c){for(var u=arguments.length,f=new Array(u>3?u-3:0),p=3;p<u;p++)f[p-3]=arguments[p];c===_?s.default.isReactNative()||console&&console.debug('reportError',n,o,c):b.debug.apply(b,['reportError',n,o,c].concat(f));try{h.call.apply(h,[t,n,o,c].concat(f))}catch(t){c===_?console&&console.error('reportError',t):l.default.callErrorHandler(t)}}}},{key:"fabrics",get:function(){return v||(v=new Set),v}},{key:"initBackend",value:function(o){if(t.backend)throw new Error('CallStats backend has been initialized already!');try{var c=callstats;t.backend=new c,t._traceAndCatchBackendCalls(t.backend),t.userID={aliasName:o.aliasName,userName:o.userName},t.callStatsID=o.callStatsID,t.callStatsSecret=o.callStatsSecret;var u=(0,n.default)({},o.configParams);if(o.applicationName&&(u.applicationVersion=o.applicationName+" ("+s.default.getName()+")"),o.confID){var f=o.confID.match(/.*\/(.*)\/.*/);u.siteID=o.siteID||f&&f[1]||'/'}t.backend.initialize(t.callStatsID,t.callStatsSecret,t.userID,t._initCallback,void 0,u);var p=o.getWiFiStatsMethod;return p&&(t.backend.attachWifiStatsHandler(p),p().then(function(t){t&&b.info('Reported wifi addresses:',JSON.parse(t).addresses)}).catch(function(){})),!0}catch(n){return l.default.callErrorHandler(n),t.backend=null,b.error(n),!1}}},{key:"isBackendInitialized",value:function(){return Boolean(t.backend)}},{key:"sendActiveDeviceListEvent",value:function(n,o){t._reportEvent(o,R,n)}},{key:"sendApplicationLog",value:function(n,o){try{t._reportError(o,_,n,o&&o.peerconnection)}catch(t){console&&'function'==typeof console.error&&console.error('sendApplicationLog failed',t)}}},{key:"sendFeedback",value:function(n,o,c){return new Promise(function(s,l){if(t.backend)t.backend.sendUserFeedback(n,{userID:t.userID,overall:o,comment:c},function(t,n){'success'===t?s(n):l(n)});else{var u='Failed to submit feedback to CallStats - no backend';b.error(u),l(u)}})}},{key:"sendGetUserMediaFailed",value:function(n,o){t._reportError(o,D,n,null)}},{key:"sendMuteEvent",value:function(n,o,c){var s;s='video'===o?n?U:A:n?C:N,t._reportEvent(c,s)}}]),t})();e.default=T,T.backend=null,T.reportsQueue=[],T.backendInitialized=!1,T.callStatsID=null,T.callStatsSecret=null,T.userID=null},583,[2,32,12,13,568,584,435]);
__d(function(g,r,i,a,m,e,d){var n=[],o=window.onerror;var l=window.onunhandledrejection;window.onerror=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];n.forEach(function(n){return n.apply(void 0,u)}),o&&o.apply(void 0,u)},window.onunhandledrejection=function(o){n.forEach(function(n){return n(null,null,null,null,o.reason)}),l&&l(o)};var u={addHandler:function(o){n.push(o)},callErrorHandler:function(n){var o=window.onerror;o&&o(null,null,null,null,n)},callUnhandledRejectionHandler:function(n){var o=window.onunhandledrejection;o&&o(n)}};m.exports=u},584,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;window.AudioContext=window.AudioContext||window.webkitAudioContext;var t=null;function n(t){for(var n=0,o=t.length,l=0;l<o;l++)n<t[l]&&(n=t[l]);return parseFloat(((n-127)/128).toFixed(3))}function o(t,n,o){this.stream=t,this.intervalId=null,this.intervalMilis=n,this.audioLevel=0,this.callback=o}window.AudioContext&&(t=new AudioContext).suspend&&t.suspend(),o.prototype.start=function(){var l=this;if(o.isLocalStatsSupported()){t.resume();var s=t.createAnalyser();s.smoothingTimeConstant=.8,s.fftSize=2048,t.createMediaStreamSource(this.stream).connect(s),this.intervalId=setInterval(function(){var t=new Uint8Array(s.frequencyBinCount);s.getByteTimeDomainData(t);var o,u,c,v,f=n(t);l.audioLevel=(o=f,u=l.audioLevel,c=0,c=(v=u-o)>.2?u-.2:v<-.4?u+.4:o,parseFloat(c.toFixed(3))),l.callback(l.audioLevel)},this.intervalMilis)}},o.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},o.isLocalStatsSupported=function(){return Boolean(t)}},585,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceObserverStats=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var s={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var v=l?Object.getOwnPropertyDescriptor(t,u):null;v&&(v.get||v.set)?Object.defineProperty(s,u,v):s[u]=t[u]}s.default=t,o&&o.set(t,s);return s})(r(d[4])),u=r(d[5]);function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(f=function(t){return t?o:n})(t)}function v(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=c(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,n){if(t){if("string"==typeof t)return p(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var h=(0,s.getLogger)(__filename),b=(function(){function t(o,s){(0,n.default)(this,t),this.eventEmitter=o,this.longTasks=0,this.maxDuration=0,this.performanceStatsInterval=s,this.stats=new u.RunningAverage}return(0,o.default)(t,[{key:"getLongTasksStats",value:function(){return{avgRatePerMinute:(60*this.stats.getAverage()).toFixed(2),maxDurationMs:this.maxDuration}}},{key:"startObserver",value:function(){var t=this;this.longTaskEventHandler=function(n){for(var o,s=v(n.getEntries());!(o=s()).done;){var l=o.value;t.longTasks++,t.maxDuration=Math.max(t.maxDuration,l.duration).toFixed(3)}},h.info('Creating a Performance Observer for monitoring Long Tasks'),this.observer=new PerformanceObserver(this.longTaskEventHandler),this.observer.observe({type:'longtask',buffered:!0});var n=Date.now();this.longTasksIntervalId=setInterval(function(){var o=Date.now(),s=t._lastTimeStamp?(o-t._lastTimeStamp)/1e3:(o-n)/1e3,u=t.longTasks/s;t.stats.addNext(u),t.eventEmitter.emit(l.LONG_TASKS_STATS,t.getLongTasksStats()),t.longTasks=0,t._lastTimeStamp=Date.now()},this.performanceStatsInterval)}},{key:"stopObserver",value:function(){this.observer&&this.observer.disconnect(),this.longTaskEventHandler=null,this.longTasksIntervalId&&(clearInterval(this.longTasksIntervalId),this.longTasksIntervalId=null)}}]),t})();e.PerformanceObserverStats=b},586,[2,12,13,435,567,587]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RunningAverage=void 0,e.calculateAverage=function(n){return n.length>0?n.reduce(function(n,t){return n+t})/n.length:0},e.filterPositiveValues=function(n){return n.filter(function(n){return n>=0})},e.hashString=function(n){for(var t=0,u=0;u<n.length;u++)t+=Math.pow(31*n.charCodeAt(u),n.length-u),t&=t;return Math.abs(t)},e.safeCounterIncrement=function(n){var t=n;n>=Number.MAX_SAFE_INTEGER&&(t=0);return t+1};var t=n(r(d[1])),u=n(r(d[2]));var o=(function(){function n(){(0,t.default)(this,n),this.average=0,this.n=0}return(0,u.default)(n,[{key:"addNext",value:function(n){'number'==typeof n&&(this.n+=1,this.average=this.average+(n-this.average)/this.n)}},{key:"getAverage",value:function(){return this.average}}]),n})();e.RunningAverage=o},587,[2,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=L;var o=t(r(d[1])),n=r(d[2]),s=r(d[3]),c=(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(o);if(n&&n.has(t))return n.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var u=c?Object.getOwnPropertyDescriptor(t,l):null;u&&(u.get||u.set)?Object.defineProperty(s,l,u):s[l]=t[l]}s.default=t,n&&n.set(t,s);return s})(r(d[4])),l=t(r(d[5])),u=t(r(d[6]));function p(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:o})(t)}function f(t,o){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=v(t))||o&&t&&"number"==typeof t.length){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,o){if(t){if("string"==typeof t)return h(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,o):void 0}}function h(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,s=new Array(o);n<o;n++)s[n]=t[n];return s}var y=r(d[7]),S=(0,n.getLogger)(__filename);function b(t,o){return!o||o<=0||!t||t<=0?0:Math.round(t/o*100)}function w(){this.loss={},this.bitrate={download:0,upload:0},this.resolution={},this.framerate=0,this.codec=''}function I(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function L(t,o,n,s){this.peerconnection=t,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.previousStatsReport=null,this.audioLevelReportHistory={},this.audioLevelsIntervalId=null,this.eventEmitter=s,this.conferenceStats=new I,this.audioLevelsIntervalMilis=o,this.speakerList=[],this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats=new Map}w.prototype.setLoss=function(t){this.loss=t||{}},w.prototype.setResolution=function(t){this.resolution=t||{}},w.prototype.addBitrate=function(t){this.bitrate.download+=t.download,this.bitrate.upload+=t.upload},w.prototype.resetBitrate=function(){this.bitrate.download=0,this.bitrate.upload=0},w.prototype.setFramerate=function(t){this.framerate=t||0},w.prototype.setCodec=function(t){this.codec=t||''},L.prototype.setSpeakerList=function(t){this.speakerList=t},L.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null)},L.prototype.errorCallback=function(t){y.callErrorHandler(t),S.error('Get stats error',t),this.stop()},L.prototype.start=function(t){var o=this;t&&(l.default.supportsReceiverStats()&&S.info('Using RTCRtpSynchronizationSource for remote audio levels'),this.audioLevelsIntervalId=setInterval(function(){if(l.default.supportsReceiverStats()){var t=o.peerconnection.getAudioLevels(o.speakerList);for(var n in t)if(t.hasOwnProperty(n)){var s=2.5*t[n];o.eventEmitter.emit(c.AUDIO_LEVEL,o.peerconnection,Number.parseInt(n,10),s,!1)}}else o.peerconnection.getStats().then(function(t){o.currentAudioLevelsReport='function'==typeof(null===t||void 0===t?void 0:t.result)?t.result():t,o.processAudioLevelReport(),o.baselineAudioLevelsReport=o.currentAudioLevelsReport}).catch(function(t){return o.errorCallback(t)})},this.audioLevelsIntervalMilis));var n=function(){o.peerconnection.getStats().then(function(t){o.currentStatsReport='function'==typeof(null===t||void 0===t?void 0:t.result)?t.result():t;try{o.processStatsReport()}catch(t){y.callErrorHandler(t),S.error('Processing of RTP stats failed:',t)}o.previousStatsReport=o.currentStatsReport}).catch(function(t){return o.errorCallback(t)})};n(),this.statsIntervalId=setInterval(n,this.statsIntervalMilis)},L.prototype._processAndEmitReport=function(){for(var t,n,s,l=this,p={download:0,upload:0},v={download:0,upload:0},h=0,y=0,w={},I={},L={},R=0,k=0,T=0,N=0,A=f(this.ssrc2stats);!(s=A()).done;){var M=s.value,E=(0,o.default)(M,2),O=E[0],C=E[1],_=C.loss,B=_.isDownloadStream?'download':'upload';p[B]+=_.packetsTotal,v[B]+=_.packetsLost,h+=C.bitrate.download,y+=C.bitrate.upload;var P=this.peerconnection.getTrackBySSRC(O);if(P)if(P.isAudioTrack()?(R+=C.bitrate.download,k+=C.bitrate.upload,t=C.codec):(T+=C.bitrate.download,N+=C.bitrate.upload,n=C.codec),u.default.isSourceNameSignalingEnabled()){var V=P.getSourceName();if(V){var j=C.resolution;if(j.width&&j.height&&-1!==j.width&&-1!==j.height&&(w[V]=j),0!==C.framerate&&(I[V]=C.framerate),t&&n){var D={audio:t,video:n};L[V]=D}}else S.error("No source name returned by "+P)}else{var H=P.getParticipantId();if(H){var x=C.resolution;if(x.width&&x.height&&-1!==x.width&&-1!==x.height){var U=w[H]||{};U[O]=x,w[H]=U}if(0!==C.framerate){var W=I[H]||{};W[O]=C.framerate,I[H]=W}if(t&&n){var F={audio:t,video:n},z=L[H]||{};z[O]=F,L[H]=z}}else S.error("No participant ID returned by "+P)}C.resetBitrate()}this.conferenceStats.bitrate={upload:y,download:h},this.conferenceStats.bitrate.audio={upload:k,download:R},this.conferenceStats.bitrate.video={upload:N,download:T},this.conferenceStats.packetLoss={total:b(v.download+v.upload,p.download+p.upload),download:b(v.download,p.download),upload:b(v.upload,p.upload)};var G,Y={};Object.keys(this.audioLevelReportHistory).forEach(function(t){var o=l.audioLevelReportHistory[t],n=o.data,s=o.isLocal,c=n.reduce(function(t,o){return t+o})/n.length;if(s)G=c;else{var u=l.peerconnection.getTrackBySSRC(Number(t));if(u){var p=u.getParticipantId();p&&(Y[p]=c)}}}),this.audioLevelReportHistory={},this.eventEmitter.emit(c.CONNECTION_STATS,this.peerconnection,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:w,framerate:I,codec:L,transport:this.conferenceStats.transport,localAvgAudioLevels:G,avgAudioLevels:Y}),this.conferenceStats.transport=[]},L.prototype.getNonNegativeValue=function(t){var o=t;return'number'!=typeof o&&(o=Number(o)),isNaN(o)?0:Math.max(0,o)},L.prototype._calculateBitrate=function(t,o,n){var s=this.getNonNegativeValue(t[n]),c=this.getNonNegativeValue(o[n]),l=Math.max(0,s-c),u=t.timestamp-o.timestamp,p=0;return u>0&&(p=Math.round(8*l/u)),p},L.prototype.processStatsReport=function(){var t=this;if(this.previousStatsReport){var o={};this.currentStatsReport.forEach(function(n){if('candidate-pair'===n.type&&n.nominated&&'succeeded'===n.state){var c=n.availableIncomingBitrate,u=n.availableOutgoingBitrate;(c||u)&&(t.conferenceStats.bandwidth={download:Math.round(c/1e3),upload:Math.round(u/1e3)});var p=t.currentStatsReport.get(n.remoteCandidateId),f=t.currentStatsReport.get(n.localCandidateId);if(p&&f){var v=(l.default.isChromiumBased()?p.ip:p.address)+":"+p.port,h=(l.default.isChromiumBased()?f.ip:f.address)+":"+f.port,y=p.protocol,S=t.conferenceStats.transport;S.some(function(t){return t.ip===v&&t.type===y&&t.localip===h})||S.push({ip:v,type:y,localip:h,p2p:t.peerconnection.isP2P,localCandidateType:f.candidateType,remoteCandidateType:p.candidateType,networkType:f.networkType,rtt:1e3*n.currentRoundTripTime})}}else if('inbound-rtp'===n.type||'outbound-rtp'===n.type){var b=t.previousStatsReport.get(n.id),I=t.getNonNegativeValue(n.ssrc);if(!b||!I)return;var L=t.ssrc2stats.get(I);L||(L=new w,t.ssrc2stats.set(I,L));var R=!0,k='packetsReceived';'outbound-rtp'===n.type&&(R=!1,k='packetsSent');var T=n[k];(!T||T<0)&&(T=0);var N=t.getNonNegativeValue(b[k]),A=Math.max(0,T-N),M=t.getNonNegativeValue(n.packetsLost),E=t.getNonNegativeValue(b.packetsLost),O=Math.max(0,M-E);if(L.setLoss({packetsTotal:A+O,packetsLost:O,isDownloadStream:R}),'inbound-rtp'===n.type){var C={height:n.frameHeight,width:n.frameWidth},_=n.framesPerSecond;C.height&&C.width&&L.setResolution(C),L.setFramerate(Math.round(_||0)),L.addBitrate({download:t._calculateBitrate(n,b,'bytesReceived'),upload:0})}else o[I]=t.getNonNegativeValue(n.bytesSent),L.addBitrate({download:0,upload:t._calculateBitrate(n,b,'bytesSent')});var B=t.currentStatsReport.get(n.codecId);if(B){var P=B.mimeType.split('/')[1];P&&L.setCodec(P)}}else if('track'===n.type&&n.kind===s.MediaType.VIDEO&&!n.remoteSource){var V={height:n.frameHeight,width:n.frameWidth},j=t.peerconnection.getLocalTracks(s.MediaType.VIDEO);if(!(null===j||void 0===j?void 0:j.length))return;var D=t.peerconnection.getSsrcByTrackId(n.trackIdentifier);if(!D)return;var H=t.ssrc2stats.get(D);H||(H=new w,t.ssrc2stats.set(D,H)),V.height&&V.width&&H.setResolution(V);var x=n.framesPerSecond;if(!x){var U=t.previousStatsReport.get(n.id);if(U){var W=n.timestamp-U.timestamp;if(W>0&&n.framesSent)x=(n.framesSent-U.framesSent)/W*1e3}if(!x)return}var F=t.peerconnection.getActiveSimulcastStreams();x=F?Math.round(x/F):0,H.setFramerate(x)}}),this.eventEmitter.emit(c.BYTE_SENT_STATS,this.peerconnection,o),this._processAndEmitReport()}},L.prototype.processAudioLevelReport=function(){var t=this;this.baselineAudioLevelsReport&&this.currentAudioLevelsReport.forEach(function(o){if('track'===o.type){var n=o.audioLevel;if(n){var l=o.trackIdentifier,u=t.peerconnection.getSsrcByTrackId(l);if(u){var p=u===t.peerconnection.getLocalSSRC(t.peerconnection.getLocalTracks(s.MediaType.AUDIO));t.eventEmitter.emit(c.AUDIO_LEVEL,t.peerconnection,u,n,p)}}}})}},588,[2,33,435,589,567,568,590,584]);
__d(function(g,r,i,a,m,e,d){var o;Object.defineProperty(e,"__esModule",{value:!0}),e.MediaType=void 0,e.MediaType=o,(function(o){o.AUDIO="audio",o.PRESENTER="presenter",o.VIDEO="video"})(o||(e.MediaType=o={}))},589,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),s=n(r(d[2])),u=r(d[3]),l=n(r(d[4])),o=(0,u.getLogger)('FeatureFlags'),f=new((function(){function n(){(0,t.default)(this,n)}return(0,s.default)(n,[{key:"init",value:function(n){var t;this._runInLiteMode=Boolean(n.runInLiteMode),this._sourceNameSignaling=Boolean(n.sourceNameSignaling),this._sendMultipleVideoStreams=Boolean(n.sendMultipleVideoStreams),this._ssrcRewriting=Boolean(n.ssrcRewritingOnBridgeSupported),this._usesUnifiedPlan=l.default.supportsUnifiedPlan()&&(!l.default.isChromiumBased()||null===(t=n.enableUnifiedOnChrome)||void 0===t||t),o.info("Source name signaling: "+this._sourceNameSignaling+", Send multiple video streams: "+this._sendMultipleVideoStreams+", SSRC rewriting supported: "+this._ssrcRewriting+", uses Unified plan: "+this._usesUnifiedPlan)}},{key:"isMultiStreamSupportEnabled",value:function(){return this._sourceNameSignaling&&this._sendMultipleVideoStreams&&this._usesUnifiedPlan}},{key:"isRunInLiteModeEnabled",value:function(){return this._runInLiteMode}},{key:"isSourceNameSignalingEnabled",value:function(){return this._sourceNameSignaling}},{key:"isSsrcRewritingSupported",value:function(){return this._ssrcRewriting}}]),n})());e.default=f},590,[2,12,13,435,568]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.LOCAL_JID=void 0;e.LOCAL_JID='local'},591,[]);
__d(function(g,r,i,a,m,e,d){function t(t,n){if(!t||!n||'function'!=typeof t.addListener||'function'!=typeof n.emit)throw new Error('Invalid arguments passed to EventEmitterForwarder');this.src=t,this.dest=n}t.prototype.forward=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var s=n[0];n[0]=this.dest,this.src.addListener(s,Function.prototype.bind.apply(this.dest.emit,n))},m.exports=t},592,[]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TRACK_ATTACHED=e.SET_REMOTE_DESCRIPTION_FAILED=e.SET_LOCAL_DESCRIPTION_FAILED=e.SENDER_VIDEO_CONSTRAINTS_CHANGED=e.RTCEvents=e.REMOTE_UFRAG_CHANGED=e.REMOTE_TRACK_UNMUTE=e.REMOTE_TRACK_REMOVED=e.REMOTE_TRACK_MUTE=e.REMOTE_TRACK_ADDED=e.PERMISSIONS_CHANGED=e.LOCAL_UFRAG_CHANGED=e.LOCAL_TRACK_SSRC_UPDATED=e.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED=e.LASTN_VALUE_CHANGED=e.LASTN_ENDPOINT_CHANGED=e.FORWARDED_SOURCES_CHANGED=e.ENDPOINT_STATS_RECEIVED=e.ENDPOINT_MESSAGE_RECEIVED=e.ENDPOINT_CONN_STATUS_CHANGED=e.DOMINANT_SPEAKER_CHANGED=e.DEVICE_LIST_WILL_CHANGE=e.DEVICE_LIST_CHANGED=e.DEVICE_LIST_AVAILABLE=e.DATA_CHANNEL_OPEN=e.CREATE_OFFER_FAILED=e.CREATE_ANSWER_FAILED=e.AUDIO_OUTPUT_DEVICE_CHANGED=void 0,e.RTCEvents=E,(function(E){E.CREATE_ANSWER_FAILED="rtc.create_answer_failed",E.CREATE_OFFER_FAILED="rtc.create_offer_failed",E.DATA_CHANNEL_OPEN="rtc.data_channel_open",E.ENDPOINT_CONN_STATUS_CHANGED="rtc.endpoint_conn_status_changed",E.DOMINANT_SPEAKER_CHANGED="rtc.dominant_speaker_changed",E.LASTN_ENDPOINT_CHANGED="rtc.lastn_endpoint_changed",E.FORWARDED_SOURCES_CHANGED="rtc.forwarded_sources_changed",E.PERMISSIONS_CHANGED="rtc.permissions_changed",E.SENDER_VIDEO_CONSTRAINTS_CHANGED="rtc.sender_video_constraints_changed",E.LASTN_VALUE_CHANGED="rtc.lastn_value_changed",E.LOCAL_TRACK_SSRC_UPDATED="rtc.local_track_ssrc_updated",E.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED="rtc.local_track_max_enabled_resolution_changed",E.TRACK_ATTACHED="rtc.track_attached",E.REMOTE_TRACK_ADDED="rtc.remote_track_added",E.REMOTE_TRACK_MUTE="rtc.remote_track_mute",E.REMOTE_TRACK_REMOVED="rtc.remote_track_removed",E.REMOTE_TRACK_UNMUTE="rtc.remote_track_unmute",E.SET_LOCAL_DESCRIPTION_FAILED="rtc.set_local_description_failed",E.SET_REMOTE_DESCRIPTION_FAILED="rtc.set_remote_description_failed",E.AUDIO_OUTPUT_DEVICE_CHANGED="rtc.audio_output_device_changed",E.DEVICE_LIST_CHANGED="rtc.device_list_changed",E.DEVICE_LIST_WILL_CHANGE="rtc.device_list_will_change",E.DEVICE_LIST_AVAILABLE="rtc.device_list_available",E.ENDPOINT_MESSAGE_RECEIVED="rtc.endpoint_message_received",E.ENDPOINT_STATS_RECEIVED="rtc.endpoint_stats_received",E.LOCAL_UFRAG_CHANGED="rtc.local_ufrag_changed",E.REMOTE_UFRAG_CHANGED="rtc.remote_ufrag_changed"})(E||(e.RTCEvents=E={}));var _=E.CREATE_ANSWER_FAILED;e.CREATE_ANSWER_FAILED=_;var A=E.CREATE_OFFER_FAILED;e.CREATE_OFFER_FAILED=A;var T=E.DATA_CHANNEL_OPEN;e.DATA_CHANNEL_OPEN=T;var D=E.ENDPOINT_CONN_STATUS_CHANGED;e.ENDPOINT_CONN_STATUS_CHANGED=D;var C=E.DOMINANT_SPEAKER_CHANGED;e.DOMINANT_SPEAKER_CHANGED=C;var N=E.LASTN_ENDPOINT_CHANGED;e.LASTN_ENDPOINT_CHANGED=N;var R=E.FORWARDED_SOURCES_CHANGED;e.FORWARDED_SOURCES_CHANGED=R;var O=E.PERMISSIONS_CHANGED;e.PERMISSIONS_CHANGED=O;var I=E.SENDER_VIDEO_CONSTRAINTS_CHANGED;e.SENDER_VIDEO_CONSTRAINTS_CHANGED=I;var S=E.LASTN_VALUE_CHANGED;e.LASTN_VALUE_CHANGED=S;var L=E.LOCAL_TRACK_SSRC_UPDATED;e.LOCAL_TRACK_SSRC_UPDATED=L;var t=E.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED;e.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED=t;var c=E.TRACK_ATTACHED;e.TRACK_ATTACHED=c;var G=E.REMOTE_TRACK_ADDED;e.REMOTE_TRACK_ADDED=G;var H=E.REMOTE_TRACK_MUTE;e.REMOTE_TRACK_MUTE=H;var M=E.REMOTE_TRACK_REMOVED;e.REMOTE_TRACK_REMOVED=M;var U=E.REMOTE_TRACK_UNMUTE;e.REMOTE_TRACK_UNMUTE=U;var n=E.SET_LOCAL_DESCRIPTION_FAILED;e.SET_LOCAL_DESCRIPTION_FAILED=n;var P=E.SET_REMOTE_DESCRIPTION_FAILED;e.SET_REMOTE_DESCRIPTION_FAILED=P;var v=E.AUDIO_OUTPUT_DEVICE_CHANGED;e.AUDIO_OUTPUT_DEVICE_CHANGED=v;var V=E.DEVICE_LIST_CHANGED;e.DEVICE_LIST_CHANGED=V;var F=E.DEVICE_LIST_WILL_CHANGE;e.DEVICE_LIST_WILL_CHANGE=F;var o=E.DEVICE_LIST_AVAILABLE;e.DEVICE_LIST_AVAILABLE=o;var s=E.ENDPOINT_MESSAGE_RECEIVED;e.ENDPOINT_MESSAGE_RECEIVED=s;var K=E.ENDPOINT_STATS_RECEIVED;e.ENDPOINT_STATS_RECEIVED=K;var l=E.LOCAL_UFRAG_CHANGED;e.LOCAL_UFRAG_CHANGED=l;var u=E.REMOTE_UFRAG_CHANGED;e.REMOTE_UFRAG_CHANGED=u;var h=E;e.default=h},593,[]);
__d(function(g,r,i,a,m,e,d){var o;Object.defineProperty(e,"__esModule",{value:!0}),e.VideoType=void 0,e.VideoType=o,(function(o){o.CAMERA="camera",o.DESKTOP="desktop"})(o||(e.VideoType=o={}))},594,[]);
__d(function(g,r,i,a,m,e,d){m.exports={IDENTITY_UPDATED:'authentication.identity_updated'}},595,[]);
__d(function(g,r,i,a,m,e,d){var _;Object.defineProperty(e,"__esModule",{value:!0}),e.XMPPEvents=void 0,e.XMPPEvents=_,(function(_){_.ADD_ICE_CANDIDATE_FAILED="xmpp.add_ice_candidate_failed",_.AUDIO_MUTED_BY_FOCUS="xmpp.audio_muted_by_focus",_.VIDEO_MUTED_BY_FOCUS="xmpp.video_muted_by_focus",_.AUTHENTICATION_REQUIRED="xmpp.authentication_required",_.BRIDGE_DOWN="xmpp.bridge_down",_.CALL_ACCEPTED="xmpp.callaccepted.jingle",_.CALL_INCOMING="xmpp.callincoming.jingle",_.CALL_ENDED="xmpp.callended.jingle",_.CHAT_ERROR_RECEIVED="xmpp.chat_error_received",_.SETTINGS_ERROR_RECEIVED="xmpp.settings_error_received",_.CONFERENCE_PROPERTIES_CHANGED="xmpp.conference_properties_changed",_.CONNECTION_ESTABLISHED="xmpp.connection.connected",_.CONNECTION_FAILED="xmpp.connection.failed",_.CONNECTION_INTERRUPTED="xmpp.connection.interrupted",_.CONNECTION_RESTORED="xmpp.connection.restored",_.CONNECTION_ICE_FAILED="xmpp.connection.ice.failed",_.CONNECTION_RESTARTED="xmpp.connection.restart",_.CONNECTION_STATUS_CHANGED="xmpp.connection.status.changed",_.DISPLAY_NAME_CHANGED="xmpp.display_name_changed",_.EMUC_ROOM_ADDED="xmpp.emuc_room_added",_.EMUC_ROOM_REMOVED="xmpp.emuc_room_removed",_.ETHERPAD="xmpp.etherpad",_.FOCUS_DISCONNECTED="xmpp.focus_disconnected",_.FOCUS_LEFT="xmpp.focus_left",_.GRACEFUL_SHUTDOWN="xmpp.graceful_shutdown",_.ICE_RESTARTING="rtc.ice_restarting",_.ICE_RESTART_SUCCESS="rtc.ice_restart_success",_.KICKED="xmpp.kicked",_.LOCAL_ROLE_CHANGED="xmpp.localrole_changed",_.MEETING_ID_SET="xmpp.meeting_id_set",_.MESSAGE_RECEIVED="xmpp.message_received",_.INVITE_MESSAGE_RECEIVED="xmpp.invite_message_received",_.PRIVATE_MESSAGE_RECEIVED="xmpp.private_message_received",_.MUC_MEMBER_BOT_TYPE_CHANGED="xmpp.muc_member_bot_type_changed",_.MUC_DESTROYED="xmpp.muc_destroyed",_.MUC_JOIN_IN_PROGRESS="xmpp.muc_join_in_progress",_.MUC_JOINED="xmpp.muc_joined",_.MUC_MEMBER_JOINED="xmpp.muc_member_joined",_.MUC_MEMBER_LEFT="xmpp.muc_member_left",_.MUC_LOBBY_MEMBER_JOINED="xmpp.muc_lobby_member_joined",_.MUC_LOBBY_MEMBER_UPDATED="xmpp.muc_lobby_member_updated",_.MUC_LOBBY_MEMBER_LEFT="xmpp.muc_lobby_member_left",_.MUC_DENIED_ACCESS="xmpp.muc_denied access",_.MUC_LEFT="xmpp.muc_left",_.MUC_ROLE_CHANGED="xmpp.muc_role_changed",_.MUC_LOCK_CHANGED="xmpp.muc_lock_changed",_.MUC_MEMBERS_ONLY_CHANGED="xmpp.muc_members_only_changed",_.PARTICIPANT_AUDIO_MUTED="xmpp.audio_muted",_.PARTICIPANT_VIDEO_MUTED="xmpp.video_muted",_.PARTICIPANT_VIDEO_TYPE_CHANGED="xmpp.video_type",_.PARTICIPANT_FEATURES_CHANGED="xmpp.participant_features_changed",_.PASSWORD_REQUIRED="xmpp.password_required",_.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",_.PRESENCE_RECEIVED="xmpp.presence_received",_.PRESENCE_STATUS="xmpp.presence_status",_.PROMPT_FOR_LOGIN="xmpp.prompt_for_login",_.READY_TO_JOIN="xmpp.ready_to_join",_.RECORDER_STATE_CHANGED="xmpp.recorderStateChanged",_.REMOTE_STATS="xmpp.remote_stats",_.RENEGOTIATION_FAILED="xmpp.renegotiation_failed",_.RESERVATION_ERROR="xmpp.room_reservation_error",_.ROOM_CONNECT_ERROR="xmpp.room_connect_error",_.ROOM_CONNECT_NOT_ALLOWED_ERROR="xmpp.room_connect_error.not_allowed",_.ROOM_JOIN_ERROR="xmpp.room_join_error",_.ROOM_CONNECT_MEMBERS_ONLY_ERROR="xmpp.room_connect_error.members_only",_.ROOM_MAX_USERS_ERROR="xmpp.room_max_users_error",_.SENDING_CHAT_MESSAGE="xmpp.sending_chat_message",_.SENDING_PRIVATE_CHAT_MESSAGE="xmpp.sending_private_chat_message",_.SESSION_ACCEPT="xmpp.session_accept",_.SESSION_ACCEPT_ERROR="xmpp.session_accept_error",_.SESSION_ACCEPT_TIMEOUT="xmpp.session_accept_timeout",_.SOURCE_ADD="xmpp.source_add",_.SOURCE_ADD_ERROR="xmpp.source_add_error",_.SOURCE_REMOVE="xmpp.source_remove",_.SOURCE_REMOVE_ERROR="xmpp.source_remove_error",_.SPEAKER_STATS_RECEIVED="xmpp.speaker_stats_received",_.CONFERENCE_TIMESTAMP_RECEIVED="xmpp.conference_timestamp_received",_.AV_MODERATION_APPROVED="xmpp.av_moderation.approved",_.AV_MODERATION_REJECTED="xmpp.av_moderation.rejected",_.AV_MODERATION_RECEIVED="xmpp.av_moderation.received",_.AV_MODERATION_CHANGED="xmpp.av_moderation.changed",_.AV_MODERATION_PARTICIPANT_APPROVED="xmpp.av_moderation.participant.approved",_.AV_MODERATION_PARTICIPANT_REJECTED="xmpp.av_moderation.participant.rejected",_.BREAKOUT_ROOMS_MOVE_TO_ROOM="xmpp.breakout-rooms.move-to-room",_.BREAKOUT_ROOMS_EVENT="xmpp.breakout-rooms.event",_.BREAKOUT_ROOMS_UPDATED="xmpp.breakout-rooms.updated",_.START_MUTED_FROM_FOCUS="xmpp.start_muted_from_focus",_.SUBJECT_CHANGED="xmpp.subject_changed",_.SUSPEND_DETECTED="xmpp.suspend_detected",_.TRANSCRIPTION_STATUS_CHANGED="xmpp.transcription_status_changed",_.TRANSPORT_INFO="xmpp.transportinfo.jingle",_.VIDEO_SIP_GW_AVAILABILITY_CHANGED="xmpp.videoSIPGWAvailabilityChanged",_.VIDEO_SIP_GW_SESSION_STATE_CHANGED="xmpp.videoSIPGWSessionStateChanged",_.ICE_CONNECTION_STATE_CHANGED="xmpp.ice_connection_state_changed",_.JSON_MESSAGE_RECEIVED="xmmp.json_message_received"})(_||(e.XMPPEvents=_={}))},596,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),s=r(d[3]),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=f(n);if(u&&u.has(t))return u.get(t);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=o?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(s,c,l):s[c]=t[c]}s.default=t,u&&u.set(t,s);return s})(r(d[4])),c=r(d[5]),l=r(d[6]);function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(f=function(t){return t?u:n})(t)}var y=(function(){function t(u,o,l,f,y,h,p,_,v){(0,n.default)(this,t),this._jid=u,this._id=s.Strophe.getResourceFromJid(u),this._conference=o,this._displayName=l,this._supportsDTMF=!1,this._tracks=[],this._role='none',this._status=h,this._hidden=f,this._statsID=y,this._connectionStatus=c.ParticipantConnectionStatus.ACTIVE,this._properties={},this._identity=p,this._isReplacing=_,this._isReplaced=v,this._features=new Set}return(0,u.default)(t,[{key:"getConference",value:function(){return this._conference}},{key:"getProperty",value:function(t){return this._properties[t]}},{key:"hasAnyVideoTrackWebRTCMuted",value:function(){return this.getTracks().some(function(t){return t.getType()===l.MediaType.VIDEO&&t.isWebRTCTrackMuted()})}},{key:"_setConnectionStatus",value:function(t){this._connectionStatus=t}},{key:"getConnectionStatus",value:function(){return this._connectionStatus}},{key:"setProperty",value:function(t,n){var u=this._properties[t];n!==u&&(this._properties[t]=n,this._conference.eventEmitter.emit(o.PARTICIPANT_PROPERTY_CHANGED,this,t,u,n))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTracksByMediaType",value:function(t){return this.getTracks().filter(function(n){return n.getType()===t})}},{key:"getId",value:function(){return this._id}},{key:"getJid",value:function(){return this._jid}},{key:"getDisplayName",value:function(){return this._displayName}},{key:"getStatsID",value:function(){return this._statsID}},{key:"getStatus",value:function(){return this._status}},{key:"isModerator",value:function(){return'moderator'===this._role}},{key:"isHidden",value:function(){return this._hidden}},{key:"isHiddenFromRecorder",value:function(){var t,n;return Boolean(null===(n=null===(t=this._identity)||void 0===t?void 0:t.user)||void 0===n?void 0:n['hidden-from-recorder'])}},{key:"isReplacing",value:function(){return this._isReplacing}},{key:"isReplaced",value:function(){return this._isReplaced}},{key:"isAudioMuted",value:function(){return this._isMediaTypeMuted(l.MediaType.AUDIO)}},{key:"_isMediaTypeMuted",value:function(t){return this.getTracks().reduce(function(n,u){return n&&(u.getType()!==t||u.isMuted())},!0)}},{key:"isVideoMuted",value:function(){return this._isMediaTypeMuted(l.MediaType.VIDEO)}},{key:"getRole",value:function(){return this._role}},{key:"setRole",value:function(t){this._role=t}},{key:"setIsReplacing",value:function(t){this._isReplacing=t}},{key:"setIsReplaced",value:function(t){this._isReplaced=t}},{key:"supportsDTMF",value:function(){return this._supportsDTMF}},{key:"getFeatures",value:function(){return Promise.resolve(this._features)}},{key:"hasFeature",value:function(t){return this._features.has(t)}},{key:"setFeatures",value:function(t){this._features=t||new Set}},{key:"getBotType",value:function(){return this._botType}},{key:"setBotType",value:function(t){this._botType=t}},{key:"getConnectionJid",value:function(){return this._connectionJid}},{key:"setConnectionJid",value:function(t){this._connectionJid=t}}]),t})();e.default=y},597,[2,12,13,560,555,598,589]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ParticipantConnectionStatus=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=r(d[4]),c=_(r(d[5])),h=_(r(d[6])),f=r(d[7]),T=t(r(d[8])),p=r(d[9]),l=t(r(d[10])),v=t(r(d[11]));function C(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(C=function(t){return t?o:n})(t)}function _(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=C(n);if(o&&o.has(t))return o.get(t);var s={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var h=u?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(s,c,h):s[c]=t[c]}return s.default=t,o&&o.set(t,s),s}function S(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=M(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(t,n){if(t){if("string"==typeof t)return y(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var E=(0,u.getLogger)(__filename),R=500,N=2500,A=1e4,k={ACTIVE:'active',INACTIVE:'inactive',INTERRUPTED:'interrupted',RESTORING:'restoring'};e.ParticipantConnectionStatus=k;var b=(function(){function t(n,s,u){(0,o.default)(this,t),this.rtc=n,this.conference=s,this.trackTimers={},this.connStatusFromJvb={},this.outOfLastNTimeout='number'==typeof u.outOfLastNTimeout?u.outOfLastNTimeout:R,this.p2pRtcMuteTimeout='number'==typeof u.p2pRtcMuteTimeout?u.p2pRtcMuteTimeout:N,this.rtcMuteTimeout='number'==typeof u.rtcMuteTimeout?u.rtcMuteTimeout:A,this.rtcMutedTimestamp={},E.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout),this.enteredLastNTimestamp=new Map,this.restoringTimers=new Map,this.connectionStatusMap=new Map}return(0,s.default)(t,[{key:"_getVideoFrozenTimeout",value:function(t){return this.rtc.isInLastN(t)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfLastNTimeout}},{key:"init",value:function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(T.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),this._onP2PStatus=this.refreshConnectionStatusForAll.bind(this),this.conference.on(c.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(c.USER_LEFT,this._onUserLeft),l.default.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(T.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(T.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(c.TRACK_ADDED,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(c.TRACK_REMOVED,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this)),this._onLastNChanged=this._onLastNChanged.bind(this),this.conference.on(c.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this._onLastNValueChanged=this.refreshConnectionStatusForAll.bind(this),this.rtc.on(T.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){this.rtc.removeListener(T.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),l.default.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(T.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(T.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(c.TRACK_ADDED,this._onRemoteTrackAdded),this.conference.off(c.TRACK_REMOVED,this._onRemoteTrackRemoved)),this.conference.off(c.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this.rtc.removeListener(T.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.conference.off(c.P2P_STATUS,this._onP2PStatus),this.conference.off(c.USER_LEFT,this._onUserLeft);for(var t=0,n=Object.keys(this.trackTimers);t<n.length;t++){var o=n[t];this.clearTimeout(o),this.clearRtcMutedTimestamp(o)}for(var s in this.connectionStatusMap)this.connectionStatusMap.hasOwnProperty(s)&&this.onUserLeft(s);this.connStatusFromJvb={}}},{key:"onEndpointConnStatusChanged",value:function(t,n){E.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED("+Date.now()+"): "+t+": "+n),t!==this.conference.myUserId()&&(this.connStatusFromJvb[t]=n,this.figureOutConnectionStatus(t))}},{key:"_changeConnectionStatus",value:function(t,n){if(t.getConnectionStatus()!==n){var o=t.getId();t._setConnectionStatus(n),E.debug("Emit endpoint conn status("+Date.now()+") "+o+": "+n),v.default.sendLog(JSON.stringify({id:'peer.conn.status',participant:o,status:n})),this.conference.eventEmitter.emit(c.PARTICIPANT_CONN_STATUS_CHANGED,o,n)}}},{key:"clearTimeout",value:function(t){this.trackTimers[t]&&(window.clearTimeout(this.trackTimers[t]),this.trackTimers[t]=null)}},{key:"clearRtcMutedTimestamp",value:function(t){this.rtcMutedTimestamp[t]=null}},{key:"onRemoteTrackAdded",value:function(t){var n=this;t.isLocal()||t.getType()!==f.MediaType.VIDEO||(E.debug("Detector on remote track added for: "+t.getParticipantId()),t.on(h.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),t.on(h.TRACK_VIDEOTYPE_CHANGED,function(o){return n._onTrackVideoTypeChanged(t,o)}))}},{key:"onRemoteTrackRemoved",value:function(t){if(!t.isLocal()&&t.getType()===f.MediaType.VIDEO){var n=t.getParticipantId();E.debug("Detector on remote track removed: "+n),t.off(h.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this.clearTimeout(n),this.clearRtcMutedTimestamp(n),this.figureOutConnectionStatus(n)}}},{key:"isVideoTrackFrozen",value:function(t){if(!l.default.supportsVideoMuteOnConnInterrupted())return!1;var n=t.getId(),o=t.hasAnyVideoTrackWebRTCMuted(),s=this.rtcMutedTimestamp[n],u=this._getVideoFrozenTimeout(n);return o&&'number'==typeof s&&Date.now()-s>=u}},{key:"refreshConnectionStatusForAll",value:function(){for(var t,n=S(this.conference.getParticipants());!(t=n()).done;){var o=t.value;this.figureOutConnectionStatus(o.getId())}}},{key:"figureOutConnectionStatus",value:function(o){var s=this.conference.getParticipantById(o);if(s){var u=this.conference.isP2PActive(),c=this._isRestoringTimedout(o),h=0===this.conference.getLastN(),T=s.isVideoMuted()||h,p=this.isVideoTrackFrozen(s),l=this.rtc.isInLastN(o),v=this.connStatusFromJvb[o];'boolean'!=typeof v&&(v=!0);var C=u?t._getNewStateForP2PMode(T,p):t._getNewStateForJvbMode(v,l,c,T,p);C!==k.RESTORING&&this._clearRestoringTimer(o),E.debug("Figure out conn status for "+o+", is video muted: "+T+" is active(jvb): "+v+" video track frozen: "+p+" p2p mode: "+u+" is in last N: "+l+" currentStatus => newStatus: "+s.getConnectionStatus()+" => "+C);var _=this.connectionStatusMap[o]||{};if(!('p2p'in _&&'connectionStatus'in _&&_.p2p===u&&_.connectionStatus===C)){var S=Date.now();if(this.maybeSendParticipantConnectionStatusEvent(o,S),this.connectionStatusMap[o]=(0,n.default)((0,n.default)({},_),{connectionStatus:C,p2p:u,startedMs:S}),!('videoType'in this.connectionStatusMap[o])){var M=s.getTracksByMediaType(f.MediaType.VIDEO);Array.isArray(M)&&0!==M.length&&(this.connectionStatusMap[o].videoType=M[0].videoType)}}this._changeConnectionStatus(s,C)}else E.debug("figure out conn status - no participant for: "+o)}},{key:"maybeSendParticipantConnectionStatusEvent",value:function(t,n){var o=this.connectionStatusMap[t];o&&'startedMs'in o&&'videoType'in o&&'connectionStatus'in o&&'p2p'in o&&(o.value=n-o.startedMs,v.default.sendAnalytics((0,p.createParticipantConnectionStatusEvent)(o)))}},{key:"_onLastNChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=Date.now();E.debug("LastN endpoints changed leaving="+t+", entering="+n+" at "+o),l.default.supportsVideoMuteOnConnInterrupted()||this.refreshConnectionStatusForAll();for(var s,u=S(t);!(s=u()).done;){var c=s.value;this.enteredLastNTimestamp.delete(c),this._clearRestoringTimer(c),l.default.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(c)}for(var h,f=S(n);!(h=f()).done;){var T=h.value;this.enteredLastNTimestamp.set(T,o),l.default.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(T)}}},{key:"_clearRestoringTimer",value:function(t){var n=this.restoringTimers.get(t);n&&(clearTimeout(n),this.restoringTimers.delete(t))}},{key:"_isRestoringTimedout",value:function(t){var n=this,o=this.enteredLastNTimestamp.get(t);return!!(o&&Date.now()-o>=1e4)||(this.restoringTimers.get(t)||this.restoringTimers.set(t,setTimeout(function(){return n.figureOutConnectionStatus(t)},1e4)),!1)}},{key:"onUserLeft",value:function(t){this.maybeSendParticipantConnectionStatusEvent(t,Date.now()),delete this.connectionStatusMap[t]}},{key:"onTrackRtcMuted",value:function(t){var n=this,o=t.getParticipantId(),s=this.conference.getParticipantById(o);if(E.debug("Detector track RTC muted: "+o,Date.now()),s){if(this.rtcMutedTimestamp[o]=Date.now(),!s.isVideoMuted()){this.clearTimeout(o);var u=this._getVideoFrozenTimeout(o);this.trackTimers[o]=window.setTimeout(function(){E.debug("Set RTC mute timeout for: "+o+"                     of "+u+" ms"),n.clearTimeout(o),n.figureOutConnectionStatus(o)},u)}}else E.error("No participant for id: "+o)}},{key:"onTrackRtcUnmuted",value:function(t){var n=t.getParticipantId();E.debug("Detector track RTC unmuted: "+n,Date.now()),this.clearTimeout(n),this.clearRtcMutedTimestamp(n),this.figureOutConnectionStatus(n)}},{key:"onSignallingMuteChanged",value:function(t){var n=t.getParticipantId();E.debug("Detector on track signalling mute changed: "+n,t.isMuted()),this.figureOutConnectionStatus(n)}},{key:"onTrackVideoTypeChanged",value:function(t,o){var s=t.getParticipantId(),u=Date.now();this.maybeSendParticipantConnectionStatusEvent(s,u),this.connectionStatusMap[s]=(0,n.default)((0,n.default)({},this.connectionStatusMap[s]||{}),{videoType:o,startedMs:u})}}],[{key:"_getNewStateForJvbMode",value:function(t,n,o,s,u){return t?s?k.ACTIVE:l.default.supportsVideoMuteOnConnInterrupted()?u?n?o?k.INTERRUPTED:k.RESTORING:k.INACTIVE:k.ACTIVE:n?k.ACTIVE:k.INACTIVE:k.INTERRUPTED}},{key:"_getNewStateForP2PMode",value:function(t,n){return l.default.supportsVideoMuteOnConnInterrupted()?t||!n?k.ACTIVE:k.INTERRUPTED:k.ACTIVE}}]),t})();e.default=b},598,[2,32,12,13,435,555,599,589,593,566,568,563]);
__d(function(g,r,i,a,m,e,d){var _;Object.defineProperty(e,"__esModule",{value:!0}),e.TRACK_VIDEOTYPE_CHANGED=e.TRACK_STREAMING_STATUS_CHANGED=e.TRACK_MUTE_CHANGED=e.TRACK_AUDIO_OUTPUT_CHANGED=e.TRACK_AUDIO_LEVEL_CHANGED=e.NO_DATA_FROM_SOURCE=e.NO_AUDIO_INPUT=e.LOCAL_TRACK_STOPPED=e.JitsiTrackEvents=void 0,e.JitsiTrackEvents=_,(function(_){_.LOCAL_TRACK_STOPPED="track.stopped",_.TRACK_AUDIO_LEVEL_CHANGED="track.audioLevelsChanged",_.TRACK_AUDIO_OUTPUT_CHANGED="track.audioOutputChanged",_.TRACK_MUTE_CHANGED="track.trackMuteChanged",_.TRACK_VIDEOTYPE_CHANGED="track.videoTypeChanged",_.NO_DATA_FROM_SOURCE="track.no_data_from_source",_.NO_AUDIO_INPUT="track.no_audio_input",_.TRACK_STREAMING_STATUS_CHANGED="track.streaming_status_changed"})(_||(e.JitsiTrackEvents=_={}));var A=_.LOCAL_TRACK_STOPPED;e.LOCAL_TRACK_STOPPED=A;var T=_.TRACK_AUDIO_LEVEL_CHANGED;e.TRACK_AUDIO_LEVEL_CHANGED=T;var C=_.TRACK_AUDIO_OUTPUT_CHANGED;e.TRACK_AUDIO_OUTPUT_CHANGED=C;var E=_.TRACK_MUTE_CHANGED;e.TRACK_MUTE_CHANGED=E;var O=_.TRACK_VIDEOTYPE_CHANGED;e.TRACK_VIDEOTYPE_CHANGED=O;var D=_.NO_DATA_FROM_SOURCE;e.NO_DATA_FROM_SOURCE=D;var N=_.NO_AUDIO_INPUT;e.NO_AUDIO_INPUT=N;var R=_.TRACK_STREAMING_STATUS_CHANGED;e.TRACK_STREAMING_STATUS_CHANGED=R},599,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var c,s=this,u=n.id,f=n.password,N=n.onCreateResource,E=n.onLoginSuccessful,C=n.roomPassword,v=!1,O=new t.default(this.connection.options),l=new Promise(function(n,t){c=t,O.addListener(o.CONNECTION_DISCONNECTED,function(){O=void 0}),O.addListener(o.CONNECTION_ESTABLISHED,function(){if(!v){E&&E();var o=O.createRoom(s.options.name,s.options.config,N);o.moderator.authenticate().then(function(){O&&O.disconnect(),v||(s.join(C),n())}).catch(function(n){var o=n.error,c=n.message;O.disconnect(),t({authenticationError:o,message:c})})}}),O.addListener(o.CONNECTION_FAILED,function(n,o,c){t({connectionError:n,credentials:c,message:o}),O=void 0}),v||O.connect(u,f)});return l.cancel=function(){v=!0,c({}),O&&O.disconnect()},l};var o=r(d[1]),t=n(r(d[2]))},600,[2,601,602]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e.WRONG_STATE=e.JitsiConnectionEvents=e.DISPLAY_NAME_REQUIRED=e.CONNECTION_FAILED=e.CONNECTION_ESTABLISHED=e.CONNECTION_DISCONNECTED=void 0,e.JitsiConnectionEvents=E,(function(E){E.CONNECTION_DISCONNECTED="connection.connectionDisconnected",E.CONNECTION_ESTABLISHED="connection.connectionEstablished",E.CONNECTION_FAILED="connection.connectionFailed",E.WRONG_STATE="connection.wrongState",E.DISPLAY_NAME_REQUIRED="connection.display_name_required"})(E||(e.JitsiConnectionEvents=E={}));var N=E.CONNECTION_DISCONNECTED;e.CONNECTION_DISCONNECTED=N;var n=E.CONNECTION_ESTABLISHED;e.CONNECTION_ESTABLISHED=n;var C=E.CONNECTION_FAILED;e.CONNECTION_FAILED=C;var O=E.WRONG_STATE;e.WRONG_STATE=O;var I=E.DISPLAY_NAME_REQUIRED;e.DISPLAY_NAME_REQUIRED=I},601,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.JITSI_MEET_MUC_TYPE=e.FEATURE_JIGASI=e.FEATURE_E2EE=e.DEFAULT_STUN_SERVERS=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),p=t(r(d[5])),u=t(r(d[6])),l=r(d[7]),h=r(d[8]);r(d[9]);var f=j(r(d[10])),v=j(r(d[11])),E=r(d[12]),y=t(r(d[13])),S=r(d[14]),_=t(r(d[15])),C=t(r(d[16])),I=t(r(d[17])),R=t(r(d[18])),A=t(r(d[19])),N=j(r(d[20])),O=t(r(d[21])),T=t(r(d[22])),b=t(r(d[23])),P=t(r(d[24])),k=t(r(d[25])),D=t(r(d[26]));function F(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(F=function(t){return t?o:n})(t)}function j(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=F(n);if(o&&o.has(t))return o.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var u=c?Object.getOwnPropertyDescriptor(t,p):null;u&&(u.get||u.set)?Object.defineProperty(s,p,u):s[p]=t[p]}return s.default=t,o&&o.set(t,s),s}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var w=(0,l.getLogger)(__filename),U=/<failure.*><not-allowed\/><text>(.*)<\/text><\/failure>/gi;function L(t){var n=t.enableWebsocketResume,o=t.serviceUrl,s=void 0===o?'/http-bind':o,c=t.shard,p=t.token,u=t.websocketKeepAlive,l=t.websocketKeepAliveUrl,h=t.xmppPing;return p&&(s+=(-1===s.indexOf('?')?'?':'&')+"token="+p),new O.default({enableWebsocketResume:n,serviceUrl:s,websocketKeepAlive:u,websocketKeepAliveUrl:l,xmppPing:h,shard:c})}var x=[{urls:'stun:meet-jit-si-turnrelay.jitsi.net:443'}];e.DEFAULT_STUN_SERVERS=x;e.JITSI_MEET_MUC_TYPE="type";e.FEATURE_JIGASI='http://jitsi.org/protocol/jigasi';e.FEATURE_E2EE="https://jitsi.org/meet/e2ee";var H=(function(t){(0,c.default)(j,t);var l,R,F=(l=j,R=M(),function(){var t,n=(0,u.default)(l);if(R){var o=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,p.default)(this,t)});function j(t,n){var s;(0,o.default)(this,j),(s=F.call(this)).connection=null,s.disconnectInProgress=!1,s.connectionTimes={},s.options=t,s.token=n,s.authenticatedUser=!1,s.options.deploymentInfo||(s.options.deploymentInfo={}),(0,D.default)(),(0,P.default)();var c=t.xmppPing||{};return c.domain=t.hosts.domain,s.connection=L({enableWebsocketResume:t.enableWebsocketResume,serviceUrl:t.serviceUrl||t.bosh,token:n,websocketKeepAlive:t.websocketKeepAlive,websocketKeepAliveUrl:t.websocketKeepAliveUrl,xmppPing:c,shard:t.deploymentInfo.shard}),s.connection.on(O.default.Events.CONN_SHARD_CHANGED,function(){var t={shard_changed:!0,suspend_time:s.connection.ping.getPingSuspendTime(),time_since_last_success:s.connection.getTimeSinceLastSuccess()};s.eventEmitter.emit(v.CONNECTION_FAILED,f.OTHER_ERROR,void 0,void 0,t)}),s._initStrophePlugins(),s.caps=new N.default(s.connection,'https://jitsi.org/jitsi-meet'),s.initFeaturesList(),s}return(0,s.default)(j,[{key:"initFeaturesList",value:function(){this.caps.addFeature('urn:xmpp:jingle:1'),this.caps.addFeature('urn:xmpp:jingle:apps:rtp:1'),this.caps.addFeature('urn:xmpp:jingle:transports:ice-udp:1'),this.caps.addFeature('urn:xmpp:jingle:apps:dtls:0'),this.caps.addFeature('urn:xmpp:jingle:transports:dtls-sctp:1'),this.caps.addFeature('urn:xmpp:jingle:apps:rtp:audio'),this.caps.addFeature('urn:xmpp:jingle:apps:rtp:video'),this.caps.addFeature('http://jitsi.org/json-encoded-sources'),!this.options.disableRtx&&y.default.supportsRTX()&&this.caps.addFeature('urn:ietf:rfc:4588'),!0===this.options.enableOpusRed&&y.default.supportsAudioRed()&&this.caps.addFeature('http://jitsi.org/opus-red'),(void 0===this.options.enableRemb||this.options.enableRemb)&&this.caps.addFeature('http://jitsi.org/remb'),y.default.isFirefox()||void 0!==this.options.enableTcc&&!this.options.enableTcc||this.caps.addFeature('http://jitsi.org/tcc'),this.caps.addFeature('urn:ietf:rfc:5761'),this.caps.addFeature('urn:ietf:rfc:5888'),y.default.isChromiumBased()&&!0===this.options.enableLipSync&&(w.info('Lip-sync enabled !'),this.caps.addFeature('http://jitsi.org/meet/lipsync')),this.connection.rayo&&this.caps.addFeature('urn:xmpp:rayo:client:1'),S.E2EEncryption.isSupported(this.options)&&this.caps.addFeature("https://jitsi.org/meet/e2ee",!1,!0),_.default.isSourceNameSignalingEnabled()&&(w.info('Source-name signaling is enabled'),this.caps.addFeature('http://jitsi.org/source-name')),_.default.isSsrcRewritingSupported()&&(w.info('SSRC rewriting is supported'),this.caps.addFeature('http://jitsi.org/ssrc-rewriting'))}},{key:"getConnection",value:function(){return this.connection}},{key:"connectionHandler",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,c=window.performance.now(),p=h.Strophe.getStatusString(o).toLowerCase();if(this.connectionTimes[p]=c,w.log("(TIME) Strophe "+p+(s?"["+s+"]":'')+":\t",c),this.eventEmitter.emit(E.XMPPEvents.CONNECTION_STATUS_CHANGED,n,o,s),this._maybeSendDeploymentInfoStat(),o===h.Strophe.Status.CONNECTED||o===h.Strophe.Status.ATTACHED)this._sysMessageHandler&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null),this.sendDiscoInfo&&this.connection.jingle.getStunAndTurnCredentials(),w.info("My Jabber ID: "+this.connection.jid),this._resetState(),this.sendDeploymentInfo=!1,this.sendDiscoInfo&&this.caps.getFeaturesAndIdentities(this.options.hosts.domain).then(function(n){var o=n.features,s=n.identities;o.has(h.Strophe.NS.PING)||w.error("Ping NOT supported by "+t.options.hosts.domain+" - please enable ping in your XMPP server config"),t._processDiscoInfoIdentities(s,void 0)}).catch(function(n){I.default.callErrorHandler(new Error("Feature discovery error: "+n)),w.error('Feature discovery error',n),t._maybeSendDeploymentInfoStat(!0)}),this.sendDiscoInfo=!1,n.password&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&h.Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(v.CONNECTION_ESTABLISHED,h.Strophe.getResourceFromJid(this.connection.jid));else if(o===h.Strophe.Status.CONNFAIL)'x-strophe-bad-non-anon-jid'===s?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=s,'giving-up'===s&&this.eventEmitter.emit(v.CONNECTION_FAILED,f.OTHER_ERROR,s);else if(o===h.Strophe.Status.ERROR)this.lastErrorMsg=s;else if(o===h.Strophe.Status.DISCONNECTED){this.connection.ping.stopInterval();var u=Boolean(this.disconnectInProgress),l=s||this.lastErrorMsg;if(this.anonymousConnectionFailed)this.eventEmitter.emit(v.CONNECTION_FAILED,f.PASSWORD_REQUIRED);else if(this.connectionFailed)this.eventEmitter.emit(v.CONNECTION_FAILED,f.OTHER_ERROR,l,void 0,this._getConnectionFailedReasonDetails());else if(u)this.eventEmitter.emit(v.CONNECTION_DISCONNECTED,l);else{w.error('XMPP connection dropped!');var y=h.Strophe.getLastErrorStatus();y>=500&&y<600?this.eventEmitter.emit(v.CONNECTION_FAILED,f.SERVER_ERROR,l||'server-error',void 0,this._getConnectionFailedReasonDetails()):this.eventEmitter.emit(v.CONNECTION_FAILED,f.CONNECTION_DROPPED_ERROR,l||'connection-dropped-error',void 0,this._getConnectionFailedReasonDetails())}}else if(o===h.Strophe.Status.AUTHFAIL){var S=this.getConnection().getLastFailedMessage();this.eventEmitter.emit(v.CONNECTION_FAILED,f.PASSWORD_REQUIRED,s||this._parseConnectionFailedMessage(S),n)}}},{key:"_processDiscoInfoIdentities",value:function(t,n){var o=this;t.forEach(function(t){if('av_moderation'===t.type&&(o.avModerationComponentAddress=t.name),'speakerstats'===t.type&&(o.speakerStatsComponentAddress=t.name),'conference_duration'===t.type&&(o.conferenceDurationComponentAddress=t.name),'lobbyrooms'===t.type){o.lobbySupported=!0;var s=function(t){t.forEach(function(t){t.endsWith('#displayname_required')&&o.eventEmitter.emit(v.DISPLAY_NAME_REQUIRED)})};n?s(n):t.name&&o.caps.getFeaturesAndIdentities(t.name,t.type).then(function(t){var n=t.features;return s(n)}).catch(function(t){return w.warn('Error getting features from lobby.',t&&t.message)})}'shard'===t.type&&(o.options.deploymentInfo.shard=o.connection.shard=t.name),'region'===t.type&&(o.options.deploymentInfo.region=o.connection.region=t.name),'release'===t.type&&(o.options.deploymentInfo.backendRelease=t.name),'breakout_rooms'===t.type&&(o.breakoutRoomsComponentAddress=t.name)}),this._maybeSendDeploymentInfoStat(!0),(this.avModerationComponentAddress||this.speakerStatsComponentAddress||this.conferenceDurationComponentAddress||this.breakoutRoomsComponentAddress)&&this.connection.addHandler(this._onPrivateMessage.bind(this),null,'message',null,null)}},{key:"_parseConnectionFailedMessage",value:function(t){if(!t)return null;var n=U.exec(t);return n?n[1]:null}},{key:"_connect",value:function(t,n){this._resetState(),this.sendDiscoInfo=!0,this.sendDeploymentInfo=!0,this.connection._stropheConn&&this.connection._stropheConn._addSysHandler?this._sysMessageHandler=this.connection._stropheConn._addSysHandler(this._onSystemMessage.bind(this),null,'message'):w.warn('Cannot attach strophe system handler, jiconop cannot operate'),this.connection.connect(t,n,this.connectionHandler.bind(this,{jid:t,password:n}))}},{key:"_onSystemMessage",value:function(t){if(0!==$(t).find('>services').length||0!==$(t).find('>query').length){this.sendDiscoInfo=!1;var n=this.connection.jingle.onReceiveStunAndTurnCredentials(t),o=(0,N.parseDiscoInfo)(t),s=o.features,c=o.identities;this._processDiscoInfoIdentities(c,s),(n||c.size>0||s.size>0)&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null)}}},{key:"attach",value:function(t){this._resetState(),this.sendDiscoInfo=!0;var n=this.connectionTimes.attaching=window.performance.now();w.log('(TIME) Strophe Attaching:\t',n),this.connection.attach(t.jid,t.sid,parseInt(t.rid,10)+1,this.connectionHandler.bind(this,{jid:t.jid,password:t.password}))}},{key:"_resetState",value:function(){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.disconnectInProgress=void 0}},{key:"connect",value:function(t,n){if(!t){var o=this.options.hosts,s=o.anonymousdomain,c=o.domain,p=s||c,u=window.location;if(s){var l=u&&u.search;(l&&-1!==l.indexOf('login=true')||this.token)&&(p=c)}t=p||u&&u.hostname}return this._connect(t,n)}},{key:"createRoom",value:function(t,n,o){var s=t.domain||n.customDomain,c=this.getRoomJid(t,s)+"/",p=o?o(this.connection.jid,this.authenticatedUser):A.default.randomHexString(8).toLowerCase();return w.info("JID "+this.connection.jid+" using MUC nickname "+p),c+=p,this.connection.emuc.createRoom(c,null,n)}},{key:"getRoomJid",value:function(t,n){return t+"@"+(n||this.options.hosts.muc.toLowerCase())}},{key:"isRoomCreated",value:function(t,n){return this.connection.emuc.isRoomCreated(this.getRoomJid(t,n))}},{key:"getJid",value:function(){return this.connection.jid}},{key:"getJingleLog",value:function(){var t=this.connection.jingle;return t?t.getLog():{}}},{key:"getXmppLog",value:function(){return(this.connection.logger||{}).log||null}},{key:"dial",value:function(){var t;(t=this.connection.rayo).dial.apply(t,arguments)}},{key:"ping",value:function(t){var n=this;return new Promise(function(o,s){n.connection.ping.ping(n.connection.pingDomain,o,s,t)})}},{key:"getSessions",value:function(){return this.connection.jingle.sessions}},{key:"disconnect",value:function(t){var n=this;return this.disconnectInProgress?this.disconnectInProgress:this.connection?(this.disconnectInProgress=new Promise(function(t){n.eventEmitter.on(E.XMPPEvents.CONNECTION_STATUS_CHANGED,function o(s,c){c===h.Strophe.Status.DISCONNECTED&&(t(),n.eventEmitter.removeListener(E.XMPPEvents.CONNECTION_STATUS_CHANGED,o))})}),this._cleanupXmppConnection(t),this.disconnectInProgress):Promise.resolve()}},{key:"_cleanupXmppConnection",value:function(t){if(!this.connection.isUsingWebSocket&&this.connection.flush(),!this.connection.isUsingWebSocket&&null!==t&&void 0!==t){var n=t.type;if(('beforeunload'===n||'unload'===n)&&(this.connection.options.sync=!0,this.connection.sendUnavailableBeacon()))return}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}},{key:"_initStrophePlugins",value:function(){var t={jvb:{iceServers:[]},p2p:{iceServers:[]}},n=this.options.p2p&&this.options.p2p.stunServers||x;Array.isArray(n)&&(w.info('P2P STUN servers: ',n),t.p2p.iceServers=n),this.options.p2p&&this.options.p2p.iceTransportPolicy&&(w.info('P2P ICE transport policy: ',this.options.p2p.iceTransportPolicy),t.p2p.iceTransportPolicy=this.options.p2p.iceTransportPolicy),this.connection.addConnectionPlugin('emuc',new T.default(this)),this.connection.addConnectionPlugin('jingle',new b.default(this,this.eventEmitter,t)),this.connection.addConnectionPlugin('rayo',new k.default)}},{key:"_getConnectionFailedReasonDetails",value:function(){var t={};if(this.options.deploymentInfo&&this.options.deploymentInfo.shard&&this.connection.lastResponseHeaders){var n={};this.connection.lastResponseHeaders.trim().split(/[\r\n]+/).forEach(function(t){var o=t.split(': '),s=o.shift(),c=o.join(': ');n[s]=c}),t.shard_changed=this.options.deploymentInfo.shard!==n['x-jitsi-shard']}return t.suspend_time=this.connection.ping.getPingSuspendTime(),t.time_since_last_success=this.connection.getTimeSinceLastSuccess(),t}},{key:"sendDominantSpeakerEvent",value:function(t){if(this.speakerStatsComponentAddress&&t){var n=(0,h.$msg)({to:this.speakerStatsComponentAddress});n.c('speakerstats',{xmlns:'http://jitsi.org/jitmeet',room:t}).up(),this.connection.send(n)}}},{key:"sendFaceExpressionEvent",value:function(t,n){if(this.speakerStatsComponentAddress&&t){var o=(0,h.$msg)({to:this.speakerStatsComponentAddress});o.c('faceExpression',{xmlns:'http://jitsi.org/jitmeet',room:t,expression:n.faceExpression,duration:n.duration}).up(),this.connection.send(o)}}},{key:"tryParseJSONAndVerify",value:function(t){if(!t)return!1;try{var n=JSON.parse(t);if(n&&'object'==typeof n){var o=n.type;if(void 0!==o)return n;w.debug("parsing valid json but does not have correct structure",'topic: ',o)}}catch(n){return w.error("Error parsing json "+t,n),!1}return!1}},{key:"_onPrivateMessage",value:function(t){var n=t.getAttribute('from');if(n!==this.speakerStatsComponentAddress&&n!==this.conferenceDurationComponentAddress&&n!==this.avModerationComponentAddress&&n!==this.breakoutRoomsComponentAddress)return!0;var o=$(t).find('>json-message').text(),s=this.tryParseJSONAndVerify(o);return!s||('speakerstats'===s.type&&s.users?this.eventEmitter.emit(E.XMPPEvents.SPEAKER_STATS_RECEIVED,s.users):'conference_duration'===s.type&&s.created_timestamp?this.eventEmitter.emit(E.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,s.created_timestamp):'av_moderation'===s.type?this.eventEmitter.emit(E.XMPPEvents.AV_MODERATION_RECEIVED,s):'breakout_rooms'===s.type&&this.eventEmitter.emit(E.XMPPEvents.BREAKOUT_ROOMS_EVENT,s),!0)}},{key:"_maybeSendDeploymentInfoStat",value:function(t){var o=[h.Strophe.Status.ERROR,h.Strophe.Status.CONNFAIL,h.Strophe.Status.AUTHFAIL,h.Strophe.Status.DISCONNECTED,h.Strophe.Status.CONNTIMEOUT];if(t||o.includes(this.connection.status)&&this.sendDeploymentInfo){var s=this.options.deploymentInfo;if(s&&Object.keys(s).length>0){var c={};for(var p in s)s.hasOwnProperty(p)&&(c[p]=s[p]);C.default.analytics.addPermanentProperties((0,n.default)({},c)),c.id='deployment_info',C.default.sendLog(JSON.stringify(c))}this.sendDeploymentInfo=!1}}}]),j})(R.default);e.default=H},602,[2,32,12,13,20,22,19,435,560,603,604,601,596,568,605,590,563,584,609,626,627,628,636,645,665,666,667]);
__d(function(g,r,i,a,m,e,d){var t,n;t=this,n=function(t){'use strict';t.Strophe.addConnectionPlugin('disco',{_connection:null,_identities:[],_features:[],_items:[],init:function(n){this._connection=n,this._identities=[],this._features=[],this._items=[],n.addHandler(this._onDiscoInfo.bind(this),t.Strophe.NS.DISCO_INFO,'iq','get',null,null),n.addHandler(this._onDiscoItems.bind(this),t.Strophe.NS.DISCO_ITEMS,'iq','get',null,null)},addIdentity:function(t,n,s,o){for(var u=0;u<this._identities.length;u++)if(this._identities[u].category==t&&this._identities[u].type==n&&this._identities[u].name==s&&this._identities[u].lang==o)return!1;return this._identities.push({category:t,type:n,name:s,lang:o}),!0},addFeature:function(t){for(var n=0;n<this._features.length;n++)if(this._features[n]==t)return!1;return this._features.push(t),!0},removeFeature:function(t){for(var n=0;n<this._features.length;n++)if(this._features[n]===t)return this._features.splice(n,1),!0;return!1},addItem:function(t,n,s,o){return!(s&&!o)&&(this._items.push({jid:t,name:n,node:s,call_back:o}),!0)},info:function(n,s,o,u,h){var _={xmlns:t.Strophe.NS.DISCO_INFO};s&&(_.node=s);var c=t.$iq({from:this._connection.jid,to:n,type:'get'}).c('query',_);this._connection.sendIQ(c,o,u,h)},items:function(n,s,o,u,h){var _={xmlns:t.Strophe.NS.DISCO_ITEMS};s&&(_.node=s);var c=t.$iq({from:this._connection.jid,to:n,type:'get'}).c('query',_);this._connection.sendIQ(c,o,u,h)},_buildIQResult:function(n,s){var o=n.getAttribute('id'),u=n.getAttribute('from'),h=t.$iq({type:'result',id:o});return null!==u&&h.attrs({to:u}),h.c('query',s)},_onDiscoInfo:function(n){var s,o=n.getElementsByTagName('query')[0].getAttribute('node'),u={xmlns:t.Strophe.NS.DISCO_INFO};o&&(u.node=o);var h=this._buildIQResult(n,u);for(s=0;s<this._identities.length;s++)u={category:this._identities[s].category,type:this._identities[s].type},this._identities[s].name&&(u.name=this._identities[s].name),this._identities[s].lang&&(u['xml:lang']=this._identities[s].lang),h.c('identity',u).up();for(s=0;s<this._features.length;s++)h.c('feature',{var:this._features[s]}).up();return this._connection.send(h.tree()),!0},_onDiscoItems:function(n){var s,o,u={xmlns:t.Strophe.NS.DISCO_ITEMS},h=n.getElementsByTagName('query')[0].getAttribute('node');if(h){for(u.node=h,s=[],o=0;o<this._items.length;o++)if(this._items[o].node==h){s=this._items[o].call_back(n);break}}else s=this._items;var _=this._buildIQResult(n,u);for(o=0;o<s.length;o++){var c={jid:s[o].jid};s[o].name&&(c.name=s[o].name),s[o].node&&(c.node=s[o].node),_.c('item',c).up()}return this._connection.send(_.tree()),!0}})},'object'==typeof e&&void 0!==m?n(r(d[0])):'function'==typeof define&&define.amd?define(['strophe.js'],n):n(t.window)},603,[560]);
__d(function(g,r,i,a,m,e,d){var R;Object.defineProperty(e,"__esModule",{value:!0}),e.SERVER_ERROR=e.PASSWORD_REQUIRED=e.OTHER_ERROR=e.JitsiConnectionErrors=e.CONNECTION_DROPPED_ERROR=void 0,e.JitsiConnectionErrors=R,(function(R){R.CONNECTION_DROPPED_ERROR="connection.droppedError",R.OTHER_ERROR="connection.otherError",R.PASSWORD_REQUIRED="connection.passwordRequired",R.SERVER_ERROR="connection.serverError"})(R||(e.JitsiConnectionErrors=R={}));var E=R.CONNECTION_DROPPED_ERROR;e.CONNECTION_DROPPED_ERROR=E;var O=R.OTHER_ERROR;e.OTHER_ERROR=O;var o=R.PASSWORD_REQUIRED;e.PASSWORD_REQUIRED=o;var n=R.SERVER_ERROR;e.SERVER_ERROR=n},604,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.E2EEncryption=void 0;var t=n(r(d[1])),o=n(r(d[2])),u=n(r(d[3])),l=n(r(d[4])),s=r(d[5]),c=r(d[6]),f=r(d[7]),y=this&&this.__awaiter||function(n,t,o,u){return new(o||(o=Promise))(function(l,s){function c(n){try{y(u.next(n))}catch(n){s(n)}}function f(n){try{y(u.throw(n))}catch(n){s(n)}}function y(n){var t;n.done?l(n.value):(t=n.value,t instanceof o?t:new o(function(n){n(t)})).then(c,f)}y((u=u.apply(n,t||[])).next())})},p=(function(){function n(t){(0,o.default)(this,n);var u=t.options.config.e2ee,l=void 0===u?{}:u;this._externallyManaged=l.externallyManagedKey,this._externallyManaged?this._keyHandler=new s.ExternallyManagedKeyHandler(t):this._keyHandler=new c.ManagedKeyHandler(t)}return(0,u.default)(n,[{key:"isEnabled",value:function(){return this._keyHandler.isEnabled()}},{key:"setEnabled",value:function(n){return y(this,void 0,void 0,t.default.mark(function o(){return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._keyHandler.setEnabled(n);case 2:case"end":return t.stop()}},o,this)}))}},{key:"setEncryptionKey",value:function(n){this._keyHandler.setKey(n)}}],[{key:"isSupported",value:function(n){var t=n.e2ee;return!(!(void 0===t?{}:t).externallyManagedKey&&!f.OlmAdapter.isSupported())&&(!(n.testing&&n.testing.disableE2EE)&&(l.default.supportsInsertableStreams()||n.enableEncodedTransformSupport&&l.default.supportsEncodedTransform()))}}]),n})();e.E2EEncryption=p},605,[2,283,12,13,568,606,611,613]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ExternallyManagedKeyHandler=void 0;var n=t(r(d[1])),u=t(r(d[2])),c=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5]));function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=(function(t){(0,c.default)(h,t);var y,s,v=(y=h,s=f(),function(){var t,n=(0,o.default)(y);if(s){var u=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function h(t){return(0,n.default)(this,h),v.call(this,t,{sharedKey:!0})}return(0,u.default)(h,[{key:"setKey",value:function(t){this.e2eeCtx.setKey(void 0,{encryptionKey:t.encryptionKey},t.index)}}]),h})(r(d[6]).KeyHandler);e.ExternallyManagedKeyHandler=y},606,[2,12,13,20,22,19,607]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.KeyHandler=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6])),s=t(r(d[7])),v=r(d[8]),h=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=k(n);if(o&&o.has(t))return o.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var l=u?Object.getOwnPropertyDescriptor(t,f):null;l&&(l.get||l.set)?Object.defineProperty(c,f,l):c[f]=t[f]}c.default=t,o&&o.set(t,c);return c})(r(d[9])),p=t(r(d[10])),y=t(r(d[11])),b=t(r(d[12])),E=t(r(d[13])),_=t(r(d[14]));function k(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(k=function(t){return t?o:n})(t)}function S(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=T(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(t,n){if(t){if("string"==typeof t)return w(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?w(t,n):void 0}}function w(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var A=this&&this.__awaiter||function(t,n,o,c){return new(o||(o=Promise))(function(u,f){function l(t){try{v(c.next(t))}catch(t){f(t)}}function s(t){try{v(c.throw(t))}catch(t){f(t)}}function v(t){var n;t.done?u(t.value):(n=t.value,n instanceof o?n:new o(function(t){t(n)})).then(l,s)}v((c=c.apply(t,n||[])).next())})},R=(0,v.getLogger)(__filename),x=(function(t){(0,f.default)(T,t);var v,E,k=(v=T,E=M(),function(){var t,n=(0,s.default)(v);if(E){var o=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function T(t){var n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,T),(n=k.call(this)).conference=t,n.e2eeCtx=new _.default(c),n.enabled=!1,n._enabling=void 0,n.conference.on(h._MEDIA_SESSION_STARTED,n._onMediaSessionStarted.bind((0,u.default)(n))),n.conference.on(h.TRACK_ADDED,function(t){return t.isLocal()&&n._onLocalTrackAdded(t)}),n.conference.rtc.on(p.default.REMOTE_TRACK_ADDED,function(t,o){return n._setupReceiverE2EEForTrack(o,t)}),n.conference.on(h.TRACK_MUTE_CHANGED,n._trackMuteChanged.bind((0,u.default)(n))),n}return(0,c.default)(T,[{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(t){return A(this,void 0,void 0,n.default.mark(function o(){return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==this.enabled){n.next=2;break}return n.abrupt("return");case 2:if(n.t0=this._enabling,!n.t0){n.next=6;break}return n.next=6,this._enabling;case 6:if(this._enabling=new b.default,this.enabled=t,t||this.e2eeCtx.cleanupAll(),n.t1=this._setEnabled,!n.t1){n.next=13;break}return n.next=13,this._setEnabled(t);case 13:this.conference.setLocalParticipantProperty('e2ee.enabled',t),this.conference._restartMediaSessions(),this._enabling.resolve();case 16:case"end":return n.stop()}},o,this)}))}},{key:"setEncryptionKey",value:function(){throw new Error('Not implemented by subclass')}},{key:"_onLocalTrackAdded",value:function(t){for(var n,o=S(this.conference.getMediaSessions());!(n=o()).done;){var c=n.value;this._setupSenderE2EEForTrack(c,t)}}},{key:"_onMediaSessionStarted",value:function(t){for(var n,o=S(this.conference.getLocalTracks());!(n=o()).done;){var c=n.value;this._setupSenderE2EEForTrack(t,c)}}},{key:"_setupReceiverE2EEForTrack",value:function(t,n){if(this.enabled){var o=t.findReceiverForTrack(n.track);o?this.e2eeCtx.handleReceiver(o,n.getType(),n.getParticipantId()):R.warn("Could not handle E2EE for "+n+": receiver not found in: "+t)}}},{key:"_setupSenderE2EEForTrack",value:function(t,n){if(this.enabled){var o=t.peerconnection,c=o&&o.findSenderForTrack(n.track);c?this.e2eeCtx.handleSender(c,n.getType(),n.getParticipantId()):R.warn("Could not handle E2EE for "+n+": sender not found in "+o)}}},{key:"_trackMuteChanged",value:function(t){if(y.default.doesVideoMuteByStreamRemove()&&t.isLocal()&&t.isVideoTrack()&&!t.isMuted())for(var n,o=S(this.conference.getMediaSessions());!(n=o()).done;){var c=n.value;this._setupSenderE2EEForTrack(c,t)}}}]),T})(E.default);e.KeyHandler=x},607,[2,283,12,13,23,20,22,19,435,555,593,568,608,609,610]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),u=t(r(d[2])),n=(function(){function t(){var u=this;(0,o.default)(this,t),this.promise=new Promise(function(t,o){u.resolve=function(){u.clearRejectTimeout(),t.apply(void 0,arguments)},u.reject=function(){u.clearRejectTimeout(),o.apply(void 0,arguments)}}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return(0,u.default)(t,[{key:"clearRejectTimeout",value:function(){clearTimeout(this._timeout)}},{key:"setRejectTimeout",value:function(t){var o=this;this._timeout=setTimeout(function(){o.reject(new Error('timeout'))},t)}}]),t})();e.default=n},608,[2,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),v=t(r(d[3])),u=(function(){function t(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new v.default;(0,n.default)(this,t),this.eventEmitter=s,this.addEventListener=this.on=this.addListener,this.removeEventListener=this.off=this.removeListener}return(0,s.default)(t,[{key:"addListener",value:function(t,n){var s=this;return this.eventEmitter.addListener(t,n),function(){return s.removeEventListener(t,n)}}},{key:"removeListener",value:function(t,n){this.eventEmitter.removeListener(t,n)}}]),t})();e.default=u},609,[2,12,13,558]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),s=(0,r(d[3]).getLogger)(__filename),p=Symbol('kJitsiE2EE'),l=(function(){function t(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sharedKey;(0,o.default)(this,t);var p='',l=document.querySelector('script[src*="lib-jitsi-meet"]');if(l){var c=l.src.lastIndexOf('/');p=l.src.substring(0,c)+"/"}var u=p+"lib-jitsi-meet.e2ee-worker.js";if(p&&'/'!==p){var f=new Blob(["importScripts(\""+u+"\");"],{type:'application/javascript'});u=window.URL.createObjectURL(f)}this._worker=new Worker(u,{name:'E2EE Worker'}),this._worker.onerror=function(t){return s.error(t)},this._worker.postMessage({operation:'initialize',sharedKey:n})}return(0,n.default)(t,[{key:"cleanup",value:function(t){this._worker.postMessage({operation:'cleanup',participantId:t})}},{key:"cleanupAll",value:function(){this._worker.postMessage({operation:'cleanupAll'})}},{key:"handleReceiver",value:function(t,o,n){if(!t[p])if(t[p]=!0,window.RTCRtpScriptTransform){var s={operation:'decode',participantId:n};t.transform=new RTCRtpScriptTransform(this._worker,s)}else{var l=t.createEncodedStreams();this._worker.postMessage({operation:'decode',readableStream:l.readable,writableStream:l.writable,participantId:n},[l.readable,l.writable])}}},{key:"handleSender",value:function(t,o,n){if(!t[p])if(t[p]=!0,window.RTCRtpScriptTransform){var s={operation:'encode',participantId:n};t.transform=new RTCRtpScriptTransform(this._worker,s)}else{var l=t.createEncodedStreams();this._worker.postMessage({operation:'encode',readableStream:l.readable,writableStream:l.writable,participantId:n},[l.readable,l.writable])}}},{key:"setKey",value:function(t,o,n){this._worker.postMessage({operation:'setKey',key:o,keyIndex:n,participantId:t})}}]),t})();e.default=l},610,[2,12,13,435]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ManagedKeyHandler=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6])),l=t(r(d[7])),p=r(d[8]),y=t(r(d[9])),h=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=P(n);if(o&&o.has(t))return o.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var f=u?Object.getOwnPropertyDescriptor(t,s):null;f&&(f.get||f.set)?Object.defineProperty(c,s,f):c[s]=t[s]}c.default=t,o&&o.set(t,c);return c})(r(d[10])),_=r(d[11]),v=r(d[12]),k=r(d[13]);function P(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(P=function(t){return t?o:n})(t)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var K=this&&this.__awaiter||function(t,n,o,c){return new(o||(o=Promise))(function(u,s){function f(t){try{p(c.next(t))}catch(t){s(t)}}function l(t){try{p(c.throw(t))}catch(t){s(t)}}function p(t){var n;t.done?u(t.value):(n=t.value,n instanceof o?n:new o(function(t){t(n)})).then(f,l)}p((c=c.apply(t,n||[])).next())})},w=(0,p.getLogger)(__filename),x=5e3,A=(function(t){(0,s.default)(A,t);var p,_,P=(p=A,_=b(),function(){var t,n=(0,l.default)(p);if(_){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function A(t){var n;return(0,o.default)(this,A),(n=P.call(this,t))._key=void 0,n._conferenceJoined=!1,n._olmAdapter=new v.OlmAdapter(t),n._rotateKey=(0,y.default)(n._rotateKeyImpl,x),n._ratchetKey=(0,y.default)(n._ratchetKeyImpl,x),n._olmAdapter.on(v.OlmAdapter.events.PARTICIPANT_KEY_UPDATED,n._onParticipantKeyUpdated.bind((0,u.default)(n))),n.conference.on(h.PARTICIPANT_PROPERTY_CHANGED,n._onParticipantPropertyChanged.bind((0,u.default)(n))),n.conference.on(h.USER_JOINED,n._onParticipantJoined.bind((0,u.default)(n))),n.conference.on(h.USER_LEFT,n._onParticipantLeft.bind((0,u.default)(n))),n.conference.on(h.CONFERENCE_JOINED,function(){n._conferenceJoined=!0}),n}return(0,c.default)(A,[{key:"_setEnabled",value:function(t){return K(this,void 0,void 0,n.default.mark(function o(){var c;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return n.next=3,this._olmAdapter.initSessions();case 3:n.next=6;break;case 5:this._olmAdapter.clearAllParticipantsSessions();case 6:return this._key=!!t&&this._generateKey(),n.next=9,this._olmAdapter.updateKey(this._key);case 9:c=n.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,c);case 11:case"end":return n.stop()}},o,this)}))}},{key:"_onParticipantPropertyChanged",value:function(t,o,c,u){return K(this,void 0,void 0,n.default.mark(function c(){return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=o,n.next='e2ee.idKey'===n.t0?3:'e2ee.enabled'===n.t0?5:7;break;case 3:return w.debug("Participant "+t.getId()+" updated their id key: "+u),n.abrupt("break",7);case 5:return!u&&this.enabled&&this._olmAdapter.clearParticipantSession(t),n.abrupt("break",7);case 7:case"end":return n.stop()}},c,this)}))}},{key:"_onParticipantJoined",value:function(){this._conferenceJoined&&this.enabled&&this._ratchetKey()}},{key:"_onParticipantLeft",value:function(t){this.e2eeCtx.cleanup(t),this.enabled&&this._rotateKey()}},{key:"_rotateKeyImpl",value:function(){return K(this,void 0,void 0,n.default.mark(function t(){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w.debug('Rotating key'),this._key=this._generateKey(),t.next=4,this._olmAdapter.updateKey(this._key);case 4:o=t.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,o);case 6:case"end":return t.stop()}},t,this)}))}},{key:"_ratchetKeyImpl",value:function(){return K(this,void 0,void 0,n.default.mark(function t(){var o,c,u;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w.debug('Ratchetting key'),t.next=3,(0,k.importKey)(this._key);case 3:return o=t.sent,t.next=6,(0,k.ratchet)(o);case 6:c=t.sent,this._key=new Uint8Array(c),u=this._olmAdapter.updateCurrentKey(this._key),this.e2eeCtx.setKey(this.conference.myUserId(),this._key,u);case 10:case"end":return t.stop()}},t,this)}))}},{key:"_onParticipantKeyUpdated",value:function(t,n,o){w.debug("Participant "+t+" updated their key"),this.e2eeCtx.setKey(t,n,o)}},{key:"_generateKey",value:function(){return window.crypto.getRandomValues(new Uint8Array(32))}}]),A})(_.KeyHandler);e.ManagedKeyHandler=A},611,[2,283,12,13,23,20,22,19,435,612,555,607,613,625]);
__d(function(g,r,i,a,m,e,d){var t='Expected a function',n=NaN,o='[object Symbol]',u=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,v=parseInt,l='object'==typeof g&&g&&g.Object===Object&&g,p='object'==typeof self&&self&&self.Object===Object&&self,b=l||p||Function('return this')(),y=Object.prototype.toString,j=Math.max,O=Math.min,h=function(){return b.Date.now()};function x(t){var n=typeof t;return!!t&&('object'==n||'function'==n)}function T(t){return!!t&&'object'==typeof t}function $(t){return'symbol'==typeof t||T(t)&&y.call(t)==o}function w(t){if('number'==typeof t)return t;if($(t))return n;if(x(t)){var o='function'==typeof t.valueOf?t.valueOf():t;t=x(o)?o+'':o}if('string'!=typeof t)return 0===t?t:+t;t=t.replace(u,'');var l=c.test(t);return l||s.test(t)?v(t.slice(2),l?2:8):f.test(t)?n:+t}m.exports=function(n,o,u){var f,c,s,v,l,p,b=0,y=!1,T=!1,$=!0;if('function'!=typeof n)throw new TypeError(t);function E(t){var o=f,u=c;return f=c=void 0,b=t,v=n.apply(u,o)}function M(t){return b=t,l=setTimeout(W,o),y?E(t):v}function N(t){var n=o-(t-p);return T?O(n,s-(t-b)):n}function S(t){var n=t-p;return void 0===p||n>=o||n<0||T&&t-b>=s}function W(){var t=h();if(S(t))return _(t);l=setTimeout(W,N(t))}function _(t){return l=void 0,$&&f?E(t):(f=c=void 0,v)}function D(){var t=h(),n=S(t);if(f=arguments,c=this,p=t,n){if(void 0===l)return M(p);if(T)return l=setTimeout(W,o),E(p)}return void 0===l&&(l=setTimeout(W,o)),v}return o=w(o)||0,x(u)&&(y=!!u.leading,s=(T='maxWait'in u)?j(w(u.maxWait)||0,o):s,$='trailing'in u?!!u.trailing:$),D.cancel=function(){void 0!==l&&clearTimeout(l),b=0,f=p=c=l=void 0},D.flush=function(){return void 0===l?v:_(h())},D}},612,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.OlmAdapter=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),_=t(r(d[8])),y=r(d[9]),p=t(r(d[10])),h=t(r(d[11])),v=r(d[12]),k=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=P(n);if(s&&s.has(t))return s.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=u?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}o.default=t,s&&s.set(t,o);return o})(r(d[13])),E=t(r(d[14])),b=t(r(d[15])),I=r(d[16]);function P(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(P=function(t){return t?s:n})(t)}function w(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=x(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(t,n){if(t){if("string"==typeof t)return A(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?A(t,n):void 0}}function A(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var O=this&&this.__awaiter||function(t,n,s,o){return new(s||(s=Promise))(function(u,c){function l(t){try{_(o.next(t))}catch(t){c(t)}}function f(t){try{_(o.throw(t))}catch(t){c(t)}}function _(t){var n;t.done?u(t.value):(n=t.value,n instanceof s?n:new s(function(t){t(n)})).then(l,f)}_((o=o.apply(t,n||[])).next())})},S=(0,y.getLogger)(__filename),M='error',R='key-info',C='key-info-ack',K='session-ack',U='session-init',D=Symbol('OlmData'),N={OLM_ID_KEY_READY:'olm.id_key_ready',PARTICIPANT_E2EE_CHANNEL_READY:'olm.participant_e2ee_channel_ready',PARTICIPANT_KEY_UPDATED:'olm.partitipant_key_updated'},j=(function(t){(0,l.default)(x,t);var y,b,P=(y=x,b=T(),function(){var t,n=(0,_.default)(y);if(b){var s=(0,_.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function x(t){var n;return(0,o.default)(this,x),(n=P.call(this))._conf=t,n._init=new E.default,n._key=void 0,n._keyIndex=-1,n._reqs=new Map,n._sessionInitialization=void 0,x.isSupported()?(n._bootstrapOlm(),n._conf.on(k.ENDPOINT_MESSAGE_RECEIVED,n._onEndpointMessageReceived.bind((0,c.default)(n))),n._conf.on(k.CONFERENCE_LEFT,n._onConferenceLeft.bind((0,c.default)(n))),n._conf.on(k.USER_LEFT,n._onParticipantLeft.bind((0,c.default)(n))),n._conf.on(k.PARTICIPANT_PROPERTY_CHANGED,n._onParticipantPropertyChanged.bind((0,c.default)(n)))):n._init.reject(new Error('Olm not supported')),n}return(0,u.default)(x,[{key:"initSessions",value:function(){return O(this,void 0,void 0,n.default.mark(function t(){var s,o,u,c,l;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._sessionInitialization){t.next=4;break}throw new Error('OlmAdapter initSessions called multiple times');case 4:return this._sessionInitialization=new E.default,t.next=7,this._init;case 7:for(s=[],o=this._conf.myUserId(),u=w(this._conf.getParticipants());!(c=u()).done;)(l=c.value).hasFeature(I.FEATURE_E2EE)&&o<l.getId()&&s.push(this._sendSessionInit(l));return t.next=12,Promise.allSettled(s);case 12:this._sessionInitialization.resolve(),this._sessionInitialization=void 0;case 14:case"end":return t.stop()}},t,this)}))}},{key:"updateKey",value:function(t){return O(this,void 0,void 0,n.default.mark(function o(){var u,c,l,f,_,y=this;return n.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this._key=t,this._keyIndex++,u=[],c=n.default.mark(function t(){var o,c,l,f,p,h;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=_.getId(),(l=y._getParticipantOlmData(_)).session){t.next=5;break}return S.warn("Tried to send key to participant "+c+" but we have no session"),t.abrupt("return","continue");case 5:f=(0,v.v4)(),o={},(0,s.default)(o,I.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(o,"olm",{type:R,data:{ciphertext:y._encryptKeyInfo(l.session),uuid:f}}),p=o,(h=new E.default).setRejectTimeout(5e3),h.catch(function(){y._reqs.delete(f)}),y._reqs.set(f,h),u.push(h),y._sendMessage(p,c);case 13:case"end":return t.stop()}},t)}),l=w(this._conf.getParticipants());case 5:if((f=l()).done){o.next=13;break}return _=f.value,o.delegateYield(c(),"t0",8);case 8:if("continue"!==o.t0){o.next=11;break}return o.abrupt("continue",11);case 11:o.next=5;break;case 13:return o.next=15,Promise.allSettled(u);case 15:return o.abrupt("return",this._keyIndex);case 16:case"end":return o.stop()}},o,this)}))}},{key:"updateCurrentKey",value:function(t){return this._key=t,this._keyIndex}},{key:"clearParticipantSession",value:function(t){var n=this._getParticipantOlmData(t);n.session&&(n.session.free(),n.session=void 0)}},{key:"clearAllParticipantsSessions",value:function(){for(var t,n=w(this._conf.getParticipants());!(t=n()).done;){var s=t.value;this.clearParticipantSession(s)}}},{key:"_bootstrapOlm",value:function(){return O(this,void 0,void 0,n.default.mark(function t(){var s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return S.debug('Initializing Olm...'),t.prev=1,t.next=4,Olm.init();case 4:this._olmAccount=new Olm.Account,this._olmAccount.create(),s=JSON.parse(this._olmAccount.identity_keys()),this._idKey=s.curve25519,S.debug("Olm "+Olm.get_library_version().join('.')+" initialized"),this._init.resolve(),this._onIdKeyReady(this._idKey),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),S.error('Failed to initialize Olm',t.t0),this._init.reject(t.t0);case 17:case"end":return t.stop()}},t,this,[[1,13]])}))}},{key:"_onIdKeyReady",value:function(t){S.debug("Olm id key ready: "+t),this._conf.setLocalParticipantProperty('e2ee.idKey',t)}},{key:"_onParticipantE2EEChannelReady",value:function(t){S.debug("E2EE channel with participant "+t+" is ready")}},{key:"_encryptKeyInfo",value:function(t){var n={};return void 0!==this._key&&(n.key=!!this._key&&p.default.fromByteArray(this._key),n.keyIndex=this._keyIndex),t.encrypt(JSON.stringify(n))}},{key:"_getParticipantOlmData",value:function(t){return t[D]=t[D]||{},t[D]}},{key:"_onConferenceLeft",value:function(){return O(this,void 0,void 0,n.default.mark(function t(){var s,o,u;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return S.debug('Conference left'),t.next=3,this._init;case 3:for(s=w(this._conf.getParticipants());!(o=s()).done;)u=o.value,this._onParticipantLeft(u.getId(),u);this._olmAccount&&(this._olmAccount.free(),this._olmAccount=void 0);case 5:case"end":return t.stop()}},t,this)}))}},{key:"_onEndpointMessageReceived",value:function(t,o){return O(this,void 0,void 0,n.default.mark(function u(){var c,l,f,_,y,v,k,E,b,P,w,x,A,T,O,D,j,q,J,L,z,F,B,W,G,H;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("olm"===o[I.JITSI_MEET_MUC_TYPE]){n.next=2;break}return n.abrupt("return");case 2:if(o.olm){n.next=5;break}return S.warn('Incorrectly formatted message'),n.abrupt("return");case 5:return n.next=7,this._init;case 7:c=o.olm,l=t.getId(),f=this._getParticipantOlmData(t),n.t0=c.type,n.next=n.t0===U?13:n.t0===K?15:n.t0===M?17:n.t0===R?19:n.t0===C?21:23;break;case 13:return f.session?(S.warn("Participant "+l+" already has a session"),this._sendError(t,'Session already established')):((y=new Olm.Session).create_outbound(this._olmAccount,c.data.idKey,c.data.otKey),f.session=y,_={},(0,s.default)(_,I.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(_,"olm",{type:K,data:{ciphertext:this._encryptKeyInfo(y),uuid:c.data.uuid}}),v=_,this._sendMessage(v,l),this._onParticipantE2EEChannelReady(l)),n.abrupt("break",23);case 15:return f.session?(S.warn("Participant "+l+" already has a session"),this._sendError(t,'No session found')):c.data.uuid===f.pendingSessionUuid?(k=c.data.ciphertext,E=this._reqs.get(c.data.uuid),(b=new Olm.Session).create_inbound(this._olmAccount,k.body),this._olmAccount.remove_one_time_keys(b),P=b.decrypt(k.type,k.body),f.session=b,f.pendingSessionUuid=void 0,this._onParticipantE2EEChannelReady(l),this._reqs.delete(c.data.uuid),E.resolve(),(w=Y(P)).key&&(x=p.default.toByteArray(w.key),A=w.keyIndex,f.lastKey=x,this.eventEmitter.emit(N.PARTICIPANT_KEY_UPDATED,l,x,A))):(S.warn('Received ACK with the wrong UUID'),this._sendError(t,'Invalid UUID')),n.abrupt("break",23);case 17:return S.error(c.data.error),n.abrupt("break",23);case 19:return f.session?(T=c.data.ciphertext,O=f.session.decrypt(T.type,T.body),void 0!==(D=Y(O)).key&&void 0!==D.keyIndex&&(q=!!D.key&&p.default.toByteArray(D.key),J=D.keyIndex,(0,h.default)(f.lastKey,q)||(f.lastKey=q,this.eventEmitter.emit(N.PARTICIPANT_KEY_UPDATED,l,q,J)),j={},(0,s.default)(j,I.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(j,"olm",{type:C,data:{ciphertext:this._encryptKeyInfo(f.session),uuid:c.data.uuid}}),L=j,this._sendMessage(L,l))):(S.debug("Received key info message from "+l+" but we have no session for them!"),this._sendError(t,'No session found while processing key-info')),n.abrupt("break",23);case 21:return f.session?(z=c.data.ciphertext,F=f.session.decrypt(z.type,z.body),void 0!==(B=Y(F)).key&&void 0!==B.keyIndex&&(W=!!B.key&&p.default.toByteArray(B.key),G=B.keyIndex,(0,h.default)(f.lastKey,W)||(f.lastKey=W,this.eventEmitter.emit(N.PARTICIPANT_KEY_UPDATED,l,W,G))),H=this._reqs.get(c.data.uuid),this._reqs.delete(c.data.uuid),H.resolve()):(S.debug("Received key info ack message from "+l+" but we have no session for them!"),this._sendError(t,'No session found while processing key-info-ack')),n.abrupt("break",23);case 23:case"end":return n.stop()}},u,this)}))}},{key:"_onParticipantLeft",value:function(t,n){S.debug("Participant "+t+" left"),this.clearParticipantSession(n)}},{key:"_onParticipantPropertyChanged",value:function(t,o,u,c){return O(this,void 0,void 0,n.default.mark(function u(){var l,f,_,y,p,h,k,b=this;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=o,n.next='e2ee.enabled'===n.t0?3:24;break;case 3:if(!c||!this._conf.isE2EEEnabled()){n.next=23;break}return l=this._conf.myUserId(),f=t.getId(),n.next=8,t.getFeatures();case 8:if(!(n.sent.has(I.FEATURE_E2EE)&&l<f)){n.next=23;break}if(!this._sessionInitialization){n.next=13;break}return n.next=13,this._sessionInitialization;case 13:return n.next=15,this._sendSessionInit(t);case 15:y=this._getParticipantOlmData(t),p=(0,v.v4)(),(h=new E.default).setRejectTimeout(5e3),h.catch(function(){b._reqs.delete(p),y.pendingSessionUuid=void 0}),this._reqs.set(p,h),_={},(0,s.default)(_,I.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(_,"olm",{type:R,data:{ciphertext:this._encryptKeyInfo(y.session),uuid:p}}),k=_,this._sendMessage(k,f);case 23:return n.abrupt("break",24);case 24:case"end":return n.stop()}},u,this)}))}},{key:"_sendError",value:function(t,n){var o,u=t.getId(),c=(o={},(0,s.default)(o,I.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(o,"olm",{type:M,data:{error:n}}),o);this._sendMessage(c,u)}},{key:"_sendMessage",value:function(t,n){this._conf.sendMessage(t,n)}},{key:"_sendSessionInit",value:function(t){var n,o=this,u=t.getId(),c=this._getParticipantOlmData(t);if(c.session)return S.warn("Tried to send session-init to "+u+" but we already have a session"),Promise.reject();if(void 0!==c.pendingSessionUuid)return S.warn("Tried to send session-init to "+u+" but we already have a pending session"),Promise.reject();this._olmAccount.generate_one_time_keys(1);var l=JSON.parse(this._olmAccount.one_time_keys()),f=Object.values(l.curve25519)[0];if(!f)return Promise.reject(new Error('No one-time-keys generated'));this._olmAccount.mark_keys_as_published();var _=(0,v.v4)(),y=(n={},(0,s.default)(n,I.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(n,"olm",{type:U,data:{idKey:this._idKey,otKey:f,uuid:_}}),n),p=new E.default;return p.setRejectTimeout(5e3),p.catch(function(){o._reqs.delete(_),c.pendingSessionUuid=void 0}),this._reqs.set(_,p),this._sendMessage(y,u),c.pendingSessionUuid=_,p}}],[{key:"isSupported",value:function(){return void 0!==window.Olm}}]),x})(b.default);function Y(t){try{return JSON.parse(t)}catch(t){return{}}}e.OlmAdapter=j,j.events=N},613,[2,283,253,12,13,23,20,22,19,435,614,559,615,555,608,609,602]);
__d(function(g,r,i,a,m,e,d){'use strict';e.byteLength=function(t){var n=f(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,c=f(t),C=c[0],y=c[1],s=new o(A(t,C,y)),v=0,l=y>0?C-4:C;for(u=0;u<l;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],s[v++]=h>>16&255,s[v++]=h>>8&255,s[v++]=255&h;2===y&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,s[v++]=255&h);1===y&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,s[v++]=h>>8&255,s[v++]=255&h);return s},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],f=0,A=h-u;f<A;f+=16383)c.push(C(n,f,f+16383>A?A:f+16383));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0,c=h.length;u<c;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function f(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function A(t,n,o){return 3*(n+o)/4-o}function C(n,o,h){for(var u,c,f=[],A=o;A<h;A+=3)u=(n[A]<<16&16711680)+(n[A+1]<<8&65280)+(255&n[A+2]),f.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return f.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},614,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return f.default}});var t=o(r(d[0])),n=o(r(d[1])),u=o(r(d[2])),f=o(r(d[3]));function o(t){return t&&t.__esModule?t:{default:t}}},615,[616,619,622,623]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o,u=s(r(d[0])),l=s(r(d[1]));function s(n){return n&&n.__esModule?n:{default:n}}var t=0,c=0;var v=function(s,v,f){var _=v&&f||0,k=v||[],q=(s=s||{}).node||n,w=void 0!==s.clockseq?s.clockseq:o;if(null==q||null==w){var M=s.random||(s.rng||u.default)();null==q&&(q=n=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==w&&(w=o=16383&(M[6]<<8|M[7]))}var h=void 0!==s.msecs?s.msecs:Date.now(),b=void 0!==s.nsecs?s.nsecs:c+1,j=h-t+(b-c)/1e4;if(j<0&&void 0===s.clockseq&&(w=w+1&16383),(j<0||h>t)&&void 0===s.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");t=h,c=b,o=w;var p=(1e4*(268435455&(h+=122192928e5))+b)%4294967296;k[_++]=p>>>24&255,k[_++]=p>>>16&255,k[_++]=p>>>8&255,k[_++]=255&p;var y=h/4294967296*1e4&268435455;k[_++]=y>>>8&255,k[_++]=255&y,k[_++]=y>>>24&15|16,k[_++]=y>>>16&255,k[_++]=w>>>8|128,k[_++]=255&w;for(var C=0;C<6;++C)k[_+C]=q[C];return v||(0,l.default)(k)};e.default=v},616,[617,618]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!t)throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return t(o)};var t='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16)},617,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;for(var t=[],u=0;u<256;++u)t.push((u+256).toString(16).substr(1));var o=function(u,o){var n=o||0,s=t;return(s[u[n+0]]+s[u[n+1]]+s[u[n+2]]+s[u[n+3]]+'-'+s[u[n+4]]+s[u[n+5]]+'-'+s[u[n+6]]+s[u[n+7]]+'-'+s[u[n+8]]+s[u[n+9]]+'-'+s[u[n+10]]+s[u[n+11]]+s[u[n+12]]+s[u[n+13]]+s[u[n+14]]+s[u[n+15]]).toLowerCase()};e.default=o},618,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}var l=(0,t.default)('v3',48,u.default);e.default=l},619,[620,621]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,s,y){function p(t,f,c,p){var v=c&&p||0;if('string'==typeof t&&(t=u(t)),'string'==typeof f&&(f=o(f)),!Array.isArray(t))throw TypeError('value must be an array of bytes');if(!Array.isArray(f)||16!==f.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');var b=y(f.concat(t));if(b[6]=15&b[6]|s,b[8]=63&b[8]|128,c)for(var l=0;l<16;++l)c[v+l]=b[l];return c||(0,n.default)(b)}try{p.name=t}catch(t){}return p.DNS=f,p.URL=c,p},e.URL=e.DNS=void 0;var t,n=(t=r(d[0]))&&t.__esModule?t:{default:t};function o(t){var n=[];return t.replace(/[a-fA-F0-9]{2}/g,function(t){n.push(parseInt(t,16))}),n}function u(t){t=unescape(encodeURIComponent(t));for(var n=[],o=0;o<t.length;++o)n.push(t.charCodeAt(o));return n}var f='6ba7b810-9dad-11d1-80b4-00c04fd430c8';e.DNS=f;var c='6ba7b811-9dad-11d1-80b4-00c04fd430c8';e.URL=c},620,[618]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){for(var t=[],u=32*n.length,f=0;f<u;f+=8){var o=n[f>>5]>>>f%32&255,c=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);t.push(c)}return t}function t(n){return 14+(n+64>>>9<<4)+1}function u(n,u){n[u>>5]|=128<<u%32,n[t(u)-1]=u;for(var f=1732584193,c=-271733879,p=-1732584194,A=271733878,y=0;y<n.length;y+=16){var _=f,b=c,U=p,w=A;c=s(c=s(c=s(c=s(c=l(c=l(c=l(c=l(c=h(c=h(c=h(c=h(c=v(c=v(c=v(c=v(c,p=v(p,A=v(A,f=v(f,c,p,A,n[y],7,-680876936),c,p,n[y+1],12,-389564586),f,c,n[y+2],17,606105819),A,f,n[y+3],22,-1044525330),p=v(p,A=v(A,f=v(f,c,p,A,n[y+4],7,-176418897),c,p,n[y+5],12,1200080426),f,c,n[y+6],17,-1473231341),A,f,n[y+7],22,-45705983),p=v(p,A=v(A,f=v(f,c,p,A,n[y+8],7,1770035416),c,p,n[y+9],12,-1958414417),f,c,n[y+10],17,-42063),A,f,n[y+11],22,-1990404162),p=v(p,A=v(A,f=v(f,c,p,A,n[y+12],7,1804603682),c,p,n[y+13],12,-40341101),f,c,n[y+14],17,-1502002290),A,f,n[y+15],22,1236535329),p=h(p,A=h(A,f=h(f,c,p,A,n[y+1],5,-165796510),c,p,n[y+6],9,-1069501632),f,c,n[y+11],14,643717713),A,f,n[y],20,-373897302),p=h(p,A=h(A,f=h(f,c,p,A,n[y+5],5,-701558691),c,p,n[y+10],9,38016083),f,c,n[y+15],14,-660478335),A,f,n[y+4],20,-405537848),p=h(p,A=h(A,f=h(f,c,p,A,n[y+9],5,568446438),c,p,n[y+14],9,-1019803690),f,c,n[y+3],14,-187363961),A,f,n[y+8],20,1163531501),p=h(p,A=h(A,f=h(f,c,p,A,n[y+13],5,-1444681467),c,p,n[y+2],9,-51403784),f,c,n[y+7],14,1735328473),A,f,n[y+12],20,-1926607734),p=l(p,A=l(A,f=l(f,c,p,A,n[y+5],4,-378558),c,p,n[y+8],11,-2022574463),f,c,n[y+11],16,1839030562),A,f,n[y+14],23,-35309556),p=l(p,A=l(A,f=l(f,c,p,A,n[y+1],4,-1530992060),c,p,n[y+4],11,1272893353),f,c,n[y+7],16,-155497632),A,f,n[y+10],23,-1094730640),p=l(p,A=l(A,f=l(f,c,p,A,n[y+13],4,681279174),c,p,n[y],11,-358537222),f,c,n[y+3],16,-722521979),A,f,n[y+6],23,76029189),p=l(p,A=l(A,f=l(f,c,p,A,n[y+9],4,-640364487),c,p,n[y+12],11,-421815835),f,c,n[y+15],16,530742520),A,f,n[y+2],23,-995338651),p=s(p,A=s(A,f=s(f,c,p,A,n[y],6,-198630844),c,p,n[y+7],10,1126891415),f,c,n[y+14],15,-1416354905),A,f,n[y+5],21,-57434055),p=s(p,A=s(A,f=s(f,c,p,A,n[y+12],6,1700485571),c,p,n[y+3],10,-1894986606),f,c,n[y+10],15,-1051523),A,f,n[y+1],21,-2054922799),p=s(p,A=s(A,f=s(f,c,p,A,n[y+8],6,1873313359),c,p,n[y+15],10,-30611744),f,c,n[y+6],15,-1560198380),A,f,n[y+13],21,1309151649),p=s(p,A=s(A,f=s(f,c,p,A,n[y+4],6,-145523070),c,p,n[y+11],10,-1120210379),f,c,n[y+2],15,718787259),A,f,n[y+9],21,-343485551),f=o(f,_),c=o(c,b),p=o(p,U),A=o(A,w)}return[f,c,p,A]}function f(n){if(0===n.length)return[];for(var u=8*n.length,f=new Uint32Array(t(u)),o=0;o<u;o+=8)f[o>>5]|=(255&n[o/8])<<o%32;return f}function o(n,t){var u=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(u>>16)<<16|65535&u}function c(n,t,u,f,c,v){return o((h=o(o(t,n),o(f,v)))<<(l=c)|h>>>32-l,u);var h,l}function v(n,t,u,f,o,v,h){return c(t&u|~t&f,n,t,o,v,h)}function h(n,t,u,f,o,v,h){return c(t&f|u&~f,n,t,o,v,h)}function l(n,t,u,f,o,v,h){return c(t^u^f,n,t,o,v,h)}function s(n,t,u,f,o,v,h){return c(u^(t|~f),n,t,o,v,h)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=function(t){if('string'==typeof t){var o=unescape(encodeURIComponent(t));t=new Uint8Array(o.length);for(var c=0;c<o.length;++c)t[c]=o.charCodeAt(c)}return n(u(f(t),8*t.length))};e.default=p},621,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(d[0])),t=u(r(d[1]));function u(n){return n&&n.__esModule?n:{default:n}}var f=function(u,f,l){'string'==typeof u&&(f='binary'===u?new Uint8Array(16):null,u=null);var o=(u=u||{}).random||(u.rng||n.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,f){for(var v=l||0,_=0;_<16;++_)f[v+_]=o[_];return f}return(0,t.default)(o)};e.default=f},622,[617,618]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}var l=(0,t.default)('v5',80,u.default);e.default=l},623,[620,624]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n,o,f){switch(t){case 0:return n&o^~n&f;case 1:return n^o^f;case 2:return n&o^n&f^o&f;case 3:return n^o^f}}function n(t,n){return t<<n|t>>>32-n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(o){var f=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof o){var c=unescape(encodeURIComponent(o));o=[];for(var v=0;v<c.length;++v)o.push(c.charCodeAt(v))}o.push(128);for(var h=o.length/4+2,s=Math.ceil(h/16),l=new Array(s),p=0;p<s;++p){for(var w=new Uint32Array(16),y=0;y<16;++y)w[y]=o[64*p+4*y]<<24|o[64*p+4*y+1]<<16|o[64*p+4*y+2]<<8|o[64*p+4*y+3];l[p]=w}l[s-1][14]=8*(o.length-1)/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=8*(o.length-1)&4294967295;for(var M=0;M<s;++M){for(var A=new Uint32Array(80),_=0;_<16;++_)A[_]=l[M][_];for(var U=16;U<80;++U)A[U]=n(A[U-3]^A[U-8]^A[U-14]^A[U-16],1);for(var C=u[0],b=u[1],j=u[2],I=u[3],O=u[4],P=0;P<80;++P){var R=Math.floor(P/20),k=n(C,5)+t(R,b,j,I)+O+f[R]+A[P]>>>0;O=I,I=j,j=n(b,30)>>>0,b=C,C=k}u[0]=u[0]+C>>>0,u[1]=u[1]+b>>>0,u[2]=u[2]+j>>>0,u[3]=u[3]+I>>>0,u[4]=u[4]+O>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};e.default=o},624,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deriveKeys=function(t){return u(this,void 0,void 0,n.default.mark(function u(){var c,o,s;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=new ArrayBuffer,o=new TextEncoder,n.next=4,crypto.subtle.deriveKey({name:'HKDF',salt:o.encode('JFrameEncryptionKey'),hash:'SHA-256',info:c},t,{name:'AES-GCM',length:128},!1,['encrypt','decrypt']);case 4:return s=n.sent,n.abrupt("return",{material:t,encryptionKey:s});case 6:case"end":return n.stop()}},u)}))},e.importKey=function(t){return u(this,void 0,void 0,n.default.mark(function u(){return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",crypto.subtle.importKey('raw',t,'HKDF',!1,['deriveBits','deriveKey']));case 1:case"end":return n.stop()}},u)}))},e.ratchet=function(t){return u(this,void 0,void 0,n.default.mark(function u(){var c;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=new TextEncoder,n.abrupt("return",crypto.subtle.deriveBits({name:'HKDF',salt:c.encode('JFrameRatchetKey'),hash:'SHA-256',info:new ArrayBuffer},t,256));case 2:case"end":return n.stop()}},u)}))};var n=t(r(d[1])),u=this&&this.__awaiter||function(t,n,u,c){return new(u||(u=Promise))(function(o,s){function f(t){try{v(c.next(t))}catch(t){s(t)}}function p(t){try{v(c.throw(t))}catch(t){s(t)}}function v(t){var n;t.done?o(t.value):(n=t.value,n instanceof u?n:new u(function(t){t(n)})).then(f,p)}v((c=c.apply(t,n||[])).next())})}},625,[2,283]);
__d(function(g,r,i,a,m,e,d){var n='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';function t(n,t){return Math.floor(Math.random()*(t-n+1))+n}function o(n){return n[t(0,n.length-1)]}var u={randomHexDigit:function(){return o("0123456789abcdef")},randomHexString:function(n){for(var t='';n--;)t+=this.randomHexDigit();return t},randomElement:o,randomAlphanumStr:function(t){for(var u='',f=0;f<t;f+=1)u+=o(n);return u},randomInt:t};m.exports=u},626,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.parseDiscoInfo=_;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),f=r(d[6]),h=r(d[7]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=['category','type','lang','name'],p=['category','type','lang'];function y(t,n){var o=0;return p.some(function(u){return 0!==(o=t[u]>n[u]?1:t[u]<n[u]&&-1)}),o}function _(t){var n=new Set,o=new Set;return $(t).find('>query>feature').each(function(t,o){return n.add(o.getAttribute('var'))}),$(t).find('>query>identity').each(function(t,n){return o.add({type:n.getAttribute('type'),name:n.getAttribute('name'),category:n.getAttribute('category')})}),{features:n,identities:o}}var R=(function(t){(0,u.default)(F,t);var p,R,E=(p=F,R=l(),function(){var t,n=(0,c.default)(p);if(R){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function F(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'http://jitsi.org/jitsimeet';if((0,n.default)(this,F),(t=E.call(this)).node=u,t.disco=o.disco,!t.disco)throw new Error("Missing strophe-plugins (disco plugin is required)!");t.version='',t.rooms=new Set,t.externalFeatures=new Set;var s=o.emuc;return s.addListener(h.XMPPEvents.EMUC_ROOM_ADDED,function(n){return t._addChatRoom(n)}),s.addListener(h.XMPPEvents.EMUC_ROOM_REMOVED,function(n){return t._removeChatRoom(n)}),Object.keys(s.rooms).forEach(function(n){t._addChatRoom(s.rooms[n])}),f.Strophe.addNamespace('CAPS','http://jabber.org/protocol/caps'),t.disco.addFeature(f.Strophe.NS.CAPS),t}return(0,o.default)(F,[{key:"addFeature",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.addFeature(t),this._generateVersion(),u&&!this.externalFeatures.has(t)&&(this.externalFeatures.add(t),this.rooms.forEach(function(t){return n._updateRoomWithExternalFeatures(t)})),o&&this.submit()}},{key:"removeFeature",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.removeFeature(t),this._generateVersion(),u&&this.externalFeatures.has(t)&&(this.externalFeatures.delete(t),this.rooms.forEach(function(t){return n._updateRoomWithExternalFeatures(t)})),o&&this.submit()}},{key:"submit",value:function(){this.rooms.forEach(function(t){return t.sendPresence()})}},{key:"_updateRoomWithExternalFeatures",value:function(t){if(0===this.externalFeatures.size)t.removeFromPresence('features');else{var n=[];this.externalFeatures.forEach(function(t){n.push({tagName:'feature',attributes:{var:t}})}),t.addOrReplaceInPresence('features',{children:n})}}},{key:"getFeaturesAndIdentities",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return this._getDiscoInfo(t,n,o)}},{key:"_getDiscoInfo",value:function(t,n,o){var u=this;return new Promise(function(s,c){return u.disco.info(t,n,function(t){s(_(t))},c,o)})}},{key:"_addChatRoom",value:function(t){this.rooms.add(t),this._fixChatRoomPresenceMap(t),this._updateRoomWithExternalFeatures(t)}},{key:"_removeChatRoom",value:function(t){this.rooms.delete(t)}},{key:"_fixChatRoomPresenceMap",value:function(t){t.addOrReplaceInPresence('c',{attributes:{xmlns:f.Strophe.NS.CAPS,hash:"sha-1",node:this.node,ver:this.version}})}},{key:"_notifyVersionChanged",value:function(){var t=this;this.rooms.forEach(function(n){return t._fixChatRoomPresenceMap(n)})}},{key:"_generateVersion",value:function(){var t,n,o,u;this.version=(t=this.disco._identities,n=this.disco._features,o=t.sort(y).reduce(function(t,n){return v.reduce(function(t,o,u){return t+(0===u?'':'/')+(n[o]?n[o]:'')},'')+"<"},''),u=n.sort().reduce(function(t,n){return t+n+"<"},''),(0,f.b64_sha1)(o+u)),this._notifyVersionChanged()}}]),F})(t(r(d[8])).default);e.default=R},627,[2,12,13,20,22,19,560,596,609]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),h=t(r(d[6])),l=r(d[7]),p=r(d[8]);r(d[9]);var f=t(r(d[10])),_=t(r(d[11])),v=t(r(d[12])),k=t(r(d[13]));function y(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=C(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(t,n){if(t){if("string"==typeof t)return S(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?S(t,n):void 0}}function S(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var A=(0,l.getLogger)(__filename),T=(function(t){(0,c.default)(S,t);var l,f,C=(l=S,f=b(),function(){var t,n=(0,h.default)(l);if(f){var o=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function S(t){var o,c=t.enableWebsocketResume,u=t.websocketKeepAlive,h=t.websocketKeepAliveUrl,l=t.serviceUrl,f=t.shard,y=t.xmppPing;return(0,n.default)(this,S),(o=C.call(this))._options={enableWebsocketResume:void 0===c||c,pingOptions:y,shard:f,websocketKeepAlive:void 0===u?6e4:Number(u),websocketKeepAliveUrl:h},o._stropheConn=new p.Strophe.Connection(l),o._usesWebsocket=l.startsWith('ws:')||l.startsWith('wss:'),o._stropheConn.maxRetries=3,o._rawInputTracker=new v.default,o._rawInputTracker.startTracking((0,s.default)(o),o._stropheConn),o._resumeTask=new _.default(o._stropheConn),o._deferredIQs=[],o.addConnectionPlugin('ping',new k.default({getTimeSinceLastServerResponse:function(){return o.getTimeSinceLastSuccess()},onPingThresholdExceeded:function(){return o._onPingErrorThresholdExceeded()},pingOptions:y})),o._oneSuccessfulConnect=!1,o}return(0,o.default)(S,[{key:"connected",get:function(){var t=this._stropheConn&&this._stropheConn._proto&&this._stropheConn._proto.socket;return(this._status===p.Strophe.Status.CONNECTED||this._status===p.Strophe.Status.ATTACHED)&&(!this.isUsingWebSocket||t&&t.readyState===WebSocket.OPEN)}},{key:"disco",get:function(){return this._stropheConn.disco}},{key:"disconnecting",get:function(){return!0===this._stropheConn.disconnecting}},{key:"domain",get:function(){return this._stropheConn.domain}},{key:"isUsingWebSocket",get:function(){return this._usesWebsocket}},{key:"jid",get:function(){return this._stropheConn.jid}},{key:"lastResponseHeaders",get:function(){return this._stropheConn._proto&&this._stropheConn._proto.lastResponseHeaders}},{key:"logger",get:function(){return this._stropheConn.logger}},{key:"options",get:function(){return this._stropheConn.options}},{key:"pingDomain",get:function(){var t;return(null===(t=this._options.pingOptions)||void 0===t?void 0:t.domain)||this.domain}},{key:"service",get:function(){return this._stropheConn.service}},{key:"shard",set:function(t){this._options.shard=t,this._oneSuccessfulConnect&&this._maybeStartWSKeepAlive()}},{key:"status",get:function(){return this._status}},{key:"addConnectionPlugin",value:function(t,n){this[t]=n,n.init(this)}},{key:"addHandler",value:function(){var t;(t=this._stropheConn).addHandler.apply(t,arguments)}},{key:"attach",value:function(t,n,o,s){for(var c,u=arguments.length,h=new Array(u>4?u-4:0),l=4;l<u;l++)h[l-4]=arguments[l];(c=this._stropheConn).attach.apply(c,[t,n,o,this._stropheConnectionCb.bind(this,s)].concat(h))}},{key:"connect",value:function(t,n,o){for(var s,c=arguments.length,u=new Array(c>3?c-3:0),h=3;h<c;h++)u[h-3]=arguments[h];(s=this._stropheConn).connect.apply(s,[t,n,this._stropheConnectionCb.bind(this,o)].concat(u))}},{key:"_stropheConnectionCb",value:function(t,n){var o;this._status=n;var s=!1;if(n===p.Strophe.Status.CONNECTED||n===p.Strophe.Status.ATTACHED?(this._maybeEnableStreamResume(),this._usesWebsocket&&this._oneSuccessfulConnect&&this._keepAliveAndCheckShard(),this._oneSuccessfulConnect=!0,this._maybeStartWSKeepAlive(),this._processDeferredIQs(),this._resumeTask.cancel(),this.ping.startInterval((null===(o=this._options.pingOptions)||void 0===o?void 0:o.domain)||this.domain)):n===p.Strophe.Status.DISCONNECTED&&(this.ping.stopInterval(),(s=this._tryResumingConnection())||clearTimeout(this._wsKeepAlive)),!s){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];t.apply(void 0,[n].concat(u)),this.eventEmitter.emit(S.Events.CONN_STATUS_CHANGED,n)}}},{key:"_clearDeferredIQs",value:function(){for(var t,n=y(this._deferredIQs);!(t=n()).done;){t.value.reject(new Error('disconnect'))}this._deferredIQs=[]}},{key:"closeWebsocket",value:function(){this._stropheConn&&this._stropheConn._proto&&(this._stropheConn._proto._closeSocket(),this._stropheConn._proto._onClose(null))}},{key:"disconnect",value:function(){var t;this._resumeTask.cancel(),clearTimeout(this._wsKeepAlive),this._clearDeferredIQs(),(t=this._stropheConn).disconnect.apply(t,arguments)}},{key:"flush",value:function(){var t;(t=this._stropheConn).flush.apply(t,arguments)}},{key:"getTimeSinceLastSuccess",value:function(){return this._rawInputTracker.getTimeSinceLastSuccess()}},{key:"getLastFailedMessage",value:function(){return this._rawInputTracker.getLastFailedMessage()}},{key:"_maybeEnableStreamResume",value:function(){if(this._options.enableWebsocketResume){var t=this._stropheConn.streamManagement;this.isUsingWebSocket?t?t.isSupported()?t.getResumeToken()||(A.info('Enabling XEP-0198 stream management'),t.enable(!0)):A.warn('Stream resume enabled, but XEP-0198 is not supported by the server'):A.warn('Stream resume enabled, but Strophe streamManagement plugin is not installed'):A.warn('Stream resume enabled, but WebSockets are not enabled')}}},{key:"_maybeStartWSKeepAlive",value:function(){var t=this,n=this._options.websocketKeepAlive;if(this._usesWebsocket&&n>0){this._wsKeepAlive||A.info("WebSocket keep alive interval: "+n+"ms"),clearTimeout(this._wsKeepAlive);var o=n+60*Math.random()*1e3;A.debug("Scheduling next WebSocket keep-alive in "+o+"ms"),this._wsKeepAlive=setTimeout(function(){return t._keepAliveAndCheckShard().then(function(){return t._maybeStartWSKeepAlive()})},o)}}},{key:"_keepAliveAndCheckShard",value:function(){var t=this,n=this._options,o=n.shard,s=n.websocketKeepAliveUrl,c=s||this.service.replace('wss://','https://').replace('ws://','http://');return fetch(c).then(function(n){if(o){var s=n.headers.get('x-jitsi-shard');s!==o&&(A.error("Detected that shard changed from "+o+" to "+s),t.eventEmitter.emit(S.Events.CONN_SHARD_CHANGED))}}).catch(function(t){A.error("Websocket Keep alive failed for url: "+c,{error:t})})}},{key:"_processDeferredIQs",value:function(){for(var t,n=this,o=function(t){if(t.iq){clearTimeout(t.timeout);var o=Date.now()-t.start;n.sendIQ(t.iq,function(n){return t.resolve(n)},function(n){return t.reject(n)},o)}},s=y(this._deferredIQs);!(t=s()).done;){o(t.value)}this._deferredIQs=[]}},{key:"send",value:function(t){if(!this.connected)throw new Error('Not connected');this._stropheConn.send(t)}},{key:"sendIQ",value:function(t,n,o,s){if(this.connected)return this._stropheConn.sendIQ(t,n,o,s);o('Not connected')}},{key:"sendIQ2",value:function(t,n){var o=this,s=n.timeout;return new Promise(function(n,c){if(o.connected)o.sendIQ(t,function(t){return n(t)},function(t){return c(t)},s);else{var u={iq:t,resolve:n,reject:c,start:Date.now(),timeout:setTimeout(function(){u.iq=void 0,c(void 0)},s)};o._deferredIQs.push(u)}})}},{key:"_onPingErrorThresholdExceeded",value:function(){this.isUsingWebSocket&&(A.warn('Ping error threshold exceeded - killing the WebSocket'),this.closeWebsocket())}},{key:"sendPresence",value:function(t,n,o,s){this.connected?this._stropheConn.sendPresence(t,n,o,s):o('Not connected')}},{key:"sendUnavailableBeacon",value:function(){if(!navigator.sendBeacon||this._stropheConn.disconnecting||!this._stropheConn.connected)return!1;this._stropheConn._changeConnectStatus(p.Strophe.Status.DISCONNECTING),this._stropheConn.disconnecting=!0;var t=this._stropheConn._proto._buildBody().attrs({type:'terminate'}),n=(0,p.$pres)({xmlns:p.Strophe.NS.CLIENT,type:'unavailable'});t.cnode(n.tree());var o=navigator.sendBeacon(-1===this.service.indexOf('https://')?"https:"+this.service:this.service,p.Strophe.serialize(t.tree()));return A.info("Successfully send unavailable beacon "+o),this._stropheConn._proto._abortAllRequests(),this._stropheConn._doDisconnect(),!0}},{key:"_tryResumingConnection",value:function(){var t=this._stropheConn.streamManagement;return!(!t||!t.getResumeToken())&&(this._resumeTask.schedule(),!0)}}],[{key:"Events",get:function(){return{CONN_STATUS_CHANGED:'CONN_STATUS_CHANGED',CONN_SHARD_CHANGED:'CONN_SHARD_CHANGED'}}},{key:"Status",get:function(){return p.Strophe.Status}}]),S})(f.default);e.default=T},628,[2,12,13,23,20,22,19,435,560,629,609,630,633,634]);
__d(function(g,r,i,a,m,e,d){function t(t,s){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=n(t))||s&&t&&"number"==typeof t.length){o&&(t=o);var h=0;return function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,n){if(t){if("string"==typeof t)return s(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var o,h;o=this,h=function(n){'use strict';n.Strophe.addConnectionPlugin('streamManagement',{logging:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:'urn:xmpp:sm:3',_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_isSupported:!1,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function(t){this._acknowledgedStanzaListeners.push(t)},enable:function(t){if(!this._isSupported)throw new Error('The server doesn\'t support urn:xmpp:sm:3 namespace');if(this._connectionStatus!==n.Strophe.Status.CONNECTED)throw new Error('enable() can only be called in the CONNECTED state');this._c.send(n.$build('enable',{xmlns:this._NS,resume:t})),this._c.flush(),this._c.pause()},getResumeToken:function(){return this._resumeToken},isSupported:function(){return this._isSupported},resume:function(){if(!this.getResumeToken())throw new Error('No resume token');if(this._connectionStatus!==n.Strophe.Status.DISCONNECTED)throw new Error('resume() can only be called in the DISCONNECTED state');this._c.options.explicitResourceBinding=!0,this._resuming=!0,this._originalConnect.apply(this._c,this._connectArgs)},requestAcknowledgement:function(){if(this._connectionStatus!==n.Strophe.Status.CONNECTED)throw new Error('requestAcknowledgement() can only be called in the CONNECTED state');this._requestResponseIntervalCount=0,this._c.send(n.$build('r',{xmlns:this._NS}))},getOutgoingCounter:function(){return this._clientSentStanzasCounter},getIncomingCounter:function(){return this._clientProcessedStanzasCounter},init:function(t){this._c=t,n.Strophe.addNamespace('SM',this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this),this._originalConnect=this._c.connect,this._c.connect=this._interceptConnectArgs.bind(this),this._originalOnStreamFeaturesAfterSASL=this._c._onStreamFeaturesAfterSASL,this._c._onStreamFeaturesAfterSASL=this._onStreamFeaturesAfterSASL.bind(this),this._originalDoDisconnect=this._c._doDisconnect,this._c._doDisconnect=this._interceptDoDisconnect.bind(this),this._originalDisconnect=this._c.disconnect,this._c.disconnect=this._interceptDisconnect.bind(this)},_interceptDisconnect:function(){this._resumeToken=void 0,this._originalDisconnect.apply(this._c,arguments)},_interceptDoDisconnect:function(){this.getResumeToken()&&!this._resuming&&this._c.connected&&!this._c.disconnecting&&(this._resumeState={handlers:this._c.handlers,timedHandlers:this._c.timedHandlers,removeTimeds:this._c.removeTimeds,removeHandlers:this._c.removeHandlers,addTimeds:this._c.addTimeds,addHandlers:this._c.addHandlers},this._storedJid=this._c.jid,this.logging&&n.Strophe.debug('SM stored resume state, handler count: '+this._resumeState.handlers.length)),this._c._data=[],this._originalDoDisconnect.apply(this._c,arguments)},_interceptConnectArgs:function(){this._connectArgs=arguments,this._originalConnect.apply(this._c,arguments)},_onStreamFeaturesAfterSASL:function(t){return this._isSupported=t.getElementsByTagNameNS(this._NS,"sm").length>0,this._originalOnStreamFeaturesAfterSASL.apply(this._c,arguments)},statusChanged:function(t){if(this._connectionStatus=t,this.getResumeToken()||t!==n.Strophe.Status.CONNECTED&&t!==n.Strophe.Status.DISCONNECTED)if(t===n.Strophe.Status.BINDREQUIRED){for(var s in this._c.jid=this._storedJid,this._resumeState)this._c[s]=this._resumeState[s];this._c.send(n.$build('resume',{xmlns:this._NS,h:this._clientProcessedStanzasCounter,previd:this._resumeToken})),this._c.flush()}else t===n.Strophe.Status.ERROR&&(this.logging&&n.Strophe.debug('SM cleared resume token on error'),this._resumeToken=void 0);else this.logging&&n.Strophe.debug('SM reset state'),this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._resuming=!1,t===n.Strophe.Status.DISCONNECTED&&(this._isSupported=!1),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,'r'),this._ackHandler=this._c.addHandler(this._handleServerAck.bind(this),this._NS,'a'),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)),this._enabledHandler=this._c._addSysHandler(this._handleEnabled.bind(this),this._NS,'enabled'),this._resumeFailedHandler=this._c._addSysHandler(this._handleResumeFailed.bind(this),this._NS,'failed'),this._resumedHandler=this._c._addSysHandler(this._handleResumed.bind(this),this._NS,'resumed')},xmlOutput:function(t){return(n.Strophe.isTagEqual(t,'iq')||n.Strophe.isTagEqual(t,'presence')||n.Strophe.isTagEqual(t,'message'))&&this._increaseSentStanzasCounter(t),this._originalXMLOutput.call(this._c,t)},_handleEnabled:function(t){return this._isStreamManagementEnabled=!0,this._resumeToken='true'===t.getAttribute('resume')&&t.getAttribute('id'),this._c.resume(),!0},_handleResumeFailed:function(t){var s=t&&t.firstElementChild&&t.firstElementChild.tagName;return this._c._changeConnectStatus(n.Strophe.Status.ERROR,s,t),this._c._doDisconnect(),!0},_handleResumed:function(s){var o=parseInt(s.getAttribute('h'));if(this._handleAcknowledgedStanzas(o,this._serverProcesssedStanzasCounter),this._resuming=!1,this._c.do_bind=!1,this._c.authenticated=!0,this._c.restored=!0,this._unacknowledgedStanzas.length>0){this.logging&&n.Strophe.debug('SM Sending unacknowledged stanzas',this._unacknowledgedStanzas);for(var h,c=t(this._unacknowledgedStanzas);!(h=c()).done;){var u=h.value;this._c.send(u)}}else this.logging&&n.Strophe.debug('SM No unacknowledged stanzas',this._unacknowledgedStanzas);return this._c._changeConnectStatus(n.Strophe.Status.CONNECTED,null),!0},_incomingStanzaHandler:function(t){return(n.Strophe.isTagEqual(t,'iq')||n.Strophe.isTagEqual(t,'presence')||n.Strophe.isTagEqual(t,'message'))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),!0},_handleAcknowledgedStanzas:function(t,s){var o=t-s;o<0&&this._throwError('New reported stanza count lower than previous. New: '+t+' - Previous: '+s),o>this._unacknowledgedStanzas.length&&this._throwError('Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: '+o+' - Unacknowledge Stanza Count: '+this._unacknowledgedStanzas.length+' - New: '+t+' - Previous: '+s);for(var h=0;h<o;h++)for(var c=this._unacknowledgedStanzas.shift(),u=0;u<this._acknowledgedStanzaListeners.length;u++)this._acknowledgedStanzaListeners[u](c);this.logging&&this._unacknowledgedStanzas.length>0&&n.Strophe.warn('SM Unacknowledged stanzas',this._unacknowledgedStanzas),this._serverProcesssedStanzasCounter=t,this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_handleServerAck:function(t){var n=parseInt(t.getAttribute('h'));return this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send(n.$build('a',{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(t){var s=this;if(this._isStreamManagementEnabled){if(-1!==this._unacknowledgedStanzas.indexOf(t))return;this._unacknowledgedStanzas.push(t),this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&setTimeout(function(){s._connectionStatus===n.Strophe.Status.CONNECTED&&s.requestAcknowledgement()},1))}},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++},_throwError:function(t){throw n.Strophe.error(t),new Error(t)}})},'object'==typeof e&&void 0!==m?h(r(d[0])):'function'==typeof define&&define.amd?define(['strophe.js'],h):h((o=o||self).window)},629,[560]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=r(d[3]),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=l(n);if(s&&s.has(t))return s.get(t);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var h=o?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(u,c,h):u[c]=t[c]}u.default=t,s&&s.set(t,u);return u})(r(d[4])),c=r(d[5]);function l(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(l=function(t){return t?s:n})(t)}var h=(0,u.getLogger)(__filename),f=(function(){function t(s){(0,n.default)(this,t),this._stropheConn=s,this._resumeRetryN=0,this._retryDelay=void 0}return(0,s.default)(t,[{key:"retryDelay",get:function(){return this._retryDelay}},{key:"schedule",value:function(){var t=this;this._cancelResume(),this._resumeRetryN+=1,this._networkOnlineListener=o.default.addEventListener(o.NETWORK_INFO_EVENT,function(n){n.isOnline?t._scheduleResume():t._cancelResume()}),o.default.isOnline()&&this._scheduleResume()}},{key:"_scheduleResume",value:function(){var t=this;this._resumeTimeout||(this._resumeRetryN=Math.min(3,this._resumeRetryN),this._retryDelay=(0,c.getJitterDelay)(this._resumeRetryN,1500*this._resumeRetryN,3),h.info("Will try to resume the XMPP connection in "+this.retryDelay+"ms"),this._resumeTimeout=setTimeout(function(){return t._resumeConnection()},this.retryDelay))}},{key:"_cancelResume",value:function(){this._resumeTimeout&&(h.info('Canceling connection resume task'),clearTimeout(this._resumeTimeout),this._resumeTimeout=void 0,this._retryDelay=void 0)}},{key:"_resumeConnection",value:function(){var t=this._stropheConn.streamManagement,n=t.getResumeToken();if(n){h.info('Trying to resume the XMPP connection');var s=new URL(this._stropheConn.service),u=s.search,o=/(previd=)([\w-]+)/,c=u.match(o);c&&-1===c.indexOf(n)?u=u.replace(o,"$1"+n):c||(u+=-1===u.indexOf('?')?"?previd="+n:"&previd="+n),s.search=u,this._stropheConn.service=s.toString(),t.resume()}}},{key:"cancel",value:function(){this._cancelResume(),this._resumeRetryN=0,this._networkOnlineListener&&(this._networkOnlineListener(),this._networkOnlineListener=null)}}]),t})();e.default=f},630,[2,12,13,435,631,632]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NetworkInfo=e.NETWORK_INFO_EVENT=void 0;var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),c=r(d[6]),s=t(r(d[7]));function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}e.NETWORK_INFO_EVENT="NETWORK_INFO_CHANGED";var N=(0,c.getLogger)(__filename),O=(function(t){(0,f.default)(v,t);var c,s,O=(c=v,s=_(),function(){var t,n=(0,l.default)(c);if(s){var u=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,o.default)(this,t)});function v(){var t;return(0,n.default)(this,v),(t=O.call(this))._current={isOnline:!0},t}return(0,u.default)(v,[{key:"updateNetworkInfo",value:function(t){var n=t.isOnline;N.debug('updateNetworkInfo',{isOnline:n}),this._current={isOnline:!0===n},this.eventEmitter.emit("NETWORK_INFO_CHANGED",this._current)}},{key:"isOnline",value:function(){return!0===this._current.isOnline}}]),v})(s.default);e.NetworkInfo=O;var v=new O;e.default=v},631,[2,12,13,20,22,19,435,609]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getJitterDelay=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.floor(Math.random()*(1e3*Math.pow(n,t)-o)+o)}},632,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),u=(function(){function t(){(0,s.default)(this,t),this._lastSuccess=null,this._lastFailedMessage=null}return(0,n.default)(t,[{key:"startTracking",value:function(t,s){var n=this,u=s.rawInput;s.rawInput=function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var o=c[0];o.includes('failure')&&(n._lastFailedMessage=o),t.connected&&(n._lastSuccess=Date.now()),u.apply(s,c)}}},{key:"getLastFailedMessage",value:function(){return this._lastFailedMessage}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccess?Date.now()-this._lastSuccess:null}}]),t})();e.default=u},633,[2,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),o=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5])),c=t(r(d[6])),p=r(d[7]),f=r(d[8]),v=t(r(d[9])),h=t(r(d[10]));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var I=(0,p.getLogger)(__filename),P=1e4,y=5e3,_=2,x=(function(t){(0,s.default)(E,t);var p,h,x=(p=E,h=T(),function(){var t,n=(0,c.default)(p);if(h){var l=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function E(t){var l,o=t.getTimeSinceLastServerResponse,s=t.onPingThresholdExceeded,u=t.pingOptions,c=void 0===u?{}:u;return(0,n.default)(this,E),(l=x.call(this)).failedPings=0,l._onPingThresholdExceeded=s,l._getTimeSinceLastServerResponse=o,l.pingInterval='number'==typeof c.interval?c.interval:P,l.pingTimeout='number'==typeof c.timeout?c.timeout:y,l.pingThreshold='number'==typeof c.threshold?c.threshold:_,l.pingTimestampsToKeep=Math.round(12e4/l.pingInterval),l.pingExecIntervals=new Array(l.pingTimestampsToKeep),l}return(0,l.default)(E,[{key:"init",value:function(t){(0,o.default)((0,c.default)(E.prototype),"init",this).call(this,t),f.Strophe.addNamespace('PING','urn:xmpp:ping')}},{key:"ping",value:function(t,n,l,o){this._addPingExecutionTimestamp();var s=(0,f.$iq)({type:'get',to:t});s.c('ping',{xmlns:f.Strophe.NS.PING}),this.connection.sendIQ2(s,{timeout:o}).then(n,l)}},{key:"startInterval",value:function(t){var n=this;clearInterval(this.intervalId),this.intervalId=window.setInterval(function(){var l=Date.now();if(n._getTimeSinceLastServerResponse()<l-n._lastServerCheck)return n._addPingExecutionTimestamp(),n._lastServerCheck=l,void(n.failedPings=0);n.ping(t,function(){n._lastServerCheck=n._getTimeSinceLastServerResponse()+Date.now(),n.failedPings=0},function(t){n.failedPings+=1;var l="Ping "+(t?'error':'timeout');n.failedPings>=n.pingThreshold?(v.default.callErrorHandler(new Error(l)),I.error(l,t),n._onPingThresholdExceeded&&n._onPingThresholdExceeded()):I.warn(l,t)},n.pingTimeout)},this.pingInterval),I.info("XMPP pings will be sent every "+this.pingInterval+" ms")}},{key:"stopInterval",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,I.info('Ping interval cleared'))}},{key:"_addPingExecutionTimestamp",value:function(){this.pingExecIntervals.push((new Date).getTime()),this.pingExecIntervals.length>this.pingTimestampsToKeep&&this.pingExecIntervals.shift()}},{key:"getPingSuspendTime",value:function(){var t=this.pingExecIntervals.slice();t.push((new Date).getTime());var n=0,l=t[0];return t.forEach(function(t){var o=t-l;o>n&&(n=o),l=t}),n-=this.pingInterval,Math.max(n,0)}}]),E})(h.default);e.default=x},634,[2,12,13,17,20,22,19,435,560,584,635]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ConnectionPluginListenable=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6]));function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(){return(function(t){(0,n.default)(y,t);var l,v,h=(l=y,v=s(),function(){var t,n=(0,o.default)(l);if(v){var c=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function y(){var t;(0,f.default)(this,y);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(t=h.call.apply(h,[this].concat(u))).connection=null,t}return(0,c.default)(y,[{key:"init",value:function(t){this.connection=t}}]),y})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(function(){return(0,c.default)(function t(){(0,f.default)(this,t)})})())}var h=v();e.default=h;var y=v(l.default);e.ConnectionPluginListenable=y},635,[2,20,22,19,13,12,609]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),s=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),h=r(d[7]),f=r(d[8]),v=r(d[9]),p=t(r(d[10])),b=r(d[11]);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var M=(0,h.getLogger)(__filename),P=(function(t){(0,s.default)(J,t);var h,b,P=(h=J,b=y(),function(){var t,n=(0,c.default)(h);if(b){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function J(t){var o;return(0,n.default)(this,J),(o=P.call(this)).xmpp=t,o.rooms={},o}return(0,o.default)(J,[{key:"init",value:function(t){(0,u.default)((0,c.default)(J.prototype),"init",this).call(this,t),this.connection.addHandler(this.onPresence.bind(this),null,'presence',null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,'presence','unavailable',null),this.connection.addHandler(this.onPresenceError.bind(this),null,'presence','error',null),this.connection.addHandler(this.onMessage.bind(this),null,'message',null,null),this.connection.addHandler(this.onMute.bind(this),'http://jitsi.org/jitmeet/audio','iq','set',null,null),this.connection.addHandler(this.onMuteVideo.bind(this),'http://jitsi.org/jitmeet/video','iq','set',null,null)}},{key:"createRoom",value:function(t,n,o){var u=f.Strophe.getBareJidFromJid(t);if(this.isRoomCreated(u)){var s='You are already in the room!';throw M.error(s),new Error(s)}return this.rooms[u]=new p.default(this.connection,t,n,this.xmpp,o),this.eventEmitter.emit(v.XMPPEvents.EMUC_ROOM_ADDED,this.rooms[u]),this.rooms[u]}},{key:"isRoomCreated",value:function(t){return t in this.rooms}},{key:"doLeave",value:function(t){this.eventEmitter.emit(v.XMPPEvents.EMUC_ROOM_REMOVED,this.rooms[t]),delete this.rooms[t]}},{key:"onPresence",value:function(t){var n=t.getAttribute('from');if(t.getAttribute('type'))return!0;var o=this.rooms[f.Strophe.getBareJidFromJid(n)];return!o||($(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"201\"]").length&&o.createNonAnonymousRoom(),o.onPresence(t),!0)}},{key:"onPresenceUnavailable",value:function(t){var n=t.getAttribute('from'),o=this.rooms[f.Strophe.getBareJidFromJid(n)];return!o||(o.onPresenceUnavailable(t,n),!0)}},{key:"onPresenceError",value:function(t){var n=t.getAttribute('from'),o=this.rooms[f.Strophe.getBareJidFromJid(n)];return!o||(o.onPresenceError(t,n),!0)}},{key:"onMessage",value:function(t){var n=t.getAttribute('from'),o=this.rooms[f.Strophe.getBareJidFromJid(n)];return!o||(o.onMessage(t,n),!0)}},{key:"onMute",value:function(t){var n=t.getAttribute('from'),o=this.rooms[f.Strophe.getBareJidFromJid(n)];return!o||(o.onMute(t),!0)}},{key:"onMuteVideo",value:function(t){var n=t.getAttribute('from'),o=this.rooms[f.Strophe.getBareJidFromJid(n)];return!o||(o.onMuteVideo(t),!0)}}]),J})(b.ConnectionPluginListenable);e.default=P},636,[2,12,13,17,20,22,19,435,560,596,637,635]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.filterNodeFromPresenceJSON=T,e.parser=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),f=r(d[7]),p=t(r(d[8])),h=r(d[9]),v=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=N(n);if(o&&o.has(t))return o.get(t);var s={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=u?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(s,c,l):s[c]=t[c]}s.default=t,o&&o.set(t,s);return s})(r(d[10])),E=r(d[11]),b=r(d[12]),y=r(d[13]),P=t(r(d[14])),M=t(r(d[15])),_=t(r(d[16])),x=t(r(d[17])),j=t(r(d[18])),k=t(r(d[19])),R=t(r(d[20]));function N(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(N=function(t){return t?o:n})(t)}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var I=(0,f.getLogger)(__filename),S={packet2JSON:function(t,n){for(var o=0,s=Array.from(t.children);o<s.length;o++){for(var u=s[o],c={attributes:{},children:[],tagName:u.tagName},l=0,f=Array.from(u.attributes);l<f.length;l++){var p=f[l];c.attributes[p.name]=p.value}var v=h.Strophe.getText(u);v&&(c.value=h.Strophe.xmlunescape(v)),n.push(c),this.packet2JSON(u,c.children)}},json2packet:function(t,n){for(var o=0;o<t.length;o++){var s=t[o];s&&(n.c(s.tagName,s.attributes),s.value&&n.t(s.value),s.children&&this.json2packet(s.children,n),n.up())}}};function T(t,n){for(var o=[],s=0;s<t.length;s++)t[s].tagName===n&&o.push(t[s]);return o}e.parser=S;var w=['owner','admin','member'],C=(function(t){(0,u.default)(C,t);var f,M,N=(f=C,M=O(),function(){var t,n=(0,l.default)(f);if(M){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function C(t,o,u,c,l){var f;return(0,n.default)(this,C),(f=N.call(this)).xmpp=c,f.connection=t,f.roomjid=h.Strophe.getBareJidFromJid(o),f.myroomjid=o,f.password=u,f.replaceParticipant=!1,I.info("Joined MUC as "+f.myroomjid),f.members={},f.presMap={},f.presHandlers={},f._removeConnListeners=[],f.joined=!1,f.inProgressEmitted=!1,f.role=null,f.focusMucJid=null,f.noBridgeAvailable=!1,f.options=l||{},f.moderator=new R.default(f.roomjid,f.xmpp,f.eventEmitter,{connection:f.xmpp.options,conference:f.options}),(void 0===f.options.enableLobby||f.options.enableLobby)&&(f.lobby=new j.default((0,s.default)(f))),f.avModeration=new _.default((0,s.default)(f)),f.breakoutRooms=new x.default((0,s.default)(f)),f.initPresenceMap(l),f.lastPresences={},f.phoneNumber=null,f.phonePin=null,f.connectionTimes={},f.participantPropertyListener=null,f.locked=!1,f.transcriptionStatus=v.OFF,f}return(0,o.default)(C,[{key:"initPresenceMap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.presMap.to=this.myroomjid,this.presMap.xns='http://jabber.org/protocol/muc',this.presMap.nodes=[],t.statsId&&this.presMap.nodes.push({tagName:'stats-id',value:t.statsId}),this.presenceUpdateTime=Date.now()}},{key:"join",value:function(t,n){var o=this;return this.password=t,this.replaceParticipant=n,new Promise(function(t){o.options.disableFocus&&I.info("Conference focus disabled for "+o.roomjid),(o.options.disableFocus?Promise.resolve():o.moderator.allocateConferenceFocus()).then(function(){o.sendPresence(!0),o._removeConnListeners.push(o.connection.addEventListener(k.default.Events.CONN_STATUS_CHANGED,o.onConnStatusChanged.bind(o))),t()})})}},{key:"sendPresence",value:function(t){var n=this.presMap.to;if(this.connection&&this.connection.connected&&n&&(this.joined||t)){var o=(0,h.$pres)({to:n});t&&(this.replaceParticipant&&o.c('flip_device').up(),o.c('x',{xmlns:this.presMap.xns}),this.password&&o.c('password').t(this.password).up(),this.options.billingId&&o.c('billingid').t(this.options.billingId).up(),o.up()),S.json2packet(this.presMap.nodes,o),this.presenceSyncTime=Date.now(),this.connection.send(o),t&&this.connection.flush()}}},{key:"doLeave",value:function(){I.log('do leave',this.myroomjid);var t=(0,h.$pres)({to:this.myroomjid,type:'unavailable'});this.presMap.length=0,!this.connection.isUsingWebSocket&&this.connection.flush(),this.connection.send(t),this.connection.flush()}},{key:"discoRoomInfo",value:function(){var t=this,n=(0,h.$iq)({type:'get',to:this.roomjid}).c('query',{xmlns:h.Strophe.NS.DISCO_INFO});this.connection.sendIQ(n,function(n){var o=1===$(n).find('>query>feature[var="muc_passwordprotected"]').length;o!==t.locked&&(t.eventEmitter.emit(y.XMPPEvents.MUC_LOCK_CHANGED,o),t.locked=o);var s=$(n).find('>query>x[type="result"]>field[var="muc#roominfo_meetingId"]>value');s.length?t.setMeetingId(s.text()):I.warn('No meeting ID from backend');var u=1===$(n).find('>query>feature[var="muc_membersonly"]').length,c=$(n).find('>query>x[type="result"]>field[var="muc#roominfo_lobbyroom"]>value');t.lobby&&t.lobby.setLobbyRoomJid(c&&c.length?c.text():void 0);var l=$(n).find('>query>x[type="result"]>field[var="muc#roominfo_isbreakout"]>value'),f=Boolean(null===l||void 0===l?void 0:l.text());t.breakoutRooms._setIsBreakoutRoom(f);var p=$(n).find('>query>x[type="result"]>field[var="muc#roominfo_breakout_main_room"]>value');(null===p||void 0===p?void 0:p.length)&&t.breakoutRooms._setMainRoomJid(p.text()),u!==t.membersOnlyEnabled&&(t.membersOnlyEnabled=u,t.eventEmitter.emit(y.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,u))},function(t){P.default.callErrorHandler(t),I.error('Error getting room info: ',t)})}},{key:"setMeetingId",value:function(t){this.meetingId!==t&&(this.meetingId&&I.warn("Meeting Id changed from:"+this.meetingId+" to:"+t),this.meetingId=t,this.eventEmitter.emit(y.XMPPEvents.MEETING_ID_SET,t))}},{key:"createNonAnonymousRoom",value:function(){var t=this;if(!this.options.disableDiscoInfo){var n=(0,h.$iq)({type:'get',to:this.roomjid}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'}).c('x',{xmlns:'jabber:x:data',type:'submit'});this.connection.sendIQ(n,function(n){if(!$(n).find(">query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_whois\"]").length){var o='non-anonymous rooms not supported';return P.default.callErrorHandler(new Error(o)),void I.error(o)}var s=(0,h.$iq)({to:t.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'});s.c('x',{xmlns:'jabber:x:data',type:'submit'}),s.c('field',{var:'FORM_TYPE'}).c('value').t('http://jabber.org/protocol/muc#roomconfig').up().up(),s.c('field',{var:'muc#roomconfig_whois'}).c('value').t('anyone').up().up(),t.connection.sendIQ(s)},function(t){P.default.callErrorHandler(t),I.error('Error getting room configuration form: ',t)})}}},{key:"onConnStatusChanged",value:function(t){t===k.default.Status.CONNECTED&&this.sendPresence()}},{key:"onPresence",value:function(t){var n=this,o=t.getAttribute('from'),s={},u=t.getElementsByTagName('status')[0];u&&(s.status=u.textContent||'');var c=!1,l=!1,f=t.getElementsByTagNameNS('http://jabber.org/protocol/muc#user','x')[0],v=f&&f.getElementsByTagName('item')[0];s.isReplaceParticipant=t.getElementsByTagName('flip_device').length,s.affiliation=v&&v.getAttribute('affiliation'),s.role=v&&v.getAttribute('role');var E=v&&v.getAttribute('jid');s.jid=E,s.isFocus=E&&0===E.indexOf(this.moderator.getFocusUserJid()+"/"),s.isHiddenDomain=E&&E.indexOf('@')>0&&this.options.hiddenDomain===E.substring(E.indexOf('@')+1,E.indexOf('/'));var b=t.getElementsByTagName('nick');b[0]&&"transcriber"===b[0].innerHTML.toLowerCase()&&(s.isHiddenDomain=!0),this.eventEmitter.emit(y.XMPPEvents.PRESENCE_RECEIVED,{fromHiddenDomain:s.isHiddenDomain,presence:t});var P=t.querySelector('x');P&&P.remove();var M=[];S.packet2JSON(t,M),this.lastPresences[o]=M;for(var _=function(t){var o={},s=t.children.find(function(t){return'user'===t.tagName});if(s){o.user={};var u=['id','name','avatar'];n.options.hiddenFromRecorderFeatureEnabled&&u.push('hidden-from-recorder');for(var c=function(t){var n=s.children.find(function(n){return n.tagName===t});n&&(o.user[t]=n.value)},l=0,f=u;l<f.length;l++){c(f[l])}}var p=t.children.find(function(t){return'group'===t.tagName});return p&&(o.group=p.value),o},x=0;x<M.length;x++){var j=M[x];switch(j.tagName){case'bot':var k=j.attributes;if(!k)break;var R=k.type;s.botType=R;break;case'nick':s.nick=j.value;break;case'userId':s.id=j.value;break;case'stats-id':s.statsID=j.value;break;case'identity':s.identity=_(j);break;case'features':s.features=this._extractFeatures(j);break;case'stat':var N=j.attributes;if(!N)break;'version'===N.name&&(s.version=N.value)}}if(!this.joined&&!this.inProgressEmitted){var O=this.connectionTimes['muc.join.started']=window.performance.now();I.log('(TIME) MUC join started:\t',O),this.eventEmitter.emit(y.XMPPEvents.MUC_JOIN_IN_PROGRESS),this.inProgressEmitted=!0}if(o===this.myroomjid){var T='owner'===s.affiliation?s.role:'none';if(this.role!==T&&(this.role=T,this.eventEmitter.emit(y.XMPPEvents.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var w=this.connectionTimes['muc.joined']=window.performance.now();I.log('(TIME) MUC joined:\t',w),this.password&&(this.locked=!0),this.presenceUpdateTime>=this.presenceSyncTime&&this.sendPresence(),this.eventEmitter.emit(y.XMPPEvents.MUC_JOINED),!this.options.disableDiscoInfo&&this.discoRoomInfo()}}else if(void 0===E)I.info('Ignoring member with undefined JID');else if(void 0===this.members[o])this.members[o]=s,I.log('entered',o,s),c=void 0!==s.status,l=void 0!==s.version,s.isFocus?this._initFocus(o,s.features):(this.eventEmitter.emit(y.XMPPEvents.MUC_MEMBER_JOINED,o,s.nick,s.role,s.isHiddenDomain,s.statsID,s.status,s.identity,s.botType,s.jid,s.features,s.isReplaceParticipant),c=!1);else{var C=this.members[o];C.role!==s.role&&(C.role=s.role,this.eventEmitter.emit(y.XMPPEvents.MUC_ROLE_CHANGED,o,s.role)),C.affiliation!==s.affiliation&&(C.affiliation=s.affiliation),C.botType!==s.botType&&(C.botType=s.botType,this.eventEmitter.emit(y.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,o,s.botType)),s.isFocus&&(C.isFocus=!0,this._initFocus(o,s.features)),s.displayName&&(C.displayName=s.displayName),C.status!==s.status&&(c=!0,C.status=s.status),C.version!==s.version&&(l=!0,C.version=s.version),(0,p.default)(C.features,s.features)||(C.features=s.features,this.eventEmitter.emit(y.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,o,s.features))}for(var D=0;D<M.length;D++){var A=M[D];switch(A.tagName){case'nick':if(!s.isFocus){var F=this.xmpp.options.displayJids?h.Strophe.getResourceFromJid(o):s.nick;this.eventEmitter.emit(y.XMPPEvents.DISPLAY_NAME_CHANGED,o,F)}break;case'bridgeNotAvailable':s.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(y.XMPPEvents.BRIDGE_DOWN));break;case'conference-properties':if(s.isFocus){for(var $={},L=0;L<A.children.length;L++){var X=A.children[L].attributes;X&&X.key&&($[X.key]=X.value)}this.eventEmitter.emit(y.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,$),void 0===this.restartByTerminateSupported&&(this.restartByTerminateSupported='true'===$['support-terminate-restart'],I.info("Jicofo supports restart by terminate: "+this.supportsRestartByTerminate()))}break;case'transcription-status':var J=A.attributes;if(!J)break;var U=J.status;U&&U!==this.transcriptionStatus&&(this.transcriptionStatus=U,this.eventEmitter.emit(y.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,U));break;case'call-control':var q=A.attributes;if(!q)break;this.phoneNumber=q.phone||null,this.phonePin=q.pin||null,this.eventEmitter.emit(y.XMPPEvents.PHONE_NUMBER_CHANGED);break;default:this.processNode(A,o)}}c&&this.eventEmitter.emit(y.XMPPEvents.PRESENCE_STATUS,o,s.status),l&&I.info("Received version for "+E+": "+s.version)}},{key:"_extractFeatures",value:function(t){for(var n=new Set,o=0;o<t.children.length;o++){var s=t.children[o].attributes;s&&s.var&&n.add(s.var)}return n}},{key:"_initFocus",value:function(t,n){this.focusMucJid=t,this.focusFeatures=n}},{key:"setParticipantPropertyListener",value:function(t){this.participantPropertyListener=t}},{key:"supportsRestartByTerminate",value:function(){return this.restartByTerminateSupported}},{key:"processNode",value:function(t,n){try{var o=this.presHandlers[t.tagName];t.tagName.startsWith('jitsi_participant_')&&(o=[this.participantPropertyListener]),o&&o.forEach(function(o){o(t,h.Strophe.getResourceFromJid(n),n)})}catch(n){P.default.callErrorHandler(n),I.error("Error processing:"+t.tagName+" node.",n)}}},{key:"sendMessage",value:function(t,n){var o=(0,h.$msg)({to:this.roomjid,type:'groupchat'});'body'===n?o.c(n,{},t):o.c(n,{xmlns:'http://jitsi.org/jitmeet'},t),this.connection.send(o),this.eventEmitter.emit(y.XMPPEvents.SENDING_CHAT_MESSAGE,t)}},{key:"sendPrivateMessage",value:function(t,n,o){var s=(0,h.$msg)({to:this.roomjid+"/"+t,type:'chat'});'body'===o?s.c(o,n).up():s.c(o,{xmlns:'http://jitsi.org/jitmeet'},n).up(),this.connection.send(s),this.eventEmitter.emit(y.XMPPEvents.SENDING_PRIVATE_CHAT_MESSAGE,n)}},{key:"setSubject",value:function(t){var n=(0,h.$msg)({to:this.roomjid,type:'groupchat'});n.c('subject',t),this.connection.send(n)}},{key:"onParticipantLeft",value:function(t,n){delete this.lastPresences[t],n||(this.eventEmitter.emit(y.XMPPEvents.MUC_MEMBER_LEFT,t),this.moderator.onMucMemberLeft(t))}},{key:"onPresenceUnavailable",value:function(t,n){var o=this;if($(t).find('>ignore[xmlns="http://jitsi.org/jitmeet/"]').length)return!0;var s=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy');if(s.length){var u,c=$(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>destroy>reason");return c.length&&(u=c.text()),this.eventEmitter.emit(y.XMPPEvents.MUC_DESTROYED,u,s.attr('jid')),this.connection.emuc.doLeave(this.roomjid),!0}var l=$(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"110\"]").length,f=$(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"307\"]").length,p=Object.keys(this.members),v=$(t).find('flip_device').length;if(f){var E,b,P=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>actor');P.length&&(E=P.attr('nick'));var M=$(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>item>reason");M.length&&(b=M.text()),this.eventEmitter.emit(y.XMPPEvents.KICKED,l,E,h.Strophe.getResourceFromJid(n),b,v)}l?(p.forEach(function(t){var n=o.members[t];delete o.members[t],o.onParticipantLeft(t,n.isFocus)}),this.connection.emuc.doLeave(this.roomjid),f||this.eventEmitter.emit(y.XMPPEvents.MUC_LEFT)):(delete this.members[n],this.onParticipantLeft(n,!1))}},{key:"onMessage",value:function(t,n){var o=t.getAttribute('type');if('error'===o){var s=$(t).find('>settings-error>text').text();if(s.length)return this.eventEmitter.emit(y.XMPPEvents.SETTINGS_ERROR_RECEIVED,s),!0;var u=$(t).find('>error>text').text();return this.eventEmitter.emit(y.XMPPEvents.CHAT_ERROR_RECEIVED,u),!0}var c=$(t).find('>body').text(),l=$(t).find('>subject');if(l.length){var f=l.text();(f||''===f)&&(this.eventEmitter.emit(y.XMPPEvents.SUBJECT_CHANGED,f),I.log("Subject is changed to "+f))}var p,h=$(t).find('>delay').attr('stamp');if(!h&&(h=$(t).find('>[xmlns="jabber:x:delay"]').attr('stamp'))){var v=h.match(/(\d{4})(\d{2})(\d{2}T\d{2}:\d{2}:\d{2})/);h=v[1]+"-"+v[2]+"-"+v[3]+"Z"}if(n===this.roomjid)if($(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]').length)this.discoRoomInfo();else if((p=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>invite'))&&p.length){var E,b=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>password');b&&b.length&&(E=b.text()),this.eventEmitter.emit(y.XMPPEvents.INVITE_MESSAGE_RECEIVED,n,p.attr('from'),c,E)}var P=$(t).find('>json-message').text();if(P){var M=this.xmpp.tryParseJSONAndVerify(P);if(M&&void 0===h)return void this.eventEmitter.emit(y.XMPPEvents.JSON_MESSAGE_RECEIVED,n,M)}c&&('chat'===o?this.eventEmitter.emit(y.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,n,c,this.myroomjid,h):'groupchat'===o&&this.eventEmitter.emit(y.XMPPEvents.MESSAGE_RECEIVED,n,c,this.myroomjid,h))}},{key:"onPresenceError",value:function(t,n){if($(t).find(">error[type=\"auth\"]>not-authorized[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]").length)I.log('on password required',n),this.eventEmitter.emit(y.XMPPEvents.PASSWORD_REQUIRED);else if($(t).find(">error[type=\"cancel\"]>not-allowed[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]").length){h.Strophe.getDomainFromJid(t.getAttribute('to'))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(y.XMPPEvents.ROOM_JOIN_ERROR):(I.warn('onPresError ',t),this.eventEmitter.emit(y.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR))}else if($(t).find('>error>service-unavailable').length)I.warn('Maximum users limit for the room has been reached',t),this.eventEmitter.emit(y.XMPPEvents.ROOM_MAX_USERS_ERROR);else if($(t).find(">error[type=\"auth\"]>registration-required[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]").length){var o,s=$(t).find('>error[type="auth"]>lobbyroom');if(s.length)o=s.text();else{var u=$(t).find('>lobbyroom');u.length&&(o=u.text())}this.eventEmitter.emit(y.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,o)}else I.warn('onPresError ',t),this.eventEmitter.emit(y.XMPPEvents.ROOM_CONNECT_ERROR)}},{key:"setAffiliation",value:function(t,n){var o=(0,h.$iq)({to:this.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#admin'}).c('item',{affiliation:n,jid:h.Strophe.getBareJidFromJid(t)}).c('reason').t("Your affiliation has been changed to '"+n+"'.").up().up().up();this.connection.sendIQ(o,function(o){return I.log('Set affiliation of participant with jid: ',t,'to',n,o)},function(t){return I.log('Set affiliation of participant error: ',t)})}},{key:"kick",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'You have been kicked.',o=(0,h.$iq)({to:this.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#admin'}).c('item',{nick:h.Strophe.getResourceFromJid(t),role:'none'}).c('reason').t(n).up().up().up();this.connection.sendIQ(o,function(n){return I.log('Kick participant with jid: ',t,n)},function(t){return I.log('Kick participant error: ',t)})}},{key:"lockRoom",value:function(t,n,o,s){var u=this;this.connection.sendIQ((0,h.$iq)({to:this.roomjid,type:'get'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'}),function(c){if($(c).find(">query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_roomsecret\"]").length){var l=(0,h.$iq)({to:u.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'});l.c('x',{xmlns:'jabber:x:data',type:'submit'}),l.c('field',{var:'FORM_TYPE'}).c('value').t('http://jabber.org/protocol/muc#roomconfig').up().up(),l.c('field',{var:'muc#roomconfig_roomsecret'}).c('value').t(t).up().up(),l.c('field',{var:'muc#roomconfig_passwordprotectedroom'}).c('value').t(null===t||0===t.length?'0':'1').up().up(),u.membersOnlyEnabled&&l.c('field',{var:'muc#roomconfig_membersonly'}).c('value').t('true').up().up(),l.c('field',{var:'muc#roomconfig_whois'}).c('value').t('anyone').up().up(),u.connection.sendIQ(l,function(){u.password=t,n()},o)}else s()},o)}},{key:"setMembersOnly",value:function(t,n,o){var s=this;t&&Object.values(this.members).filter(function(t){return!t.isFocus}).length&&Object.values(this.members).forEach(function(t){t.jid&&!w.includes(t.affiliation)&&s.xmpp.connection.sendIQ((0,h.$iq)({to:s.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#admin'}).c('item',{affiliation:'member',jid:h.Strophe.getBareJidFromJid(t.jid)}).up().up())});var u=o||function(){};this.xmpp.connection.sendIQ((0,h.$iq)({to:this.roomjid,type:'get'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'}),function(o){if($(o).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_membersonly"]').length){var c=(0,h.$iq)({to:s.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'});c.c('x',{xmlns:'jabber:x:data',type:'submit'}),c.c('field',{var:'FORM_TYPE'}).c('value').t('http://jabber.org/protocol/muc#roomconfig').up().up(),c.c('field',{var:'muc#roomconfig_membersonly'}).c('value').t(t?'true':'false').up().up(),s.locked&&c.c('field',{var:'muc#roomconfig_passwordprotectedroom'}).c('value').t('1').up().up(),s.xmpp.connection.sendIQ(c,n,u)}else u(new Error('Setting members only room not supported!'))},u)}},{key:"addToPresence",value:function(t,n){return this.addOrReplaceInPresence(t,n)}},{key:"addOrReplaceInPresence",value:function(t,n){n.tagName=t;var o=this.presMap.nodes.filter(function(n){return t===n.tagName});return(1!==o.length||!(0,p.default)(o[0],n))&&(this.removeFromPresence(t),this.presMap.nodes.push(n),this.presenceUpdateTime=Date.now(),!0)}},{key:"getFromPresence",value:function(t){return this.presMap.nodes.find(function(n){return t===n.tagName})}},{key:"removeFromPresence",value:function(t){var n=this.presMap.nodes.filter(function(n){return t!==n.tagName});this.presMap.nodes=n,this.presenceUpdateTime=Date.now()}},{key:"addPresenceListener",value:function(t,n){if('function'!=typeof n)throw new Error('"handler" is not a function');var o=this.presHandlers[t];o||(this.presHandlers[t]=o=[]),-1===o.indexOf(n)?o.push(n):I.warn("Trying to add the same handler more than once for: "+t)}},{key:"removePresenceListener",value:function(t,n){var o=this.presHandlers[t],s=o?o.indexOf(n):-1;-1!==s?o.splice(s,1):I.warn("Handler for: "+t+" was not registered")}},{key:"isFocus",value:function(t){var n=this.members[t];return n?n.isFocus:null}},{key:"isModerator",value:function(){return'moderator'===this.role}},{key:"getMemberRole",value:function(t){return this.members[t]?this.members[t].role:null}},{key:"addAudioInfoToPresence",value:function(t){return!(t&&!this.getFromPresence("audiomuted"))&&this.addOrReplaceInPresence("audiomuted",{value:t.toString()})}},{key:"addVideoInfoToPresence",value:function(t){return!(t&&!this.getFromPresence("videomuted"))&&this.addOrReplaceInPresence("videomuted",{value:t.toString()})}},{key:"getMediaPresenceInfo",value:function(t,n){var o=this.lastPresences[this.roomjid+"/"+t];if(!o)return null;var s={muted:!0,videoType:n===E.MediaType.VIDEO?b.VideoType.CAMERA:void 0},u=null;if(n===E.MediaType.AUDIO)u=T(o,'audiomuted');else{if(n!==E.MediaType.VIDEO)return I.error("Unsupported media type: "+n),null;u=T(o,'videomuted');var c=T(o,'jitsi_participant_codecType'),l=T(o,'videoType');l.length>0&&(s.videoType=l[0].value),c.length>0&&(s.codecType=c[0].value)}return u.length>0&&(s.muted='true'===u[0].value),s}},{key:"getLastPresence",value:function(t){return this.lastPresences[this.roomjid+"/"+t]}},{key:"isSIPCallingSupported",value:function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()}},{key:"dial",value:function(t){return this.connection.rayo.dial(t,'fromnumber',h.Strophe.getBareJidFromJid(this.myroomjid),this.password,this.focusMucJid)}},{key:"hangup",value:function(){return this.connection.rayo.hangup()}},{key:"getLobby",value:function(){return this.lobby}},{key:"getAVModeration",value:function(){return this.avModeration}},{key:"getBreakoutRooms",value:function(){return this.breakoutRooms}},{key:"getPhoneNumber",value:function(){return this.phoneNumber}},{key:"getPhonePin",value:function(){return this.phonePin}},{key:"getMeetingId",value:function(){return this.meetingId}},{key:"muteParticipant",value:function(t,n,o){I.info('set mute',n,t);var s=(0,h.$iq)({to:this.focusMucJid,type:'set'}).c('mute',{xmlns:"http://jitsi.org/jitmeet/"+o,jid:t}).t(n.toString()).up();this.connection.sendIQ(s,function(t){return I.log('set mute',t)},function(t){return I.log('set mute error',t)})}},{key:"onMute",value:function(t){if(t.getAttribute('from')===this.focusMucJid){var n=$(t).find('mute');n.length&&'true'===n.text()?this.eventEmitter.emit(y.XMPPEvents.AUDIO_MUTED_BY_FOCUS,n.attr('actor')):I.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else I.warn('Ignored mute from non focus peer')}},{key:"onMuteVideo",value:function(t){if(t.getAttribute('from')===this.focusMucJid){var n=$(t).find('mute');n.length&&'true'===n.text()?this.eventEmitter.emit(y.XMPPEvents.VIDEO_MUTED_BY_FOCUS,n.attr('actor')):I.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else I.warn('Ignored mute from non focus peer')}},{key:"clean",value:function(){this._removeConnListeners.forEach(function(t){return t()}),this._removeConnListeners=[],this.joined=!1,this.inProgressEmitted=!1}},{key:"leave",value:function(){var t,n=this;this.avModeration.dispose(),this.breakoutRooms.dispose();var o=[];return(null===(t=this.lobby)||void 0===t?void 0:t.lobbyRoom)&&o.push(this.lobby.leave()),o.push(new Promise(function(t,o){var s=-1,u=function u(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.eventEmitter.removeListener(y.XMPPEvents.MUC_LEFT,u),clearTimeout(s),c?(n.connection.emuc.doLeave(n.roomjid),o(new Error('The timeout for the confirmation about leaving the room expired.'))):t()};s=setTimeout(function(){return u(!0)},5e3),n.clean(),n.eventEmitter.on(y.XMPPEvents.MUC_LEFT,u),n.doLeave()})),Promise.allSettled(o)}}]),C})(M.default);e.default=C},637,[2,12,13,23,20,22,19,435,559,560,638,589,594,596,584,609,639,640,641,628,642]);
__d(function(g,r,i,a,m,e,d){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ON=e.OFF=e.JitsiTranscriptionStatus=void 0,e.JitsiTranscriptionStatus=t,(function(t){t.ON="on",t.OFF="off"})(t||(e.JitsiTranscriptionStatus=t={}));var n=t.ON;e.ON=n;var o=t.OFF;e.OFF=o},638,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),s=t(r(d[3])),p=r(d[4]),_=r(d[5]),h=r(d[6]),u=r(d[7]),l=(0,p.getLogger)(__filename),v=(function(){function t(s){var p;(0,n.default)(this,t),this._xmpp=s.xmpp,this._mainRoom=s,this._moderationEnabledByType=(p={},(0,o.default)(p,h.MediaType.AUDIO,!1),(0,o.default)(p,h.MediaType.VIDEO,!1),p),this._whitelistAudio=[],this._whitelistVideo=[],this._onMessage=this._onMessage.bind(this),this._xmpp.addListener(u.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}return(0,s.default)(t,[{key:"dispose",value:function(){this._xmpp.removeListener(u.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}},{key:"isSupported",value:function(){return Boolean(this._xmpp.avModerationComponentAddress)}},{key:"enable",value:function(t,o){if(this.isSupported()&&this._mainRoom.isModerator())if(t!==this._moderationEnabledByType[o]){var n=(0,_.$msg)({to:this._xmpp.avModerationComponentAddress});n.c('av_moderation',{enable:t,mediaType:o}).up(),this._xmpp.connection.send(n)}else l.warn("Moderation already in state:"+t+" for mediaType:"+o);else l.error("Cannot enable:"+t+" AV moderation supported:"+this.isSupported()+",\n                moderator:"+this._mainRoom.isModerator())}},{key:"approve",value:function(t,o){if(this.isSupported()&&this._mainRoom.isModerator()){var n=(0,_.$msg)({to:this._xmpp.avModerationComponentAddress});n.c('av_moderation',{mediaType:t,jidToWhitelist:o}).up(),this._xmpp.connection.send(n)}else l.error("Cannot approve in AV moderation supported:"+this.isSupported()+",\n                moderator:"+this._mainRoom.isModerator())}},{key:"reject",value:function(t,o){if(this.isSupported()&&this._mainRoom.isModerator()){var n=(0,_.$msg)({to:this._xmpp.avModerationComponentAddress});n.c('av_moderation',{mediaType:t,jidToBlacklist:o}).up(),this._xmpp.connection.send(n)}else l.error("Cannot reject in AV moderation supported:"+this.isSupported()+",\n                moderator:"+this._mainRoom.isModerator())}},{key:"_onMessage",value:function(t){var o=this,n=t.removed,s=t.mediaType,p=t.enabled,_=t.approved,l=t.actor,v=t.whitelists;if(v){var E=s===h.MediaType.AUDIO?this._whitelistAudio:this._whitelistVideo,A=Array.isArray(v[s])?v[s]:[];n?E.filter(function(t){return!A.includes(t)}).forEach(function(t){return o._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,s,t)}):A.filter(function(t){return!E.includes(t)}).forEach(function(t){return o._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,s,t)}),s===h.MediaType.AUDIO?this._whitelistAudio=A:this._whitelistVideo=A}else void 0!==p&&this._moderationEnabledByType[s]!==p?(this._moderationEnabledByType[s]=p,this._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_CHANGED,p,s,l)):n?this._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_REJECTED,s):_&&this._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_APPROVED,s)}}]),t})();e.default=v},639,[2,253,12,13,435,560,589,596]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),s=o(r(d[2])),n=r(d[3]),u=r(d[4]),h=r(d[5]),p="features/breakout-rooms/add",_="features/breakout-rooms/remove",v="features/breakout-rooms/move-to-room",k="features/breakout-rooms/move-to-room",f="features/breakout-rooms/update",c=(0,n.getLogger)(__filename),l=(function(){function o(s){(0,t.default)(this,o),this.room=s,this._handleMessages=this._handleMessages.bind(this),this.room.xmpp.addListener(h.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages),this._rooms={}}return(0,s.default)(o,[{key:"dispose",value:function(){this.room.xmpp.removeListener(h.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages)}},{key:"createBreakoutRoom",value:function(o){if(this.isSupported()&&this.room.isModerator()){var t={type:p,subject:o};this._sendMessage(t)}else c.error("Cannot create breakout room - supported:"+this.isSupported()+",\n                moderator:"+this.room.isModerator())}},{key:"removeBreakoutRoom",value:function(o){if(this.isSupported()&&this.room.isModerator()){var t={type:_,breakoutRoomJid:o};this._sendMessage(t)}else c.error("Cannot remove breakout room - supported:"+this.isSupported()+",\n                moderator:"+this.room.isModerator())}},{key:"sendParticipantToRoom",value:function(o,t){if(this.isSupported()&&this.room.isModerator()){var s={type:v,participantJid:o,roomJid:t};this._sendMessage(s)}else c.error("Cannot send participant to room - supported:"+this.isSupported()+",\n                moderator:"+this.room.isModerator())}},{key:"isSupported",value:function(){return Boolean(this.getComponentAddress())}},{key:"getComponentAddress",value:function(){return this.room.xmpp.breakoutRoomsComponentAddress}},{key:"_setIsBreakoutRoom",value:function(o){this._isBreakoutRoom=o}},{key:"isBreakoutRoom",value:function(){return void 0!==this._isBreakoutRoom?this._isBreakoutRoom:u.Strophe.getDomainFromJid(this.room.myroomjid)===this.getComponentAddress()}},{key:"_setMainRoomJid",value:function(o){this._mainRoomJid=o}},{key:"getMainRoomJid",value:function(){return this._mainRoomJid}},{key:"_handleMessages",value:function(o){switch(o.event){case k:this.room.eventEmitter.emit(h.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,o.roomJid);break;case f:this._rooms=o.rooms,this.room.eventEmitter.emit(h.XMPPEvents.BREAKOUT_ROOMS_UPDATED,o)}}},{key:"_sendMessage",value:function(o){var t=(0,u.$msg)({to:this.getComponentAddress()});t.c('breakout_rooms',o).up(),this.room.xmpp.connection.send(t)}}]),o})();e.default=l},640,[2,12,13,435,560,596]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),n=o(r(d[2])),s=r(d[3]),b=r(d[4]),R=r(d[5]),l=(0,s.getLogger)(__filename),u=(function(){function o(n){var s=this;(0,t.default)(this,o),this.xmpp=n.xmpp,this.mainRoom=n;var b=this._maybeJoinLobbyRoom.bind(this);this.mainRoom.addEventListener(R.XMPPEvents.LOCAL_ROLE_CHANGED,b),this.mainRoom.addEventListener(R.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,b),this.mainRoom.addEventListener(R.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,function(o){s.lobbyRoomJid=o})}return(0,n.default)(o,[{key:"isSupported",value:function(){return this.xmpp.lobbySupported}},{key:"enable",value:function(){var o=this;return this.isSupported()?new Promise(function(t,n){o.mainRoom.setMembersOnly(!0,t,n)}):Promise.reject(new Error('Lobby not supported!'))}},{key:"disable",value:function(){this.isSupported()&&this.mainRoom.isModerator()&&this.lobbyRoom&&this.mainRoom.membersOnlyEnabled&&this.mainRoom.setMembersOnly(!1)}},{key:"sendMessage",value:function(o){this.lobbyRoom&&this.lobbyRoom.sendMessage(JSON.stringify(o),'json-message')}},{key:"sendPrivateMessage",value:function(o,t){this.lobbyRoom&&this.lobbyRoom.sendPrivateMessage(o,JSON.stringify(t),'json-message')}},{key:"getLocalId",value:function(){if(this.lobbyRoom)return b.Strophe.getResourceFromJid(this.lobbyRoom.myroomjid)}},{key:"addMessageListener",value:function(o){if(this.lobbyRoom){var t=function(t,n){o(n,b.Strophe.getResourceFromJid(t))};return this.lobbyRoom.on(R.XMPPEvents.JSON_MESSAGE_RECEIVED,t),t}}},{key:"removeMessageHandler",value:function(o){this.lobbyRoom&&this.lobbyRoom.off(R.XMPPEvents.JSON_MESSAGE_RECEIVED,o)}},{key:"leave",value:function(){var o=this;return this.lobbyRoom?this.lobbyRoom.leave().then(function(){o.lobbyRoom=void 0,l.info('Lobby room left!')}).catch(function(){}):Promise.reject(new Error('The lobby has already been left'))}},{key:"setLobbyRoomJid",value:function(o){this.lobbyRoomJid=o}},{key:"_maybeJoinLobbyRoom",value:function(){this.isSupported()&&(this.mainRoom.joined&&this.mainRoom.isModerator()&&this.mainRoom.membersOnlyEnabled&&!this.lobbyRoom&&this.join().then(function(){return l.info('Joined lobby room')}).catch(function(o){return l.error('Failed joining lobby',o)}))}},{key:"join",value:function(o,t){var n=this,s=this.mainRoom.joined&&this.mainRoom.isModerator();if(!this.lobbyRoomJid)return Promise.reject(new Error('Missing lobbyRoomJid, cannot join lobby room.'));var u=b.Strophe.getNodeFromJid(this.lobbyRoomJid),E=b.Strophe.getDomainFromJid(this.lobbyRoomJid);return this.lobbyRoom=this.xmpp.createRoom(u,{customDomain:E,disableDiscoInfo:!0,disableFocus:!0,enableLobby:!1}),o&&this.lobbyRoom.addOrReplaceInPresence('nick',{attributes:{xmlns:'http://jabber.org/protocol/nick'},value:o}),s?(this.lobbyRoom.addPresenceListener("email",function(o,t){n.mainRoom.eventEmitter.emit(R.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,t,{email:o.value})}),this.lobbyRoom.addEventListener(R.XMPPEvents.MUC_MEMBER_JOINED,function(o,t,s,l,u,E,v,c,y){if(!Object.values(n.mainRoom.members).find(function(o){return o.jid===y})){for(var h=0,f=Object.values(n.mainRoom.getBreakoutRooms()._rooms);h<f.length;h++){var M=f[h];if(Object.values(M.participants).find(function(o){return o.jid===y}))return}n.mainRoom.eventEmitter.emit(R.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,b.Strophe.getResourceFromJid(o),t,v?v.avatar:void 0)}}),this.lobbyRoom.addEventListener(R.XMPPEvents.MUC_MEMBER_LEFT,function(o){n.mainRoom.eventEmitter.emit(R.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,b.Strophe.getResourceFromJid(o))}),this.lobbyRoom.addEventListener(R.XMPPEvents.MUC_DESTROYED,function(){Object.keys(n.lobbyRoom.members).forEach(function(o){return n.mainRoom.eventEmitter.emit(R.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,b.Strophe.getResourceFromJid(o))}),n.lobbyRoom.clean(),n.lobbyRoom=void 0,l.info('Lobby room left(destroyed)!')})):(this.lobbyRoom.addEventListener(R.XMPPEvents.KICKED,function(o){if(o)return n.mainRoom.eventEmitter.emit(R.XMPPEvents.MUC_DENIED_ACCESS),void n.lobbyRoom.clean()}),this.mainRoom.addEventListener(R.XMPPEvents.INVITE_MESSAGE_RECEIVED,function(o,t,s,b){l.debug("Received approval to join "+o+" "+t+" "+s),o===n.mainRoom.roomjid&&n.mainRoom.join(b)}),this.lobbyRoom.addEventListener(R.XMPPEvents.MUC_DESTROYED,function(o,t){t?n.mainRoom.join():(n.lobbyRoom.clean(),n.mainRoom.eventEmitter.emit(R.XMPPEvents.MUC_DESTROYED,o))}),this.mainRoom.addEventListener(R.XMPPEvents.MUC_JOINED,function(){n.leave()})),new Promise(function(o,b){n.lobbyRoom.addEventListener(R.XMPPEvents.MUC_JOINED,function(){o(),t&&!s&&n.lobbyRoom.addOrReplaceInPresence("email",{value:t})&&n.lobbyRoom.sendPresence()}),n.lobbyRoom.addEventListener(R.XMPPEvents.ROOM_JOIN_ERROR,b),n.lobbyRoom.addEventListener(R.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,b),n.lobbyRoom.addEventListener(R.XMPPEvents.ROOM_CONNECT_ERROR,b),n.lobbyRoom.join()})}},{key:"denyAccess",value:function(o){if(this.isSupported()&&this.mainRoom.isModerator()){var t=Object.keys(this.lobbyRoom.members).find(function(t){return b.Strophe.getResourceFromJid(t)===o});t?this.lobbyRoom.kick(t):l.error("Not found member for "+o+" in lobby room.")}}},{key:"approveAccess",value:function(o){if(this.isSupported()&&this.mainRoom.isModerator()){var t=this.mainRoom.roomjid;this.mainRoom.getBreakoutRooms().isBreakoutRoom()&&(t=this.mainRoom.getBreakoutRooms().getMainRoomJid());var n=Object.keys(this.lobbyRoom.members).find(function(t){return b.Strophe.getResourceFromJid(t)===o});if(n){var s=this.lobbyRoom.members[n].jid,R=(0,b.$msg)({to:t}).c('x',{xmlns:'http://jabber.org/protocol/muc#user'}).c('invite',{to:s});this.xmpp.connection.sendIQ(R,function(){},function(o){l.error("Error sending invite for "+s,o)})}else l.error("Not found member for "+n+" in lobby room.")}}}]),o})();e.default=u},641,[2,12,13,435,560,596]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var o=r(d[1]),n=r(d[2]),s=t(r(d[3])),c=r(d[4]),u=r(d[5]).XMPPEvents,l=r(d[6]),f=(0,o.getLogger)(__filename);function p(t){var o=1;return function(n){if(!n){var s=Math.pow(2,o-1);return o+=1,s*t}o=1}}function h(t,o,n,c){function u(t){if(t.data&&t.data.sessionId){if(t.origin!==window.location.origin)return void f.warn("Ignoring sessionId from different origin: "+t.origin);s.default.sessionId=t.data.sessionId}}this.roomName=t,this.xmppService=o,this.getNextTimeout=p(1e3),this.getNextErrorTimeout=p(1e3),this.externalAuthEnabled=!1,this.options=c,this.sipGatewayEnabled=!1,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener('message',u,!1):window.attachEvent('onmessage',u)}h.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},h.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},h.prototype.onMucMemberLeft=function(t){'focus'===n.Strophe.getResourceFromJid(t)&&(f.info('Focus has left the room - leaving conference'),this.eventEmitter.emit(u.FOCUS_LEFT))},h.prototype.setFocusUserJid=function(t){this.focusUserJid||(this.focusUserJid=t,f.info("Focus jid set to:  "+this.focusUserJid))},h.prototype.getFocusUserJid=function(){return this.focusUserJid},h.prototype.getFocusComponent=function(){var t=this.options.connection.hosts.focus;return t||(t="focus."+this.options.connection.hosts.domain),t},h.prototype.createConferenceIq=function(){var t,o,c,u=(0,n.$iq)({to:this.getFocusComponent(),type:'set'}),l=s.default.sessionId,p=s.default.machineId,h=this.options.conference;f.info("Session ID: "+l+" machine UID: "+p),u.c('conference',{xmlns:'http://jitsi.org/protocol/focus',room:this.roomName,'machine-uid':p}),l&&u.attrs({'session-id':l}),u.c('property',{name:'disableRtx',value:Boolean(h.disableRtx)}).up(),void 0!==h.audioPacketDelay&&u.c('property',{name:'audioPacketDelay',value:h.audioPacketDelay}).up(),h.startBitrate&&u.c('property',{name:'startBitrate',value:h.startBitrate}).up(),h.minBitrate&&u.c('property',{name:'minBitrate',value:h.minBitrate}).up(),void 0!==this.options.conference.startAudioMuted&&u.c('property',{name:'startAudioMuted',value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&u.c('property',{name:'startVideoMuted',value:this.options.conference.startVideoMuted}).up();var v=null!==(c=null===(o=null===(t=this.options.conference)||void 0===t?void 0:t.analytics)||void 0===o?void 0:o.rtcstatsEnabled)&&void 0!==c&&c;v||u.c('property',{name:'rtcstatsEnabled',value:v}).up();var E=this.options.conference,y=E.callStatsID,I=E.callStatsSecret,b=E.disableThirdPartyRequests,w=E.enableCallStats,x=!y||!I||!w||!0===b;return x&&u.c('property',{name:'callstatsEnabled',value:!x}).up(),u.up(),u},h.prototype.parseSessionId=function(t){var o=$(t).find('conference').attr('session-id');o&&(f.info("Received sessionId:  "+o),s.default.sessionId=o)},h.prototype.parseConfigOptions=function(t){this.setFocusUserJid($(t).find('conference').attr('focusjid'));var o=$(t).find(">conference>property[name='authentication'][value='true']").length>0;f.info("Authentication enabled: "+o),this.externalAuthEnabled=$(t).find(">conference>property[name='externalAuth'][value='true']").length>0,f.info("External authentication enabled: "+this.externalAuthEnabled),this.externalAuthEnabled||this.parseSessionId(t);var n=$(t).find('>conference').attr('identity');this.eventEmitter.emit(c.IDENTITY_UPDATED,o,n),$(t).find(">conference>property[name='sipGatewayEnabled'][value='true']").length&&(this.sipGatewayEnabled=!0),f.info("Sip gateway enabled:  "+this.sipGatewayEnabled)},h.prototype.allocateConferenceFocus=function(){var t=this;return new Promise(function(o){t.setFocusUserJid(t.options.connection.focusUserJid),t.connection.sendIQ(t.createConferenceIq(),function(n){return t._allocateConferenceFocusSuccess(n,o)},function(n){return t._allocateConferenceFocusError(n,o)}),t.connection.flush()})},h.prototype._allocateConferenceFocusError=function(t,o){var c=this,p=$(t).find('>error>session-invalid').length||$(t).find('>error>not-acceptable').length;if(p&&(f.info('Session expired! - removing'),s.default.sessionId=void 0),$(t).find('>error>graceful-shutdown').length)this.eventEmitter.emit(u.GRACEFUL_SHUTDOWN);else{var h=$(t).find('>error>reservation-error');if(h.length){var v,E=h.attr('error-code'),y=$(t).find('>error>text');return y&&(v=y.text()),void this.eventEmitter.emit(u.RESERVATION_ERROR,E,v)}if($(t).find('>error>not-authorized').length)return f.warn('Unauthorized to start the conference',t),n.Strophe.getDomainFromJid(t.getAttribute('to'))!==this.options.connection.hosts.anonymousdomain&&(this.externalAuthEnabled=!0),void this.eventEmitter.emit(u.AUTHENTICATION_REQUIRED);var I=this.getNextErrorTimeout(),b="Focus error, retry after "+I;l.callErrorHandler(new Error(b)),f.error(b,t);var w=this.getFocusComponent(),x=I/1e3;p||this.eventEmitter.emit(u.FOCUS_DISCONNECTED,w,x),this.getNextTimeout(!0),window.setTimeout(function(){return c.allocateConferenceFocus().then(o)},I)}},h.prototype._allocateConferenceFocusSuccess=function(t,o){var n=this;if(this.parseConfigOptions(t),this.getNextErrorTimeout(!0),'true'===$(t).find('conference').attr('ready'))this.getNextTimeout(!0),o();else{var s=this.getNextTimeout();f.info("Waiting for the focus... "+s),window.setTimeout(function(){return n.allocateConferenceFocus().then(o)},s)}},h.prototype.authenticate=function(){var t=this;return new Promise(function(o,n){t.connection.sendIQ(t.createConferenceIq(),function(n){t.parseSessionId(n),o()},function(t){return n({error:$(t).find('iq>error :first').prop('tagName'),message:$(t).find('iq>error>text').text()})})})},h.prototype.getLoginUrl=function(t,o){this._getLoginUrl(!1,t,o)},h.prototype._getLoginUrl=function(t,o,c){var u=(0,n.$iq)({to:this.getFocusComponent(),type:'get'}),p={xmlns:'http://jitsi.org/protocol/focus',room:this.roomName,'machine-uid':s.default.machineId},h='auth url';function v(t,o){l.callErrorHandler(new Error(t)),f.error(t,o),c(o)}t&&(p.popup=!0,h="POPUP "+h),u.c('login-url',p),this.connection.sendIQ(u,function(t){var n=$(t).find('login-url').attr('url');(n=decodeURIComponent(n))?(f.info("Got "+h+": "+n),o(n)):v("Failed to get "+h+" from the focus",t)},v.bind(void 0,"Get "+h+" error"))},h.prototype.getPopupLoginUrl=function(t,o){this._getLoginUrl(!0,t,o)},h.prototype.logout=function(t){var o=(0,n.$iq)({to:this.getFocusComponent(),type:'set'}),c=s.default.sessionId;c?(o.c('logout',{xmlns:'http://jitsi.org/protocol/focus','session-id':c}),this.connection.sendIQ(o,function(o){var n=$(o).find('logout').attr('logout-url');n&&(n=decodeURIComponent(n)),f.info("Log out OK, url: "+n,o),s.default.sessionId=void 0,t(n)},function(t){l.callErrorHandler(new Error("Logout error")),f.error("Logout error",t)})):t()}},642,[2,435,560,643,595,596,584]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,o,n=r(d[1]),l=r(d[2]),I=t(r(d[3])),u=(0,l.getLogger)(__filename),_={_storage:n.jitsiLocalStorage,init:function(t){this._storage=t||n.jitsiLocalStorage},get callStatsUserName(){return s||(s=this._storage.getItem('callStatsUserName'))||(s=c(),this._storage.setItem('callStatsUserName',s)),s},get machineId(){if(!o){var t=this._storage.getItem('billingId');o=t||this._storage.getItem('jitsiMeetId'),t?this._storage.setItem('jitsiMeetId',t):o||(o=h(),this._storage.setItem('jitsiMeetId',o))}return o},get sessionId(){return this._storage.getItem('sessionId')},set sessionId(t){t?this._storage.setItem('sessionId',t):this._storage.removeItem('sessionId')}};function c(){var t=I.default.generateUsername();return u.log('generated callstats uid',t),t}function h(){var t=f()+f()+f()+f();return u.log('generated id',t),t}function f(){return(Math.random().toString(16)+"000000000").substr(2,8)}e.default=_},643,[2,570,435,644]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),l=['Aaliyah','Aaron','Abagail','Abbey','Abbie','Abbigail','Abby','Abdiel','Abdul','Abdullah','Abe','Abel','Abelardo','Abigail','Abigale','Abigayle','Abner','Abraham','Ada','Adah','Adalberto','Adaline','Adam','Adan','Addie','Addison','Adela','Adelbert','Adele','Adelia','Adeline','Adell','Adella','Adelle','Aditya','Adolf','Adolfo','Adolph','Adolphus','Adonis','Adrain','Adrian','Adriana','Adrianna','Adriel','Adrien','Adrienne','Afton','Aglae','Agnes','Agustin','Agustina','Ahmad','Ahmed','Aida','Aidan','Aiden','Aileen','Aisha','Aiyana','Akeem','Al','Alaina','Alan','Alana','Alanis','Alanna','Alayna','Alba','Albert','Alberta','Albertha','Alberto','Albin','Albina','Alda','Alden','Alec','Aleen','Alejandra','Alejandrin','Alek','Alena','Alene','Alessandra','Alessandro','Alessia','Aletha','Alex','Alexa','Alexander','Alexandra','Alexandre','Alexandrea','Alexandria','Alexandrine','Alexandro','Alexane','Alexanne','Alexie','Alexis','Alexys','Alexzander','Alf','Alfonso','Alfonzo','Alford','Alfred','Alfreda','Alfredo','Ali','Alia','Alice','Alicia','Alisa','Alisha','Alison','Alivia','Aliya','Aliyah','Aliza','Alize','Allan','Allen','Allene','Allie','Allison','Ally','Alphonso','Alta','Althea','Alva','Alvah','Alvena','Alvera','Alverta','Alvina','Alvis','Alyce','Alycia','Alysa','Alysha','Alyson','Alysson','Amalia','Amanda','Amani','Amara','Amari','Amaya','Amber','Ambrose','Amelia','Amelie','Amely','America','Americo','Amie','Amina','Amir','Amira','Amiya','Amos','Amparo','Amy','Amya','Ana','Anabel','Anabelle','Anahi','Anais','Anastacio','Anastasia','Anderson','Andre','Andreane','Andreanne','Andres','Andrew','Andy','Angel','Angela','Angelica','Angelina','Angeline','Angelita','Angelo','Angie','Angus','Anibal','Anika','Anissa','Anita','Aniya','Aniyah','Anjali','Anna','Annabel','Annabell','Annabelle','Annalise','Annamae','Annamarie','Anne','Annetta','Annette','Annie','Ansel','Ansley','Anthony','Antoinette','Antone','Antonetta','Antonette','Antonia','Antonietta','Antonina','Antonio','Antwan','Antwon','Anya','April','Ara','Araceli','Aracely','Arch','Archibald','Ardella','Arden','Ardith','Arely','Ari','Ariane','Arianna','Aric','Ariel','Arielle','Arjun','Arlene','Arlie','Arlo','Armand','Armando','Armani','Arnaldo','Arne','Arno','Arnold','Arnoldo','Arnulfo','Aron','Art','Arthur','Arturo','Arvel','Arvid','Arvilla','Aryanna','Asa','Asha','Ashlee','Ashleigh','Ashley','Ashly','Ashlynn','Ashton','Ashtyn','Asia','Assunta','Astrid','Athena','Aubree','Aubrey','Audie','Audra','Audreanne','Audrey','August','Augusta','Augustine','Augustus','Aurelia','Aurelie','Aurelio','Aurore','Austen','Austin','Austyn','Autumn','Ava','Avery','Avis','Axel','Ayana','Ayden','Ayla','Aylin','Baby','Bailee','Bailey','Barbara','Barney','Baron','Barrett','Barry','Bart','Bartholome','Barton','Baylee','Beatrice','Beau','Beaulah','Bell','Bella','Belle','Ben','Benedict','Benjamin','Bennett','Bennie','Benny','Benton','Berenice','Bernadette','Bernadine','Bernard','Bernardo','Berneice','Bernhard','Bernice','Bernie','Berniece','Bernita','Berry','Bert','Berta','Bertha','Bertram','Bertrand','Beryl','Bessie','Beth','Bethany','Bethel','Betsy','Bette','Bettie','Betty','Bettye','Beulah','Beverly','Bianka','Bill','Billie','Billy','Birdie','Blair','Blaise','Blake','Blanca','Blanche','Blaze','Bo','Bobbie','Bobby','Bonita','Bonnie','Boris','Boyd','Brad','Braden','Bradford','Bradley','Bradly','Brady','Braeden','Brain','Brandi','Brando','Brandon','Brandt','Brandy','Brandyn','Brannon','Branson','Brant','Braulio','Braxton','Brayan','Breana','Breanna','Breanne','Brenda','Brendan','Brenden','Brendon','Brenna','Brennan','Brennon','Brent','Bret','Brett','Bria','Brian','Briana','Brianne','Brice','Bridget','Bridgette','Bridie','Brielle','Brigitte','Brionna','Brisa','Britney','Brittany','Brock','Broderick','Brody','Brook','Brooke','Brooklyn','Brooks','Brown','Bruce','Bryana','Bryce','Brycen','Bryon','Buck','Bud','Buddy','Buford','Bulah','Burdette','Burley','Burnice','Buster','Cade','Caden','Caesar','Caitlyn','Cale','Caleb','Caleigh','Cali','Calista','Callie','Camden','Cameron','Camila','Camilla','Camille','Camren','Camron','Camryn','Camylle','Candace','Candelario','Candice','Candida','Candido','Cara','Carey','Carissa','Carlee','Carleton','Carley','Carli','Carlie','Carlo','Carlos','Carlotta','Carmel','Carmela','Carmella','Carmelo','Carmen','Carmine','Carol','Carolanne','Carole','Carolina','Caroline','Carolyn','Carolyne','Carrie','Carroll','Carson','Carter','Cary','Casandra','Casey','Casimer','Casimir','Casper','Cassandra','Cassandre','Cassidy','Cassie','Catalina','Caterina','Catharine','Catherine','Cathrine','Cathryn','Cathy','Cayla','Ceasar','Cecelia','Cecil','Cecile','Cecilia','Cedrick','Celestine','Celestino','Celia','Celine','Cesar','Chad','Chadd','Chadrick','Chaim','Chance','Chandler','Chanel','Chanelle','Charity','Charlene','Charles','Charley','Charlie','Charlotte','Chase','Chasity','Chauncey','Chaya','Chaz','Chelsea','Chelsey','Chelsie','Chesley','Chester','Chet','Cheyanne','Cheyenne','Chloe','Chris','Christ','Christa','Christelle','Christian','Christiana','Christina','Christine','Christop','Christophe','Christopher','Christy','Chyna','Ciara','Cicero','Cielo','Cierra','Cindy','Citlalli','Clair','Claire','Clara','Clarabelle','Clare','Clarissa','Clark','Claud','Claude','Claudia','Claudie','Claudine','Clay','Clemens','Clement','Clementina','Clementine','Clemmie','Cleo','Cleora','Cleta','Cletus','Cleve','Cleveland','Clifford','Clifton','Clint','Clinton','Clotilde','Clovis','Cloyd','Clyde','Coby','Cody','Colby','Cole','Coleman','Colin','Colleen','Collin','Colt','Colten','Colton','Columbus','Concepcion','Conner','Connie','Connor','Conor','Conrad','Constance','Constantin','Consuelo','Cooper','Cora','Coralie','Corbin','Cordelia','Cordell','Cordia','Cordie','Corene','Corine','Cornelius','Cornell','Corrine','Cortez','Cortney','Cory','Coty','Courtney','Coy','Craig','Crawford','Creola','Cristal','Cristian','Cristina','Cristobal','Cristopher','Cruz','Crystal','Crystel','Cullen','Curt','Curtis','Cydney','Cynthia','Cyril','Cyrus','Dagmar','Dahlia','Daija','Daisha','Daisy','Dakota','Dale','Dallas','Dallin','Dalton','Damaris','Dameon','Damian','Damien','Damion','Damon','Dan','Dana','Dandre','Dane','D\'angelo','Dangelo','Danial','Daniela','Daniella','Danielle','Danika','Dannie','Danny','Dante','Danyka','Daphne','Daphnee','Daphney','Darby','Daren','Darian','Dariana','Darien','Dario','Darion','Darius','Darlene','Daron','Darrel','Darrell','Darren','Darrick','Darrin','Darrion','Darron','Darryl','Darwin','Daryl','Dashawn','Dasia','Dave','David','Davin','Davion','Davon','Davonte','Dawn','Dawson','Dax','Dayana','Dayna','Dayne','Dayton','Dean','Deangelo','Deanna','Deborah','Declan','Dedric','Dedrick','Dee','Deion','Deja','Dejah','Dejon','Dejuan','Delaney','Delbert','Delfina','Delia','Delilah','Dell','Della','Delmer','Delores','Delpha','Delphia','Delphine','Delta','Demarco','Demarcus','Demario','Demetris','Demetrius','Demond','Dena','Denis','Dennis','Deon','Deondre','Deontae','Deonte','Dereck','Derek','Derick','Deron','Derrick','Deshaun','Deshawn','Desiree','Desmond','Dessie','Destany','Destin','Destinee','Destiney','Destini','Destiny','Devan','Devante','Deven','Devin','Devon','Devonte','Devyn','Dewayne','Dewitt','Dexter','Diamond','Diana','Dianna','Diego','Dillan','Dillon','Dimitri','Dina','Dino','Dion','Dixie','Dock','Dolly','Dolores','Domenic','Domenica','Domenick','Domenico','Domingo','Dominic','Dominique','Don','Donald','Donato','Donavon','Donna','Donnell','Donnie','Donny','Dora','Dorcas','Dorian','Doris','Dorothea','Dorothy','Dorris','Dortha','Dorthy','Doug','Douglas','Dovie','Doyle','Drake','Drew','Duane','Dudley','Dulce','Duncan','Durward','Dustin','Dusty','Dwight','Dylan','Earl','Earlene','Earline','Earnest','Earnestine','Easter','Easton','Ebba','Ebony','Ed','Eda','Edd','Eddie','Eden','Edgar','Edgardo','Edison','Edmond','Edmund','Edna','Eduardo','Edward','Edwardo','Edwin','Edwina','Edyth','Edythe','Effie','Efrain','Efren','Eileen','Einar','Eino','Eladio','Elaina','Elbert','Elda','Eldon','Eldora','Eldred','Eldridge','Eleanora','Eleanore','Eleazar','Electa','Elena','Elenor','Elenora','Eleonore','Elfrieda','Eli','Elian','Eliane','Elias','Eliezer','Elijah','Elinor','Elinore','Elisa','Elisabeth','Elise','Eliseo','Elisha','Elissa','Eliza','Elizabeth','Ella','Ellen','Ellie','Elliot','Elliott','Ellis','Ellsworth','Elmer','Elmira','Elmo','Elmore','Elna','Elnora','Elody','Eloisa','Eloise','Elouise','Eloy','Elroy','Elsa','Else','Elsie','Elta','Elton','Elva','Elvera','Elvie','Elvis','Elwin','Elwyn','Elyse','Elyssa','Elza','Emanuel','Emelia','Emelie','Emely','Emerald','Emerson','Emery','Emie','Emil','Emile','Emilia','Emiliano','Emilie','Emilio','Emily','Emma','Emmalee','Emmanuel','Emmanuelle','Emmet','Emmett','Emmie','Emmitt','Emmy','Emory','Ena','Enid','Enoch','Enola','Enos','Enrico','Enrique','Ephraim','Era','Eriberto','Eric','Erica','Erich','Erick','Ericka','Erik','Erika','Erin','Erling','Erna','Ernest','Ernestina','Ernestine','Ernesto','Ernie','Ervin','Erwin','Eryn','Esmeralda','Esperanza','Esta','Esteban','Estefania','Estel','Estell','Estella','Estelle','Estevan','Esther','Estrella','Etha','Ethan','Ethel','Ethelyn','Ethyl','Ettie','Eudora','Eugene','Eugenia','Eula','Eulah','Eulalia','Euna','Eunice','Eusebio','Eva','Evalyn','Evan','Evangeline','Evans','Eve','Eveline','Evelyn','Everardo','Everett','Everette','Evert','Evie','Ewald','Ewell','Ezekiel','Ezequiel','Ezra','Fabian','Fabiola','Fae','Fannie','Fanny','Fatima','Faustino','Fausto','Favian','Fay','Faye','Federico','Felicia','Felicita','Felicity','Felipa','Felipe','Felix','Felton','Fermin','Fern','Fernando','Ferne','Fidel','Filiberto','Filomena','Finn','Fiona','Flavie','Flavio','Fleta','Fletcher','Flo','Florence','Florencio','Florian','Florida','Florine','Flossie','Floy','Floyd','Ford','Forest','Forrest','Foster','Frances','Francesca','Francesco','Francis','Francisca','Francisco','Franco','Frank','Frankie','Franz','Fred','Freda','Freddie','Freddy','Frederic','Frederick','Frederik','Frederique','Fredrick','Fredy','Freeda','Freeman','Freida','Frida','Frieda','Friedrich','Fritz','Furman','Gabe','Gabriel','Gabriella','Gabrielle','Gaetano','Gage','Gail','Gardner','Garett','Garfield','Garland','Garnet','Garnett','Garret','Garrett','Garrick','Garrison','Garry','Garth','Gaston','Gavin','Gay','Gayle','Gaylord','Gene','General','Genesis','Genevieve','Gennaro','Genoveva','Geo','Geoffrey','George','Georgette','Georgiana','Georgianna','Geovanni','Geovanny','Geovany','Gerald','Geraldine','Gerard','Gerardo','Gerda','Gerhard','Germaine','German','Gerry','Gerson','Gertrude','Gia','Gianni','Gideon','Gilbert','Gilberto','Gilda','Giles','Gillian','Gina','Gino','Giovani','Giovanna','Giovanni','Giovanny','Gisselle','Giuseppe','Gladyce','Gladys','Glen','Glenda','Glenna','Glennie','Gloria','Godfrey','Golda','Golden','Gonzalo','Gordon','Grace','Gracie','Graciela','Grady','Graham','Grant','Granville','Grayce','Grayson','Green','Greg','Gregg','Gregoria','Gregorio','Gregory','Greta','Gretchen','Greyson','Griffin','Grover','Guadalupe','Gudrun','Guido','Guillermo','Guiseppe','Gunnar','Gunner','Gus','Gussie','Gust','Gustave','Guy','Gwen','Gwendolyn','Hadley','Hailee','Hailey','Hailie','Hal','Haleigh','Haley','Halie','Halle','Hallie','Hank','Hanna','Hannah','Hans','Hardy','Harley','Harmon','Harmony','Harold','Harrison','Harry','Harvey','Haskell','Hassan','Hassie','Hattie','Haven','Hayden','Haylee','Hayley','Haylie','Hazel','Hazle','Heath','Heather','Heaven','Heber','Hector','Heidi','Helen','Helena','Helene','Helga','Hellen','Helmer','Heloise','Henderson','Henri','Henriette','Henry','Herbert','Herman','Hermann','Hermina','Herminia','Herminio','Hershel','Herta','Hertha','Hester','Hettie','Hilario','Hilbert','Hilda','Hildegard','Hillard','Hillary','Hilma','Hilton','Hipolito','Hiram','Hobart','Holden','Hollie','Hollis','Holly','Hope','Horace','Horacio','Hortense','Hosea','Houston','Howard','Howell','Hoyt','Hubert','Hudson','Hugh','Hulda','Humberto','Hunter','Hyman','Ian','Ibrahim','Icie','Ida','Idell','Idella','Ignacio','Ignatius','Ike','Ila','Ilene','Iliana','Ima','Imani','Imelda','Immanuel','Imogene','Ines','Irma','Irving','Irwin','Isaac','Isabel','Isabell','Isabella','Isabelle','Isac','Isadore','Isai','Isaiah','Isaias','Isidro','Ismael','Isobel','Isom','Israel','Issac','Itzel','Iva','Ivah','Ivory','Ivy','Izabella','Izaiah','Jabari','Jace','Jacey','Jacinthe','Jacinto','Jack','Jackeline','Jackie','Jacklyn','Jackson','Jacky','Jaclyn','Jacquelyn','Jacques','Jacynthe','Jada','Jade','Jaden','Jadon','Jadyn','Jaeden','Jaida','Jaiden','Jailyn','Jaime','Jairo','Jakayla','Jake','Jakob','Jaleel','Jalen','Jalon','Jalyn','Jamaal','Jamal','Jamar','Jamarcus','Jamel','Jameson','Jamey','Jamie','Jamil','Jamir','Jamison','Jammie','Jan','Jana','Janae','Jane','Janelle','Janessa','Janet','Janice','Janick','Janie','Janis','Janiya','Jannie','Jany','Jaquan','Jaquelin','Jaqueline','Jared','Jaren','Jarod','Jaron','Jarred','Jarrell','Jarret','Jarrett','Jarrod','Jarvis','Jasen','Jasmin','Jason','Jasper','Jaunita','Javier','Javon','Javonte','Jay','Jayce','Jaycee','Jayda','Jayde','Jayden','Jaydon','Jaylan','Jaylen','Jaylin','Jaylon','Jayme','Jayne','Jayson','Jazlyn','Jazmin','Jazmyn','Jazmyne','Jean','Jeanette','Jeanie','Jeanne','Jed','Jedediah','Jedidiah','Jeff','Jefferey','Jeffery','Jeffrey','Jeffry','Jena','Jenifer','Jennie','Jennifer','Jennings','Jennyfer','Jensen','Jerad','Jerald','Jeramie','Jeramy','Jerel','Jeremie','Jeremy','Jermain','Jermaine','Jermey','Jerod','Jerome','Jeromy','Jerrell','Jerrod','Jerrold','Jerry','Jess','Jesse','Jessica','Jessie','Jessika','Jessy','Jessyca','Jesus','Jett','Jettie','Jevon','Jewel','Jewell','Jillian','Jimmie','Jimmy','Jo','Joan','Joana','Joanie','Joanne','Joannie','Joanny','Joany','Joaquin','Jocelyn','Jodie','Jody','Joe','Joel','Joelle','Joesph','Joey','Johan','Johann','Johanna','Johathan','John','Johnathan','Johnathon','Johnnie','Johnny','Johnpaul','Johnson','Jolie','Jon','Jonas','Jonatan','Jonathan','Jonathon','Jordan','Jordane','Jordi','Jordon','Jordy','Jordyn','Jorge','Jose','Josefa','Josefina','Joseph','Josephine','Josh','Joshua','Joshuah','Josiah','Josiane','Josianne','Josie','Josue','Jovan','Jovani','Jovanny','Jovany','Joy','Joyce','Juana','Juanita','Judah','Judd','Jude','Judge','Judson','Judy','Jules','Julia','Julian','Juliana','Julianne','Julie','Julien','Juliet','Julio','Julius','June','Junior','Junius','Justen','Justice','Justina','Justine','Juston','Justus','Justyn','Juvenal','Juwan','Kacey','Kaci','Kacie','Kade','Kaden','Kadin','Kaela','Kaelyn','Kaia','Kailee','Kailey','Kailyn','Kaitlin','Kaitlyn','Kale','Kaleb','Kaleigh','Kaley','Kali','Kallie','Kameron','Kamille','Kamren','Kamron','Kamryn','Kane','Kara','Kareem','Karelle','Karen','Kari','Kariane','Karianne','Karina','Karine','Karl','Karlee','Karley','Karli','Karlie','Karolann','Karson','Kasandra','Kasey','Kassandra','Katarina','Katelin','Katelyn','Katelynn','Katharina','Katherine','Katheryn','Kathleen','Kathlyn','Kathryn','Kathryne','Katlyn','Katlynn','Katrina','Katrine','Kattie','Kavon','Kay','Kaya','Kaycee','Kayden','Kayla','Kaylah','Kaylee','Kayleigh','Kayley','Kayli','Kaylie','Kaylin','Keagan','Keanu','Keara','Keaton','Keegan','Keeley','Keely','Keenan','Keira','Keith','Kellen','Kelley','Kelli','Kellie','Kelly','Kelsi','Kelsie','Kelton','Kelvin','Ken','Kendall','Kendra','Kendrick','Kenna','Kennedi','Kennedy','Kenneth','Kennith','Kenny','Kenton','Kenya','Kenyatta','Kenyon','Keon','Keshaun','Keshawn','Keven','Kevin','Kevon','Keyon','Keyshawn','Khalid','Khalil','Kian','Kiana','Kianna','Kiara','Kiarra','Kiel','Kiera','Kieran','Kiley','Kim','Kimberly','King','Kip','Kira','Kirk','Kirsten','Kirstin','Kitty','Kobe','Koby','Kody','Kolby','Kole','Korbin','Korey','Kory','Kraig','Kris','Krista','Kristian','Kristin','Kristina','Kristofer','Kristoffer','Kristopher','Kristy','Krystal','Krystel','Krystina','Kurt','Kurtis','Kyla','Kyle','Kylee','Kyleigh','Kyler','Kylie','Kyra','Lacey','Lacy','Ladarius','Lafayette','Laila','Laisha','Lamar','Lambert','Lamont','Lance','Landen','Lane','Laney','Larissa','Laron','Larry','Larue','Laura','Laurel','Lauren','Laurence','Lauretta','Lauriane','Laurianne','Laurie','Laurine','Laury','Lauryn','Lavada','Lavern','Laverna','Laverne','Lavina','Lavinia','Lavon','Lavonne','Lawrence','Lawson','Layla','Layne','Lazaro','Lea','Leann','Leanna','Leanne','Leatha','Leda','Lee','Leif','Leila','Leilani','Lela','Lelah','Leland','Lelia','Lempi','Lemuel','Lenna','Lennie','Lenny','Lenora','Lenore','Leo','Leola','Leon','Leonard','Leonardo','Leone','Leonel','Leonie','Leonor','Leonora','Leopold','Leopoldo','Leora','Lera','Lesley','Leslie','Lesly','Lessie','Lester','Leta','Letha','Letitia','Levi','Lew','Lewis','Lexi','Lexie','Lexus','Lia','Liam','Liana','Libbie','Libby','Lila','Lilian','Liliana','Liliane','Lilla','Lillian','Lilliana','Lillie','Lilly','Lily','Lilyan','Lina','Lincoln','Linda','Lindsay','Lindsey','Linnea','Linnie','Linwood','Lionel','Lisa','Lisandro','Lisette','Litzy','Liza','Lizeth','Lizzie','Llewellyn','Lloyd','Logan','Lois','Lola','Lolita','Loma','Lon','London','Lonie','Lonnie','Lonny','Lonzo','Lora','Loraine','Loren','Lorena','Lorenz','Lorenza','Lorenzo','Lori','Lorine','Lorna','Lottie','Lou','Louie','Louisa','Lourdes','Louvenia','Lowell','Loy','Loyal','Loyce','Lucas','Luciano','Lucie','Lucienne','Lucile','Lucinda','Lucio','Lucious','Lucius','Lucy','Ludie','Ludwig','Lue','Luella','Luigi','Luis','Luisa','Lukas','Lula','Lulu','Luna','Lupe','Lura','Lurline','Luther','Luz','Lyda','Lydia','Lyla','Lynn','Lyric','Lysanne','Mabel','Mabelle','Mable','Mac','Macey','Maci','Macie','Mack','Mackenzie','Macy','Madaline','Madalyn','Maddison','Madeline','Madelyn','Madelynn','Madge','Madie','Madilyn','Madisen','Madison','Madisyn','Madonna','Madyson','Mae','Maegan','Maeve','Mafalda','Magali','Magdalen','Magdalena','Maggie','Magnolia','Magnus','Maia','Maida','Maiya','Major','Makayla','Makenna','Makenzie','Malachi','Malcolm','Malika','Malinda','Mallie','Mallory','Malvina','Mandy','Manley','Manuel','Manuela','Mara','Marc','Marcel','Marcelina','Marcelino','Marcella','Marcelle','Marcellus','Marcelo','Marcia','Marco','Marcos','Marcus','Margaret','Margarete','Margarett','Margaretta','Margarette','Margarita','Marge','Margie','Margot','Margret','Marguerite','Maria','Mariah','Mariam','Marian','Mariana','Mariane','Marianna','Marianne','Mariano','Maribel','Marie','Mariela','Marielle','Marietta','Marilie','Marilou','Marilyne','Marina','Mario','Marion','Marisa','Marisol','Maritza','Marjolaine','Marjorie','Marjory','Mark','Markus','Marlee','Marlen','Marlene','Marley','Marlin','Marlon','Marques','Marquis','Marquise','Marshall','Marta','Martin','Martina','Martine','Marty','Marvin','Mary','Maryam','Maryjane','Maryse','Mason','Mateo','Mathew','Mathias','Mathilde','Matilda','Matilde','Matt','Matteo','Mattie','Maud','Maude','Maudie','Maureen','Maurice','Mauricio','Maurine','Maverick','Mavis','Max','Maxie','Maxime','Maximilian','Maximillia','Maximillian','Maximo','Maximus','Maxine','Maxwell','May','Maya','Maybell','Maybelle','Maye','Maymie','Maynard','Mayra','Mazie','Mckayla','Mckenna','Mckenzie','Meagan','Meaghan','Meda','Megane','Meggie','Meghan','Mekhi','Melany','Melba','Melisa','Melissa','Mellie','Melody','Melvin','Melvina','Melyna','Melyssa','Mercedes','Meredith','Merl','Merle','Merlin','Merritt','Mertie','Mervin','Meta','Mia','Micaela','Micah','Michael','Michaela','Michale','Micheal','Michel','Michele','Michelle','Miguel','Mikayla','Mike','Mikel','Milan','Miles','Milford','Miller','Millie','Milo','Milton','Mina','Minerva','Minnie','Miracle','Mireille','Mireya','Misael','Missouri','Misty','Mitchel','Mitchell','Mittie','Modesta','Modesto','Mohamed','Mohammad','Mohammed','Moises','Mollie','Molly','Mona','Monica','Monique','Monroe','Monserrat','Monserrate','Montana','Monte','Monty','Morgan','Moriah','Morris','Mortimer','Morton','Mose','Moses','Moshe','Mossie','Mozell','Mozelle','Muhammad','Muriel','Murl','Murphy','Murray','Mustafa','Mya','Myah','Mylene','Myles','Myra','Myriam','Myrl','Myrna','Myron','Myrtice','Myrtie','Myrtis','Myrtle','Nadia','Nakia','Name','Nannie','Naomi','Naomie','Napoleon','Narciso','Nash','Nasir','Nat','Natalia','Natalie','Natasha','Nathan','Nathanael','Nathanial','Nathaniel','Nathen','Nayeli','Neal','Ned','Nedra','Neha','Neil','Nelda','Nella','Nelle','Nellie','Nels','Nelson','Neoma','Nestor','Nettie','Neva','Newell','Newton','Nia','Nicholas','Nicholaus','Nichole','Nick','Nicklaus','Nickolas','Nico','Nicola','Nicolas','Nicole','Nicolette','Nigel','Nikita','Nikki','Nikko','Niko','Nikolas','Nils','Nina','Noah','Noble','Noe','Noel','Noelia','Noemi','Noemie','Noemy','Nola','Nolan','Nona','Nora','Norbert','Norberto','Norene','Norma','Norris','Norval','Norwood','Nova','Novella','Nya','Nyah','Nyasia','Obie','Oceane','Ocie','Octavia','Oda','Odell','Odessa','Odie','Ofelia','Okey','Ola','Olaf','Ole','Olen','Oleta','Olga','Olin','Oliver','Ollie','Oma','Omari','Omer','Ona','Onie','Opal','Ophelia','Ora','Oral','Oran','Oren','Orie','Orin','Orion','Orland','Orlando','Orlo','Orpha','Orrin','Orval','Orville','Osbaldo','Osborne','Oscar','Osvaldo','Oswald','Oswaldo','Otha','Otho','Otilia','Otis','Ottilie','Ottis','Otto','Ova','Owen','Ozella','Pablo','Paige','Palma','Pamela','Pansy','Paolo','Paris','Parker','Pascale','Pasquale','Pat','Patience','Patricia','Patrick','Patsy','Pattie','Paul','Paula','Pauline','Paxton','Payton','Pearl','Pearlie','Pearline','Pedro','Peggie','Penelope','Percival','Percy','Perry','Pete','Peter','Petra','Peyton','Philip','Phoebe','Phyllis','Pierce','Pierre','Pietro','Pink','Pinkie','Piper','Polly','Porter','Precious','Presley','Preston','Price','Prince','Princess','Priscilla','Providenci','Prudence','Queen','Queenie','Quentin','Quincy','Quinn','Quinten','Quinton','Rachael','Rachel','Rachelle','Rae','Raegan','Rafael','Rafaela','Raheem','Rahsaan','Rahul','Raina','Raleigh','Ralph','Ramiro','Ramon','Ramona','Randal','Randall','Randi','Randy','Ransom','Raoul','Raphael','Raphaelle','Raquel','Rashad','Rashawn','Rasheed','Raul','Raven','Ray','Raymond','Raymundo','Reagan','Reanna','Reba','Rebeca','Rebecca','Rebeka','Rebekah','Reece','Reed','Reese','Regan','Reggie','Reginald','Reid','Reilly','Reina','Reinhold','Remington','Rene','Renee','Ressie','Reta','Retha','Retta','Reuben','Reva','Rex','Rey','Reyes','Reymundo','Reyna','Reynold','Rhea','Rhett','Rhianna','Rhiannon','Rhoda','Ricardo','Richard','Richie','Richmond','Rick','Rickey','Rickie','Ricky','Rico','Rigoberto','Riley','Rita','River','Robb','Robbie','Robert','Roberta','Roberto','Robin','Robyn','Rocio','Rocky','Rod','Roderick','Rodger','Rodolfo','Rodrick','Rodrigo','Roel','Rogelio','Roger','Rogers','Rolando','Rollin','Roma','Romaine','Roman','Ron','Ronaldo','Ronny','Roosevelt','Rory','Rosa','Rosalee','Rosalia','Rosalind','Rosalinda','Rosalyn','Rosamond','Rosanna','Rosario','Roscoe','Rose','Rosella','Roselyn','Rosemarie','Rosemary','Rosendo','Rosetta','Rosie','Rosina','Roslyn','Ross','Rossie','Rowan','Rowena','Rowland','Roxane','Roxanne','Roy','Royal','Royce','Rozella','Ruben','Rubie','Ruby','Rubye','Rudolph','Rudy','Rupert','Russ','Russel','Russell','Rusty','Ruth','Ruthe','Ruthie','Ryan','Ryann','Ryder','Rylan','Rylee','Ryleigh','Ryley','Sabina','Sabrina','Sabryna','Sadie','Sadye','Sage','Saige','Sallie','Sally','Salma','Salvador','Salvatore','Sam','Samanta','Samantha','Samara','Samir','Sammie','Sammy','Samson','Sandra','Sandrine','Sandy','Sanford','Santa','Santiago','Santina','Santino','Santos','Sarah','Sarai','Sarina','Sasha','Saul','Savanah','Savanna','Savannah','Savion','Scarlett','Schuyler','Scot','Scottie','Scotty','Seamus','Sean','Sebastian','Sedrick','Selena','Selina','Selmer','Serena','Serenity','Seth','Shad','Shaina','Shakira','Shana','Shane','Shanel','Shanelle','Shania','Shanie','Shaniya','Shanna','Shannon','Shanny','Shanon','Shany','Sharon','Shaun','Shawn','Shawna','Shaylee','Shayna','Shayne','Shea','Sheila','Sheldon','Shemar','Sheridan','Sherman','Sherwood','Shirley','Shyann','Shyanne','Sibyl','Sid','Sidney','Sienna','Sierra','Sigmund','Sigrid','Sigurd','Silas','Sim','Simeon','Simone','Sincere','Sister','Skye','Skyla','Skylar','Sofia','Soledad','Solon','Sonia','Sonny','Sonya','Sophia','Sophie','Spencer','Stacey','Stacy','Stan','Stanford','Stanley','Stanton','Stefan','Stefanie','Stella','Stephan','Stephania','Stephanie','Stephany','Stephen','Stephon','Sterling','Steve','Stevie','Stewart','Stone','Stuart','Summer','Sunny','Susan','Susana','Susanna','Susie','Suzanne','Sven','Syble','Sydnee','Sydney','Sydni','Sydnie','Sylvan','Sylvester','Sylvia','Tabitha','Tad','Talia','Talon','Tamara','Tamia','Tania','Tanner','Tanya','Tara','Taryn','Tate','Tatum','Tatyana','Taurean','Tavares','Taya','Taylor','Teagan','Ted','Telly','Terence','Teresa','Terrance','Terrell','Terrence','Terrill','Terry','Tess','Tessie','Tevin','Thad','Thaddeus','Thalia','Thea','Thelma','Theo','Theodora','Theodore','Theresa','Therese','Theresia','Theron','Thomas','Thora','Thurman','Tia','Tiana','Tianna','Tiara','Tierra','Tiffany','Tillman','Timmothy','Timmy','Timothy','Tina','Tito','Titus','Tobin','Toby','Tod','Tom','Tomas','Tomasa','Tommie','Toney','Toni','Tony','Torey','Torrance','Torrey','Toy','Trace','Tracey','Tracy','Travis','Travon','Tre','Tremaine','Tremayne','Trent','Trenton','Tressa','Tressie','Treva','Trever','Trevion','Trevor','Trey','Trinity','Trisha','Tristian','Tristin','Triston','Troy','Trudie','Trycia','Trystan','Turner','Twila','Tyler','Tyra','Tyree','Tyreek','Tyrel','Tyrell','Tyrese','Tyrique','Tyshawn','Tyson','Ubaldo','Ulices','Ulises','Una','Unique','Urban','Uriah','Uriel','Ursula','Vada','Valentin','Valentina','Valentine','Valerie','Vallie','Van','Vance','Vanessa','Vaughn','Veda','Velda','Vella','Velma','Velva','Vena','Verda','Verdie','Vergie','Verla','Verlie','Vern','Verna','Verner','Vernice','Vernie','Vernon','Verona','Veronica','Vesta','Vicenta','Vicente','Vickie','Vicky','Victor','Victoria','Vida','Vidal','Vilma','Vince','Vincent','Vincenza','Vincenzo','Vinnie','Viola','Violet','Violette','Virgie','Virgil','Virginia','Virginie','Vita','Vito','Viva','Vivian','Viviane','Vivianne','Vivien','Vivienne','Vladimir','Wade','Waino','Waldo','Walker','Wallace','Walter','Walton','Wanda','Ward','Warren','Watson','Wava','Waylon','Wayne','Webster','Weldon','Wellington','Wendell','Wendy','Werner','Westley','Weston','Whitney','Wilber','Wilbert','Wilburn','Wiley','Wilford','Wilfred','Wilfredo','Wilfrid','Wilhelm','Wilhelmine','Will','Willa','Willard','William','Willie','Willis','Willow','Willy','Wilma','Wilmer','Wilson','Wilton','Winfield','Winifred','Winnifred','Winona','Winston','Woodrow','Wyatt','Wyman','Xander','Xavier','Xzavier','Yadira','Yasmeen','Yasmin','Yasmine','Yazmin','Yesenia','Yessenia','Yolanda','Yoshiko','Yvette','Yvonne','Zachariah','Zachary','Zachery','Zack','Zackary','Zackery','Zakary','Zander','Zane','Zaria','Zechariah','Zelda','Zella','Zelma','Zena','Zetta','Zion','Zita','Zoe','Zoey','Zoie','Zoila','Zola','Zora','Zula'];m.exports={generateUsername:function(){return n.randomElement(l)+"-"+n.randomAlphanumStr(3)}}},644,[626]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=r(d[7]),p=r(d[8]),v=r(d[9]),h=r(d[10]),y=r(d[11]),b=t(r(d[12])),j=t(r(d[13])),x=t(r(d[14])),w=t(r(d[15])),E=r(d[16]),T=t(r(d[17]));function C(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=R(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(t,n){if(t){if("string"==typeof t)return S(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?S(t,n):void 0}}function S(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var A=(0,f.getLogger)(__filename);function _(t){var n=[];return $(t).find('>candidate').each(function(t,s){for(var o=s.attributes,c=[],u=0;u<o.length;u++){var l=o[u];c.push(l.name+": "+l.value)}n.push(c.join(' '))}),n}var k=(function(t){(0,c.default)(S,t);var f,w,R=(f=S,w=I(),function(){var t,n=(0,l.default)(f);if(w){var s=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function S(t,s,o){var c;return(0,n.default)(this,S),(c=R.call(this)).xmpp=t,c.eventEmitter=s,c.sessions={},c.jvbIceConfig=o.jvb,c.p2pIceConfig=o.p2p,c.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0},c}return(0,s.default)(S,[{key:"init",value:function(t){(0,o.default)((0,l.default)(S.prototype),"init",this).call(this,t),this.connection.addHandler(this.onJingle.bind(this),'urn:xmpp:jingle:1','iq','set',null,null)}},{key:"onJingle",value:function(t){var n,s=$(t).find('jingle').attr('sid'),o=$(t).find('jingle').attr('action'),c=t.getAttribute('from'),u=(0,p.$iq)({type:'result',to:c,id:t.getAttribute('id')}),l=this.sessions[s];if('session-initiate'!==o){if(!l)return u.attrs({type:'error'}),u.c('error',{type:'cancel'}).c('item-not-found',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up().c('unknown-session',{xmlns:'urn:xmpp:jingle:errors:1'}),A.warn("invalid session id: "+s),A.debug(t),this.connection.send(u),!0;if(c!==l.remoteJid)return A.warn('jid mismatch for session id',s,l.remoteJid,t),u.attrs({type:'error'}),u.c('error',{type:'cancel'}).c('item-not-found',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up().c('unknown-session',{xmlns:'urn:xmpp:jingle:errors:1'}),this.connection.send(u),!0}else if(void 0!==l)return u.attrs({type:'error'}),u.c('error',{type:'cancel'}).c('service-unavailable',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up(),A.warn('duplicate session id',s,t),this.connection.send(u),!0;var f=window.performance.now(),x='focus'!==p.Strophe.getResourceFromJid(c),w=$(t).find('jingle>json-message');if(null===w||void 0===w?void 0:w.length){var R;A.info("Found a JSON-encoded element in "+o+", translating to standard Jingle.");for(var S=0;S<w.length;S++)R=(0,E.expandSourcesFromJson)(t,w[S]);if(null===R||void 0===R?void 0:R.size){for(var I,k=[],O=C(R.keys());!(I=O()).done;){var P=I.value;k.push(P+":["+R.get(P)+"]")}A.debug("Received "+o+" from "+c+" with sources="+k.join(', '))}}switch(o){case'session-initiate':A.log('(TIME) received session-initiate:\t',f);var M=$(t).find('jingle>startmuted');if(x&&A.debug("Received "+o+" from "+c),null===M||void 0===M?void 0:M.length){var J=M.attr(v.MediaType.AUDIO),L=M.attr(v.MediaType.VIDEO);this.eventEmitter.emit(y.XMPPEvents.START_MUTED_FROM_FOCUS,'true'===J,'true'===L)}var N=x?this.p2pIceConfig:this.jvbIceConfig;l=new T.default($(t).find('jingle').attr('sid'),$(t).attr('to'),c,this.connection,this.mediaConstraints,JSON.parse(JSON.stringify(N)),x,!1),this.sessions[l.sid]=l,this.eventEmitter.emit(y.XMPPEvents.CALL_INCOMING,l,$(t).find('>jingle'),f);break;case'session-accept':for(var D,U=[],F=C($(t).find('jingle>content'));!(D=F()).done;){var q=D.value,z=$(q).find('description').attr('ssrc');z&&U.push(z)}A.debug("Received "+o+" from "+c+" with ssrcs="+U),this.eventEmitter.emit(y.XMPPEvents.CALL_ACCEPTED,l,$(t).find('>jingle'));break;case'content-modify':var X=$(t).find('jingle>content[name="video"]>max-frame-height');A.debug("Received "+o+" from "+c+" with a max-frame-height="+(null===X||void 0===X?void 0:X.text())),l.modifyContents($(t).find('>jingle'));break;case'transport-info':var G=_($(t).find('jingle>content>transport'));A.debug("Received "+o+" from "+c+" for candidates="+G.join(', ')),this.eventEmitter.emit(y.XMPPEvents.TRANSPORT_INFO,l,$(t).find('>jingle'));break;case'session-terminate':A.log('terminating...',l.sid);var H=null,V=null;$(t).find('>jingle>reason').length&&(H=$(t).find('>jingle>reason>:first')[0].tagName,V=$(t).find('>jingle>reason>text').text()),A.debug("Received "+o+" from "+c+" disconnect reason="+V),this.terminate(l.sid,H,V),this.eventEmitter.emit(y.XMPPEvents.CALL_ENDED,l,H,V);break;case'transport-replace':A.info('(TIME) Start transport replace:\t',f);var B=$(t).find('jingle>content>transport'),Q=_(B),W=$(B).attr('ufrag'),K=$(B).attr('pwd'),Y=null===(n=$(B).find('>fingerprint'))||void 0===n?void 0:n.text();A.debug("Received "+o+" from "+c+" with iceUfrag="+W+", icePwd="+K+", DTLS fingerprint="+Y+", candidates="+Q.join(', ')),b.default.sendAnalytics((0,h.createJingleEvent)(h.ACTION_JINGLE_TR_RECEIVED,{p2p:x,value:f})),l.replaceTransport($(t).find('>jingle'),function(){var t=window.performance.now();A.info('(TIME) Transport replace success:\t',t),b.default.sendAnalytics((0,h.createJingleEvent)(h.ACTION_JINGLE_TR_SUCCESS,{p2p:x,value:t}))},function(t){j.default.callErrorHandler(t),A.error('Transport replace failed',t),l.sendTransportReject()});break;case'source-add':l.addRemoteStream($(t).find('>jingle>content'));break;case'source-remove':l.removeRemoteStream($(t).find('>jingle>content'));break;default:A.warn('jingle action not implemented',o),u.attrs({type:'error'}),u.c('error',{type:'cancel'}).c('bad-request',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up()}return this.connection.send(u),!0}},{key:"newP2PJingleSession",value:function(t,n){var s=new T.default(x.default.randomHexString(12),t,n,this.connection,this.mediaConstraints,this.p2pIceConfig,!0,!0);return this.sessions[s.sid]=s,s}},{key:"terminate",value:function(t,n,s){this.sessions.hasOwnProperty(t)&&('ended'!==this.sessions[t].state&&this.sessions[t].onTerminated(n,s),delete this.sessions[t])}},{key:"getStunAndTurnCredentials",value:function(){var t=this;this.connection.sendIQ((0,p.$iq)({type:'get',to:this.xmpp.options.hosts.domain}).c('services',{xmlns:'urn:xmpp:extdisco:2'}),function(n){return t.onReceiveStunAndTurnCredentials(n)},function(){A.warn('getting turn credentials with extdisco:2 failed, trying extdisco:1'),t.connection.sendIQ((0,p.$iq)({type:'get',to:t.xmpp.options.hosts.domain}).c('services',{xmlns:'urn:xmpp:extdisco:1'}),function(n){return t.onReceiveStunAndTurnCredentials(n)},function(){A.warn('getting turn credentials failed'),A.warn('is mod_turncredentials or similar installed and configured?')})})}},{key:"onReceiveStunAndTurnCredentials",value:function(t){var n=[];$(t).find('>services>service').each(function(t,s){var o={},c=(s=$(s)).attr('type');switch(c){case'stun':o.urls="stun:"+s.attr('host'),s.attr('port')&&(o.urls+=":"+s.attr('port')),n.push(o);break;case'turn':case'turns':o.urls=c+":",o.username=s.attr('username'),o.urls+=s.attr('host'),s.attr('port')&&(o.urls+=":"+s.attr('port'));var u=s.attr('transport');u&&'udp'!==u&&(o.urls+="?transport="+u),o.credential=s.attr('password')||o.credential,n.push(o)}});for(var s,o=this.xmpp.options,c=n.length-1;c>0;c--){var u=Math.floor(Math.random()*(c+1)),l=n[c];n[c]=n[u],n[u]=l}return s=o.useTurnUdp?function(t){return t.urls.startsWith('turn')}:function(t){return t.urls.startsWith('turn')&&t.urls.indexOf('transport=tcp')>=0},this.jvbIceConfig.iceServers=n.filter(s),this.p2pIceConfig.iceServers=n,n.length>0}},{key:"getLog",value:function(){var t=this,n={};return Object.keys(this.sessions).forEach(function(s){var o=t.sessions[s].peerconnection;o&&o.updateLog&&(n["jingle_"+s]={updateLog:o.updateLog,stats:o.stats,url:window.location.href})}),n}}]),S})(w.default);e.default=k},645,[2,12,13,17,20,22,19,435,560,589,566,596,563,584,626,635,646,647]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.expandSourcesFromJson=function(n,l){var o,s,f;try{f=JSON.parse(l.textContent)}catch(n){return u.error("json-message XML contained invalid JSON, ignoring: "+l.textContent),null}if(!(null===f||void 0===f?void 0:f.sources))return null;var h=c(n,t.MediaType.AUDIO),x=c(n,t.MediaType.VIDEO),j=new Map;for(var C in f.sources)if(f.sources.hasOwnProperty(C)){var $=[],b=f.sources[C],M=(null===b||void 0===b?void 0:b.length)&&b[0],O=(null===b||void 0===b?void 0:b.length)>1&&b[1],S=(null===b||void 0===b?void 0:b.length)>2&&b[2],_=(null===b||void 0===b?void 0:b.length)>3&&b[3];if(null===M||void 0===M?void 0:M.length)for(var y=0;y<M.length;y++)x.appendChild(p(C,M[y])),$.push(null===(o=M[y])||void 0===o?void 0:o.s);if(null===O||void 0===O?void 0:O.length)for(var I=0;I<O.length;I++)x.appendChild(v(O[I]));if(null===S||void 0===S?void 0:S.length)for(var w=0;w<S.length;w++)h.appendChild(p(C,S[w])),$.push(null===(s=S[w])||void 0===s?void 0:s.s);if(null===_||void 0===_?void 0:_.length)for(var D=0;D<_.length;D++)h.appendChild(v(_[D]));j.set(C,$)}return j};var l=r(d[1]),o=r(d[2]),t=r(d[3]),s=n(r(d[4])),u=(0,l.getLogger)(__filename);function p(n,l){var t=(0,o.$build)('source',{xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0',ssrc:l.s,name:s.default.isSourceNameSignalingEnabled()?l.n:void 0});return l.m&&t.c('parameter',{name:'msid',value:l.m}).up(),t.c('ssrc-info',{xmlns:'http://jitsi.org/jitmeet',owner:n}).up(),t.node}function v(n){for(var l=(0,o.$build)('ssrc-group',{xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0',semantics:f(n[0])}),t=1;t<n.length;t++)l.c('source',{xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0',ssrc:n[t]}).up();return l.node}function c(n,l){var t,s=$(n).find('jingle')[0],u=$(s).find("content[name=\""+l+"\"]");return u.length?u=u[0]:(u=(0,o.$build)('content',{name:l}).node,s.appendChild(u)),(t=$(u).find('description')).length?t=t[0]:(t=(0,o.$build)('description',{xmlns:'urn:xmpp:jingle:apps:rtp:1',media:l}).node,u.appendChild(t)),t}function f(n){return'f'===n?'FID':'s'===n?'SIM':null}},646,[2,435,560,589,590]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),p=r(d[8]),h=r(d[9]),v=V(r(d[10])),S=r(d[11]),E=r(d[12]),y=r(d[13]),C=r(d[14]),R=r(d[15]),b=t(r(d[16])),_=t(r(d[17])),w=t(r(d[18])),T=t(r(d[19])),I=t(r(d[20])),k=t(r(d[21])),P=t(r(d[22])),D=r(d[23]),M=t(r(d[24])),A=t(r(d[25])),O=V(r(d[26])),N=t(r(d[27])),x=t(r(d[28]));function j(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(j=function(t){return t?o:n})(t)}function V(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=j(n);if(o&&o.has(t))return o.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var l=c?Object.getOwnPropertyDescriptor(t,u):null;l&&(l.get||l.set)?Object.defineProperty(s,u,l):s[u]=t[u]}return s.default=t,o&&o.set(t,s),s}function J(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=L(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(t,n){if(t){if("string"==typeof t)return U(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?U(t,n):void 0}}function U(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var H=(0,p.getLogger)(__filename);var F=(function(t){(0,u.default)(V,t);var p,A,j=(p=V,A=Q(),function(){var t,n=(0,f.default)(p);if(A){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function V(t,n,s,u,l,f,p,h){var v;return(0,o.default)(this,V),(v=j.call(this,t,n,s,u,l,f,h))._bridgeSessionId=null,v._cachedOldLocalSdp=void 0,v._cachedNewLocalSdp=void 0,v._iceCheckingStartedTimestamp=null,v._gatheringStartedTimestamp=null,v.localRecvMaxFrameHeight=void 0,v._sourceReceiverConstraints=void 0,v._localVideoActive=!0,v._remoteVideoActive=!0,v._gatheringReported=!1,v.lasticecandidate=!1,v.closed=!1,v.isP2P=p,v.remoteRecvMaxFrameHeight=void 0,v.remoteSourceMaxFrameHeights=void 0,v.modificationQueue=new k.default,v.wasConnected=!1,v.establishmentDuration=void 0,v._xmppListeners=[],v._xmppListeners.push(u.addEventListener(x.default.Events.CONN_STATUS_CHANGED,v.onXmppStatusChanged.bind((0,c.default)(v)))),v._removeSenderVideoConstraintsChangeListener=void 0,v}return(0,s.default)(V,[{key:"_assertNotEnded",value:function(){return this.state!==O.ENDED}},{key:"doInitialize",value:function(t){var n,o,s,c,u,l=this;this.failICE=Boolean(t.failICE),this.lasticecandidate=!1,this.options=t,this.isReconnect=!1,this.wasstable=!1,this.webrtcIceUdpDisable=Boolean(t.webrtcIceUdpDisable),this.webrtcIceTcpDisable=Boolean(t.webrtcIceTcpDisable);var f={disableRtx:t.disableRtx};if(t.gatherStats&&(f.maxstats=300),f.capScreenshareBitrate=!1,f.enableInsertableStreams=t.enableInsertableStreams,f.videoQuality=t.videoQuality,f.forceTurnRelay=t.forceTurnRelay,f.audioQuality=t.audioQuality,f.usesUnifiedPlan=this.usesUnifiedPlan=M.default.supportsUnifiedPlan()&&(M.default.isFirefox()||M.default.isWebKitBased()||(M.default.isChromiumBased()&&this.isP2P?null===(o=null===(n=t.p2p)||void 0===n?void 0:n.enableUnifiedOnChrome)||void 0===o||o:null===(s=t.enableUnifiedOnChrome)||void 0===s||s)),this.isP2P){f.disableSimulcast=!0;var p=this._abtestSuspendVideoEnabled(t);void 0!==p&&(f.abtestSuspendVideo=p)}else f.disableSimulcast=t.disableSimulcast||t.preferH264&&!t.disableH264||t.videoQuality&&t.videoQuality.preferredCodec===v.H264,f.capScreenshareBitrate=f.disableSimulcast||!('number'==typeof(null===(c=t.desktopSharingFrameRate)||void 0===c?void 0:c.max)&&(null===(u=t.desktopSharingFrameRate)||void 0===u?void 0:u.max)>R.SS_DEFAULT_FRAME_RATE),I.default.analytics.addPermanentProperties({capScreenshareBitrate:f.capScreenshareBitrate});t.startSilent&&(f.startSilent=!0),this.peerconnection=this.rtc.createPeerConnection(this._signalingLayer,this.pcConfig,this.isP2P,f),this.peerconnection.onicecandidate=function(t){if(t){var n=t.candidate,o=window.performance.now();if(n){null===l._gatheringStartedTimestamp&&(l._gatheringStartedTimestamp=o);var s=n.protocol;if('string'==typeof s)if('tcp'===(s=s.toLowerCase())||'ssltcp'===s){if(l.webrtcIceTcpDisable)return}else if('udp'===s&&l.webrtcIceUdpDisable)return}else l._gatheringReported||(I.default.sendAnalytics(y.ICE_DURATION,{phase:'gathering',value:o-l._gatheringStartedTimestamp,p2p:l.isP2P,initiator:l.isInitiator}),l._gatheringReported=!0);l.sendIceCandidate(n)}},this.peerconnection.onsignalingstatechange=function(){'stable'===l.peerconnection.signalingState?l.wasstable=!0:'closed'!==l.peerconnection.signalingState&&'closed'!==l.peerconnection.connectionState||l.room.eventEmitter.emit(C.XMPPEvents.SUSPEND_DETECTED,l)},this.peerconnection.oniceconnectionstatechange=function(){var t=window.performance.now(),n=!1;switch(l.isP2P||(l.room.connectionTimes["ice.state."+l.peerconnection.iceConnectionState]=t),H.log("(TIME) ICE "+l.peerconnection.iceConnectionState+" "+(l.isP2P?'P2P':'JVB')+":\t",t),I.default.sendAnalytics(y.ICE_STATE_CHANGED,{p2p:l.isP2P,state:l.peerconnection.iceConnectionState,signaling_state:l.peerconnection.signalingState,reconnect:l.isReconnect,value:t}),l.room.eventEmitter.emit(C.XMPPEvents.ICE_CONNECTION_STATE_CHANGED,l,l.peerconnection.iceConnectionState),l.peerconnection.iceConnectionState){case'checking':l._iceCheckingStartedTimestamp=t;break;case'connected':if('stable'===l.peerconnection.signalingState){n=!0;var o=!l.options.enableIceRestart&&l.room.supportsRestartByTerminate();(l.isReconnect||o)&&l.room.eventEmitter.emit(C.XMPPEvents.CONNECTION_RESTORED,l)}if(!l.wasConnected&&(l.wasstable||n||l.usesUnifiedPlan&&l.isInitiator&&M.default.isChromiumBased())){I.default.sendAnalytics(y.ICE_DURATION,{phase:'checking',value:t-l._iceCheckingStartedTimestamp,p2p:l.isP2P,initiator:l.isInitiator});var s=Math.min(l._iceCheckingStartedTimestamp,l._gatheringStartedTimestamp);l.establishmentDuration=t-s,I.default.sendAnalytics(y.ICE_DURATION,{phase:'establishment',value:l.establishmentDuration,p2p:l.isP2P,initiator:l.isInitiator}),l.wasConnected=!0,l.room.eventEmitter.emit(C.XMPPEvents.CONNECTION_ESTABLISHED,l)}l.isReconnect=!1;break;case'disconnected':l.isReconnect=!0,l.wasstable&&l.room.eventEmitter.emit(C.XMPPEvents.CONNECTION_INTERRUPTED,l);break;case'failed':l.room.eventEmitter.emit(C.XMPPEvents.CONNECTION_ICE_FAILED,l)}},this.peerconnection.onconnectionstatechange=function(){var t=l.peerconnection.iceConnectionState;switch(l.peerconnection.connectionState){case'failed':'disconnected'===t&&l.room.eventEmitter.emit(C.XMPPEvents.CONNECTION_ICE_FAILED,l)}},this.peerconnection.onnegotiationneeded=function(){var t=l.peerconnection.signalingState,n=l.peerconnection.remoteDescription;if(l.usesUnifiedPlan&&!l.isP2P&&'stable'===t&&n&&'string'==typeof n.sdp){H.info(l+" onnegotiationneeded fired on "+l.peerconnection);l.modificationQueue.push(function(t){var n=new _.default(l.peerconnection.localDescription.sdp);l._renegotiate().then(function(){return l.peerconnection.configureSenderVideoEncodings()}).then(function(){var t=new _.default(l.peerconnection.localDescription.sdp);l.notifyMySSRCUpdate(n,t)}).then(function(){return t()},function(n){return t(n)})},function(t){t?H.error(l+" onnegotiationneeded error",t):H.debug(l+" onnegotiationneeded executed - OK")})}}}},{key:"getRemoteRecvMaxFrameHeight",value:function(){if(this.isP2P)return this.remoteRecvMaxFrameHeight}},{key:"getRemoteSourcesRecvMaxFrameHeight",value:function(){if(this.isP2P)return this.remoteSourceMaxFrameHeights}},{key:"sendIceCandidate",value:function(t){var n=this,o=new _.default(this.peerconnection.localDescription.sdp);if(t&&t.candidate.length&&!this.lasticecandidate){var s=T.default.iceparams(o.media[t.sdpMLineIndex],o.session),c=T.default.candidateToJingle(t.candidate);if(!s||!c){return P.default.callErrorHandler(new Error("failed to get ice && jcand")),void H.error("failed to get ice && jcand")}s.xmlns='urn:xmpp:jingle:transports:ice-udp:1',this.usedrip?(0===this.dripContainer.length&&setTimeout(function(){0!==n.dripContainer.length&&(n.sendIceCandidates(n.dripContainer),n.dripContainer=[])},150),this.dripContainer.push(t)):this.sendIceCandidates([t])}else H.log(this+" sendIceCandidate: last candidate"),this.lasticecandidate=!0}},{key:"sendIceCandidates",value:function(t){var n=this;if(this._assertNotEnded('sendIceCandidates')){H.log(this+" sendIceCandidates "+JSON.stringify(t));for(var o=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'transport-info',initiator:this.initiatorJid,sid:this.sid}),s=new _.default(this.peerconnection.localDescription.sdp),c=function(c){var u=t.filter(function(t){return t.sdpMLineIndex===c}),l=T.default.parseMLine(s.media[c].split('\r\n')[0]);if(u.length>0){var f=T.default.iceparams(s.media[c],s.session);f.xmlns='urn:xmpp:jingle:transports:ice-udp:1',o.c('content',{creator:n.initiatorJid===n.localJid?'initiator':'responder',name:u[0].sdpMid?u[0].sdpMid:l.media}).c('transport',f);for(var p=0;p<u.length;p++){var h=T.default.candidateToJingle(u[p].candidate);n.failICE&&(h.ip='1.1.1.1'),o.c('candidate',h).up()}var v=T.default.findLine(s.media[c],'a=fingerprint:',s.session);if(v){var S=T.default.parseFingerprint(v);S.required=!0,o.c('fingerprint',{xmlns:'urn:xmpp:jingle:apps:dtls:0'}).t(S.fingerprint),delete S.fingerprint,o.attrs(S),o.up()}o.up(),o.up()}},u=0;u<s.media.length;u++)c(u);this.connection.sendIQ(o,null,this.newJingleErrorHandler(o),1e4)}}},{key:"sendIceFailedNotification",value:function(){var t=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-info',initiator:this.initiatorJid,sid:this.sid}).c('ice-state',{xmlns:'http://jitsi.org/protocol/focus'}).t('failed').up();this._bridgeSessionId&&t.c('bridge-session',{xmlns:'http://jitsi.org/protocol/focus',id:this._bridgeSessionId}),this.connection.sendIQ2(t,{timeout:65}).catch(this.newJingleErrorHandler(t))}},{key:"addIceCandidates",value:function(t){var n=this;if('closed'!==this.peerconnection.signalingState){var o=[];if(t.find('>content>transport>candidate').each(function(t,n){var s=T.default.candidateFromJingle(n);s=s.replace('\r\n','').replace('a=','');var c=new RTCIceCandidate({sdpMLineIndex:0,sdpMid:'',candidate:s});o.push(c)}),o.length){H.debug(this+" Queued add ("+o.length+") ICE candidates task"),this.modificationQueue.push(function(t){for(var s=0,c=o;s<c.length;s++){var u=c[s];n.peerconnection.addIceCandidate(u).then(function(){return H.debug(n+" addIceCandidate ok!")},function(t){return H.error(n+" addIceCandidate failed!",t)})}t(),H.debug(n+" ICE candidates task finished")})}else H.error(this+" No ICE candidates to add ?",t[0]&&t[0].outerHTML)}else H.warn(this+" Ignored add ICE candidate when in closed state")}},{key:"readSsrcInfo",value:function(t){var n=this;$(t).find('>description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(t,o){var s=Number(o.getAttribute('ssrc'));if(b.default.isSourceNameSignalingEnabled()&&o.hasAttribute('name')){var c=o.getAttribute('name');n._signalingLayer.setTrackSourceName(s,c)}n.isP2P?n._signalingLayer.setSSRCOwner(s,h.Strophe.getResourceFromJid(n.remoteJid)):$(o).find('>ssrc-info[xmlns="http://jitsi.org/jitmeet"]').each(function(t,o){var c,u=o.getAttribute('owner');(null===u||void 0===u?void 0:u.length)&&(isNaN(s)||s<0?H.warn(n+" Invalid SSRC "+s+" value received for "+u):n._signalingLayer.setSSRCOwner(s,(c=u,h.Strophe.getResourceFromJid(c)||c)))})})}},{key:"generateRecvonlySsrc",value:function(){this.peerconnection?this.peerconnection.generateRecvonlySsrc():H.error(this+" Unable to generate recvonly SSRC - no peerconnection")}},{key:"getConfiguredVideoCodec",value:function(){return this.peerconnection.getConfiguredVideoCodec()}},{key:"acceptOffer",value:function(t,n,o,s){var c=this;this.setOfferAnswerCycle(t,function(){c.sendSessionAccept(function(){n(),c.room.eventEmitter.emit(C.XMPPEvents.SESSION_ACCEPT,c);var t=s.filter(function(t){return t.getType()===E.MediaType.VIDEO});t.length&&t.splice(0,1),b.default.isMultiStreamSupportEnabled()&&t.length&&c.addTracks(t)},function(t){o(t),c.room.eventEmitter.emit(C.XMPPEvents.SESSION_ACCEPT_ERROR,c,t)})},o,s)}},{key:"invite",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.isInitiator)throw new Error('Trying to invite from the responder session');H.debug(this+" Queued invite task"),this.modificationQueue.push(function(o){for(var s,c=[],u=J(n);!(s=u()).done;){var l=s.value;c.push(t.peerconnection.addTrack(l,t.isInitiator))}Promise.all(c).then(function(){return t.peerconnection.createOffer(t.mediaConstraints)}).then(function(n){return t.peerconnection.setLocalDescription(n)}).then(function(){t.sendSessionInitiate(t.peerconnection.localDescription.sdp)}).then(function(){return o()},function(t){return o(t)})},function(n){n?H.error(t+" invite error",n):H.debug(t+" invite executed - OK")})}},{key:"sendSessionInitiate",value:function(t){var n=this,o=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-initiate',initiator:this.initiatorJid,sid:this.sid});new _.default(t).toJingle(o,this.isInitiator?'initiator':'responder'),o=o.tree(),H.debug(this+" Session-initiate: ",o),this.connection.sendIQ(o,function(){H.info(n+" Got RESULT for \"session-initiate\"")},function(t){H.error(n+" \"session-initiate\" error",t)},1e4)}},{key:"setAnswer",value:function(t){var n=this;if(!this.isInitiator)throw new Error('Trying to set an answer on the responder session');this.setOfferAnswerCycle(t,function(){if(H.info(n+" setAnswer - succeeded"),n.usesUnifiedPlan&&M.default.isChromiumBased()){H.debug(n+" Queued responderRenegotiate task"),n.modificationQueue.push(function(t){var o=n.peerconnection.remoteDescription.sdp,s=new RTCSessionDescription({type:'offer',sdp:o});return n._responderRenegotiate(s).then(function(){return t()},function(n){return t(n)})},function(t){t?H.error(n+" failed to renegotiate a decoder for muted endpoint "+t):H.debug(n+" renegotiate a decoder for muted endpoint")})}},function(t){H.error(n+" setAnswer failed: ",t)})}},{key:"setOfferAnswerCycle",value:function(t,o,s){var c=this,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];H.debug(this+" Queued setOfferAnswerCycle task"),this.modificationQueue.push(function(o){var s=[],l=u.filter(function(t){return t.getType()===E.MediaType.AUDIO}),f=u.filter(function(t){return t.getType()===E.MediaType.VIDEO}),p=u;b.default.isMultiStreamSupportEnabled()&&f.length>1&&(p=[].concat((0,n.default)(l),[f[0]]));for(var h,v=J(p);!(h=v()).done;){var S=h.value;s.push(c.peerconnection.addTrack(S,c.isInitiator))}var y=c._processNewJingleOfferIq(t),C=c.peerconnection.localDescription.sdp,R=$(t).find(">bridge-session[xmlns=\"http://jitsi.org/protocol/focus\"]").attr('id');R!==c._bridgeSessionId&&(c._bridgeSessionId=R),Promise.all(s).then(function(){return c._renegotiate(y.raw)}).then(function(){if(c.state===O.PENDING&&(c.state=O.ACTIVE,c.isP2P&&(!c._localVideoActive||c.localRecvMaxFrameHeight||c._sourceReceiverConstraints)&&c.sendContentModify()),C){var t=new _.default(c.peerconnection.localDescription.sdp);c.notifyMySSRCUpdate(new _.default(C),t)}}).then(function(){return o()},function(t){return o(t)})},function(t){t?(H.error(c+" setOfferAnswerCycle task failed: "+t),s(t)):(H.debug(c+" setOfferAnswerCycle task done"),o())})}},{key:"setVideoCodecs",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.peerconnection.getConfiguredVideoCodec();if(this._assertNotEnded()&&n!==s){H.info(this+" Switching video codec from "+s+" to "+n),this.peerconnection.setVideoCodecs(n,o);H.debug(this+" Queued setVideoCodecs task"),this.modificationQueue.push(function(n){t._renegotiate().then(function(){return H.debug(t+" setVideoCodecs task is done"),n()},function(o){return H.error(t+" setVideoCodecs task failed: "+o),n(o)})})}}},{key:"replaceTransport",value:function(t,n,o){var s=this;if(this.options.enableForcedReload){var c=new _.default(this.peerconnection.localDescription.sdp);return this.sendTransportAccept(c,n,o),void this.room.eventEmitter.emit(C.XMPPEvents.CONNECTION_RESTARTED,this)}this.room.eventEmitter.emit(C.XMPPEvents.ICE_RESTARTING,this);var u=t.clone();t.find('>content[name=\'data\']').attr('senders','rejected'),t.find('>content>description>source').remove(),t.find('>content>description>ssrc-group').remove();var l=t.find('>content>transport>fingerprint');l.attr('hash','sha-1'),l.text('00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00'),this.setOfferAnswerCycle(t,function(){s.setOfferAnswerCycle(u,function(){var t=new _.default(s.peerconnection.localDescription.sdp);s.sendTransportAccept(t,n,o),s.room.eventEmitter.emit(C.XMPPEvents.ICE_RESTART_SUCCESS,s,u)},o)},o)}},{key:"sendSessionAccept",value:function(t,n){var o=this,s=new _.default(this.peerconnection.localDescription.sdp),c=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-accept',initiator:this.initiatorJid,responder:this.responderJid,sid:this.sid});this.webrtcIceTcpDisable&&(s.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(s.removeUdpCandidates=!0),this.failICE&&(s.failICE=!0),s.toJingle(c,this.initiatorJid===this.localJid?'initiator':'responder'),H.info(this+" Sending session-accept"),H.debug(c.tree()),this.connection.sendIQ(c,t,this.newJingleErrorHandler(c,function(t){n(t),o.room.eventEmitter.emit(C.XMPPEvents.SESSION_ACCEPT_TIMEOUT,o)}),1e4)}},{key:"sendContentModify",value:function(){var t=this,n=this.localRecvMaxFrameHeight,o=this._localVideoActive?'both':'none',s=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'content-modify',initiator:this.initiatorJid,sid:this.sid}).c('content',{name:E.MediaType.VIDEO,senders:o});void 0!==n&&(s=s.c('max-frame-height',{xmlns:'http://jitsi.org/jitmeet/video'}).t(n),H.info(this+" sending content-modify, video senders: "+o+", max frame height: "+n)),void 0!==this._sourceReceiverConstraints&&this._sourceReceiverConstraints.forEach(function(n,o){s.c('source-frame-height',{xmlns:'http://jitsi.org/jitmeet/video'}).attrs({sourceName:o,maxHeight:n}),s.up(),H.info(t+" sending content-modify for source-name: "+o+", maxHeight: "+n)}),H.debug(s.tree()),this.connection.sendIQ(s,null,this.newJingleErrorHandler(s),1e4)}},{key:"setReceiverVideoConstraint",value:function(t,n){H.info(this+" setReceiverVideoConstraint - max frame height: "+t+" sourceReceiverConstraints: "+n),b.default.isSourceNameSignalingEnabled()?this._sourceReceiverConstraints=n:this.localRecvMaxFrameHeight=t,this.isP2P&&this.state===O.ACTIVE&&this.sendContentModify()}},{key:"sendTransportAccept",value:function(t,n,o){var s=this,c=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'transport-accept',initiator:this.initiatorJid,sid:this.sid});t.media.forEach(function(n,o){var u=T.default.parseMLine(n.split('\r\n')[0]);c.c('content',{creator:s.initiatorJid===s.localJid?'initiator':'responder',name:u.media}),t.transportToJingle(o,c),c.up()}),H.info(this+" Sending transport-accept"),H.debug(c.tree()),this.connection.sendIQ(c,n,this.newJingleErrorHandler(c,o),1e4)}},{key:"sendTransportReject",value:function(t,n){var o=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'transport-reject',initiator:this.initiatorJid,sid:this.sid});H.info(this+" Sending 'transport-reject'"),H.debug(o.tree()),this.connection.sendIQ(o,t,this.newJingleErrorHandler(o,n),1e4)}},{key:"setSenderVideoConstraint",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._assertNotEnded()){H.info(this+" setSenderVideoConstraint: "+t+", sourceName: "+n);var o=n?this.rtc.getLocalVideoTracks().find(function(t){return t.getSourceName()===n}):this.rtc.getLocalVideoTrack();return this.peerconnection.setSenderVideoConstraints(t,o)}return Promise.resolve()}},{key:"terminate",value:function(t,n,o){if(this.state!==O.ENDED){if(!o||Boolean(o.sendSessionTerminate)){var s=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-terminate',initiator:this.initiatorJid,sid:this.sid}).c('reason').c(o&&o.reason||'success').up();o&&o.reasonDescription?s.c('text').t(o.reasonDescription).up().up():s.up(),this._bridgeSessionId&&s.c('bridge-session',{xmlns:'http://jitsi.org/protocol/focus',id:this._bridgeSessionId,restart:o&&!0===o.requestRestart}).up(),H.info(this+" Sending session-terminate"),H.debug(s.tree()),this.connection.sendIQ(s,t,this.newJingleErrorHandler(s,n),1e4)}else H.info(this+" Skipped sending session-terminate");this.connection.jingle.terminate(this.sid)}}},{key:"onTerminated",value:function(t,n){H.info(this+" Session terminated",t,n),this._xmppListeners.forEach(function(t){return t()}),this._xmppListeners=[],this._removeSenderVideoConstraintsChangeListener&&this._removeSenderVideoConstraintsChangeListener(),this.close()}},{key:"onXmppStatusChanged",value:function(t){t===x.default.Status.CONNECTED&&this._cachedOldLocalSdp&&(H.info(this+" Sending SSRC update on reconnect"),this.notifyMySSRCUpdate(this._cachedOldLocalSdp,this._cachedNewLocalSdp))}},{key:"_parseSsrcInfoFromSourceAdd",value:function(t,n){var o=this,s=[],c=this;return $(t).each(function(t,u){var l=$(u).attr('name'),f='';$(u).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=this.getAttribute('semantics'),n=$(this).find('>source').map(function(){return this.getAttribute('ssrc')}).get();n.length&&(f+="a=ssrc-group:"+t+" "+n.join(' ')+"\r\n")}),$(u).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=$(this).attr('ssrc');n.containsSSRC(t)?(!c.usesUnifiedPlan||!c.isP2P)&&H.warn(c+" Source-add request for existing SSRC: "+t):$(this).find('>parameter').each(function(){f+="a=ssrc:"+t+" "+$(this).attr('name'),$(this).attr('value')&&$(this).attr('value').length&&(f+=":"+$(this).attr('value')),f+='\r\n'})});var p=!1;n.media.forEach(function(t,n){T.default.findLine(t,"a=mid:"+l)&&(s[n]||(s[n]=''),s[n]+=f,p=!0)}),!p&&o.isP2P&&b.default.isSourceNameSignalingEnabled()&&(s[l]=f)}),s}},{key:"addRemoteStream",value:function(t){this._addOrRemoveRemoteStream(!0,t)}},{key:"removeRemoteStream",value:function(t){this._addOrRemoveRemoteStream(!1,t)}},{key:"removeRemoteStreamsOnLeave",value:function(t){var n=this;H.debug(this+" Queued removeRemoteStreamsOnLeave task for participant "+t),this.modificationQueue.push(function(o){var s=n.peerconnection.getRemoteSourceInfoByParticipant(t);if(s.length){var c=new _.default(n.peerconnection.localDescription.sdp),u=n._processRemoteRemoveSource(s);n._renegotiate(u.raw).then(function(){var t=new _.default(n.peerconnection.localDescription.sdp);n.notifyMySSRCUpdate(c,t),o()}).catch(function(t){return o(t)})}else o()},function(t){t?H.error(n+" removeRemoteStreamsOnLeave error:",t):H.info(n+" removeRemoteStreamsOnLeave done!")})}},{key:"_addOrRemoveRemoteStream",value:function(t,n){var o=this,s=t?'addRemoteStream':'removeRemoteStream';t&&this.readSsrcInfo(n);H.debug(this+" Queued "+s+" task"),this.modificationQueue.push(function(c){if(!o.peerconnection.localDescription||!o.peerconnection.localDescription.sdp){var u=s+" - localDescription not ready yet";return H.error(u),void c(u)}H.log(o+" Processing "+s);var l=new _.default(o.peerconnection.localDescription.sdp),f=new _.default(o.peerconnection.remoteDescription.sdp),p=t?o._parseSsrcInfoFromSourceAdd(n,f):o._parseSsrcInfoFromSourceRemove(n,f),h=t?o._processRemoteAddSource(p):o._processRemoteRemoveSource(p),v=new RTCSessionDescription({type:'offer',sdp:h.raw});(t&&o.usesUnifiedPlan&&o.isP2P&&M.default.isChromiumBased()?o._responderRenegotiate(v):o._renegotiate(h.raw)).then(function(){var t=new _.default(o.peerconnection.localDescription.sdp);H.log(o+" "+s+" - OK"),o.notifyMySSRCUpdate(l,t),c()},function(t){H.error(o+" "+s+" failed:",t),c(t)})})}},{key:"_processNewJingleOfferIq",value:function(t){var n=new _.default('');return this.webrtcIceTcpDisable&&(n.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(n.removeUdpCandidates=!0),this.failICE&&(n.failICE=!0),n.fromJingle(t),this.readSsrcInfo($(t).find('>content')),n}},{key:"_processRemoteRemoveSource",value:function(t){var n=this,o=this.usesUnifiedPlan?new _.default(this.peerconnection.peerconnection.remoteDescription.sdp):new _.default(this.peerconnection.remoteDescription.sdp);return t.forEach(function(t,s){var c;if((t=t.split('\r\n')).pop(),n.usesUnifiedPlan){if(t.forEach(function(t){var s;if((c=o.media.findIndex(function(n){return n.includes(t)}))>-1)if(o.media[c]=o.media[c].replace(t+"\r\n",''),n.isP2P){var u=null===(s=T.default.parseMLine(o.media[c].split('\r\n')[0]))||void 0===s?void 0:s.media,l=n.peerconnection.getDesiredMediaDirection(u,!1);[S.MediaDirection.SENDRECV,S.MediaDirection.SENDONLY].forEach(function(t){o.media[c]=o.media[c].replace("a="+t,"a="+l)})}else o.media[c]=o.media[c].replace("a="+S.MediaDirection.SENDONLY,"a="+S.MediaDirection.INACTIVE)}),c>-1&&!n.isP2P&&b.default.isMultiStreamSupportEnabled()){var u=T.default.parseMLine(o.media[c].split('\r\n')[0]),l=u.media,f=u.port;o.media[c]=o.media[c].replace("m="+l+" "+f,"m="+l+" 0")}}else t.forEach(function(t){o.media[s]=o.media[s].replace(t+"\r\n",'')})}),o.raw=o.session+o.media.join(''),o}},{key:"_processRemoteAddSource",value:function(t){var n=this,o=new _.default(this.peerconnection.remoteDescription.sdp);return t.length>o.media.length&&b.default.isSourceNameSignalingEnabled()&&this.isP2P&&this.usesUnifiedPlan&&(o.addMlineForNewLocalSource(E.MediaType.VIDEO),o=new _.default(o.raw)),t.forEach(function(t,s){var c;if(o.media[s]+=t,n.isP2P&&n.usesUnifiedPlan){var u=null===(c=T.default.parseMLine(o.media[s].split('\r\n')[0]))||void 0===c?void 0:c.media,l=n.peerconnection.getDesiredMediaDirection(u,!0);[S.MediaDirection.RECVONLY,S.MediaDirection.INACTIVE].forEach(function(t){o.media[s]=o.media[s].replace("a="+t,"a="+l)})}}),o.raw=o.session+o.media.join(''),o}},{key:"_renegotiate",value:function(t){if('closed'===this.peerconnection.signalingState){var n=new Error('Attempted to renegotiate in state closed');return this.room.eventEmitter.emit(C.XMPPEvents.RENEGOTIATION_FAILED,n,this),Promise.reject(n)}var o=t||this.peerconnection.remoteDescription.sdp;if(!o){var s=new Error("Can not renegotiate without remote description, current state: "+this.state);return this.room.eventEmitter.emit(C.XMPPEvents.RENEGOTIATION_FAILED,s,this),Promise.reject(s)}var c=new RTCSessionDescription({type:this.isInitiator?'answer':'offer',sdp:o});return this.isInitiator?this._initiatorRenegotiate(c):this._responderRenegotiate(c)}},{key:"_responderRenegotiate",value:function(t){var n=this;return H.debug(this+" Renegotiate: setting remote description"),this.peerconnection.setRemoteDescription(t).then(function(){return H.debug(n+" Renegotiate: creating answer"),n.peerconnection.createAnswer(n.mediaConstraints).then(function(t){return H.debug(n+" Renegotiate: setting local description"),n.peerconnection.setLocalDescription(t)})})}},{key:"_initiatorRenegotiate",value:function(t){var n=this;return H.debug(this+" Renegotiate: creating offer"),this.peerconnection.createOffer(this.mediaConstraints).then(function(o){return H.debug(n+" Renegotiate: setting local description"),n.peerconnection.setLocalDescription(o).then(function(){return H.debug(n+" Renegotiate: setting remote description"),n.peerconnection.setRemoteDescription(t)})})}},{key:"addTracks",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!b.default.isMultiStreamSupportEnabled()||!(null===n||void 0===n?void 0:n.length)||n.find(function(t){return t.getType()!==E.MediaType.VIDEO}))return Promise.reject(new Error('Multiple tracks of the given media type are not supported'));var o=[],s=function(s){for(var c,u=new _.default(t.peerconnection.localDescription.sdp),l=new _.default(t.peerconnection.peerconnection.remoteDescription.sdp),f=J(n);!(c=f()).done;){var p=c.value;l.addMlineForNewLocalSource(p.getType())}var h=new RTCSessionDescription({type:'offer',sdp:l.raw});t._responderRenegotiate(h).then(function(){for(var s,c=J(n);!(s=c()).done;){var u=s.value;o.push(t.peerconnection.replaceTrack(null,u))}return Promise.all(o)}).then(function(){return t._renegotiate()}).then(function(){var n=new _.default(t.peerconnection.localDescription.sdp);t.notifyMySSRCUpdate(u,n),s()}).catch(function(t){return s(t)})};return new Promise(function(n,o){H.debug(t+" Queued renegotiation after addTrack"),t.modificationQueue.push(s,function(s){s?(H.error(t+" renegotiation after addTrack error",s),o(s)):(H.debug(t+" renegotiation after addTrack executed - OK"),n())})})}},{key:"replaceTrack",value:function(t,n){var o=this,s=function(s){H.debug(o+" replaceTrack worker started. oldTrack = "+t+", newTrack = "+n);var c=o.peerconnection.localDescription.sdp;o.usesUnifiedPlan||(o.peerconnection.options.capScreenshareBitrate&&t&&n&&n.isVideoTrack()&&o.peerconnection.clearRecvonlySsrc(),!t&&n&&n.isVideoTrack()?o.peerconnection.clearRecvonlySsrc():t&&t.isVideoTrack()&&!n&&(o.peerconnection.clearRecvonlySsrc(),o.peerconnection.generateRecvonlySsrc())),o.peerconnection.replaceTrack(t,n).then(function(s){var u=Promise.resolve();return H.debug(o+" TPC.replaceTrack finished. shouldRenegotiate = "+s+", JingleSessionState = "+o.state),s&&(t||n)&&o.state===O.ACTIVE&&(u=o._renegotiate().then(function(){var t=new _.default(o.peerconnection.localDescription.sdp);o.notifyMySSRCUpdate(new _.default(c),t)})),u.then(function(){if(b.default.isSourceNameSignalingEnabled()&&t&&n&&t.isVideoTrack()&&n.setSourceName(t.getSourceName()),null===n||void 0===n?void 0:n.isVideoTrack())return H.debug(o+" replaceTrack worker: configuring video stream"),o.peerconnection.configureSenderVideoEncodings(n)})}).then(function(){return s()},function(t){return s(t)})};return new Promise(function(c,u){H.debug(o+" Queued replaceTrack task. Old track = "+t+", new track = "+n),o.modificationQueue.push(s,function(t){t?(H.error(o+" Replace track error:",t),u(t)):(H.info(o+"  Replace track done!"),c())})})}},{key:"_parseSsrcInfoFromSourceRemove",value:function(t,n){var o=[];return $(t).each(function(t,s){var c=$(s).attr('name'),u='';$(s).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=this.getAttribute('semantics'),n=$(this).find('>source').map(function(){return this.getAttribute('ssrc')}).get();n.length&&(u+="a=ssrc-group:"+t+" "+n.join(' ')+"\r\n")});var l=[];$(s).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=$(this).attr('ssrc');l.push(t)}),n.media.forEach(function(t,n){T.default.findLine(t,"a=mid:"+c)&&(o[n]||(o[n]=''),l.forEach(function(s){var c=T.default.findLines(t,"a=ssrc:"+s);c.length&&(o[n]+=c.join('\r\n')+"\r\n")}),o[n]+=u)})}),o}},{key:"_verifyNoSSRCChanged",value:function(t,n){var o=new _.default(this.peerconnection.localDescription.sdp),s=new w.default(n,o),c=s.getNewMedia();if(Object.keys(c).length)return H.error(this+" - some SSRC were added on "+t,c),!1;var u=(s=new w.default(o,n)).getNewMedia();return!Object.keys(u).length||(H.error(this+" - some SSRCs were removed on "+t,u),!1)}},{key:"addTrackAsUnmute",value:function(t){var n=this;return this._addRemoveTrackAsMuteUnmute(!1,t).then(function(){if(t.isVideoTrack())return n.peerconnection.configureSenderVideoEncodings(t)})}},{key:"removeTrackAsMute",value:function(t){return this._addRemoveTrackAsMuteUnmute(!0,t)}},{key:"_addRemoveTrackAsMuteUnmute",value:function(t,n){var o=this;if(!n)return Promise.reject('invalid "track" argument value');var s=t?'removeTrackMute':'addTrackUnmute',c=function(c){var u=o.peerconnection;if(u){var l=u.localDescription.sdp;(t?u.removeTrackMute(n):u.addTrackUnmute(n)).then(function(t){t&&l&&u.remoteDescription.sdp?o._renegotiate().then(function(){!o.usesUnifiedPlan&&o._verifyNoSSRCChanged(s,new _.default(l));var t=u.localDescription.sdp;o.notifyMySSRCUpdate(new _.default(l),new _.default(t)),c()}):c()},c)}else c("Error:  tried "+s+" track with no active peerconnection")};return H.debug(this+" Queued "+s+" task"),new Promise(function(t,n){o.modificationQueue.push(c,function(c){c?(H.error(o+" "+s+" failed"),n(c)):(H.debug(o+" "+s+" done"),t())})})}},{key:"setMediaTransferActive",value:function(t,n){var o=this;if(!this.peerconnection)return Promise.reject("Can not modify transfer active state, before \"initialize\" is called");var s=t?'audio active':'audio inactive',c=n?'video active':'video inactive';H.info(this+" Queued make "+c+", "+s+" task");var u=function(s){var c=o.state===O.ACTIVE,u=o.peerconnection.setAudioTransferActive(t);o._localVideoActive!==n&&(o._localVideoActive=n,o.isP2P&&c&&o.sendContentModify());var l=o.peerconnection.setVideoTransferActive(o._localVideoActive&&o._remoteVideoActive);c&&(u||l)?o._renegotiate().then(s,s):s()};return new Promise(function(t,n){o.modificationQueue.push(u,function(u){u?(H.error(o+" Make "+c+", "+s+" task failed!"),n(u)):(H.debug(o+" Make "+c+", "+s+" task done!"),t())})})}},{key:"modifyContents",value:function(t){var n=this,o=V.parseVideoSenders(t),s=V.parseMaxFrameHeight(t),c=V.parseSourceMaxFrameHeight(t);if(s&&(H.info(this+" received remote max frame height: "+s),this.remoteRecvMaxFrameHeight=s,this.eventEmitter.emit(N.default.REMOTE_VIDEO_CONSTRAINTS_CHANGED,this)),c&&(this.remoteSourceMaxFrameHeights=c,this.eventEmitter.emit(N.default.REMOTE_SOURCE_CONSTRAINTS_CHANGED,this,c)),null!==o){H.debug(this+" queued \"content-modify\" task(video senders=\""+o+"\")"),this.modificationQueue.push(function(t){n._assertNotEnded()&&n._modifyRemoteVideoActive(o)?n._renegotiate().then(t,t):t()},function(t){t?H.error(n+" \"content-modify\" failed",t):H.debug(n+" \"content-modify\" task(video senders=\""+o+"\") done")})}else H.error(this+" - failed to parse video \"senders\" attribute in \"content-modify\" action")}},{key:"_modifyRemoteVideoActive",value:function(t){var n='both'===t||'initiator'===t&&this.isInitiator||'responder'===t&&!this.isInitiator;return n!==this._remoteVideoActive&&(H.debug(this+" new remote video active: "+n),this._remoteVideoActive=n),this.peerconnection.setVideoTransferActive(this._localVideoActive&&this._remoteVideoActive)}},{key:"notifyMySSRCUpdate",value:function(t,n){var o=this;if(this.state===O.ACTIVE){if(!this.connection.connected)return this._cachedOldLocalSdp||(this._cachedOldLocalSdp=t),this._cachedNewLocalSdp=n,void H.warn(this+" Not sending SSRC update while the signaling is disconnected");this._cachedOldLocalSdp=void 0,this._cachedNewLocalSdp=void 0;var s=function(t){var n=t.getNewMedia(),o=[],s=null;return Object.keys(n).forEach(function(t){var c=Object.keys(n[t].ssrcs);s=n[t].mid,(null===c||void 0===c?void 0:c.length)&&(o=o.concat(c))}),{mediaType:s,ssrcs:o}},c=new w.default(n,t),u=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'source-remove',initiator:this.initiatorJid,sid:this.sid});c.toJingle(u);var l={},f=s(c);f.ssrcs.length&&(H.info(this+" Sending source-remove for "+f.mediaType+" ssrcs="+f.ssrcs),this.connection.sendIQ(u,function(){o.room.eventEmitter.emit(C.XMPPEvents.SOURCE_REMOVE,o,l)},this.newJingleErrorHandler(u,function(t){o.room.eventEmitter.emit(C.XMPPEvents.SOURCE_REMOVE_ERROR,o,t,l)}),1e4)),c=new w.default(t,n);var p=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'source-add',initiator:this.initiatorJid,sid:this.sid});c.toJingle(p);var v=s(c);v.ssrcs.length&&(H.info(this+" Sending source-add for "+v.mediaType+" ssrcs="+v.ssrcs),this.connection.sendIQ(p,function(){o.room.eventEmitter.emit(C.XMPPEvents.SOURCE_ADD,o,l)},this.newJingleErrorHandler(p,function(t){o.room.eventEmitter.emit(C.XMPPEvents.SOURCE_ADD_ERROR,o,t,v.mediaType,l)}),1e4))}else H.warn(this+" Skipping SSRC update in '"+this.state+" ' state.")}},{key:"newJingleErrorHandler",value:function(t,n){var o=this;return function(t){var s={},c=$(t).find('error');if(c.length){s.code=c.attr('code');var u=$(t).find('error :first');u.length&&(s.reason=u[0].tagName);var l=c.find('>text');l.length&&(s.msg=l.text())}t||(s.reason='timeout'),s.session=o.toString(),n?n(s):o.state===O.ENDED&&'item-not-found'===s.reason?H.debug(o+" Jingle error: "+JSON.stringify(s)):P.default.callErrorHandler(new Error("Jingle error: "+JSON.stringify(s)))}}},{key:"getIceConnectionState",value:function(){return this.peerconnection.getConnectionState()}},{key:"close",value:function(){var t=this;this.state=O.ENDED,this.establishmentDuration=void 0,this.peerconnection&&(this.peerconnection.onicecandidate=null,this.peerconnection.oniceconnectionstatechange=null,this.peerconnection.onnegotiationneeded=null,this.peerconnection.onsignalingstatechange=null),H.debug(this+" Clearing modificationQueue"),this.modificationQueue.clear(),H.debug(this+" Queued PC close task"),this.modificationQueue.push(function(n){t.peerconnection&&t.peerconnection.close(),n(),H.debug(t+" PC close task done!")}),H.debug(this+" Shutdown modificationQueue!"),this.modificationQueue.shutdown()}},{key:"toString",value:function(){return"JingleSessionPC[session="+(this.isP2P?'P2P':'JVB')+",initiator="+this.isInitiator+",sid="+this.sid+"]"}},{key:"_abtestSuspendVideoEnabled",value:function(t){var n=t.abTesting;if(n&&n.enableSuspendVideoTest){var o=this._getInitiatorJid();return(0,D.integerHash)(o)%2==0}}}],[{key:"parseVideoSenders",value:function(t){var n=t.find('>content[name="video"]');if(n.length){var o=n[0].getAttribute('senders');if('both'===o||'initiator'===o||'responder'===o||'none'===o)return o}return null}},{key:"parseMaxFrameHeight",value:function(t){var n=t.find('>content[name="video"]>max-frame-height');return n.length?Number(n.text()):null}},{key:"parseSourceMaxFrameHeight",value:function(t){var n,o,s=[],c=t.find('>content[name="video"]>source-frame-height');return c.length?(c.each(function(t,c){o=c.getAttribute('sourceName'),n=c.getAttribute('maxHeight'),s.push({maxHeight:n,sourceName:o})}),s):null}}]),V})(A.default);e.default=F},647,[2,41,12,13,23,20,22,19,435,560,648,649,589,566,596,650,590,651,658,657,563,659,584,661,568,662,663,664,628]);
__d(function(g,r,i,a,m,e,d){m.exports={AV1:'av1',H264:'h264',OPUS:'opus',ULPFEC:'ulpfec',VP8:'vp8',VP9:'vp9'}},648,[]);
__d(function(g,r,i,a,m,e,d){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.MediaDirection=void 0,e.MediaDirection=n,(function(n){n.INACTIVE="inactive",n.RECVONLY="recvonly",n.SENDONLY="sendonly",n.SENDRECV="sendrecv"})(n||(e.MediaDirection=n={}))},649,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SS_DEFAULT_FRAME_RATE=void 0;var n=t(r(d[1])),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var f=c?Object.getOwnPropertyDescriptor(t,l):null;f&&(f.get||f.set)?Object.defineProperty(s,l,f):s[l]=t[l]}s.default=t,o&&o.set(t,s);return s})(r(d[2])),s=t(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var c=r(d[4]).getLogger(__filename);e.SS_DEFAULT_FRAME_RATE=5;var l={obtainStream:null,init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.obtainStream=this._createObtainStreamMethod(),this.obtainStream||c.info('Desktop sharing disabled')},_createObtainStreamMethod:function(){return s.default.isNWJS()?function(t,s){window.JitsiMeetNW.obtainDesktopStream(t,function(t,u){var c;c=t&&'InvalidStateError'===t.name?new n.default(o.SCREENSHARING_USER_CANCELED):new n.default(t,u,['desktop']),'function'==typeof s&&s(c)})}:s.default.isElectron()?this.obtainScreenOnElectron:s.default.isReactNative()&&s.default.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMediaRN:s.default.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:(c.log('Screen sharing not supported on ',s.default.getName()),null)},_getAudioConstraints:function(){var t=this.options.audioQuality;return null===t||void 0===t||!t.stereo||{autoGainControl:!1,channelCount:2,echoCancellation:!1,noiseSuppression:!1}},isSupported:function(){return null!==this.obtainStream},obtainScreenOnElectron:function(t,s){var u=this;if(window.JitsiMeetScreenObtainer&&window.JitsiMeetScreenObtainer.openDesktopPicker){var c=this.options,l=c.desktopSharingFrameRate,f=c.desktopSharingSources;window.JitsiMeetScreenObtainer.openDesktopPicker({desktopSharingSources:f||['screen','window']},function(c,f){var p,S,v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(c){var h=!1;if(v){h={};var E=u._getAudioConstraints();'boolean'!=typeof E&&(h={optional:E}),'screen'===f&&(h.mandatory={chromeMediaSource:'desktop'})}var R={audio:h,video:{mandatory:{chromeMediaSource:'desktop',chromeMediaSourceId:c,minFrameRate:null!==(p=null===l||void 0===l?void 0:l.min)&&void 0!==p?p:5,maxFrameRate:null!==(S=null===l||void 0===l?void 0:l.max)&&void 0!==S?S:5,maxWidth:window.screen.width,maxHeight:window.screen.height}}};navigator.mediaDevices.getUserMedia(R).then(function(n){return t({stream:n,sourceId:c,sourceType:f})},s)}else s(new n.default(o.SCREENSHARING_USER_CANCELED))},function(t){return s(new n.default(o.ELECTRON_DESKTOP_PICKER_ERROR,t))})}else s(new n.default(o.ELECTRON_DESKTOP_PICKER_NOT_FOUND))},obtainScreenFromGetDisplayMedia:function(t,u){var l,f,p;p=navigator.getDisplayMedia?navigator.getDisplayMedia.bind(navigator):navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices);var S=this.options.desktopSharingFrameRate,v=s.default.isChromiumBased()&&(null===(f=null===(l=this.options)||void 0===l?void 0:l.testing)||void 0===f?void 0:f.setScreenSharingResolutionConstraints),h={};'object'==typeof S&&(h.frameRate=S),v&&(h.height=99999,h.width=99999);var E=this._getAudioConstraints();h.frameRate&&delete h.frameRate.min,0===Object.keys(h).length&&(h=!0);var R={video:h,audio:E,cursor:'always'};c.info('Using getDisplayMedia for screen sharing 3',R),p(R).then(function(n){t({stream:n,sourceId:n.id})}).catch(function(t){var s={errorName:t&&t.name,errorMsg:t&&t.message,errorStack:t&&t.stack};c.error('getDisplayMedia error',R,s),s.errorMsg&&-1!==s.errorMsg.indexOf('denied by system')?u(new n.default(o.PERMISSION_DENIED)):u(new n.default(o.SCREENSHARING_USER_CANCELED))})},obtainScreenFromGetDisplayMediaRN:function(t,s){c.info('Using getDisplayMedia for screen sharing 4'),navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(n){t({stream:n,sourceId:n.id})}).catch(function(){s(new n.default(o.SCREENSHARING_USER_CANCELED))})},setDesktopSharingFrameRate:function(t){c.info("Setting the desktop capture rate to "+t),this.options.desktopSharingFrameRate={min:5,max:t}}};e.default=l},650,[2,564,565,568,435]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var n=t(r(d[1])),s=t(r(d[2])),p=t(r(d[3])),o=r(d[4]),u=t(r(d[5])),c=t(r(d[6])),l=t(r(d[7]));function f(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=h(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var p=0;return function(){return p>=t.length?{done:!0}:{done:!1,value:t[p++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,n){if(t){if("string"==typeof t)return b(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?b(t,n):void 0}}function b(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,p=new Array(n);s<n;s++)p[s]=t[s];return p}function v(t){for(var n=t.split('\r\nm='),s=1,p=n.length;s<p;s++){var o="m="+n[s];s!==p-1&&(o+='\r\n'),n[s]=o}var u=n.shift()+"\r\n";this.media=n,this.raw=u+n.join(''),this.session=u}v.prototype.failICE=!1,v.prototype.removeTcpCandidates=!1,v.prototype.removeUdpCandidates=!1,v.prototype.addMlineForNewLocalSource=function(t){var n=this.media.length,u=p.default.parse(this.raw),c=(0,s.default)(u.media.find(function(n){return n.type===t}));c.mid=n,c.direction=o.MediaDirection.RECVONLY,c.msid=void 0,c.ssrcs=void 0,c.ssrcGroups=void 0,u.media=u.media.concat(c),u.groups.forEach(function(t){if('BUNDLE'===t.type){var s=t.mids.split(' ');s.push(n),t.mids=s.join(' ')}}),this.raw=p.default.write(u)},v.prototype.getMediaSsrcMap=function(){for(var t=this,n={},s=function(){var s=l.default.parseMID(l.default.findLine(t.media[p],'a=mid:')),o={mediaindex:p,mid:s,ssrcs:{},ssrcGroups:[]};n[p]=o,l.default.findLines(t.media[p],'a=ssrc:').forEach(function(t){var n=t.substring(7).split(' ')[0];o.ssrcs[n]||(o.ssrcs[n]={ssrc:n,lines:[]}),o.ssrcs[n].lines.push(t)}),l.default.findLines(t.media[p],'a=ssrc-group:').forEach(function(t){var n=t.indexOf(' '),s=t.substr(0,n).substr(13),p=t.substr(14+s.length).split(' ');p.length&&o.ssrcGroups.push({semantics:s,ssrcs:p})})},p=0;p<this.media.length;p++)s();return n},v.prototype.containsSSRC=function(t){var n=this.getMediaSsrcMap(),s=!1;return Object.keys(n).forEach(function(p){s||n[p].ssrcs[t]&&(s=!0)}),s},v.prototype.toJingle=function(t,s){l.default.findLines(this.session,'a=group:').forEach(function(n){var s=n.split(' '),p=s.shift().substr(8);t.c('group',{xmlns:'urn:xmpp:jingle:apps:grouping:0',semantics:p});for(var o=0;o<s.length;o++)t.c('content',{name:s[o]}).up();t.up()});for(var p=0;p<this.media.length;p++){var h=l.default.parseMLine(this.media[p].split('\r\n')[0]);if('audio'===h.media||'video'===h.media||'application'===h.media){var b=void 0,v=l.default.findLine(this.media[p],'a=ssrc:');b=!!v&&v.substring(7).split(' ')[0],t.c('content',{creator:s,name:h.media});var x=l.default.findLine(this.media[p],'a=mid:');if(x){var y=l.default.parseMID(x);t.attrs({name:y})}if('audio'===h.media||'video'===h.media){t.c('description',{xmlns:'urn:xmpp:jingle:apps:rtp:1',media:h.media}),b&&t.attrs({ssrc:b});for(var L=0;L<h.fmt.length;L++){var j=l.default.findLine(this.media[p],"a=rtpmap:"+h.fmt[L]);t.c('payload-type',l.default.parseRTPMap(j));var E=l.default.findLine(this.media[p],"a=fmtp:"+h.fmt[L]);if(E)for(var A=l.default.parseFmtp(E),S=0;S<A.length;S++)t.c('parameter',A[S]).up();this.rtcpFbToJingle(p,t,h.fmt[L]),t.up()}if(b){for(var C,D=f(l.default.parseSSRC(this.media[p]));!(C=D()).done;){var M=C.value,T=(0,n.default)(M,2),I=T[0],w=T[1],N=l.default.parseSourceNameLine(w);t.c('source',{ssrc:I,name:c.default.isSourceNameSignalingEnabled()?N:void 0,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'});var P=l.default.parseMSIDAttribute(w);P&&(t.c('parameter'),t.attrs({name:'msid'}),t.attrs({value:P}),t.up()),t.up()}l.default.findLines(this.media[p],'a=ssrc-group:').forEach(function(n){var s=n.indexOf(' '),p=n.substr(0,s).substr(13),o=n.substr(14+p.length).split(' ');o.length&&(t.c('ssrc-group',{semantics:p,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),o.forEach(function(n){return t.c('source',{ssrc:n}).up()}),t.up())})}var F=l.default.findLines(this.media[p],'a=rid:');if(F.length&&u.default.usesRidsForSimulcast()){var R=F.map(function(t){return t.split(':')[1]}).map(function(t){return t.split(' ')[0]});R.forEach(function(n){t.c('source',{rid:n,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),t.up()}),l.default.findLine(this.media[p],'a=simulcast:')&&(t.c('rid-group',{semantics:'SIM',xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),R.forEach(function(n){t.c('source',{rid:n}).up()}),t.up())}l.default.findLine(this.media[p],'a=rtcp-mux')&&t.c('rtcp-mux').up(),this.rtcpFbToJingle(p,t,'*');for(var O=l.default.findLines(this.media[p],'a=extmap:'),J=0;J<O.length;J++){var V=l.default.parseExtmap(O[J]);if(t.c('rtp-hdrext',{xmlns:'urn:xmpp:jingle:apps:rtp:rtp-hdrext:0',uri:V.uri,id:V.value}),V.hasOwnProperty('direction'))switch(V.direction){case o.MediaDirection.SENDONLY:t.attrs({senders:'responder'});break;case o.MediaDirection.RECVONLY:t.attrs({senders:'initiator'});break;case o.MediaDirection.SENDRECV:t.attrs({senders:'both'});break;case o.MediaDirection.INACTIVE:t.attrs({senders:'none'})}t.up()}t.up()}this.transportToJingle(p,t);var U=this.media[p];l.default.findLine(U,"a="+o.MediaDirection.SENDRECV,this.session)?t.attrs({senders:'both'}):l.default.findLine(U,"a="+o.MediaDirection.SENDONLY,this.session)?t.attrs({senders:'initiator'}):l.default.findLine(U,"a="+o.MediaDirection.RECVONLY,this.session)?t.attrs({senders:'responder'}):l.default.findLine(U,"a="+o.MediaDirection.INACTIVE,this.session)&&t.attrs({senders:'none'}),'0'!==h.port||l.default.findLine(U,'a=bundle-only',this.session)||t.attrs({senders:'rejected'}),t.up()}}return t.up(),t},v.prototype.transportToJingle=function(t,n){var s=this;n.c('transport');var p=l.default.findLine(this.media[t],'a=sctp-port:',this.session),o=l.default.findLine(this.media[t],'a=sctpmap:',this.session);if(p){var u=l.default.parseSCTPPort(p);n.c('sctpmap',{xmlns:'urn:xmpp:jingle:transports:dtls-sctp:1',number:u,protocol:'webrtc-datachannel'}),n.attrs({streams:0}),n.up()}else if(o){var c=l.default.parseSCTPMap(o);n.c('sctpmap',{xmlns:'urn:xmpp:jingle:transports:dtls-sctp:1',number:c[0],protocol:c[1]}),c.length>2?n.attrs({streams:c[2]}):n.attrs({streams:0}),n.up()}l.default.findLines(this.media[t],'a=fingerprint:',this.session).forEach(function(p){var o=l.default.parseFingerprint(p);o.xmlns='urn:xmpp:jingle:apps:dtls:0',n.c('fingerprint').t(o.fingerprint),delete o.fingerprint;var u=l.default.findLine(s.media[t],'a=setup:',s.session);u&&(o.setup=u.substr(8)),n.attrs(o),n.up()});var f=l.default.iceparams(this.media[t],this.session);f&&(f.xmlns='urn:xmpp:jingle:transports:ice-udp:1',n.attrs(f),l.default.findLines(this.media[t],'a=candidate:',this.session).forEach(function(t){var p=l.default.candidateToJingle(t);s.failICE&&(p.ip='1.1.1.1');var o=p&&'string'==typeof p.protocol?p.protocol.toLowerCase():'';s.removeTcpCandidates&&('tcp'===o||'ssltcp'===o)||s.removeUdpCandidates&&'udp'===o||n.c('candidate',p).up()}));n.up()},v.prototype.rtcpFbToJingle=function(t,n,s){l.default.findLines(this.media[t],"a=rtcp-fb:"+s).forEach(function(t){var s=l.default.parseRTCPFB(t);'trr-int'===s.type?(n.c('rtcp-fb-trr-int',{xmlns:'urn:xmpp:jingle:apps:rtp:rtcp-fb:0',value:s.params[0]}),n.up()):(n.c('rtcp-fb',{xmlns:'urn:xmpp:jingle:apps:rtp:rtcp-fb:0',type:s.type}),s.params.length>0&&n.attrs({subtype:s.params[0]}),n.up())})},v.prototype.rtcpFbFromJingle=function(t,n){var s='',p=t.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return p.length&&(s+='a=rtcp-fb:* trr-int ',p.attr('value')?s+=p.attr('value'):s+='0',s+='\r\n'),t.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]').each(function(t,p){s+="a=rtcp-fb:"+n+" "+p.getAttribute('type'),p.hasAttribute('subtype')&&(s+=" "+p.getAttribute('subtype')),s+='\r\n'}),s},v.prototype.fromJingle=function(t){var n=this,s=Date.now();this.raw="v=0\r\no=- "+s+" 2 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\n";var p=$(t).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]');p.length&&p.each(function(t,s){var p=$(s).find('>content').map(function(t,n){return n.getAttribute('name')}).get();p.length>0&&(n.raw+="a=group:"+(s.getAttribute('semantics')||s.getAttribute('type'))+" "+p.join(' ')+"\r\n")}),this.session=this.raw,t.find('>content').each(function(t,s){var p=n.jingle2media($(s));n.media.push(p)}),this.raw=this.session+this.media.join('')},v.prototype.jingle2media=function(t){var n=this,s=t.find('>description'),p=t.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]'),u='',c=p.find('>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]'),f={media:s.attr('media'),port:'9'};switch('rejected'===t.attr('senders')&&(f.port='0'),p.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').length?f.proto=c.length?'UDP/DTLS/SCTP':'UDP/TLS/RTP/SAVPF':f.proto='UDP/TLS/RTP/SAVPF',c.length?(u+="m=application "+f.port+" UDP/DTLS/SCTP webrtc-datachannel\r\n",u+="a=sctp-port:"+c.attr('number')+"\r\n",u+='a=max-message-size:262144\r\n'):(f.fmt=s.find('>payload-type').map(function(t,n){return n.getAttribute('id')}).get(),u+=l.default.buildMLine(f)+"\r\n"),u+='c=IN IP4 0.0.0.0\r\n',c.length||(u+='a=rtcp:1 IN IP4 0.0.0.0\r\n'),p.length&&(p.attr('ufrag')&&(u+=l.default.buildICEUfrag(p.attr('ufrag'))+"\r\n"),p.attr('pwd')&&(u+=l.default.buildICEPwd(p.attr('pwd'))+"\r\n"),p.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').each(function(t,n){u+="a=fingerprint:"+n.getAttribute('hash'),u+=" "+$(n).text(),u+='\r\n',n.hasAttribute('setup')&&(u+="a=setup:"+n.getAttribute('setup')+"\r\n")})),p.find('>candidate').each(function(t,s){var p=s.getAttribute('protocol');p='string'==typeof p?p.toLowerCase():'',n.removeTcpCandidates&&('tcp'===p||'ssltcp'===p)||n.removeUdpCandidates&&'udp'===p||(n.failICE&&s.setAttribute('ip','1.1.1.1'),u+=l.default.candidateFromJingle(s))}),t.attr('senders')){case'initiator':u+="a="+o.MediaDirection.SENDONLY+"\r\n";break;case'responder':u+="a="+o.MediaDirection.RECVONLY+"\r\n";break;case'none':u+="a="+o.MediaDirection.INACTIVE+"\r\n";break;case'both':u+="a="+o.MediaDirection.SENDRECV+"\r\n"}u+="a=mid:"+t.attr('name')+"\r\n",s.find('>rtcp-mux').length&&(u+='a=rtcp-mux\r\n'),s.find('>payload-type').each(function(t,s){u+=l.default.buildRTPMap(s)+"\r\n",$(s).find('>parameter').length&&(u+="a=fmtp:"+s.getAttribute('id')+" ",u+=$(s).find('>parameter').map(function(t,n){var s=n.getAttribute('name');return(s?s+"=":'')+n.getAttribute('value')}).get().join(';'),u+='\r\n'),u+=n.rtcpFbFromJingle($(s),s.getAttribute('id'))}),u+=this.rtcpFbFromJingle(s,'*'),s.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]').each(function(t,n){u+="a=extmap:"+n.getAttribute('id')+" "+n.getAttribute('uri')+"\r\n"}),s.find('>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(t,n){var s=n.getAttribute('semantics'),p=$(n).find('>source').map(function(t,n){return n.getAttribute('ssrc')}).get();p.length&&(u+="a=ssrc-group:"+s+" "+p.join(' ')+"\r\n")});var h='',b='';return s.find('>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(t,n){var s=n.getAttribute('ssrc'),p=!0,o='';$(n).find('>parameter').each(function(t,n){var u=n.getAttribute('name'),c=n.getAttribute('value');c=l.default.filterSpecialChars(c),o+="a=ssrc:"+s+" "+u,c&&c.length&&(o+=":"+c),o+='\r\n',(null===c||void 0===c?void 0:c.includes('mixedmslabel'))&&(p=!1)}),p?h+=o:b+=o}),u+=b+h}},651,[2,33,652,653,649,568,590,657]);
__d(function(g,r,i,a,m,e,d){var t='__lodash_hash_undefined__',n=9007199254740991,o='[object Arguments]',c='[object Boolean]',u='[object Date]',f='[object Function]',s='[object GeneratorFunction]',l='[object Map]',_='[object Number]',p='[object Object]',h='[object RegExp]',y='[object Set]',v='[object String]',b='[object Symbol]',j='[object ArrayBuffer]',w='[object DataView]',O='[object Float32Array]',A='[object Float64Array]',x='[object Int8Array]',S='[object Int16Array]',P='[object Int32Array]',$='[object Uint8Array]',k='[object Uint8ClampedArray]',E='[object Uint16Array]',I='[object Uint32Array]',F=/\w*$/,M=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,U={};U[o]=U['[object Array]']=U[j]=U[w]=U[c]=U[u]=U[O]=U[A]=U[x]=U[S]=U[P]=U[l]=U[_]=U[p]=U[h]=U[y]=U[v]=U[b]=U[$]=U[k]=U[E]=U[I]=!0,U['[object Error]']=U[f]=U["[object WeakMap]"]=!1;var W='object'==typeof g&&g&&g.Object===Object&&g,D='object'==typeof self&&self&&self.Object===Object&&self,R=W||D||Function('return this')(),T='object'==typeof e&&e&&!e.nodeType&&e,z=T&&'object'==typeof m&&m&&!m.nodeType&&m,C=z&&z.exports===T;function L(t,n){return t.set(n[0],n[1]),t}function V(t,n){return t.add(n),t}function G(t,n){for(var o=-1,c=t?t.length:0;++o<c&&!1!==n(t[o],o,t););return t}function N(t,n){for(var o=-1,c=n.length,u=t.length;++o<c;)t[u+o]=n[o];return t}function q(t,n,o,c){var u=-1,f=t?t.length:0;for(c&&f&&(o=t[++u]);++u<f;)o=n(o,t[u],u,t);return o}function H(t,n){for(var o=-1,c=Array(t);++o<t;)c[o]=n(o);return c}function J(t,n){return null==t?void 0:t[n]}function K(t){var n=!1;if(null!=t&&'function'!=typeof t.toString)try{n=!!(t+'')}catch(t){}return n}function Q(t){var n=-1,o=Array(t.size);return t.forEach(function(t,c){o[++n]=[c,t]}),o}function X(t,n){return function(o){return t(n(o))}}function Y(t){var n=-1,o=Array(t.size);return t.forEach(function(t){o[++n]=t}),o}var Z,tt=Array.prototype,rt=Function.prototype,et=Object.prototype,nt=R['__core-js_shared__'],ot=(Z=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||''))?'Symbol(src)_1.'+Z:'',ct=rt.toString,ut=et.hasOwnProperty,at=et.toString,it=RegExp('^'+ct.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),ft=C?R.Buffer:void 0,st=R.Symbol,lt=R.Uint8Array,_t=X(Object.getPrototypeOf,Object),pt=Object.create,ht=et.propertyIsEnumerable,yt=tt.splice,vt=Object.getOwnPropertySymbols,bt=ft?ft.isBuffer:void 0,dt=X(Object.keys,Object),jt=rr(R,'DataView'),gt=rr(R,'Map'),wt=rr(R,'Promise'),Ot=rr(R,'Set'),At=rr(R,'WeakMap'),mt=rr(Object,'create'),xt=fr(jt),St=fr(gt),Pt=fr(wt),$t=fr(Ot),kt=fr(At),Et=st?st.prototype:void 0,It=Et?Et.valueOf:void 0;function Ft(t){var n=-1,o=t?t.length:0;for(this.clear();++n<o;){var c=t[n];this.set(c[0],c[1])}}function Mt(t){var n=-1,o=t?t.length:0;for(this.clear();++n<o;){var c=t[n];this.set(c[0],c[1])}}function Bt(t){var n=-1,o=t?t.length:0;for(this.clear();++n<o;){var c=t[n];this.set(c[0],c[1])}}function Ut(t){this.__data__=new Mt(t)}function Wt(t,n){var o=_r(t)||lr(t)?H(t.length,String):[],c=o.length,u=!!c;for(var f in t)!n&&!ut.call(t,f)||u&&('length'==f||ar(f,c))||o.push(f);return o}function Dt(t,n,o){var c=t[n];ut.call(t,n)&&sr(c,o)&&(void 0!==o||n in t)||(t[n]=o)}function Rt(t,n){for(var o=t.length;o--;)if(sr(t[o][0],n))return o;return-1}function Tt(t,n){return t&&Xt(n,gr(n),t)}function zt(t,n,c,u,l,_,h){var y;if(u&&(y=_?u(t,l,_,h):u(t)),void 0!==y)return y;if(!dr(t))return t;var v=_r(t);if(v){if(y=or(t),!n)return Qt(t,y)}else{var b=nr(t),j=b==f||b==s;if(yr(t))return Gt(t,n);if(b==p||b==o||j&&!_){if(K(t))return _?t:{};if(y=cr(j?{}:t),!n)return Yt(t,Tt(y,t))}else{if(!U[b])return _?t:{};y=ur(t,b,zt,n)}}h||(h=new Ut);var w=h.get(t);if(w)return w;if(h.set(t,y),!v)var O=c?Zt(t):gr(t);return G(O||t,function(o,f){O&&(o=t[f=o]),Dt(y,f,zt(o,n,c,u,f,t,h))}),y}function Ct(t,n,o){var c=n(t);return _r(t)?c:N(c,o(t))}function Lt(t){return!(!dr(t)||ot&&ot in t)&&(vr(t)||K(t)?it:M).test(fr(t))}function Vt(t){if(!ir(t))return dt(t);var n=[];for(var o in Object(t))ut.call(t,o)&&'constructor'!=o&&n.push(o);return n}function Gt(t,n){if(n)return t.slice();var o=new t.constructor(t.length);return t.copy(o),o}function Nt(t){var n=new t.constructor(t.byteLength);return new lt(n).set(new lt(t)),n}function qt(t,n){var o=n?Nt(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}function Ht(t,n,o){return q(n?o(Q(t),!0):Q(t),L,new t.constructor)}function Jt(t,n,o){return q(n?o(Y(t),!0):Y(t),V,new t.constructor)}function Kt(t,n){var o=n?Nt(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function Qt(t,n){var o=-1,c=t.length;for(n||(n=Array(c));++o<c;)n[o]=t[o];return n}function Xt(t,n,o,c){o||(o={});for(var u=-1,f=n.length;++u<f;){var s=n[u],l=c?c(o[s],t[s],s,o,t):void 0;Dt(o,s,void 0===l?t[s]:l)}return o}function Yt(t,n){return Xt(t,er(t),n)}function Zt(t){return Ct(t,gr,er)}function tr(t,n){var o,c,u=t.__data__;return('string'==(c=typeof(o=n))||'number'==c||'symbol'==c||'boolean'==c?'__proto__'!==o:null===o)?u['string'==typeof n?'string':'hash']:u.map}function rr(t,n){var o=J(t,n);return Lt(o)?o:void 0}Ft.prototype.clear=function(){this.__data__=mt?mt(null):{}},Ft.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ft.prototype.get=function(n){var o=this.__data__;if(mt){var c=o[n];return c===t?void 0:c}return ut.call(o,n)?o[n]:void 0},Ft.prototype.has=function(t){var n=this.__data__;return mt?void 0!==n[t]:ut.call(n,t)},Ft.prototype.set=function(n,o){return this.__data__[n]=mt&&void 0===o?t:o,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t){var n=this.__data__,o=Rt(n,t);return!(o<0||(o==n.length-1?n.pop():yt.call(n,o,1),0))},Mt.prototype.get=function(t){var n=this.__data__,o=Rt(n,t);return o<0?void 0:n[o][1]},Mt.prototype.has=function(t){return Rt(this.__data__,t)>-1},Mt.prototype.set=function(t,n){var o=this.__data__,c=Rt(o,t);return c<0?o.push([t,n]):o[c][1]=n,this},Bt.prototype.clear=function(){this.__data__={hash:new Ft,map:new(gt||Mt),string:new Ft}},Bt.prototype.delete=function(t){return tr(this,t).delete(t)},Bt.prototype.get=function(t){return tr(this,t).get(t)},Bt.prototype.has=function(t){return tr(this,t).has(t)},Bt.prototype.set=function(t,n){return tr(this,t).set(t,n),this},Ut.prototype.clear=function(){this.__data__=new Mt},Ut.prototype.delete=function(t){return this.__data__.delete(t)},Ut.prototype.get=function(t){return this.__data__.get(t)},Ut.prototype.has=function(t){return this.__data__.has(t)},Ut.prototype.set=function(t,n){var o=this.__data__;if(o instanceof Mt){var c=o.__data__;if(!gt||c.length<199)return c.push([t,n]),this;o=this.__data__=new Bt(c)}return o.set(t,n),this};var er=vt?X(vt,Object):function(){return[]},nr=function(t){return at.call(t)};function or(t){var n=t.length,o=t.constructor(n);return n&&'string'==typeof t[0]&&ut.call(t,'index')&&(o.index=t.index,o.input=t.input),o}function cr(t){return'function'!=typeof t.constructor||ir(t)?{}:dr(n=_t(t))?pt(n):{};var n}function ur(t,n,o,f){var s,p,M,B=t.constructor;switch(n){case j:return Nt(t);case c:case u:return new B(+t);case w:return qt(t,f);case O:case A:case x:case S:case P:case $:case k:case E:case I:return Kt(t,f);case l:return Ht(t,f,o);case _:case v:return new B(t);case h:return(M=new(p=t).constructor(p.source,F.exec(p))).lastIndex=p.lastIndex,M;case y:return Jt(t,f,o);case b:return s=t,It?Object(It.call(s)):{}}}function ar(t,o){return!!(o=null==o?n:o)&&('number'==typeof t||B.test(t))&&t>-1&&t%1==0&&t<o}function ir(t){var n=t&&t.constructor;return t===('function'==typeof n&&n.prototype||et)}function fr(t){if(null!=t){try{return ct.call(t)}catch(t){}try{return t+''}catch(t){}}return''}function sr(t,n){return t===n||t!=t&&n!=n}function lr(t){return hr(t)&&ut.call(t,'callee')&&(!ht.call(t,'callee')||at.call(t)==o)}(jt&&nr(new jt(new ArrayBuffer(1)))!=w||gt&&nr(new gt)!=l||wt&&"[object Promise]"!=nr(wt.resolve())||Ot&&nr(new Ot)!=y||At&&"[object WeakMap]"!=nr(new At))&&(nr=function(t){var n=at.call(t),o=n==p?t.constructor:void 0,c=o?fr(o):void 0;if(c)switch(c){case xt:return w;case St:return l;case Pt:return"[object Promise]";case $t:return y;case kt:return"[object WeakMap]"}return n});var _r=Array.isArray;function pr(t){return null!=t&&br(t.length)&&!vr(t)}function hr(t){return jr(t)&&pr(t)}var yr=bt||function(){return!1};function vr(t){var n=dr(t)?at.call(t):'';return n==f||n==s}function br(t){return'number'==typeof t&&t>-1&&t%1==0&&t<=n}function dr(t){var n=typeof t;return!!t&&('object'==n||'function'==n)}function jr(t){return!!t&&'object'==typeof t}function gr(t){return pr(t)?Wt(t):Vt(t)}m.exports=function(t){return zt(t,!0,!0)}},652,[]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]),t=r(d[1]);e.write=t,e.parse=s.parse,e.parseFmtpConfig=s.parseFmtpConfig,e.parseParams=s.parseParams,e.parsePayloads=s.parsePayloads,e.parseRemoteCandidates=s.parseRemoteCandidates,e.parseImageAttributes=s.parseImageAttributes,e.parseSimulcastStreamList=s.parseSimulcastStreamList},653,[654,656]);
__d(function(g,r,i,a,m,e,d){var n=function(n){return String(Number(n))===n?Number(n):n},t=function(t,u,s,p){if(p&&!s)u[p]=n(t[1]);else for(var o=0;o<s.length;o+=1)null!=t[o+1]&&(u[s[o]]=n(t[o+1]))},u=function(n,u,s){var p=n.name&&n.names;n.push&&!u[n.push]?u[n.push]=[]:p&&!u[n.name]&&(u[n.name]={});var o=n.push?{}:p?u[n.name]:u;t(s.match(n.reg),o,n.names,n.name),n.push&&u[n.push].push(o)},s=r(d[0]),p=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(n){var t={},o=[],f=t;return n.split(/(\r\n|\r|\n)/).filter(p).forEach(function(n){var t=n[0],p=n.slice(2);'m'===t&&(o.push({rtp:[],fmtp:[]}),f=o[o.length-1]);for(var c=0;c<(s[t]||[]).length;c+=1){var l=s[t][c];if(l.reg.test(p))return u(l,f,p)}}),t.media=o,t};var o=function(t,u){var s=u.split(/=(.+)/,2);return 2===s.length&&(t[s[0]]=n(s[1])),t};e.parseParams=function(n){return n.split(/\;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(n){return n.split(' ').map(Number)},e.parseRemoteCandidates=function(t){for(var u=[],s=t.split(' ').map(n),p=0;p<s.length;p+=3)u.push({component:s[p],ip:s[p+1],port:s[p+2]});return u},e.parseImageAttributes=function(n){return n.split(' ').map(function(n){return n.substring(1,n.length-1).split(',').reduce(o,{})})},e.parseSimulcastStreamList=function(t){return t.split(';').map(function(t){return t.split(',').map(function(t){var u,s=!1;return'~'!==t[0]?u=n(t):(u=n(t.substring(1,t.length)),s=!0),{scid:u,paused:s}})})}},654,[655]);
__d(function(g,r,i,a,m,e,d){var s=m.exports={v:[{name:'version',reg:/^(\d*)$/}],o:[{name:'origin',reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:['username','sessionId','sessionVersion','netType','ipVer','address'],format:'%s %s %d %s IP%d %s'}],s:[{name:'name'}],i:[{name:'description'}],u:[{name:'uri'}],e:[{name:'email'}],p:[{name:'phone'}],z:[{name:'timezones'}],r:[{name:'repeats'}],t:[{name:'timing',reg:/^(\d*) (\d*)/,names:['start','stop'],format:'%d %d'}],c:[{name:'connection',reg:/^IN IP(\d) (\S*)/,names:['version','ip'],format:'IN IP%d %s'}],b:[{push:'bandwidth',reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:['type','limit'],format:'%s:%s'}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:['type','port','protocol','payloads'],format:'%s %d %s %s'}],a:[{push:'rtp',reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:['payload','codec','rate','encoding'],format:function(s){return s.encoding?'rtpmap:%d %s/%s/%s':s.rate?'rtpmap:%d %s/%s':'rtpmap:%d %s'}},{push:'fmtp',reg:/^fmtp:(\d*) ([\S| ]*)/,names:['payload','config'],format:'fmtp:%d %s'},{name:'control',reg:/^control:(.*)/,format:'control:%s'},{name:'rtcp',reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:['port','netType','ipVer','address'],format:function(s){return null!=s.address?'rtcp:%d %s IP%d %s':'rtcp:%d'}},{push:'rtcpFbTrrInt',reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:['payload','value'],format:'rtcp-fb:%d trr-int %d'},{push:'rtcpFb',reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:['payload','type','subtype'],format:function(s){return null!=s.subtype?'rtcp-fb:%s %s %s':'rtcp-fb:%s %s'}},{push:'ext',reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:['value','direction','uri','config'],format:function(s){return'extmap:%d'+(s.direction?'/%s':'%v')+' %s'+(s.config?' %s':'')}},{push:'crypto',reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:['id','suite','config','sessionConfig'],format:function(s){return null!=s.sessionConfig?'crypto:%d %s %s %s':'crypto:%d %s %s'}},{name:'setup',reg:/^setup:(\w*)/,format:'setup:%s'},{name:'mid',reg:/^mid:([^\s]*)/,format:'mid:%s'},{name:'msid',reg:/^msid:(.*)/,format:'msid:%s'},{name:'ptime',reg:/^ptime:(\d*)/,format:'ptime:%d'},{name:'maxptime',reg:/^maxptime:(\d*)/,format:'maxptime:%d'},{name:'direction',reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:'icelite',reg:/^(ice-lite)/},{name:'iceUfrag',reg:/^ice-ufrag:(\S*)/,format:'ice-ufrag:%s'},{name:'icePwd',reg:/^ice-pwd:(\S*)/,format:'ice-pwd:%s'},{name:'fingerprint',reg:/^fingerprint:(\S*) (\S*)/,names:['type','hash'],format:'fingerprint:%s %s'},{push:'candidates',reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:['foundation','component','transport','priority','ip','port','type','raddr','rport','tcptype','generation','network-id','network-cost'],format:function(s){var t='candidate:%s %d %s %d %s %d typ %s';return t+=null!=s.raddr?' raddr %s rport %d':'%v%v',t+=null!=s.tcptype?' tcptype %s':'%v',null!=s.generation&&(t+=' generation %d'),t+=null!=s['network-id']?' network-id %d':'%v',t+=null!=s['network-cost']?' network-cost %d':'%v'}},{name:'endOfCandidates',reg:/^(end-of-candidates)/},{name:'remoteCandidates',reg:/^remote-candidates:(.*)/,format:'remote-candidates:%s'},{name:'iceOptions',reg:/^ice-options:(\S*)/,format:'ice-options:%s'},{push:'ssrcs',reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:['id','attribute','value'],format:function(s){var t='ssrc:%d';return null!=s.attribute&&(t+=' %s',null!=s.value&&(t+=':%s')),t}},{push:'ssrcGroups',reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:['semantics','ssrcs'],format:'ssrc-group:%s %s'},{name:'msidSemantic',reg:/^msid-semantic:\s?(\w*) (\S*)/,names:['semantic','token'],format:'msid-semantic: %s %s'},{push:'groups',reg:/^group:(\w*) (.*)/,names:['type','mids'],format:'group:%s %s'},{name:'rtcpMux',reg:/^(rtcp-mux)/},{name:'rtcpRsize',reg:/^(rtcp-rsize)/},{name:'sctpmap',reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:['sctpmapNumber','app','maxMessageSize'],format:function(s){return null!=s.maxMessageSize?'sctpmap:%s %s %s':'sctpmap:%s %s'}},{name:'xGoogleFlag',reg:/^x-google-flag:([^\s]*)/,format:'x-google-flag:%s'},{push:'rids',reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:['id','direction','params'],format:function(s){return s.params?'rid:%s %s %s':'rid:%s %s'}},{push:'imageattrs',reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:['pt','dir1','attrs1','dir2','attrs2'],format:function(s){return'imageattr:%s %s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast',reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:['dir1','list1','dir2','list2'],format:function(s){return'simulcast:%s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast_03',reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:['value'],format:'simulcast: %s'},{name:'framerate',reg:/^framerate:(\d+(?:$|\.\d+))/,format:'framerate:%s'},{push:'invalid',names:['value']}]};Object.keys(s).forEach(function(t){s[t].forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format='%s')})})},655,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),u=/%[sdv%]/g,o=function(n){var o=1,s=arguments,t=s.length;return n.replace(u,function(n){if(o>=t)return n;var u=s[o];switch(o+=1,n){case'%%':return'%';case'%s':return String(u);case'%d':return Number(u);case'%v':return''}})},s=function(n,u,s){var t=[n+'='+(u.format instanceof Function?u.format(u.push?s:s[u.name]):u.format)];if(u.names)for(var c=0;c<u.names.length;c+=1){var f=u.names[c];u.name?t.push(s[u.name][f]):t.push(s[u.names[c]])}else t.push(s[u.name]);return o.apply(null,t)},t=['v','o','s','i','u','e','p','c','b','t','r','z','a'],c=['i','c','b','a'];m.exports=function(u,o){o=o||{},null==u.version&&(u.version=0),null==u.name&&(u.name=' '),u.media.forEach(function(n){null==n.payloads&&(n.payloads='')});var f=o.outerOrder||t,h=o.innerOrder||c,l=[];return f.forEach(function(o){n[o].forEach(function(n){n.name in u&&null!=u[n.name]?l.push(s(o,n,u)):n.push in u&&null!=u[n.push]&&u[n.push].forEach(function(u){l.push(s(o,n,u))})})}),u.media.forEach(function(u){l.push(s('m',n.m[0],u)),h.forEach(function(o){n[o].forEach(function(n){n.name in u&&null!=u[n.name]?l.push(s(o,n,u)):n.push in u&&null!=u[n.push]&&u[n.push].forEach(function(u){l.push(s(o,n,u))})})})}),l.join('\r\n')+'\r\n'}},656,[655]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=r(d[2]),o=t(r(d[3])),u=r(d[4]),p=t(r(d[5])),f=t(r(d[6]));function l(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=c(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,n){if(t){if("string"==typeof t)return b(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?b(t,n):void 0}}function b(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var h=(0,s.getLogger)(__filename),v={filterSpecialChars:function(t){return t?t.replace(/[\\\/\{,\}\+]/g,''):t},iceparams:function(t,n){var s,o,u=null;return(o=v.findLine(t,'a=ice-ufrag:',n))&&(s=v.findLine(t,'a=ice-pwd:',n))&&(u={ufrag:v.parseICEUfrag(o),pwd:v.parseICEPwd(s)}),u},parseICEUfrag:function(t){return t.substring(12)},buildICEUfrag:function(t){return"a=ice-ufrag:"+t},parseICEPwd:function(t){return t.substring(10)},buildICEPwd:function(t){return"a=ice-pwd:"+t},parseMID:function(t){return t.substring(6)},parseMSIDAttribute:function(t){var n=t.find(function(t){return t.indexOf(' msid:')>0});if(n){var s=n.substring(n.indexOf(' msid:')+6);return v.filterSpecialChars(s)}},parseMLine:function(t){var n={},s=t.substring(2).split(' ');return n.media=s.shift(),n.port=s.shift(),n.proto=s.shift(),''===s[s.length-1]&&s.pop(),n.fmt=s,n},buildMLine:function(t){return"m="+t.media+" "+t.port+" "+t.proto+" "+t.fmt.join(' ')},parseRTPMap:function(t){var n={},s=t.substring(9).split(' ');return n.id=s.shift(),s=s[0].split('/'),n.name=s.shift(),n.clockrate=s.shift(),n.channels=s.length?s.shift():'1',n},parseSCTPMap:function(t){var n=t.substring(10).split(' ');return[n[0],n[1],n.length>2?n[2]:null]},parseSCTPPort:function(t){return t.substring(12)},buildRTPMap:function(t){var n="a=rtpmap:"+t.getAttribute('id')+" "+t.getAttribute('name')+"/"+t.getAttribute('clockrate');return t.getAttribute('channels')&&'1'!==t.getAttribute('channels')&&(n+="/"+t.getAttribute('channels')),n},parseCrypto:function(t){var n={},s=t.substring(9).split(' ');return n.tag=s.shift(),n['crypto-suite']=s.shift(),n['key-params']=s.shift(),s.length&&(n['session-params']=s.join(' ')),n},parseFingerprint:function(t){var n={},s=t.substring(14).split(' ');return n.hash=s.shift(),n.fingerprint=s.shift(),n},parseFmtp:function(t){var n=[],s=t.split(' ');s.shift(),s=s.join(' ').split(';');for(var o=0;o<s.length;o++){for(var u=s[o].split('=')[0];u.length&&' '===u[0];)u=u.substring(1);var p=s[o].split('=')[1];u&&p?n.push({name:u,value:p}):u&&n.push({name:'',value:u})}return n},parseICECandidate:function(t){var n={},s=t.split(' ');n.foundation=s[0].substring(12),n.component=s[1],n.protocol=s[2].toLowerCase(),n.priority=s[3],n.ip=s[4],n.port=s[5],n.type=s[7],n.generation=0;for(var o=8;o<s.length;o+=2)switch(s[o]){case'raddr':n['rel-addr']=s[o+1];break;case'rport':n['rel-port']=s[o+1];break;case'generation':n.generation=s[o+1];break;case'tcptype':n.tcptype=s[o+1];break;default:h.debug("parseICECandidate not translating \""+s[o]+"\" = \""+s[o+1]+"\"")}return n.network='1',n.id=Math.random().toString(36).substr(2,10),n},buildICECandidate:function(t){var n=["a=candidate:"+t.foundation,t.component,t.protocol,t.priority,t.ip,t.port,'typ',t.type].join(' ');switch(n+=' ',t.type){case'srflx':case'prflx':case'relay':t.hasOwnAttribute('rel-addr')&&t.hasOwnAttribute('rel-port')&&(n+='raddr',n+=' ',n+=t['rel-addr'],n+=' ',n+='rport',n+=' ',n+=t['rel-port'],n+=' ')}return t.hasOwnAttribute('tcptype')&&(n+='tcptype',n+=' ',n+=t.tcptype,n+=' '),n+='generation',n+=' ',n+=t.hasOwnAttribute('generation')?t.generation:'0'},parseSSRC:function(t){for(var n=new Map,s=t.split('\r\n'),o=0;o<s.length;o++)if('a=ssrc:'===s[o].substring(0,7)){var u=s[o].split('a=ssrc:')[1].split(' ')[0];n.get(u)||n.set(u,[]),n.get(u).push(s[o])}return n},parseSourceNameLine:function(t){var n=t.find(function(t){return t.indexOf(' name:')>0});return null===n||void 0===n?void 0:n.substring(n.indexOf(' name:')+6)},parseRTCPFB:function(t){var n=t.substr(10).split(' '),s={};return s.pt=n.shift(),s.type=n.shift(),s.params=n,s},parseExtmap:function(t){var n=t.substr(9).split(' '),s={};return s.value=n.shift(),-1===s.value.indexOf('/')?s.direction='both':(s.direction=s.value.substr(s.value.indexOf('/')+1),s.value=s.value.substr(0,s.value.indexOf('/'))),s.uri=n.shift(),s.params=n,s},findLine:function(t,n,s){for(var o=t.split('\r\n'),u=0;u<o.length;u++)if(o[u].substring(0,n.length)===n)return o[u];if(!s)return!1;o=s.split('\r\n');for(var p=0;p<o.length;p++)if(o[p].substring(0,n.length)===n)return o[p];return!1},findLines:function(t,n,s){for(var o=t.split('\r\n'),u=[],p=0;p<o.length;p++)o[p].substring(0,n.length)===n&&u.push(o[p]);if(u.length||!s)return u;o=s.split('\r\n');for(var f=0;f<o.length;f++)o[f].substring(0,n.length)===n&&u.push(o[f]);return u},candidateToJingle:function(t){if(0===t.indexOf('candidate:'))t="a="+t;else if('a=candidate:'!==t.substring(0,12))return h.warn("parseCandidate called with a line that is not a candidate line"),h.warn(t),null;'\r\n'===t.substring(t.length-2)&&(t=t.substring(0,t.length-2));var n={},s=t.split(' ');if('typ'!==s[6])return h.warn('did not find typ in the right place'),h.warn(t),null;n.foundation=s[0].substring(12),n.component=s[1],n.protocol=s[2].toLowerCase(),n.priority=s[3],n.ip=s[4],n.port=s[5],n.type=s[7],n.generation='0';for(var o=8;o<s.length;o+=2)switch(s[o]){case'raddr':n['rel-addr']=s[o+1];break;case'rport':n['rel-port']=s[o+1];break;case'generation':n.generation=s[o+1];break;case'tcptype':n.tcptype=s[o+1];break;default:h.debug("not translating \""+s[o]+"\" = \""+s[o+1]+"\"")}return n.network='1',n.id=Math.random().toString(36).substr(2,10),n},candidateFromJingle:function(t){var n='a=candidate:';n+=t.getAttribute('foundation'),n+=' ',n+=t.getAttribute('component'),n+=' ';var s=t.getAttribute('protocol');switch(p.default.isFirefox()&&'ssltcp'===s.toLowerCase()&&(s='tcp'),n+=s,n+=' ',n+=t.getAttribute('priority'),n+=' ',n+=t.getAttribute('ip'),n+=' ',n+=t.getAttribute('port'),n+=' ',n+='typ',n+=" "+t.getAttribute('type'),n+=' ',t.getAttribute('type')){case'srflx':case'prflx':case'relay':t.getAttribute('rel-addr')&&t.getAttribute('rel-port')&&(n+='raddr',n+=' ',n+=t.getAttribute('rel-addr'),n+=' ',n+='rport',n+=' ',n+=t.getAttribute('rel-port'),n+=' ')}return'tcp'===s.toLowerCase()&&(n+='tcptype',n+=' ',n+=t.getAttribute('tcptype'),n+=' '),n+='generation',n+=' ',(n+=t.getAttribute('generation')||'0')+"\r\n"},parsePrimaryVideoSsrc:function(t){var n=t.ssrcs.map(function(t){return t.id}).filter(function(t,n,s){return s.indexOf(t)===n}).length,s=t.ssrcGroups&&t.ssrcGroups.length||0;if(!(n>1&&0===s)){var o=null;if(1===n)o=t.ssrcs[0].id;else if(2===n){var u=t.ssrcGroups.find(function(t){return'FID'===t.semantics});u&&(o=u.ssrcs.split(' ')[0])}else if(n>=3){var p=t.ssrcGroups.find(function(t){return'SIM'===t.semantics});p&&(o=p.ssrcs.split(' ')[0])}return o}},generateSsrc:function(){return f.default.randomInt(1,4294967295)},getSsrcAttribute:function(t,n,s){for(var o=0;o<t.ssrcs.length;++o){var u=t.ssrcs[o];if(u.id===n&&u.attribute===s)return u.value}},parseGroupSsrcs:function(t){return t.ssrcs.split(' ').map(function(t){return parseInt(t,10)})},getMedia:function(t,n){return t.media.find(function(t){return t.type===n})},getUfrag:function(t){var n=t.split('\n').filter(function(t){return t.startsWith('a=ice-ufrag:')});if(n.length>0)return n[0].substr('a=ice-ufrag:'.length)},preferCodec:function(t,n){if(t&&n){var s=t.rtp.filter(function(t){return t.codec&&t.codec.toLowerCase()===n.toLowerCase()}).map(function(t){return t.payload});if(s){for(var o,u=t.payloads.toString().split(' ').map(function(t){return parseInt(t,10)}),p=l(s.reverse());!(o=p()).done;){var f=o.value,c=u.indexOf(f);u.splice(c,1),u.unshift(f)}t.payloads=u.join(' ')}}},stripCodec:function(t,s){var p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&s){for(var f,c=[],b=[],h=s.toLowerCase()===o.default.H264&&p,v=l(t.rtp);!(f=v()).done;){var y=f.value;y.codec&&y.codec.toLowerCase()===s.toLowerCase()&&(h?c.push(y.payload):b.push(y.payload))}if(h&&(b=t.fmtp.filter(function(t){return c.indexOf(t.payload)>-1&&t.config.includes('profile-level-id=64')}).map(function(t){return t.payload})),b.length>0){var w,A=b.map(function(t){return"apt="+t}),C=t.fmtp.filter(function(t){return-1!==A.indexOf(t.config)});(w=b).push.apply(w,(0,n.default)(C.map(function(t){return t.payload})));var x=t.payloads.toString().split(' ').map(Number).filter(function(t){return-1===b.indexOf(t)});0===x.length?(t.port=0,t.direction=u.MediaDirection.INACTIVE,t.payloads='*'):t.payloads=x.join(' '),t.rtp=t.rtp.filter(function(t){return-1!==x.indexOf(t.payload)}),t.fmtp=t.fmtp.filter(function(t){return-1!==x.indexOf(t.payload)}),t.rtcpFb&&(t.rtcpFb=t.rtcpFb.filter(function(t){return-1!==x.indexOf(t.payload)}))}}}},y=v;e.default=y},657,[2,41,435,648,649,568,626]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=s(r(d[1])),t=s(r(d[2]));function c(s,n){if(!n)return!1;if(s.length!==n.length)return!1;for(var t=0,c=s.length;t<c;t++)if(s[t]instanceof Array&&n[t]instanceof Array){if(!s[t].equals(n[t]))return!1}else if(s[t]!==n[t])return!1;return!0}function o(s,n){if(this.mySDP=s,this.otherSDP=n,!s)throw new Error('"mySDP" is undefined!');if(!n)throw new Error('"otherSDP" is undefined!')}o.prototype.getNewMedia=function(){var s=this.mySDP.getMediaSsrcMap(),n=this.otherSDP.getMediaSsrcMap(),t={};return Object.keys(n).forEach(function(o){var u=s[o],f=n[o];u||!f?(Object.keys(f.ssrcs).forEach(function(s){if(-1===Object.keys(u.ssrcs).indexOf(s))t[o]||(t[o]={mediaindex:f.mediaindex,mid:f.mid,ssrcs:{},ssrcGroups:[]}),t[o].ssrcs[s]=f.ssrcs[s];else if(f.ssrcs[s].lines&&u.ssrcs[s].lines){void 0!==u.ssrcs[s].lines.find(function(s){return-1!==s.indexOf('msid')})!==(void 0!==f.ssrcs[s].lines.find(function(s){return-1!==s.indexOf('msid')}))&&(t[o]||(t[o]={mediaindex:f.mediaindex,mid:f.mid,ssrcs:{},ssrcGroups:[]}),t[o].ssrcs[s]=f.ssrcs[s])}}),f.ssrcGroups.forEach(function(s){for(var n=!1,p=0;p<u.ssrcGroups.length;p++){var l=u.ssrcGroups[p];if(s.semantics===l.semantics&&c(s.ssrcs,l.ssrcs)){n=!0;break}}n||(t[o]||(t[o]={mediaindex:f.mediaindex,mid:f.mid,ssrcs:{},ssrcGroups:[]}),t[o].ssrcGroups.push(s))})):t[o]=f}),t},o.prototype.toJingle=function(s){var c=this.getNewMedia(),o=!1;return Object.keys(c).forEach(function(u){o=!0;var f=c[u];s.c('content',{name:f.mid}),s.c('description',{xmlns:'urn:xmpp:jingle:apps:rtp:1',media:f.mid}),Object.keys(f.ssrcs).forEach(function(c){var o=f.ssrcs[c],u=o.lines,p=t.default.parseSourceNameLine(u);s.c('source',{xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),s.attrs({name:n.default.isSourceNameSignalingEnabled()?p:void 0,ssrc:o.ssrc});var l=t.default.parseMSIDAttribute(u);l&&(s.c('parameter'),s.attrs({name:'msid'}),s.attrs({value:l}),s.up()),s.up()}),f.ssrcGroups.forEach(function(n){n.ssrcs.length&&(s.c('ssrc-group',{semantics:n.semantics,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),n.ssrcs.forEach(function(n){s.c('source',{ssrc:n}).up()}),s.up())}),s.up(),s.up()}),o}},658,[2,590,657]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(r(d[1])),s=u(r(d[2])),n=r(d[3]),o=r(d[4]),l=(0,n.getLogger)(__filename),h=(function(){function u(){(0,t.default)(this,u),this._queue=(0,o.queue)(this._processQueueTasks.bind(this),1),this._stopped=!1}return(0,s.default)(u,[{key:"clear",value:function(){this._queue.kill()}},{key:"_processQueueTasks",value:function(u,t){try{u(t)}catch(u){l.error("Task failed: "+(null===u||void 0===u?void 0:u.stack)),t(u)}}},{key:"push",value:function(u,t){this._stopped?t&&t(new Error('The queue has been stopped')):this._queue.push(u,t)}},{key:"shutdown",value:function(){this._stopped=!0}}]),u})();e.default=h},659,[2,12,13,435,660]);
__d(function(n,r,t,e,i,u,o){var a=r(o[0]),c=r(o[1]),f=r(o[2]),l=r(o[3]),s=r(o[4]),h=r(o[5]),p=r(o[6]);!(function(n,r){'object'==typeof u&&void 0!==i?r(u):'function'==typeof define&&define.amd?define(['exports'],r):r(n.async={})})(this,function(n){'use strict';function r(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];return function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return n.apply(void 0,t.concat(e))}}function t(n){return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var i=t.pop();return n.call(this,t,i)}}var e='function'==typeof queueMicrotask&&queueMicrotask,i='function'==typeof setImmediate&&setImmediate,u='object'==typeof process&&'function'==typeof process.nextTick;function o(n){setTimeout(n,0)}function v(n){return function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return n(function(){return r.apply(void 0,e)})}}var y=v(e?queueMicrotask:i?setImmediate:u?process.nextTick:o);function m(n){return w(n)?function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var i=t.pop();return d(n.apply(this,t),i)}:t(function(r,t){var e;try{e=n.apply(this,r)}catch(n){return t(n)}if(e&&'function'==typeof e.then)return d(e,t);t(null,e)})}function d(n,r){return n.then(function(n){g(r,null,n)},function(n){g(r,n&&n.message?n:new Error(n))})}function g(n,r,t){try{n(r,t)}catch(n){y(function(n){throw n},n)}}function w(n){return'AsyncFunction'===n[Symbol.toStringTag]}function k(n){return'function'==typeof n[Symbol.asyncIterator]}function A(n){if('function'!=typeof n)throw new Error('expected a function');return w(n)?m(n):n}function b(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.length;if(!r)throw new Error('arity is undefined');return function(){for(var t=this,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return'function'==typeof i[r-1]?n.apply(this,i):new Promise(function(e,u){i[r-1]=function(n){if(n)return u(n);for(var r=arguments.length,t=new Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];e(t.length>1?t:t[0])},n.apply(t,i)})}}function S(n){return function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return b(function(t){var i=this;return n(r,function(n,r){A(n).apply(i,e.concat(r))},t)})}}function E(n,r,t,e){r=r||[];var i=[],u=0,o=A(t);return n(r,function(n,r,t){var e=u++;o(n,function(n,r){i[e]=r,t(n)})},function(n){e(n,i)})}function x(n){return n&&'number'==typeof n.length&&n.length>=0&&n.length%1==0}var L={};function O(n){function r(){if(null!==n){var r=n;n=null;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.apply(this,e)}}return p(r,n),r}function j(n){return n[Symbol.iterator]&&n[Symbol.iterator]()}function _(n){var r=-1,t=n.length;return function(){return++r<t?{value:n[r],key:r}:null}}function I(n){var r=-1;return function(){var t=n.next();return t.done?null:(r++,{value:t.value,key:r})}}function T(n){if(x(n))return _(n);var r,t,e,i,u=j(n);return u?I(u):(t=(r=n)?Object.keys(r):[],e=-1,i=t.length,function n(){var u=t[++e];return'__proto__'===u?n():e<i?{value:r[u],key:u}:null})}function B(n){return function(){if(null===n)throw new Error("Callback was already called.");var r=n;n=null;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.apply(this,e)}}function M(n,r,t,e){var i=!1,u=!1,o=!1,a=0,c=0;function f(){a>=r||o||i||(o=!0,n.next().then(function(n){var r=n.value,s=n.done;if(!u&&!i){if(o=!1,s)return i=!0,void(a<=0&&e(null));a++,t(r,c,l),c++,f()}}).catch(s))}function l(n,r){if(a-=1,!u)return n?s(n):!1===n?(i=!0,void(u=!0)):r===L||i&&a<=0?(i=!0,e(null)):void f()}function s(n){u||(o=!1,i=!0,e(n))}f()}var F=function(n){return function(r,t,e){if(e=O(e),n<=0)throw new RangeError('concurrency limit cannot be less than 1');if(!r)return e(null);if('AsyncGenerator'===r[Symbol.toStringTag])return M(r,n,t,e);if(k(r))return M(r[Symbol.asyncIterator](),n,t,e);var i=T(r),u=!1,o=!1,a=0,c=!1;function f(n,r){if(!o)if(a-=1,n)u=!0,e(n);else if(!1===n)u=!0,o=!0;else{if(r===L||u&&a<=0)return u=!0,e(null);c||l()}}function l(){for(c=!0;a<n&&!u;){var r=i();if(null===r)return u=!0,void(a<=0&&e(null));a+=1,t(r.value,r.key,B(f))}c=!1}l()}};var C=b(function(n,r,t,e){return F(r)(n,A(t),e)},4);function q(n,r,t){t=O(t);var e=0,i=0,u=n.length,o=!1;function a(n,r){!1===n&&(o=!0),!0!==o&&(n?t(n):++i!==u&&r!==L||t(null))}for(0===u&&t(null);e<u;e++)r(n[e],e,B(a))}function z(n,r,t){return C(n,1/0,r,t)}var P=b(function(n,r,t){return(x(n)?q:z)(n,A(r),t)},3);var D=b(function(n,r,t){return E(P,n,r,t)},3),V=S(D);var R=b(function(n,r,t){return C(n,1,r,t)},3);var U=b(function(n,r,t){return E(R,n,r,t)},3),Q=S(U),N=Symbol('promiseCallback');function G(){var n,r;function t(t){if(t)return r(t);for(var e=arguments.length,i=new Array(e>1?e-1:0),u=1;u<e;u++)i[u-1]=arguments[u];n(i.length>1?i:i[0])}return t[N]=new Promise(function(t,e){n=t,r=e}),t}function W(n,r,t){'number'!=typeof r&&(t=r,r=null),t=O(t||G());var e=Object.keys(n).length;if(!e)return t(null);r||(r=e);var i={},u=0,o=!1,a=!1,c=Object.create(null),f=[],l=[],s={};function p(n,r){f.push(function(){return m(n,r)})}function v(){if(!o){if(0===f.length&&0===u)return t(null,i);for(;f.length&&u<r;){f.shift()()}}}function y(n,r){var t=c[n];t||(t=c[n]=[]),t.push(r)}function m(n,r){if(!a){var e=B(function(r){for(var e=arguments.length,f=new Array(e>1?e-1:0),l=1;l<e;l++)f[l-1]=arguments[l];if(u--,!1!==r){if(f.length<2)f=h(f,1)[0];if(r){var s={};if(Object.keys(i).forEach(function(n){s[n]=i[n]}),s[n]=f,a=!0,c=Object.create(null),o)return;t(r,s)}else i[n]=f,(c[n]||[]).forEach(function(n){return n()}),v()}else o=!0});u++;var f=A(r[r.length-1]);r.length>1?f(i,e):f(e)}}function d(r){var t=[];return Object.keys(n).forEach(function(e){var i=n[e];Array.isArray(i)&&i.indexOf(r)>=0&&t.push(e)}),t}return Object.keys(n).forEach(function(r){var t=n[r];if(!Array.isArray(t))return p(r,[t]),void l.push(r);var e=t.slice(0,t.length-1),i=e.length;if(0===i)return p(r,t),void l.push(r);s[r]=i,e.forEach(function(u){if(!n[u])throw new Error('async.auto task `'+r+'` has a non-existent dependency `'+u+'` in '+e.join(', '));y(u,function(){0===--i&&p(r,t)})})}),(function(){var n,r=0;for(;l.length;)n=l.pop(),r++,d(n).forEach(function(n){0==--s[n]&&l.push(n)});if(r!==e)throw new Error('async.auto cannot execute tasks due to a recursive dependency')})(),v(),t[N]}var Y=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,$=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,H=/,/,J=/(=.+)?(\s*)$/;function K(n){for(var r='',t=0,e=n.indexOf('*/');t<n.length;)if('/'===n[t]&&'/'===n[t+1]){var i=n.indexOf('\n',t);t=-1===i?n.length:i}else if(-1!==e&&'/'===n[t]&&'*'===n[t+1]){var u=n.indexOf('*/',t);-1!==u?(t=u+2,e=n.indexOf('*/',t)):(r+=n[t],t++)}else r+=n[t],t++;return r}function X(n){var r=K(n.toString()),t=r.match(Y);if(t||(t=r.match($)),!t)throw new Error('could not parse args in autoInject\nSource:\n'+r);return h(t,2)[1].replace(/\s/g,'').split(H).map(function(n){return n.replace(J,'').trim()})}function Z(n,r){var t={};return Object.keys(n).forEach(function(r){var e,i=n[r],u=w(i),o=!u&&1===i.length||u&&0===i.length;if(Array.isArray(i))e=s(i),i=e.pop(),t[r]=e.concat(e.length>0?a:i);else if(o)t[r]=i;else{if(e=X(i),0===i.length&&!u&&0===e.length)throw new Error("autoInject task functions require explicit parameters.");u||e.pop(),t[r]=e.concat(a)}function a(n,r){var t=e.map(function(r){return n[r]});t.push(r),A(i).apply(void 0,s(t))}}),W(t,r)}var nn=(function(n){function r(){f(this,r),this.head=this.tail=null,this.length=0}return l(r,[{key:"removeLink",value:function(n){return n.prev?n.prev.next=n.next:this.head=n.next,n.next?n.next.prev=n.prev:this.tail=n.prev,n.prev=n.next=null,this.length-=1,n}},{key:"empty",value:function(){for(;this.head;)this.shift();return this}},{key:"insertAfter",value:function(n,r){r.prev=n,r.next=n.next,n.next?n.next.prev=r:this.tail=r,n.next=r,this.length+=1}},{key:"insertBefore",value:function(n,r){r.prev=n.prev,r.next=n,n.prev?n.prev.next=r:this.head=r,n.prev=r,this.length+=1}},{key:"unshift",value:function(n){this.head?this.insertBefore(this.head,n):rn(this,n)}},{key:"push",value:function(n){this.tail?this.insertAfter(this.tail,n):rn(this,n)}},{key:"shift",value:function(){return this.head&&this.removeLink(this.head)}},{key:"pop",value:function(){return this.tail&&this.removeLink(this.tail)}},{key:"toArray",value:function(){return s(this)}},{key:n,value:c.mark(function n(){var r;return c.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=this.head;case 1:if(!r){n.next=7;break}return n.next=4,r.data;case 4:r=r.next,n.next=1;break;case 7:case"end":return n.stop()}},n,this)})},{key:"remove",value:function(n){for(var r=this.head;r;){var t=r.next;n(r)&&this.removeLink(r),r=t}return this}}]),r})(Symbol.iterator);function rn(n,r){n.length=1,n.head=n.tail=r}function tn(n,r,t){var e;if(null==r)r=1;else if(0===r)throw new RangeError('Concurrency must not be zero');var i=A(n),u=0,o=[],f={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function l(n,r){f[n].push(r)}function s(n,r){return n?r?void(f[n]=f[n].filter(function(n){return n!==r})):f[n]=[]:Object.keys(f).forEach(function(n){return f[n]=[]})}function h(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];f[n].forEach(function(n){return n.apply(void 0,t)})}var p=!1;function v(n,r,t,e){if(null!=e&&'function'!=typeof e)throw new Error('task callback must be a function');var i,u;function o(n){if(n)return t?u(n):i();for(var r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];if(e.length<=1)return i(e[0]);i(e)}k.started=!0;var a={data:n,callback:t?o:e||o};if(r?k._tasks.unshift(a):k._tasks.push(a),p||(p=!0,y(function(){p=!1,k.process()})),t||!e)return new Promise(function(n,r){i=n,u=r})}function m(n){return function(r){u-=1;for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];for(var a=0,c=n.length;a<c;a++){var f,l=n[a],s=o.indexOf(l);0===s?o.shift():s>0&&o.splice(s,1),(f=l).callback.apply(f,[r].concat(e)),null!=r&&h('error',r,l.data)}u<=k.concurrency-k.buffer&&h('unsaturated'),k.idle()&&h('drain'),k.process()}}function d(n){return!(0!==n.length||!k.idle())&&(y(function(){return h('drain')}),!0)}var g=function(n){return function(r){if(!r)return new Promise(function(r,t){var e,i;i=function(n,e){if(n)return t(n);r(e)},f[e=n].push(function n(){s(e,n),i.apply(void 0,arguments)})});s(n),l(n,r)}},w=!1,k=(e={_tasks:new nn},a(e,Symbol.iterator,function(){return c.mark(function n(){return c.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(k._tasks[Symbol.iterator](),"t0",1);case 1:case"end":return n.stop()}},n)})()}),a(e,"concurrency",r),a(e,"payload",t),a(e,"buffer",r/4),a(e,"started",!1),a(e,"paused",!1),a(e,"push",function(n,r){if(Array.isArray(n)){if(d(n))return;return n.map(function(n){return v(n,!1,!1,r)})}return v(n,!1,!1,r)}),a(e,"pushAsync",function(n,r){if(Array.isArray(n)){if(d(n))return;return n.map(function(n){return v(n,!1,!0,r)})}return v(n,!1,!0,r)}),a(e,"kill",function(){s(),k._tasks.empty()}),a(e,"unshift",function(n,r){if(Array.isArray(n)){if(d(n))return;return n.map(function(n){return v(n,!0,!1,r)})}return v(n,!0,!1,r)}),a(e,"unshiftAsync",function(n,r){if(Array.isArray(n)){if(d(n))return;return n.map(function(n){return v(n,!0,!0,r)})}return v(n,!0,!0,r)}),a(e,"remove",function(n){k._tasks.remove(n)}),a(e,"process",function(){if(!w){for(w=!0;!k.paused&&u<k.concurrency&&k._tasks.length;){var n=[],r=[],t=k._tasks.length;k.payload&&(t=Math.min(t,k.payload));for(var e=0;e<t;e++){var a=k._tasks.shift();n.push(a),o.push(a),r.push(a.data)}u+=1,0===k._tasks.length&&h('empty'),u===k.concurrency&&h('saturated');var c=B(m(n));i(r,c)}w=!1}}),a(e,"length",function(){return k._tasks.length}),a(e,"running",function(){return u}),a(e,"workersList",function(){return o}),a(e,"idle",function(){return k._tasks.length+u===0}),a(e,"pause",function(){k.paused=!0}),a(e,"resume",function(){!1!==k.paused&&(k.paused=!1,y(k.process))}),e);return Object.defineProperties(k,{saturated:{writable:!1,value:g('saturated')},unsaturated:{writable:!1,value:g('unsaturated')},empty:{writable:!1,value:g('empty')},drain:{writable:!1,value:g('drain')},error:{writable:!1,value:g('error')}}),k}function en(n,r){return tn(n,1,r)}function un(n,r,t){return tn(n,r,t)}var on=b(function(n,r,t,e){e=O(e);var i=A(t);return R(n,function(n,t,e){i(r,n,function(n,t){r=t,e(n)})},function(n){return e(n,r)})},4);function an(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];var e=r.map(A);return function(){for(var n=this,r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];var u=t[t.length-1];return'function'==typeof u?t.pop():u=G(),on(e,t,function(r,t,e){t.apply(n,r.concat(function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];e(n,t)}))},function(n,r){return u.apply(void 0,[n].concat(s(r)))}),u[N]}}function cn(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return an.apply(void 0,s(r.reverse()))}var fn=b(function(n,r,t,e){return E(F(r),n,t,e)},4);var ln=b(function(n,r,t,e){var i=A(t);return fn(n,r,function(n,r){i(n,function(n){if(n)return r(n);for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return r(n,e)})},function(n,r){for(var t=[],i=0;i<r.length;i++){var u;r[i]&&(t=(u=t).concat.apply(u,s(r[i])))}return e(n,t)})},4);var sn=b(function(n,r,t){return ln(n,1/0,r,t)},3);var hn=b(function(n,r,t){return ln(n,1,r,t)},3);function pn(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return t.pop().apply(void 0,[null].concat(r))}}function vn(n,r){return function(t,e,i,u){var o,a=!1,c=A(i);t(e,function(t,e,i){c(t,function(e,u){return e||!1===e?i(e):n(u)&&!o?(a=!0,o=r(!0,t),i(null,L)):void i()})},function(n){if(n)return u(n);u(null,a?o:r(!1))})}}var yn=b(function(n,r,t){return vn(function(n){return n},function(n,r){return r})(P,n,r,t)},3);var mn=b(function(n,r,t,e){return vn(function(n){return n},function(n,r){return r})(F(r),n,t,e)},4);var dn=b(function(n,r,t){return vn(function(n){return n},function(n,r){return r})(F(1),n,r,t)},3);function gn(n){return function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return A(r).apply(void 0,e.concat([function(r){if('object'==typeof console)if(r)console.error&&console.error(r);else if(console[n]){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];e.forEach(function(r){return console[n](r)})}}]))}}var wn=gn('dir');var kn=b(function(n,r,t){t=B(t);var e,i=A(n),u=A(r);function o(n){if(n)return t(n);if(!1!==n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];e=i,u.apply(void 0,i.concat([a]))}}function a(n,r){return n?t(n):!1!==n?r?void i(o):t.apply(void 0,[null].concat(s(e))):void 0}return a(null,!0)},3);function An(n,r,t){var e=A(r);return kn(n,function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];var i=r.pop();e.apply(void 0,r.concat([function(n,r){return i(n,!r)}]))},t)}function bn(n){return function(r,t,e){return n(r,e)}}var Sn=b(function(n,r,t){return P(n,bn(A(r)),t)},3);var En=b(function(n,r,t,e){return F(r)(n,bn(A(t)),e)},4);var xn=b(function(n,r,t){return En(n,1,r,t)},3);function Ln(n){return w(n)?n:function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var i=t.pop(),u=!0;t.push(function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];u?y(function(){return i.apply(void 0,r)}):i.apply(void 0,r)}),n.apply(this,t),u=!1}}var On=b(function(n,r,t){return vn(function(n){return!n},function(n){return!n})(P,n,r,t)},3);var jn=b(function(n,r,t,e){return vn(function(n){return!n},function(n){return!n})(F(r),n,t,e)},4);var _n=b(function(n,r,t){return vn(function(n){return!n},function(n){return!n})(R,n,r,t)},3);function In(n,r,t,e){var i=new Array(r.length);n(r,function(n,r,e){t(n,function(n,t){i[r]=!!t,e(n)})},function(n){if(n)return e(n);for(var t=[],u=0;u<r.length;u++)i[u]&&t.push(r[u]);e(null,t)})}function Tn(n,r,t,e){var i=[];n(r,function(n,r,e){t(n,function(t,u){if(t)return e(t);u&&i.push({index:r,value:n}),e(t)})},function(n){if(n)return e(n);e(null,i.sort(function(n,r){return n.index-r.index}).map(function(n){return n.value}))})}function Bn(n,r,t,e){return(x(r)?In:Tn)(n,r,A(t),e)}var Mn=b(function(n,r,t){return Bn(P,n,r,t)},3);var Fn=b(function(n,r,t,e){return Bn(F(r),n,t,e)},4);var Cn=b(function(n,r,t){return Bn(R,n,r,t)},3);var qn=b(function(n,r){var t=B(r),e=A(Ln(n));return(function n(r){if(r)return t(r);!1!==r&&e(n)})()},2);var zn=b(function(n,r,t,e){var i=A(t);return fn(n,r,function(n,r){i(n,function(t,e){return t?r(t):r(t,{key:e,val:n})})},function(n,r){for(var t={},i=Object.prototype.hasOwnProperty,u=0;u<r.length;u++)if(r[u]){var o=r[u].key,a=r[u].val;i.call(t,o)?t[o].push(a):t[o]=[a]}return e(n,t)})},4);function Pn(n,r,t){return zn(n,1/0,r,t)}function Dn(n,r,t){return zn(n,1,r,t)}var Vn=gn('log');var Rn=b(function(n,r,t,e){e=O(e);var i={},u=A(t);return F(r)(n,function(n,r,t){u(n,r,function(n,e){if(n)return t(n);i[r]=e,t(n)})},function(n){return e(n,i)})},4);function Un(n,r,t){return Rn(n,1/0,r,t)}function Qn(n,r,t){return Rn(n,1,r,t)}function Nn(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n){return n},e=Object.create(null),i=Object.create(null),u=A(n),o=t(function(n,t){var o=r.apply(void 0,s(n));o in e?y(function(){return t.apply(void 0,[null].concat(s(e[o])))}):o in i?i[o].push(t):(i[o]=[t],u.apply(void 0,s(n).concat([function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),u=1;u<r;u++)t[u-1]=arguments[u];n||(e[o]=t);var a=i[o];delete i[o];for(var c=0,f=a.length;c<f;c++)a[c].apply(a,[n].concat(t))}])))});return o.memo=e,o.unmemoized=n,o}var Gn=v(u?process.nextTick:i?setImmediate:o),Wn=b(function(n,r,t){var e=x(r)?[]:{};n(r,function(n,r,t){A(n)(function(n){for(var i=arguments.length,u=new Array(i>1?i-1:0),o=1;o<i;o++)u[o-1]=arguments[o];u.length<2&&(u=h(u,1)[0]);e[r]=u,t(n)})},function(n){return t(n,e)})},3);function Yn(n,r){return Wn(P,n,r)}function $n(n,r,t){return Wn(F(r),n,t)}function Hn(n,r){var t=A(n);return tn(function(n,r){t(n[0],r)},r,1)}var Jn=(function(n){function r(){f(this,r),this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}return l(r,[{key:"length",get:function(){return this.heap.length}},{key:"empty",value:function(){return this.heap=[],this}},{key:"percUp",value:function(n){for(var r;n>0&&Xn(this.heap[n],this.heap[r=Kn(n)]);){var t=this.heap[n];this.heap[n]=this.heap[r],this.heap[r]=t,n=r}}},{key:"percDown",value:function(n){for(var r;(r=1+(n<<1))<this.heap.length&&(r+1<this.heap.length&&Xn(this.heap[r+1],this.heap[r])&&(r+=1),!Xn(this.heap[n],this.heap[r]));){var t=this.heap[n];this.heap[n]=this.heap[r],this.heap[r]=t,n=r}}},{key:"push",value:function(n){n.pushCount=++this.pushCount,this.heap.push(n),this.percUp(this.heap.length-1)}},{key:"unshift",value:function(n){return this.heap.push(n)}},{key:"shift",value:function(){var n=h(this.heap,1)[0];return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),n}},{key:"toArray",value:function(){return s(this)}},{key:n,value:c.mark(function n(){var r;return c.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<this.heap.length)){n.next=7;break}return n.next=4,this.heap[r].data;case 4:r++,n.next=1;break;case 7:case"end":return n.stop()}},n,this)})},{key:"remove",value:function(n){for(var r=0,t=0;t<this.heap.length;t++)n(this.heap[t])||(this.heap[r]=this.heap[t],r++);this.heap.splice(r);for(var e=Kn(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}]),r})(Symbol.iterator);function Kn(n){return(n+1>>1)-1}function Xn(n,r){return n.priority!==r.priority?n.priority<r.priority:n.pushCount<r.pushCount}function Zn(n,r){var t=Hn(n,r),e=!1;return t._tasks=new Jn,t.push=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if('function'!=typeof i)throw new Error('task callback must be a function');if(t.started=!0,Array.isArray(n)||(n=[n]),0===n.length&&t.idle())return y(function(){return t.drain()});for(var u=0,o=n.length;u<o;u++){var a={data:n[u],priority:r,callback:i};t._tasks.push(a)}e||(e=!0,y(function(){e=!1,t.process()}))},delete t.unshift,t}var nr=b(function(n,r){if(r=O(r),!Array.isArray(n))return r(new TypeError('First argument to race must be an array of functions'));if(!n.length)return r();for(var t=0,e=n.length;t<e;t++)A(n[t])(r)},2);function rr(n,r,t,e){var i=s(n).reverse();return on(i,r,t,e)}function tr(n){var r=A(n);return t(function(n,t){return n.push(function(n){var r={};n&&(r.error=n);for(var e=arguments.length,i=new Array(e>1?e-1:0),u=1;u<e;u++)i[u-1]=arguments[u];if(i.length>0){var o=i;i.length<=1&&(o=i[0]),r.value=o}t(null,r)}),r.apply(this,n)})}function er(n){var r,t=this;return Array.isArray(n)?r=n.map(tr):(r={},Object.keys(n).forEach(function(e){r[e]=tr.call(t,n[e])})),r}function ir(n,r,t,e){var i=A(t);return Bn(n,r,function(n,r){i(n,function(n,t){r(n,!t)})},e)}var ur=b(function(n,r,t){return ir(P,n,r,t)},3);var or=b(function(n,r,t,e){return ir(F(r),n,t,e)},4);var ar=b(function(n,r,t){return ir(R,n,r,t)},3);function cr(n){return function(){return n}}var fr=5,lr=0;function sr(n,r,t){var e={times:fr,intervalFunc:cr(lr)};if(arguments.length<3&&'function'==typeof n?(t=r||G(),r=n):(hr(e,n),t=t||G()),'function'!=typeof r)throw new Error("Invalid arguments for async.retry");var i=A(r),u=1;return(function n(){i(function(r){if(!1!==r)if(r&&u++<e.times&&('function'!=typeof e.errorFilter||e.errorFilter(r)))setTimeout(n,e.intervalFunc(u-1));else{for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];t.apply(void 0,[r].concat(o))}})})(),t[N]}function hr(n,r){if('object'==typeof r)n.times=+r.times||fr,n.intervalFunc='function'==typeof r.interval?r.interval:cr(+r.interval||lr),n.errorFilter=r.errorFilter;else{if('number'!=typeof r&&'string'!=typeof r)throw new Error("Invalid arguments for async.retry");n.times=+r||fr}}function pr(n,r){r||(r=n,n=null);var e=n&&n.arity||r.length;w(r)&&(e+=1);var i=A(r);return t(function(r,t){function u(n){i.apply(void 0,s(r).concat([n]))}return(r.length<e-1||null==t)&&(r.push(t),t=G()),n?sr(n,u,t):sr(u,t),t[N]})}function vr(n,r){return Wn(R,n,r)}var yr=b(function(n,r,t){return vn(Boolean,function(n){return n})(P,n,r,t)},3);var mr=b(function(n,r,t,e){return vn(Boolean,function(n){return n})(F(r),n,t,e)},4);var dr=b(function(n,r,t){return vn(Boolean,function(n){return n})(R,n,r,t)},3);var gr=b(function(n,r,t){var e=A(r);return D(n,function(n,r){e(n,function(t,e){if(t)return r(t);r(t,{value:n,criteria:e})})},function(n,r){if(n)return t(n);t(null,r.sort(i).map(function(n){return n.value}))});function i(n,r){var t=n.criteria,e=r.criteria;return t<e?-1:t>e?1:0}},3);function wr(n,r,e){var i=A(n);return t(function(t,u){var o,a=!1;t.push(function(){a||(u.apply(void 0,arguments),clearTimeout(o))}),o=setTimeout(function(){var r=n.name||'anonymous',t=new Error('Callback function "'+r+'" timed out.');t.code='ETIMEDOUT',e&&(t.info=e),a=!0,u(t)},r),i.apply(void 0,s(t))})}function kr(n){for(var r=Array(n);n--;)r[n]=n;return r}function Ar(n,r,t,e){var i=A(t);return fn(kr(n),r,i,e)}function br(n,r,t){return Ar(n,1/0,r,t)}function Sr(n,r,t){return Ar(n,1,r,t)}function Er(n,r,t,e){arguments.length<=3&&'function'==typeof r&&(e=t,t=r,r=Array.isArray(n)?[]:{}),e=O(e||G());var i=A(t);return P(n,function(n,t,e){i(r,n,t,e)},function(n){return e(n,r)}),e[N]}var xr=b(function(n,r){var t,e=null;return xn(n,function(n,r){A(n)(function(n){if(!1===n)return r(n);for(var i=arguments.length,u=new Array(i>1?i-1:0),o=1;o<i;o++)u[o-1]=arguments[o];t=u.length<2?u[0]:u,e=n,r(n?null:{})})},function(){return r(e,t)})});function Lr(n){return function(){return(n.unmemoized||n).apply(void 0,arguments)}}var Or=b(function(n,r,t){t=B(t);var e=A(r),i=A(n),u=[];function o(n){if(n)return t(n);for(var r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];u=e,!1!==n&&i(a)}function a(n,r){return n?t(n):!1!==n?r?void e(o):t.apply(void 0,[null].concat(s(u))):void 0}return i(a)},3);function jr(n,r,t){var e=A(n);return Or(function(n){return e(function(r,t){return n(r,!t)})},r,t)}var _r=b(function(n,r){if(r=O(r),!Array.isArray(n))return r(new Error('First argument to waterfall must be an array of functions'));if(!n.length)return r();var t=0;function e(r){A(n[t++]).apply(void 0,s(r).concat([B(i)]))}function i(i){if(!1!==i){for(var u=arguments.length,o=new Array(u>1?u-1:0),a=1;a<u;a++)o[a-1]=arguments[a];if(i||t===n.length)return r.apply(void 0,[i].concat(o));e(o)}}e([])}),Ir={apply:r,applyEach:V,applyEachSeries:Q,asyncify:m,auto:W,autoInject:Z,cargo:en,cargoQueue:un,compose:cn,concat:sn,concatLimit:ln,concatSeries:hn,constant:pn,detect:yn,detectLimit:mn,detectSeries:dn,dir:wn,doUntil:An,doWhilst:kn,each:Sn,eachLimit:En,eachOf:P,eachOfLimit:C,eachOfSeries:R,eachSeries:xn,ensureAsync:Ln,every:On,everyLimit:jn,everySeries:_n,filter:Mn,filterLimit:Fn,filterSeries:Cn,forever:qn,groupBy:Pn,groupByLimit:zn,groupBySeries:Dn,log:Vn,map:D,mapLimit:fn,mapSeries:U,mapValues:Un,mapValuesLimit:Rn,mapValuesSeries:Qn,memoize:Nn,nextTick:Gn,parallel:Yn,parallelLimit:$n,priorityQueue:Zn,queue:Hn,race:nr,reduce:on,reduceRight:rr,reflect:tr,reflectAll:er,reject:ur,rejectLimit:or,rejectSeries:ar,retry:sr,retryable:pr,seq:an,series:vr,setImmediate:y,some:yr,someLimit:mr,someSeries:dr,sortBy:gr,timeout:wr,times:br,timesLimit:Ar,timesSeries:Sr,transform:Er,tryEach:xr,unmemoize:Lr,until:jr,waterfall:_r,whilst:Or,all:On,allLimit:jn,allSeries:_n,any:yr,anyLimit:mr,anySeries:dr,find:yn,findLimit:mn,findSeries:dn,flatMap:sn,flatMapLimit:ln,flatMapSeries:hn,forEach:Sn,forEachSeries:xn,forEachLimit:En,forEachOf:P,forEachOfSeries:R,forEachOfLimit:C,inject:on,foldl:on,foldr:rr,select:Mn,selectLimit:Fn,selectSeries:Cn,wrapSync:m,during:Or,doDuring:kn};n.default=Ir,n.apply=r,n.applyEach=V,n.applyEachSeries=Q,n.asyncify=m,n.auto=W,n.autoInject=Z,n.cargo=en,n.cargoQueue=un,n.compose=cn,n.concat=sn,n.concatLimit=ln,n.concatSeries=hn,n.constant=pn,n.detect=yn,n.detectLimit=mn,n.detectSeries=dn,n.dir=wn,n.doUntil=An,n.doWhilst=kn,n.each=Sn,n.eachLimit=En,n.eachOf=P,n.eachOfLimit=C,n.eachOfSeries=R,n.eachSeries=xn,n.ensureAsync=Ln,n.every=On,n.everyLimit=jn,n.everySeries=_n,n.filter=Mn,n.filterLimit=Fn,n.filterSeries=Cn,n.forever=qn,n.groupBy=Pn,n.groupByLimit=zn,n.groupBySeries=Dn,n.log=Vn,n.map=D,n.mapLimit=fn,n.mapSeries=U,n.mapValues=Un,n.mapValuesLimit=Rn,n.mapValuesSeries=Qn,n.memoize=Nn,n.nextTick=Gn,n.parallel=Yn,n.parallelLimit=$n,n.priorityQueue=Zn,n.queue=Hn,n.race=nr,n.reduce=on,n.reduceRight=rr,n.reflect=tr,n.reflectAll=er,n.reject=ur,n.rejectLimit=or,n.rejectSeries=ar,n.retry=sr,n.retryable=pr,n.seq=an,n.series=vr,n.setImmediate=y,n.some=yr,n.someLimit=mr,n.someSeries=dr,n.sortBy=gr,n.timeout=wr,n.times=br,n.timesLimit=Ar,n.timesSeries=Sr,n.transform=Er,n.tryEach=xr,n.unmemoize=Lr,n.until=jr,n.waterfall=_r,n.whilst=Or,n.all=On,n.allLimit=jn,n.allSeries=_n,n.any=yr,n.anyLimit=mr,n.anySeries=dr,n.find=yn,n.findLimit=mn,n.findSeries=dn,n.flatMap=sn,n.flatMapLimit=ln,n.flatMapSeries=hn,n.forEach=Sn,n.forEachSeries=xn,n.forEachLimit=En,n.forEachOf=P,n.forEachOfSeries=R,n.forEachOfLimit=C,n.inject=on,n.foldl=on,n.foldr=rr,n.select=Mn,n.selectLimit=Fn,n.selectSeries=Cn,n.wrapSync=m,n.during=Or,n.doDuring=kn,Object.defineProperty(n,'__esModule',{value:!0})})},660,[253,283,12,13,41,33,32]);
__d(function(g,r,i,a,m,e,d){m.exports={integerHash:function(t){if(!t)return 0;var n,h=0;for(n=0;n<t.length;n++)h+=t.charCodeAt(n)*Math.pow(31,t.length-1-n),h=Math.abs(0|h);return h}}},661,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5])),f=r(d[6]),s=t(r(d[7])),y=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=h(n);if(o&&o.has(t))return o.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var f=l?Object.getOwnPropertyDescriptor(t,c):null;f&&(f.get||f.set)?Object.defineProperty(u,c,f):u[c]=t[c]}u.default=t,o&&o.set(t,u);return u})(r(d[8]));function h(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(h=function(t){return t?o:n})(t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=(0,f.getLogger)(__filename),k=(function(t){(0,u.default)(k,t);var f,s,h=(f=k,s=p(),function(){var t,n=(0,c.default)(f);if(s){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function k(t,o,u,l,c,f,s){var y;return(0,n.default)(this,k),(y=h.call(this)).sid=t,y.localJid=o,y.remoteJid=u,y.connection=l,y.mediaConstraints=c,y.pcConfig=f,y.isInitiator=s,y.usedrip=!0,y.dripContainer=[],y.room=null,y._signalingLayer=null,y.state=null,y.rtc=null,y}return(0,o.default)(k,[{key:"initiatorJid",get:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"responderJid",get:function(){return this.isInitiator?this.remoteJid:this.localJid}},{key:"initialize",value:function(t,n,o,u){if(null!==this.state){var l="attempt to initiate on session "+this.sid+"\n                   in state "+this.state;throw v.error(l),new Error(l)}this.room=t,this.rtc=n,this._signalingLayer=o,this.state=y.PENDING,this.doInitialize(u)}},{key:"doInitialize",value:function(t){}},{key:"addIceCandidates",value:function(t){}},{key:"getState",value:function(){return this.state}},{key:"addSources",value:function(t){}},{key:"removeSources",value:function(t){}},{key:"terminate",value:function(t,n,o){}},{key:"acceptOffer",value:function(t,n,o){}},{key:"_getInitiatorJid",value:function(){return this.isInitiator?this.localJid:this.remoteJid}}]),k})(s.default);e.default=k},662,[2,12,13,20,22,19,435,609,663]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e.PENDING=e.JingleSessionState=e.ENDED=e.ACTIVE=void 0,e.JingleSessionState=E,(function(E){E.PENDING="pending",E.ACTIVE="active",E.ENDED="ended"})(E||(e.JingleSessionState=E={}));var n=E.PENDING;e.PENDING=n;var D=E.ACTIVE;e.ACTIVE=D;var N=E.ENDED;e.ENDED=N},663,[]);
__d(function(g,r,i,a,m,e,d){var _;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(function(_){_.REMOTE_SOURCE_CONSTRAINTS_CHANGED="media_session.REMOTE_SOURCE_CONSTRAINTS_CHANGED",_.REMOTE_VIDEO_CONSTRAINTS_CHANGED="media_session.REMOTE_VIDEO_CONSTRAINTS_CHANGED"})(_||(_={}));var E=_;e.default=E},664,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){s.Strophe.addConnectionPlugin('logger',new p)};var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),s=r(d[7]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var p=(function(t){(0,c.default)(y,t);var s,p,v=(s=y,p=h(),function(){var t,n=(0,f.default)(s);if(p){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function y(){var t;return(0,n.default)(this,y),(t=v.call(this)).log=[],t}return(0,o.default)(y,[{key:"init",value:function(t){(0,u.default)((0,f.default)(y.prototype),"init",this).call(this,t),this.connection.rawInput=this.logIncoming.bind(this),this.connection.rawOutput=this.logOutgoing.bind(this)}},{key:"logIncoming",value:function(t){this.log.push([(new Date).getTime(),'incoming',t])}},{key:"logOutgoing",value:function(t){this.log.push([(new Date).getTime(),'outgoing',t])}}]),y})(t(r(d[8])).default)},665,[2,12,13,17,20,22,19,560,635]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),u=n(r(d[3])),l=n(r(d[4])),c=n(r(d[5])),f=n(r(d[6])),s=r(d[7]),p=r(d[8]),v=n(r(d[9]));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}var h=(0,s.getLogger)(__filename),R=(function(n){(0,l.default)(w,n);var s,v,R=(s=w,v=y(),function(){var n,t=(0,f.default)(s);if(v){var o=(0,f.default)(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return(0,c.default)(this,n)});function w(){return(0,t.default)(this,w),R.apply(this,arguments)}return(0,o.default)(w,[{key:"init",value:function(n){(0,u.default)((0,f.default)(w.prototype),"init",this).call(this,n),this.connection.addHandler(this.onRayo.bind(this),"urn:xmpp:rayo:1",'iq','set',null,null)}},{key:"onRayo",value:function(n){h.info('Rayo IQ',n)}},{key:"dial",value:function(n,t,o,u,l){var c=this;return new Promise(function(f,s){if(l){var v=(0,p.$iq)({type:'set',to:l});v.c('dial',{xmlns:"urn:xmpp:rayo:1",to:n,from:t}),v.c('header',{name:'JvbRoomName',value:o}).up(),u&&u.length&&v.c('header',{name:'JvbRoomPassword',value:u}).up(),c.connection.sendIQ(v,function(n){h.info('Dial result ',n);var t=$(n).find('ref').attr('uri');c.callResource=t.substr('xmpp:'.length),h.info("Received call resource: "+c.callResource),f()},function(n){h.info('Dial error ',n),s(n)})}else s(new Error('Internal error!'))})}},{key:"hangup",value:function(){var n=this;return new Promise(function(t,o){if(!n.callResource)return o(new Error('No call in progress')),void h.warn('No call in progress');var u=(0,p.$iq)({type:'set',to:n.callResource});u.c('hangup',{xmlns:"urn:xmpp:rayo:1"}),n.connection.sendIQ(u,function(o){h.info('Hangup result ',o),n.callResource=null,t()},function(t){h.info('Hangup error ',t),n.callResource=null,o(new Error('Hangup error '))})})}}]),w})(v.default);e.default=R},666,[2,12,13,17,20,22,19,435,560,635]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){s.Strophe.log=function(t,o){switch(S.trace('Strophe',t,o),'string'==typeof o&&-1!==o.indexOf('Request ')&&-1!==o.indexOf('timed out (secondary), restarting')&&(t=s.Strophe.LogLevel.WARN),t){case s.Strophe.LogLevel.DEBUG:-1!==n&&N.test(o)&&(S.debug('Reset lastErrorStatus'),n=-1);break;case s.Strophe.LogLevel.WARN:S.warn("Strophe: "+o);var c=E.exec(o);c&&2===c.length&&(n=parseInt(c[1],10),S.debug("lastErrorStatus set to: "+n));break;case s.Strophe.LogLevel.ERROR:case s.Strophe.LogLevel.FATAL:o="Strophe: "+o,u.default.callErrorHandler(new Error(o)),S.error(o)}},s.Strophe.getLastErrorStatus=function(){return n},s.Strophe.getStatusString=function(t){switch(t){case s.Strophe.Status.BINDREQUIRED:return'BINDREQUIRED';case s.Strophe.Status.ERROR:return'ERROR';case s.Strophe.Status.CONNECTING:return'CONNECTING';case s.Strophe.Status.CONNFAIL:return'CONNFAIL';case s.Strophe.Status.AUTHENTICATING:return'AUTHENTICATING';case s.Strophe.Status.AUTHFAIL:return'AUTHFAIL';case s.Strophe.Status.CONNECTED:return'CONNECTED';case s.Strophe.Status.DISCONNECTED:return'DISCONNECTED';case s.Strophe.Status.DISCONNECTING:return'DISCONNECTING';case s.Strophe.Status.ATTACHED:return'ATTACHED';default:return'unknown'}}};var o=r(d[1]),s=r(d[2]),u=t(r(d[3])),S=(0,o.getLogger)(__filename),n=-1,N=/request id \d+.\d+ got 200/,E=/request errored, status: (\d+), number of errors: \d+/},667,[2,435,560,584]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.CodecSelection=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=r(d[3]),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=p(n);if(o&&o.has(t))return o.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var s=u?Object.getOwnPropertyDescriptor(t,f):null;s&&(s.get||s.set)?Object.defineProperty(c,f,s):c[f]=t[f]}c.default=t,o&&o.set(t,c);return c})(r(d[4])),f=t(r(d[5])),s=r(d[6]),l=t(r(d[7]));function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(p=function(t){return t?o:n})(t)}function v(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=h(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,n){if(t){if("string"==typeof t)return C(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?C(t,n):void 0}}function C(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}var y=(0,c.getLogger)(__filename),P=(function(){function t(o,c){var s=this;(0,n.default)(this,t),this.conference=o,this.options=c,this.disabledCodec=c.disabledCodec===f.default.VP8?void 0:this._getCodecMimeType(c.disabledCodec);var p=this._getCodecMimeType(c.jvbCodec),v=this._getCodecMimeType(c.p2pCodec);this.jvbPreferredCodec=p&&this._isCodecSupported(p)?p:f.default.VP8,this.p2pPreferredCodec=v&&this._isCodecSupported(v)?v:f.default.VP8,y.debug("Codec preferences for the conference are JVB: "+this.jvbPreferredCodec+",\n            P2P: "+this.p2pPreferredCodec),this.jvbPreferredCodec!==f.default.VP9||l.default.supportsVP9()||(this.jvbPreferredCodec=f.default.VP8),this.conference.on(u.USER_JOINED,function(){return s._selectPreferredCodec()}),this.conference.on(u.USER_LEFT,function(){return s._selectPreferredCodec()}),this.conference.on(u._MEDIA_SESSION_STARTED,function(t){return s._onMediaSessionStarted(t)})}return(0,o.default)(t,[{key:"_getCodecMimeType",value:function(t){return'string'==typeof t?Object.values(f.default).find(function(n){return n===t.toLowerCase()}):null}},{key:"_isCodecSupported",value:function(t){return!(!l.default.isFirefox()&&!l.default.isReactNative())||window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities('video').codecs.some(function(n){return n.mimeType.toLowerCase()==="video/"+t})}},{key:"_onMediaSessionStarted",value:function(t){var n=t.isP2P?this.p2pPreferredCodec:this.jvbPreferredCodec,o=this.disabledCodec&&this._isCodecSupported(this.disabledCodec)?this.disabledCodec:null;this._selectPreferredCodec(t,n,o)}},{key:"_selectPreferredCodec",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=t||this.conference.jvbJingleSession,u=n||this.jvbPreferredCodec,p=u;if(c&&!c.isP2P&&!this.options.enforcePreferredCodec)for(var h,C=v(this.conference.getParticipants().map(function(t){return t.getId()}));!(h=C()).done;){var y=h.value,P=c._signalingLayer.getPeerMediaInfo(y,s.MediaType.VIDEO),b=null===P||void 0===P?void 0:P.codecType;b&&b!==u&&(b!==f.default.VP9||l.default.supportsVP9())&&(p=b)}c&&c.setVideoCodecs(p,o)}},{key:"getPreferredCodec",value:function(){return this.jvbPreferredCodec}}]),t})();e.CodecSelection=P},668,[2,12,13,435,555,648,589,568]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),f=r(d[7]),h=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=O(n);if(s&&s.has(t))return s.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=u?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}o.default=t,s&&s.set(t,o);return o})(r(d[8])),v=t(r(d[9])),p=r(d[10]),_=t(r(d[11])),y=t(r(d[12])),k=t(r(d[13])),E=t(r(d[14])),T=t(r(d[15])),A=r(d[16]),C=t(r(d[17])),D=t(r(d[18])),S=t(r(d[19])),L=t(r(d[20]));function O(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(O=function(t){return t?s:n})(t)}function N(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=b(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,n){if(t){if("string"==typeof t)return I(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?I(t,n):void 0}}function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var w=(0,f.getLogger)(__filename),R=0,V=0;function P(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){var n=t.sourceId,s=t.sourceType,o=t.stream,u=t.track,c=t.videoType,l=t.effects,f=u.getSettings(),h=f.deviceId,v=f.facingMode;return V=(0,A.safeCounterIncrement)(V),new D.default({deviceId:h,facingMode:v,mediaType:u.kind,rtcId:V,sourceId:n,sourceType:s,stream:o,track:u,videoType:c||null,effects:l})})}var F=(function(t){(0,u.default)(O,t);var f,T,D=(f=O,T=M(),function(){var t,n=(0,l.default)(f);if(T){var s=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function O(t){var s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.default)(this,O),(s=D.call(this)).conference=t,s.peerConnections=new Map,s.localTracks=[],s.options=u,s._channel=null,s._lastN=void 0,s._lastNEndpoints=null,s._forwardedSources=null,s._maxFrameHeight=void 0,s._selectedEndpoints=null,s._lastNChangeListener=s._onLastNChanged.bind((0,o.default)(s)),s._forwardedSourcesChangeListener=s._onForwardedSourcesChanged.bind((0,o.default)(s)),s._onDeviceListChanged=s._onDeviceListChanged.bind((0,o.default)(s)),s._updateAudioOutputForAudioTracks=s._updateAudioOutputForAudioTracks.bind((0,o.default)(s)),s._videoType=v.default.NONE,S.default.isDeviceChangeAvailable('output')&&(S.default.addListener(_.default.AUDIO_OUTPUT_DEVICE_CHANGED,s._updateAudioOutputForAudioTracks),S.default.addListener(_.default.DEVICE_LIST_CHANGED,s._onDeviceListChanged)),s}return(0,s.default)(O,[{key:"destroy",value:function(){S.default.removeListener(_.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._updateAudioOutputForAudioTracks),S.default.removeListener(_.default.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._channelOpenListener&&this.removeListener(_.default.DATA_CHANNEL_OPEN,this._channelOpenListener)}},{key:"initializeBridgeChannel",value:function(t,n){var s=this;this._channel=new C.default(t,n,this.eventEmitter),this._channelOpenListener=function(){var t=function(t,n,s){E.default.callErrorHandler(t),w.error("Cannot send "+n+"("+JSON.stringify(s)+") endpoint message",t)};if(s._receiverVideoConstraints)try{s._channel.sendNewReceiverVideoConstraintsMessage(s._receiverVideoConstraints)}catch(n){t(n,'ReceiverVideoConstraints',s._receiverVideoConstraints)}if(s._selectedEndpoints)try{s._channel.sendSelectedEndpointsMessage(s._selectedEndpoints)}catch(n){t(n,'SelectedEndpointsChangedEvent',s._selectedEndpoints)}if(void 0!==s._maxFrameHeight)try{s._channel.sendReceiverVideoConstraintMessage(s._maxFrameHeight)}catch(n){t(n,'ReceiverVideoConstraint',s._maxFrameHeight)}if(void 0!==s._lastN&&-1!==s._lastN)try{s._channel.sendSetLastNMessage(s._lastN)}catch(n){t(n,'LastNChangedEvent',s._lastN)}if(!k.default.isSourceNameSignalingEnabled())try{s._channel.sendVideoTypeMessage(s._videoType)}catch(n){t(n,'VideoTypeMessage',s._videoType)}},this.addListener(_.default.DATA_CHANNEL_OPEN,this._channelOpenListener),this.addListener(_.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener),k.default.isSourceNameSignalingEnabled()&&this.addListener(_.default.FORWARDED_SOURCES_CHANGED,this._forwardedSourcesChangeListener)}},{key:"_onDeviceListChanged",value:function(){this._updateAudioOutputForAudioTracks(S.default.getAudioOutputDevice())}},{key:"_onLastNChanged",value:function(){var t,n,s=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=this._lastNEndpoints||[];this._lastNEndpoints=o,t=u.filter(function(t){return!s.isInLastN(t)}),n=o.filter(function(t){return-1===u.indexOf(t)}),this.conference.eventEmitter.emit(h.LAST_N_ENDPOINTS_CHANGED,t,n)}},{key:"_onForwardedSourcesChanged",value:function(){var t,n,s=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=this._forwardedSources||[];this._forwardedSources=o,t=u.filter(function(t){return!s.isInForwardedSources(t)}),n=o.filter(function(t){return-1===u.indexOf(t)}),this.conference.eventEmitter.emit(h.FORWARDED_SOURCES_CHANGED,t,n,Date.now())}},{key:"onCallEnded",value:function(){this._channel&&(this._channel&&'websocket'===this._channel.mode&&this._channel.close(),this._channel=null)}},{key:"setDesktopSharingFrameRate",value:function(t){S.default.setDesktopSharingFrameRate(t)}},{key:"setNewReceiverVideoConstraints",value:function(t){this._receiverVideoConstraints=t,this._channel&&this._channel.isOpen()&&this._channel.sendNewReceiverVideoConstraintsMessage(t)}},{key:"setReceiverVideoConstraint",value:function(t){this._maxFrameHeight=t,this._channel&&this._channel.isOpen()&&this._channel.sendReceiverVideoConstraintMessage(t)}},{key:"setVideoType",value:function(t){this._videoType!==t&&(this._videoType=t,this._channel&&this._channel.isOpen()&&this._channel.sendVideoTypeMessage(t))}},{key:"sendSourceVideoType",value:function(t,n){this._channel&&this._channel.isOpen()&&this._channel.sendSourceVideoTypeMessage(t,n)}},{key:"selectEndpoints",value:function(t){this._selectedEndpoints=t,this._channel&&this._channel.isOpen()&&this._channel.sendSelectedEndpointsMessage(t)}},{key:"createPeerConnection",value:function(t,n,s,o){var u=JSON.parse(JSON.stringify(S.default.pcConstraints));o.enableInsertableStreams&&(w.debug('E2EE - setting insertable streams constraints'),n.encodedInsertableStreams=!0),(y.default.isReactNative()||y.default.isChromiumBased()&&!o.usesUnifiedPlan)&&(w.debug('WebRTC application is running in plan-b mode'),n.sdpSemantics='plan-b'),o.forceTurnRelay&&(n.iceTransportPolicy='relay'),n.bundlePolicy='max-bundle',R=(0,A.safeCounterIncrement)(R);var c=new L.default(this,R,t,n,u,s,o);return this.peerConnections.set(c.id,c),c}},{key:"_removePeerConnection",value:function(t){var n=t.id;return!!this.peerConnections.has(n)&&(this.peerConnections.delete(n),!0)}},{key:"addLocalTrack",value:function(t){if(!t)throw new Error('track must not be null nor undefined');this.localTracks.push(t),t.conference=this.conference}},{key:"getForwardedSources",value:function(){return this._forwardedSources}},{key:"getLocalVideoTrack",value:function(){var t=this.getLocalTracks(p.MediaType.VIDEO);return t.length?t[0]:void 0}},{key:"getLocalVideoTracks",value:function(){return this.getLocalTracks(p.MediaType.VIDEO)}},{key:"getLocalAudioTrack",value:function(){var t=this.getLocalTracks(p.MediaType.AUDIO);return t.length?t[0]:void 0}},{key:"getLocalEndpointId",value:function(){return this.conference.myUserId()}},{key:"getLocalTracks",value:function(t){var n=this.localTracks.slice();return void 0!==t&&(n=n.filter(function(n){return n.getType()===t})),n}},{key:"getRemoteTracks",value:function(t){for(var n,s=[],o=N(this.peerConnections.values());!(n=o()).done;){var u=n.value.getRemoteTracks(void 0,t);u&&(s=s.concat(u))}return s}},{key:"setAudioMute",value:function(t){var n=[];return this.getLocalTracks(p.MediaType.AUDIO).forEach(function(s){n.push(t?s.mute():s.unmute())}),Promise.all(n)}},{key:"setVideoMute",value:function(t){var n=[];return this.getLocalTracks(p.MediaType.VIDEO).concat(this.getLocalTracks(p.MediaType.PRESENTER)).forEach(function(s){n.push(t?s.mute():s.unmute())}),Promise.all(n)}},{key:"removeLocalTrack",value:function(t){var n=this.localTracks.indexOf(t);-1!==n&&this.localTracks.splice(n,1)}},{key:"closeBridgeChannel",value:function(){this._channel&&(this._channel.close(),this._channel=null,this.removeListener(_.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener))}},{key:"setAudioLevel",value:function(t,n,s,o){var u=t.getTrackBySSRC(n);u&&(u.isAudioTrack()?(u.isLocal()!==o&&w.error(u+" was expected to "+(o?'be':'not be')+" local"),u.setAudioLevel(s,t)):w.warn("Received audio level for non-audio track: "+n))}},{key:"sendChannelMessage",value:function(t,n){if(!this._channel)throw new Error('Channel support is disabled!');this._channel.sendMessage(t,n)}},{key:"sendEndpointStatsMessage",value:function(t){this._channel&&this._channel.isOpen()&&this._channel.sendEndpointStatsMessage(t)}},{key:"setLastN",value:function(t){this._lastN!==t&&(this._lastN=t,this._channel&&this._channel.isOpen()&&this._channel.sendSetLastNMessage(t),this.eventEmitter.emit(_.default.LASTN_VALUE_CHANGED,t))}},{key:"isInLastN",value:function(t){return!this._lastNEndpoints||this._lastNEndpoints.indexOf(t)>-1}},{key:"isInForwardedSources",value:function(t){return!this._forwardedSources||this._forwardedSources.indexOf(t)>-1}},{key:"_updateAudioOutputForAudioTracks",value:function(t){for(var n,s=N(this.getRemoteTracks(p.MediaType.AUDIO));!(n=s()).done;){n.value.setAudioOutput(t)}}}],[{key:"createLocalTracks",value:function(t){return P(t)}},{key:"obtainAudioAndVideoPermissions",value:function(t){return S.default.obtainAudioAndVideoPermissions(t).then(function(t){return P(t)})}},{key:"addListener",value:function(t,n){S.default.addListener(t,n)}},{key:"removeListener",value:function(t,n){S.default.removeListener(t,n)}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=t,S.default.init(this.options)}},{key:"attachMediaStream",value:function(t,n){return S.default.attachMediaStream(t,n)}},{key:"getStreamID",value:function(t){return S.default.getStreamID(t)}},{key:"getTrackID",value:function(t){return S.default.getTrackID(t)}},{key:"isDeviceListAvailable",value:function(){return S.default.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(t){return S.default.isDeviceChangeAvailable(t)}},{key:"isWebRtcSupported",value:function(){return y.default.isSupported()}},{key:"getAudioOutputDevice",value:function(){return S.default.getAudioOutputDevice()}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return S.default.getCurrentlyAvailableMediaDevices()}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return S.default.arePermissionsGrantedForAvailableDevices()}},{key:"getEventDataForActiveDevice",value:function(t){return S.default.getEventDataForActiveDevice(t)}},{key:"setAudioOutputDevice",value:function(t){return S.default.setAudioOutputDevice(t)}},{key:"isUserStream",value:function(t){return O.isUserStreamById(S.default.getStreamID(t))}},{key:"isUserStreamById",value:function(t){return t&&'mixedmslabel'!==t&&'default'!==t}},{key:"enumerateDevices",value:function(t){S.default.enumerateDevices(t)}},{key:"stopMediaStream",value:function(t){S.default.stopMediaStream(t)}},{key:"isDesktopSharingEnabled",value:function(){return S.default.isDesktopSharingEnabled()}}]),O})(T.default);e.default=F},669,[2,12,13,23,20,22,19,435,555,670,589,593,568,590,584,609,587,671,672,675,689]);
__d(function(g,r,i,a,m,e,d){m.exports={CAMERA:'camera',DESKTOP:'desktop',DESKTOP_HIGH_FPS:'desktop_high_fps',NONE:'none'}},670,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),s=n(r(d[2])),o=n(r(d[3])),l=r(d[4]),c=n(r(d[5])),u=r(d[6]),h=n(r(d[7])),_=n(r(d[8])),f=n(r(d[9])),v=(0,l.getLogger)(__filename),S=(function(){function n(t,o,l){if((0,s.default)(this,n),!t&&!o)throw new TypeError('At least peerconnection or wsUrl must be given');if(t&&o)throw new TypeError('Just one of peerconnection or wsUrl must be given');if(t?v.debug('constructor() with peerconnection'):v.debug("constructor() with wsUrl:\""+o+"\""),this._channel=null,this._eventEmitter=l,this._mode=null,this._areRetriesEnabled=!1,this._closedFromClient=!1,t){var c=t.createDataChannel('JVB data channel',{protocol:'http://jitsi.org/protocols/colibri'});this._handleChannel(c),this._mode='datachannel'}else o&&(this._areRetriesEnabled=!0,this._wsUrl=o,this._initWebSocket())}return(0,o.default)(n,[{key:"_initWebSocket",value:function(){var n=new WebSocket(this._wsUrl);this._handleChannel(n),this._mode='websocket'}},{key:"_startConnectionRetries",value:function(){var n=this,t=1;this._retryTimeout=setTimeout(function s(){n.isOpen()||(n._initWebSocket(n._wsUrl),t=Math.min(2*t,60),n._retryTimeout=setTimeout(s,1e3*t))},1e3*t)}},{key:"_stopConnectionRetries",value:function(){this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=void 0)}},{key:"_retryWebSocketConnection",value:function(n){var t=this;if(this._areRetriesEnabled){var s=n.code,o=n.reason;_.default.sendAnalytics((0,u.createBridgeChannelClosedEvent)(s,o)),this._areRetriesEnabled=!1,this._eventEmitter.once(c.default.DATA_CHANNEL_OPEN,function(){t._stopConnectionRetries(),t._areRetriesEnabled=!0}),this._startConnectionRetries()}}},{key:"mode",get:function(){return this._mode}},{key:"close",value:function(){if(this._closedFromClient=!0,this._stopConnectionRetries(),this._areRetriesEnabled=!1,this._channel){try{this._channel.close()}catch(n){}this._channel=null}}},{key:"isOpen",value:function(){return this._channel&&('open'===this._channel.readyState||this._channel.readyState===WebSocket.OPEN)}},{key:"sendEndpointStatsMessage",value:function(n){this._send((0,t.default)({colibriClass:'EndpointStats'},n))}},{key:"sendMessage",value:function(n,t){this._send({colibriClass:'EndpointMessage',msgPayload:t,to:n})}},{key:"sendSetLastNMessage",value:function(n){v.log("Sending lastN="+n+"."),this._send({colibriClass:'LastNChangedEvent',lastN:n})}},{key:"sendSelectedEndpointsMessage",value:function(n){v.log("Sending selected endpoints: "+n+"."),this._send({colibriClass:'SelectedEndpointsChangedEvent',selectedEndpoints:n})}},{key:"sendReceiverVideoConstraintMessage",value:function(n){v.log("Sending ReceiverVideoConstraint with maxFrameHeight="+n+"px"),this._send({colibriClass:'ReceiverVideoConstraint',maxFrameHeight:n})}},{key:"sendNewReceiverVideoConstraintsMessage",value:function(n){v.log("Sending ReceiverVideoConstraints with "+JSON.stringify(n)),this._send((0,t.default)({colibriClass:'ReceiverVideoConstraints'},n))}},{key:"sendVideoTypeMessage",value:function(n){v.debug("Sending VideoTypeMessage with video type as "+n),this._send({colibriClass:'VideoTypeMessage',videoType:n})}},{key:"sendSourceVideoTypeMessage",value:function(n,t){v.info("Sending SourceVideoTypeMessage with video type "+n+": "+t),this._send({colibriClass:'SourceVideoTypeMessage',sourceName:n,videoType:t})}},{key:"_handleChannel",value:function(n){var t=this,s=this._eventEmitter;n.onopen=function(){v.info(t._mode+" channel opened"),s.emit(c.default.DATA_CHANNEL_OPEN)},n.onerror=function(n){'websocket'!==t._mode&&v.error("Channel error: "+n.message)},n.onmessage=function(n){var t,o=n.data;try{t=JSON.parse(o)}catch(n){return f.default.callErrorHandler(n),void v.error('Failed to parse channel message as JSON: ',o,n)}var l=t.colibriClass;switch(l){case'DominantSpeakerEndpointChangeEvent':var u=t,_=u.dominantSpeakerEndpoint,S=u.previousSpeakers,E=void 0===S?[]:S;v.debug("Dominant speaker: "+_+", previous speakers: "+E),s.emit(c.default.DOMINANT_SPEAKER_CHANGED,_,E);break;case'EndpointConnectivityStatusChangeEvent':var C=t.endpoint,p='true'===t.active;v.info("Endpoint connection status changed: "+C+" active="+p),s.emit(c.default.ENDPOINT_CONN_STATUS_CHANGED,C,p);break;case'EndpointMessage':s.emit(c.default.ENDPOINT_MESSAGE_RECEIVED,t.from,t.msgPayload);break;case'EndpointStats':s.emit(c.default.ENDPOINT_STATS_RECEIVED,t.from,t);break;case'LastNEndpointsChangeEvent':if(!h.default.isSourceNameSignalingEnabled()){var N=t.lastNEndpoints;v.info("New forwarded endpoints: "+N),s.emit(c.default.LASTN_ENDPOINT_CHANGED,N)}break;case'ForwardedSources':if(h.default.isSourceNameSignalingEnabled()){var y=t.forwardedSources;v.info("New forwarded sources: "+y),s.emit(c.default.FORWARDED_SOURCES_CHANGED,y)}break;case'SenderVideoConstraints':var b=t.videoConstraints;b&&(v.info("SenderVideoConstraints: "+JSON.stringify(b)),s.emit(c.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,b));break;case'SenderSourceConstraints':if(h.default.isSourceNameSignalingEnabled()){var k=t,T=k.sourceName,w=k.maxHeight;'string'==typeof T&&'number'==typeof w?(v.info("SenderSourceConstraints: "+JSON.stringify({sourceName:T,maxHeight:w})),s.emit(c.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,{sourceName:T,maxHeight:w})):v.error("Invalid SenderSourceConstraints: "+JSON.stringify(t))}break;case'ServerHello':v.info("Received ServerHello, version="+t.version+".");break;default:v.debug('Channel JSON-formatted message: ',t),s.emit("rtc.datachannel."+l,t)}},n.onclose=function(n){v.info("Channel closed by "+(t._closedFromClient?'client':'server')),'websocket'===t._mode&&(t._closedFromClient||(v.error("Channel closed: "+n.code+" "+n.reason),t._retryWebSocketConnection(n))),t._channel=null},this._channel=n}},{key:"_send",value:function(n){var t=this._channel;if(!this.isOpen())throw v.error('Bridge Channel send: no opened channel.'),new Error('No opened channel');t.send(JSON.stringify(n))}}]),n})();e.default=S},671,[2,32,12,13,435,593,566,590,563,584]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),f=t(r(d[6])),h=t(r(d[7])),l=t(r(d[8])),_=r(d[9]),v=t(r(d[10])),S=r(d[11]),E=r(d[12]),y=t(r(d[13])),T=r(d[14]),p=t(r(d[15])),k=r(d[16]),D=r(d[17]),M=t(r(d[18])),I=t(r(d[19])),A=t(r(d[20])),C=t(r(d[21])),P=t(r(d[22]));function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var O=(0,_.getLogger)(__filename),R=(function(t){(0,f.default)(w,t);var _,C,R=(_=w,C=N(),function(){var t,n=(0,l.default)(_);if(C){var s=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,h.default)(this,t)});function w(t){var o,u=t.deviceId,f=t.facingMode,h=t.mediaType,l=t.resolution,_=t.rtcId,v=t.sourceId,S=t.sourceType,y=t.stream,T=t.track,D=t.videoType,M=t.effects,I=void 0===M?[]:M;(0,s.default)(this,w),(o=R.call(this,null,y,T,function(){return o.emit(E.LOCAL_TRACK_STOPPED)},h,D))._setEffectInProgress=!1;var A=I.find(function(t){return t.isEnabled((0,c.default)(o))});A&&o._startStreamEffect(A);var C=D===k.VideoType.DESKTOP?T.getSettings().displaySurface:null;return o.metadata=(0,n.default)({timestamp:Date.now()},C?{displaySurface:C}:{}),o.rtcId=_,o.sourceId=v,o.sourceType=S,o.resolution=T.getSettings().height,o.maxEnabledResolution=l,o._constraints=T.getConstraints(),Object.keys(o._constraints).length||D!==k.VideoType.CAMERA||(o._constraints={height:T.getSettings().height,width:T.getSettings().width}),o.deviceId=u,o._prevSetMuted=Promise.resolve(),o._facingMode=f,o._trackEnded=!1,o._hasSentData=!1,o._testDataSent=!0,o._realDeviceId=''===o.deviceId?void 0:o.deviceId,o._sourceName=null,o._trackMutedTS=0,o._onDeviceListWillChange=function(t){var n=o._realDeviceId;o._setRealDeviceIdFromDeviceList(t),(void 0===o.getTrack().readyState&&void 0!==o._realDeviceId&&!t.find(function(t){return t.deviceId===o._realDeviceId})||void 0!==n&&void 0===o._realDeviceId)&&(o._trackEnded=!0)},o.isAudioTrack()&&P.default.isDeviceChangeAvailable('output')&&(o._onAudioOutputDeviceChanged=o.setAudioOutput.bind((0,c.default)(o)),P.default.addListener(p.default.AUDIO_OUTPUT_DEVICE_CHANGED,o._onAudioOutputDeviceChanged)),P.default.addListener(p.default.DEVICE_LIST_WILL_CHANGE,o._onDeviceListWillChange),o._initNoDataFromSourceHandlers(),o}return(0,o.default)(w,[{key:"_addStreamToConferenceAsUnmute",value:function(){var t=this;return this.conference?new Promise(function(n,s){t.conference._addLocalTrackAsUnmute(t).then(n,function(t){return s(new Error(t))})}):Promise.resolve()}},{key:"_fireNoDataFromSourceEvent",value:function(){var t=!this.isReceivingData();this.emit(E.NO_DATA_FROM_SOURCE,t),A.default.sendAnalytics((0,D.createNoDataFromSourceEvent)(this.getType(),t)),A.default.sendLog(JSON.stringify({name:E.NO_DATA_FROM_SOURCE,log:t}))}},{key:"_initNoDataFromSourceHandlers",value:function(){var t=this;this._isNoDataFromSourceEventsEnabled()&&(this._setHandler('track_mute',function(){t._trackMutedTS=window.performance.now(),t._fireNoDataFromSourceEvent()}),this._setHandler('track_unmute',function(){t._fireNoDataFromSourceEvent(),A.default.sendAnalyticsAndLog(D.TRACK_UNMUTED,{media_type:t.getType(),track_type:'local',value:window.performance.now()-t._trackMutedTS})}),this.isVideoTrack()&&this.videoType===k.VideoType.CAMERA&&this._setHandler('track_ended',function(){t.isReceivingData()||t._fireNoDataFromSourceEvent()}))}},{key:"_isNoDataFromSourceEventsEnabled",value:function(){return!this.isVideoTrack()||this.videoType!==k.VideoType.DESKTOP}},{key:"_queueSetMuted",value:function(t){var n=this._setMuted.bind(this,t);return this._prevSetMuted=this._prevSetMuted.then(n,n),this._prevSetMuted}},{key:"_removeStreamFromConferenceAsMute",value:function(t,n){this.conference?this.conference._removeLocalTrackAsMute(this).then(t,function(t){return n(new Error(t))}):t()}},{key:"_sendMuteStatus",value:function(t){this.conference&&this.conference._setTrackMuteStatus(this.getType(),this,t)&&this.conference.room.sendPresence()}},{key:"_setMuted",value:function(t){var s=this;if(this.isMuted()===t&&(this.videoType!==k.VideoType.DESKTOP||!I.default.isMultiStreamSupportEnabled()))return Promise.resolve();if(this.disposed)return Promise.reject(new v.default(S.TRACK_IS_DISPOSED));var o=Promise.resolve(),c=function(){return O.info("Mute "+s+": "+t)};if(this.isAudioTrack()||this.videoType===k.VideoType.DESKTOP&&!I.default.isMultiStreamSupportEnabled()||!M.default.doesVideoMuteByStreamRemove())c(),this._streamEffect&&this._streamEffect.setMuted?this._streamEffect.setMuted(t):this.track&&(this.track.enabled=!t);else if(t)o=new Promise(function(t,n){c(),s._removeStreamFromConferenceAsMute(function(){s._streamEffect&&s._stopStreamEffect(),s._unregisterHandlers(),s.stopStream(),s._setStream(null),t()},n)});else{c();var u={cameraDeviceId:this.getDeviceId(),devices:[T.MediaType.VIDEO],effects:this._streamEffect?[this._streamEffect]:[],facingMode:this.getCameraFacingMode()};o=(o=P.default.obtainAudioAndVideoPermissions((0,n.default)({},u,{constraints:{video:this._constraints}}))).then(function(t){var n=s.getType()===T.MediaType.PRESENTER?T.MediaType.VIDEO:s.getType(),o=t.find(function(t){return t.track.kind===n});if(!o)throw new v.default(S.TRACK_NO_STREAM_FOUND);return s._setStream(o.stream),s.track=o.track,s.videoType!==o.videoType&&(O.warn(s+": video type has changed after unmute!",s.videoType,o.videoType),s.videoType=o.videoType),s._streamEffect&&s._startStreamEffect(s._streamEffect),s.containers.map(function(t){return P.default.attachMediaStream(t,s.stream)}),s._addStreamToConferenceAsUnmute()})}return o.then(function(){s._sendMuteStatus(t),s.isVideoTrack()&&s.conference&&s.conference._sendBridgeVideoTypeMessage(s),s.emit(E.TRACK_MUTE_CHANGED,s)})}},{key:"_setRealDeviceIdFromDeviceList",value:function(t){var n=this,s=this.getTrack(),o=s.kind+"input",c=t.find(function(t){return t.kind===o&&t.label===s.label&&t.deviceId===n.deviceId});if(!c&&'default'===this._realDeviceId){var u=(s.label||'').replace('Default - ','');c=t.find(function(t){return t.kind===o&&t.label===u})}this._realDeviceId=c?c.deviceId:void 0}},{key:"_setStream",value:function(t){(0,u.default)((0,l.default)(w.prototype),"_setStream",this).call(this,t),t?(this.storedMSID=this.getMSID(),O.debug("Setting new MSID: "+this.storedMSID+" on "+this)):O.debug("Setting 'null' stream on "+this)}},{key:"_startStreamEffect",value:function(t){this._streamEffect=t,this._originalStream=this.stream,this._setStream(this._streamEffect.startEffect(this._originalStream)),this.track=this.stream.getTracks()[0]}},{key:"_stopStreamEffect",value:function(){this._streamEffect&&(this._streamEffect.stopEffect(),this._setStream(this._originalStream),this._originalStream=null,this.track=this.stream?this.stream.getTracks()[0]:null)}},{key:"_switchCamera",value:function(){this.isVideoTrack()&&this.videoType===k.VideoType.CAMERA&&'function'==typeof this.track._switchCamera&&(this.track._switchCamera(),this._facingMode=this._facingMode===y.default.ENVIRONMENT?y.default.USER:y.default.ENVIRONMENT)}},{key:"_switchStreamEffect",value:function(t){this._streamEffect&&(this._stopStreamEffect(),this._streamEffect=void 0),t&&this._startStreamEffect(t)}},{key:"dispose",value:function(){var t=this,n=Promise.resolve();this._streamEffect&&(n=this.setEffect());var s=Promise.resolve();return this.conference&&(s=this.conference.removeTrack(this)),this.stream&&(this.stopStream(),this.detach()),P.default.removeListener(p.default.DEVICE_LIST_WILL_CHANGE,this._onDeviceListWillChange),this._onAudioOutputDeviceChanged&&P.default.removeListener(p.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),Promise.allSettled([n,s]).then(function(){return(0,u.default)((0,l.default)(w.prototype),"dispose",t).call(t)})}},{key:"getCameraFacingMode",value:function(){var t,n;if(this.isVideoTrack()&&this.videoType===k.VideoType.CAMERA){var s=null===(n=(t=this.track).getSettings)||void 0===n?void 0:n.call(t);return s&&'facingMode'in s?s.facingMode:void 0!==this._facingMode?this._facingMode:y.default.USER}}},{key:"getDeviceId",value:function(){return this._realDeviceId||this.deviceId}},{key:"getDuration",value:function(){return Date.now()/1e3-this.metadata.timestamp/1e3}},{key:"getParticipantId",value:function(){return this.conference&&this.conference.myUserId()}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"isEnded",value:function(){return this.isVideoTrack()&&this.isMuted()?this._trackEnded:'ended'===this.getTrack().readyState||this._trackEnded}},{key:"isLocal",value:function(){return!0}},{key:"isMuted",value:function(){return!this.stream||(!(!this.isVideoTrack()||this.isActive())||(this._streamEffect&&this._streamEffect.isMuted?this._streamEffect.isMuted():!this.track||!this.track.enabled))}},{key:"isReceivingData",value:function(){return!(!this.isVideoTrack()||!this.isMuted()&&!this._stopStreamInProgress&&this.videoType!==k.VideoType.DESKTOP)||!!this.stream&&(this._effectEnabled?this._originalStream:this.stream).getTracks().some(function(t){return!('readyState'in t&&'live'!==t.readyState||'muted'in t&&!0===t.muted)})}},{key:"mute",value:function(){return this._queueSetMuted(!0)}},{key:"onByteSentStatsReceived",value:function(t,n){var s=this;n>0&&(this._hasSentData=!0);var o=t.getConnectionState();this._testDataSent&&'connected'===o&&(setTimeout(function(){s._hasSentData||(O.warn(s+" 'bytes sent' <= 0:                         "+n),A.default.analytics.sendEvent(D.NO_BYTES_SENT,{media_type:s.getType()}))},3e3),this._testDataSent=!1)}},{key:"setConference",value:function(t){this.conference=t;for(var n=0;n<this.containers.length;n++)this._maybeFireTrackAttached(this.containers[n])}},{key:"setEffect",value:function(t){var n=this;if(void 0===this._streamEffect&&void 0===t)return Promise.resolve();if(void 0!==t&&!t.isEnabled(this))return Promise.reject(new Error('Incompatible effect instance!'));if(!0===this._setEffectInProgress)return Promise.reject(new Error('setEffect already in progress!'));if(this.isMuted()&&!this.isAudioTrack())return this._streamEffect=t,Promise.resolve();var s=this.conference;return s?(this._setEffectInProgress=!0,s.removeTrack(this).then(function(){return n._switchStreamEffect(t),n.isVideoTrack()&&n.containers.forEach(function(t){return P.default.attachMediaStream(t,n.stream)}),s.addTrack(n)}).then(function(){n._setEffectInProgress=!1}).catch(function(t){throw n._setEffectInProgress=!1,n._switchStreamEffect(),O.error('Failed to switch to the new stream!',t),t})):(this._switchStreamEffect(t),this.isVideoTrack()&&this.containers.forEach(function(t){return P.default.attachMediaStream(t,n.stream)}),Promise.resolve())}},{key:"setSourceName",value:function(t){this._sourceName=t}},{key:"stopStream",value:function(){this._stopStreamInProgress=!0;try{P.default.stopMediaStream(this.stream)}finally{this._stopStreamInProgress=!1}}},{key:"toString",value:function(){return"LocalTrack["+this.rtcId+","+this.getType()+"]"}},{key:"unmute",value:function(){return this._queueSetMuted(!1)}}]),w})(C.default);e.default=R},672,[2,32,12,13,23,17,20,22,19,435,564,565,599,673,589,593,594,566,568,590,563,674,675]);
__d(function(g,r,i,a,m,e,d){m.exports={ENVIRONMENT:'environment',USER:'user'}},673,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),l=r(d[6]),f=t(r(d[7])),h=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=p(n);if(u&&u.has(t))return u.get(t);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=s?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}o.default=t,u&&u.set(t,o);return o})(r(d[8])),v=r(d[9]),y=t(r(d[10])),k=t(r(d[11]));function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(p=function(t){return t?u:n})(t)}function T(t,n){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(u)return(u=u.call(t)).next.bind(u);if(Array.isArray(t)||(u=_(t))||n&&t&&"number"==typeof t.length){u&&(t=u);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,n){if(t){if("string"==typeof t)return b(t,n);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?Array.from(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?b(t,n):void 0}}function b(t,n){(null==n||n>t.length)&&(n=t.length);for(var u=0,o=new Array(n);u<n;u++)o[u]=t[u];return o}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var I=(0,l.getLogger)(__filename),O={track_mute:'onmute',track_unmute:'onunmute',track_ended:'onended'},S=(function(t){(0,o.default)(_,t);var l,f,p=(l=_,f=A(),function(){var t,n=(0,c.default)(l);if(f){var u=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function _(t,u,o,s,c,l){var f;return(0,n.default)(this,_),(f=p.call(this)).addEventListener=f.addListener,f.removeEventListener=f.off=f.removeListener,f.containers=[],f.conference=t,f.audioLevel=-1,f.type=c,f.track=o,f.videoType=l,f.handlers=new Map,f.disposed=!1,f._streamInactiveHandler=s,f._setStream(u),f}return(0,u.default)(_,[{key:"_addMediaStreamInactiveHandler",value:function(t){y.default.isFirefox()?this.track.onended=t:this.stream.oninactive=t}},{key:"_setHandler",value:function(t,n){if(O.hasOwnProperty(t)){if(n?this.handlers.set(t,n):this.handlers.delete(t),this.stream)for(var u,o=T(this.stream.getTracks());!(u=o()).done;){u.value[O[t]]=n}}else I.error("Invalid handler type "+t)}},{key:"_unregisterHandlers",value:function(){if(this.stream){for(var t,n=T(this.handlers.keys());!(t=n()).done;)for(var u,o=t.value,s=T(this.stream.getVideoTracks());!(u=s()).done;){u.value[O[o]]=void 0}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(void 0)}else I.warn(this+": unable to unregister handlers - no stream object")}},{key:"_setStream",value:function(t){if(this.stream!==t&&(this.stream=t,this.stream)){for(var n,u=T(this.handlers.keys());!(n=u()).done;){var o=n.value;this._setHandler(o,this.handlers.get(o))}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(this._streamInactiveHandler)}}},{key:"getVideoType",value:function(){return this.videoType}},{key:"getType",value:function(){return this.type}},{key:"isAudioTrack",value:function(){return this.getType()===v.MediaType.AUDIO}},{key:"isWebRTCTrackMuted",value:function(){return this.track&&this.track.muted}},{key:"isVideoTrack",value:function(){return this.getType()===v.MediaType.VIDEO}},{key:"isLocal",value:function(){throw new Error('Not implemented by subclass')}},{key:"isLocalAudioTrack",value:function(){return this.isAudioTrack()&&this.isLocal()}},{key:"getOriginalStream",value:function(){return this.stream}},{key:"getStreamId",value:function(){return this.stream?this.stream.id:null}},{key:"getTrack",value:function(){return this.track}},{key:"getTrackLabel",value:function(){return this.track.label}},{key:"getTrackId",value:function(){return this.track?this.track.id:null}},{key:"getUsageLabel",value:function(){return this.isAudioTrack()?'mic':this.videoType?this.videoType:'default'}},{key:"_maybeFireTrackAttached",value:function(t){this.conference&&t&&this.conference._onTrackAttach(this,t)}},{key:"attach",value:function(t){this.stream&&(this._onTrackAttach(t),k.default.attachMediaStream(t,this.stream)),this.containers.push(t),this._maybeFireTrackAttached(t),this._attachTTFMTracker(t)}},{key:"detach",value:function(t){if(t){for(var n=this.containers,u=n.length-1;u>=0;--u){var o=n[u];t||(this._onTrackDetach(o),k.default.attachMediaStream(o,null)),t&&o!==t||n.splice(u,1)}t&&(this._onTrackDetach(t),k.default.attachMediaStream(t,null))}}},{key:"_onTrackAttach",value:function(t){}},{key:"_onTrackDetach",value:function(t){}},{key:"_attachTTFMTracker",value:function(t){}},{key:"dispose",value:function(){return this.removeAllListeners(),this.disposed=!0,Promise.resolve()}},{key:"isScreenSharing",value:function(){}},{key:"getId",value:function(){return this.stream?k.default.getStreamID(this.stream):null}},{key:"isActive",value:function(){return void 0===this.stream.active||this.stream.active}},{key:"setAudioLevel",value:function(t,n){var u=t;y.default.supportsReceiverStats()&&void 0!==n&&this.isMuted()&&(u=0),this.audioLevel!==u?(this.audioLevel=u,this.emit(h.TRACK_AUDIO_LEVEL_CHANGED,u,n)):0===this.audioLevel&&0===u&&this.isLocal()&&!this.isWebRTCTrackMuted()&&this.emit(h.NO_AUDIO_INPUT,u)}},{key:"getMSID",value:function(){var t=this.getStreamId(),n=this.getTrackId();return t&&n?t+" "+n:null}},{key:"setAudioOutput",value:function(t){var n=this;return k.default.isDeviceChangeAvailable('output')?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map(function(n){return n.setSinkId(t).catch(function(t){throw I.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",n,t),t})})).then(function(){n.emit(h.TRACK_AUDIO_OUTPUT_CHANGED,t)}):Promise.reject(new Error('Audio output device change is not supported'))}}]),_})(f.default);e.default=S},674,[2,12,13,20,22,19,435,558,599,589,568,675]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),s=t(r(d[6])),f=r(d[7]),v=t(r(d[8])),h=t(r(d[9])),p=t(r(d[10])),y=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=C(n);if(o&&o.has(t))return o.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var s=c?Object.getOwnPropertyDescriptor(t,l):null;s&&(s.get||s.set)?Object.defineProperty(u,l,s):u[l]=t[l]}u.default=t,o&&o.set(t,u);return u})(r(d[11])),k=t(r(d[12])),b=t(r(d[13])),D=t(r(d[14])),I=r(d[15]),A=r(d[16]),_=t(r(d[17])),S=t(r(d[18])),T=t(r(d[19])),w=t(r(d[20])),E=t(r(d[21])),O=t(r(d[22]));function C(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(C=function(t){return t?o:n})(t)}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var M=this&&this.__rest||function(t,n){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&n.indexOf(u)<0&&(o[u]=t[u]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(u=Object.getOwnPropertySymbols(t);c<u.length;c++)n.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(t,u[c])&&(o[u[c]]=t[u[c]])}return o},j=(0,f.getLogger)(__filename);_.default.usesAdapter()&&r(d[23]);var N,R=new v.default,V={video:{height:{ideal:720,max:720,min:180},width:{ideal:1280,max:1280,min:320}}},L='default',U=!1,x=!1,G=!1,B=!1,F=!1,H=null,W=document.createElement('audio'),J=void 0!==W.setSinkId,K=[];function Q(){}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,h.default)(n.constraints||V);if(t.indexOf('video')>=0){if(D.default[n.resolution]){var u=D.default[n.resolution];o.video.height={ideal:u.height},o.video.width={ideal:u.width}}if(o.video||(o.video={}),_.default.isWebKitBased()&&(o.video.height&&o.video.height.ideal?o.video.height={ideal:o.video.height.ideal}:j.warn('Ideal camera height missing, camera may not start properly'),o.video.width&&o.video.width.ideal?o.video.width={ideal:o.video.width.ideal}:j.warn('Ideal camera width missing, camera may not start properly')),n.cameraDeviceId)o.video.deviceId=n.cameraDeviceId;else{var c=n.facingMode||k.default.USER;o.video.facingMode=c}}else o.video=!1;return t.indexOf('audio')>=0?(o.audio&&'boolean'!=typeof o.audio||(o.audio={}),o.audio={autoGainControl:!F&&!x,deviceId:n.micDeviceId,echoCancellation:!G&&!x,noiseSuppression:!B&&!x},H&&(0,s.default)(o.audio,{channelCount:2})):o.audio=!1,o}function z(t,n){var o=Boolean(n)&&n.getAudioTracks().length>0,u=Boolean(n)&&n.getVideoTracks().length>0,c={};-1!==t.indexOf('video')&&(c.video=u),-1!==t.indexOf('audio')&&(c.audio=o),R.emit(b.default.PERMISSIONS_CHANGED,c)}function X(t){return t.length!==K.length||t.map(n).sort().join('')!==K.map(n).sort().join('');function n(t){return JSON.stringify({kind:t.kind,deviceId:t.deviceId,groupId:t.groupId,label:t.label,facing:t.facing})}}function Y(t){var n=t.filter(function(t){return'audioinput'===t.kind}).length,o=t.filter(function(t){return'audiooutput'===t.kind}).length,u=t.filter(function(t){return'videoinput'===t.kind}).length,c=t.filter(function(t){return'videooutput'===t.kind}).length;t.forEach(function(t){var l={audio_input_device_count:n,audio_output_device_count:o,video_input_device_count:u,video_output_device_count:c,device_id:t.deviceId,device_group_id:t.groupId,device_kind:t.kind,device_label:t.label};T.default.sendAnalytics(A.AVAILABLE_DEVICE,l)})}function Z(t){X(t)&&$(t)}function $(t){K=t.slice(0),j.info('list of media devices has changed:',K),Y(K),R.emit(b.default.DEVICE_LIST_WILL_CHANGE,K),R.emit(b.default.DEVICE_LIST_CHANGED,K)}var ee=new((function(t){(0,u.default)(h,t);var s,f,v=(s=h,f=P(),function(){var t,n=(0,l.default)(s);if(f){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function h(){return(0,n.default)(this,h),v.call(this,R)}return(0,o.default)(h,[{key:"init",value:function(){var t,n,o=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};'boolean'==typeof u.disableAEC&&(G=u.disableAEC,j.info("Disable AEC: "+G)),'boolean'==typeof u.disableNS&&(B=u.disableNS,j.info("Disable NS: "+B)),'boolean'==typeof u.disableAP&&(x=u.disableAP,j.info("Disable AP: "+x)),'boolean'==typeof u.disableAGC&&(F=u.disableAGC,j.info("Disable AGC: "+F)),'boolean'==typeof(null===(t=u.audioQuality)||void 0===t?void 0:t.stereo)&&(H=u.audioQuality.stereo,j.info("Stereo: "+H)),window.clearInterval(N),N=void 0,_.default.isReactNative()?(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=void 0,this.getStreamID=function(t){var n=t.id;return'number'==typeof n?n:S.default.filterSpecialChars(n)},this.getTrackID=function(t){return t.id}):(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=(n=function(t,n){t&&(t.srcObject=n)},function(t,o){var u=n.apply(ee,arguments);return o&&ee.isDeviceChangeAvailable('output')&&o.getAudioTracks&&o.getAudioTracks().length&&U&&t.setSinkId(ee.getAudioOutputDevice()).catch(function(n){var o=new p.default(n,null,['audiooutput']);w.default.callUnhandledRejectionHandler({promise:this,reason:o}),j.warn("Failed to set audio output device for the element. Default audio output device will be used instead",t,o)}),u}),this.getStreamID=function(t){return t.id},this.getTrackID=function(t){return t.id}),this.pcConstraints={},O.default.init(u),this.isDeviceListAvailable()&&this.enumerateDevices(function(t){K=t.slice(0),j.debug('Available devices: ',K),Y(K),R.emit(b.default.DEVICE_LIST_AVAILABLE,K),_.default.supportsDeviceChangeEvent()?navigator.mediaDevices.addEventListener('devicechange',function(){return o.enumerateDevices(Q)}):N=window.setInterval(function(){return o.enumerateDevices(Q)},3e3)})}},{key:"enumerateDevices",value:function(t){navigator.mediaDevices.enumerateDevices().then(function(n){Z(n),t(n)}).catch(function(n){j.warn("Failed to  enumerate devices. "+n),Z([]),t([])})}},{key:"_getUserMedia",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(u,c){var l,s=!1;'number'==typeof o&&!isNaN(o)&&o>0&&(l=setTimeout(function(){s=!0,l=void 0,c(new p.default(y.TIMEOUT))},o)),navigator.mediaDevices.getUserMedia(n).then(function(n){j.log('onUserMediaSuccess'),z(t,n),s||(void 0!==l&&clearTimeout(l),u(n))}).catch(function(o){j.warn("Failed to get access to local media. "+o+" "+JSON.stringify(n));var u=new p.default(o,n,t);s||(void 0!==l&&clearTimeout(l),c(u)),u.name===y.PERMISSION_DENIED&&z(t,void 0)})})}},{key:"_getDesktopMedia",value:function(){return O.default.isSupported()?new Promise(function(t,n){O.default.obtainStream(function(n){t(n)},function(t){n(t)})}):Promise.reject(new Error('Desktop sharing is not supported!'))}},{key:"_getMissingTracks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,o=[],u=t.includes('audio'),c=n&&n.getAudioTracks().length>0;u&&!c&&o.push('audio');var l=t.includes('video'),s=n&&n.getVideoTracks().length>0;return l&&!s&&o.push('video'),o}},{key:"obtainAudioAndVideoPermissions",value:function(t){var n=this,o=t.timeout,u=M(t,["timeout"]),c=[],l=function(){if(!(-1!==(u.devices||[]).indexOf('desktop')))return Promise.resolve();var t=u.desktopSharingSourceDevice;if(t){var n=K&&K.find(function(n){return'videoinput'===n.kind&&(n.deviceId===t||n.label===t)});if(!n)return Promise.reject(new p.default({name:'ConstraintNotSatisfiedError'},{},[t]));var c={video:{deviceId:n.deviceId}};return this._getUserMedia(['video'],c,o).then(function(t){return{sourceType:'device',stream:t}})}return this._getDesktopMedia()}.bind(this),s=function(){var t=(u.devices||['audio','video']).filter(function(t){return'audio'===t||'video'===t});if(!t.length)return Promise.resolve();var n=q(t,u);return j.info('Got media constraints: ',JSON.stringify(n)),this._getUserMedia(t,n,o)}.bind(this);return l().then(function(t){if(t){var n=t.stream,o=t.sourceId,u=t.sourceType,l=n.getAudioTracks();if(l.length){var s=new MediaStream(l);c.push({stream:s,sourceId:o,sourceType:u,track:s.getAudioTracks()[0]})}var f=n.getVideoTracks();if(f.length){var v=new MediaStream(f);c.push({stream:v,sourceId:o,sourceType:u,track:v.getVideoTracks()[0],videoType:I.VideoType.DESKTOP})}}}).then(s).then(function(t){if(t){var n=t.getAudioTracks();if(n.length){var o=new MediaStream(n);c.push({stream:o,track:o.getAudioTracks()[0],effects:u.effects})}var l=t.getVideoTracks();if(l.length){var s=new MediaStream(l);c.push({stream:s,track:s.getVideoTracks()[0],videoType:I.VideoType.CAMERA,effects:u.effects})}}}).then(function(){return c}).catch(function(t){return c.forEach(function(t){var o=t.stream;n.stopMediaStream(o)}),Promise.reject(t)})}},{key:"isDeviceListAvailable",value:function(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}},{key:"isDeviceChangeAvailable",value:function(t){return'output'!==t&&'audiooutput'!==t||J}},{key:"stopMediaStream",value:function(t){t&&(t.getTracks().forEach(function(t){t.stop&&t.stop()}),t.stop&&t.stop(),t.release&&t.release())}},{key:"isDesktopSharingEnabled",value:function(){return O.default.isSupported()}},{key:"setAudioOutputDevice",value:function(t){return this.isDeviceChangeAvailable('output')?W.setSinkId(t).then(function(){L=t,U=!0,j.log("Audio output device set to "+t),R.emit(b.default.AUDIO_OUTPUT_DEVICE_CHANGED,t)}):Promise.reject(new Error('Audio output device change is not supported'))}},{key:"setDesktopSharingFrameRate",value:function(t){O.default.setDesktopSharingFrameRate(t)}},{key:"getAudioOutputDevice",value:function(){return L}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return K}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return K.some(function(t){return Boolean(t.label)})}},{key:"getEventDataForActiveDevice",value:function(t){var n=[],o={deviceId:t.deviceId,kind:t.kind,label:t.label,groupId:t.groupId};return n.push(o),{deviceList:n}}}]),h})(E.default));var te=ee;e.default=te},675,[2,12,13,20,22,19,32,435,558,652,564,565,673,593,676,594,566,568,657,563,584,609,650,677]);
__d(function(g,r,i,a,m,e,d){m.exports={2160:{width:3840,height:2160},'4k':{width:3840,height:2160},1080:{width:1920,height:1080},fullhd:{width:1920,height:1080},720:{width:1280,height:720},hd:{width:1280,height:720},540:{width:960,height:540},qhd:{width:960,height:540},480:{width:640,height:480},vga:{width:640,height:480},360:{width:640,height:360},240:{width:320,height:240},180:{width:320,height:180}}},676,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var o=(0,r(d[0]).adapterFactory)({window:'undefined'==typeof window?void 0:window});e.default=o},677,[678]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.adapterFactory=function(){var l=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},C=s.log,S=s.detectBrowser(l),u={browserDetails:S,commonShim:o,extractVersion:s.extractVersion,disableLog:s.disableLog,disableWarnings:s.disableWarnings,sdp:c};switch(S.browser){case'chrome':if(!t||!t.shimPeerConnection||!f.shimChrome)return C('Chrome shim is not included in this adapter release.'),u;if(null===S.version)return C('Chrome shim can not determine version, not shimming.'),u;C('adapter.js shimming chrome.'),u.browserShim=t,o.shimAddIceCandidateNullOrEmpty(l,S),t.shimGetUserMedia(l,S),t.shimMediaStream(l,S),t.shimPeerConnection(l,S),t.shimOnTrack(l,S),t.shimAddTrackRemoveTrack(l,S),t.shimGetSendersWithDtmf(l,S),t.shimGetStats(l,S),t.shimSenderReceiverGetStats(l,S),t.fixNegotiationNeeded(l,S),o.shimRTCIceCandidate(l,S),o.shimConnectionState(l,S),o.shimMaxMessageSize(l,S),o.shimSendThrowTypeError(l,S),o.removeExtmapAllowMixed(l,S);break;case'firefox':if(!n||!n.shimPeerConnection||!f.shimFirefox)return C('Firefox shim is not included in this adapter release.'),u;C('adapter.js shimming firefox.'),u.browserShim=n,o.shimAddIceCandidateNullOrEmpty(l,S),n.shimGetUserMedia(l,S),n.shimPeerConnection(l,S),n.shimOnTrack(l,S),n.shimRemoveStream(l,S),n.shimSenderGetStats(l,S),n.shimReceiverGetStats(l,S),n.shimRTCDataChannel(l,S),n.shimAddTransceiver(l,S),n.shimGetParameters(l,S),n.shimCreateOffer(l,S),n.shimCreateAnswer(l,S),o.shimRTCIceCandidate(l,S),o.shimConnectionState(l,S),o.shimMaxMessageSize(l,S),o.shimSendThrowTypeError(l,S);break;case'safari':if(!h||!f.shimSafari)return C('Safari shim is not included in this adapter release.'),u;C('adapter.js shimming safari.'),u.browserShim=h,o.shimAddIceCandidateNullOrEmpty(l,S),h.shimRTCIceServerUrls(l,S),h.shimCreateOfferLegacy(l,S),h.shimCallbacksAPI(l,S),h.shimLocalStreamsAPI(l,S),h.shimRemoteStreamsAPI(l,S),h.shimTrackEventTransceiver(l,S),h.shimGetUserMedia(l,S),h.shimAudioContext(l,S),o.shimRTCIceCandidate(l,S),o.shimMaxMessageSize(l,S),o.shimSendThrowTypeError(l,S),o.removeExtmapAllowMixed(l,S);break;default:C('Unsupported browser!')}return u};var s=l(r(d[0])),t=l(r(d[1])),n=l(r(d[2])),h=l(r(d[3])),o=l(r(d[4])),c=l(r(d[5]));function l(s){if(s&&s.__esModule)return s;var t={};if(null!=s)for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);return t.default=s,t}},678,[679,680,683,686,687,688]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}e.extractVersion=c,e.wrapPeerConnectionEvent=function(t,n,o){if(!t.RTCPeerConnection)return;var s=t.RTCPeerConnection.prototype,u=s.addEventListener;s.addEventListener=function(t,s){if(t!==n)return u.apply(this,arguments);var c=function(t){var n=o(t);n&&(s.handleEvent?s.handleEvent(n):s(n))};return this._eventMap=this._eventMap||{},this._eventMap[n]||(this._eventMap[n]=new Map),this._eventMap[n].set(s,c),u.apply(this,[t,c])};var c=s.removeEventListener;s.removeEventListener=function(t,o){if(t!==n||!this._eventMap||!this._eventMap[n])return c.apply(this,arguments);if(!this._eventMap[n].has(o))return c.apply(this,arguments);var s=this._eventMap[n].get(o);return this._eventMap[n].delete(o),0===this._eventMap[n].size&&delete this._eventMap[n],0===Object.keys(this._eventMap).length&&delete this._eventMap,c.apply(this,[t,s])},Object.defineProperty(s,'on'+n,{get:function(){return this['_on'+n]},set:function(t){this['_on'+n]&&(this.removeEventListener(n,this['_on'+n]),delete this['_on'+n]),t&&this.addEventListener(n,this['_on'+n]=t)},enumerable:!0,configurable:!0})},e.disableLog=function(t){if('boolean'!=typeof t)return new Error('Argument type: '+(void 0===t?'undefined':n(t))+'. Please use a boolean.');return s=t,t?'adapter.js logging disabled':'adapter.js logging enabled'},e.disableWarnings=function(t){if('boolean'!=typeof t)return new Error('Argument type: '+(void 0===t?'undefined':n(t))+'. Please use a boolean.');return u=!t,'adapter.js deprecation warnings '+(t?'disabled':'enabled')},e.log=function(){if('object'===('undefined'==typeof window?'undefined':n(window))){if(s)return;'undefined'!=typeof console&&'function'==typeof console.log&&console.log.apply(console,arguments)}},e.deprecated=function(t,n){if(!u)return;console.warn(t+' is deprecated, please use '+n+' instead.')},e.detectBrowser=function(t){var n={browser:null,version:null};if(void 0===t||!t.navigator)return n.browser='Not a browser.',n;var o=t.navigator;if(o.mozGetUserMedia)n.browser='firefox',n.version=c(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)n.browser='chrome',n.version=c(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!t.RTCPeerConnection||!o.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser='Not a supported browser.',n;n.browser='safari',n.version=c(o.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=t.RTCRtpTransceiver&&'currentDirection'in t.RTCRtpTransceiver.prototype}return n},e.compactObject=function n(s){if(!f(s))return s;return Object.keys(s).reduce(function(u,c){var p=f(s[c]),l=p?n(s[c]):s[c],v=p&&!Object.keys(l).length;return void 0===l||v?u:t(u,o({},c,l))},{})},e.walkStats=p,e.filterStats=function(t,n,o){var s=o?'outbound-rtp':'inbound-rtp',u=new Map;if(null===n)return u;var c=[];return t.forEach(function(t){'track'===t.type&&t.trackIdentifier===n.id&&c.push(t)}),c.forEach(function(n){t.forEach(function(o){o.type===s&&o.trackId===n.id&&p(t,o,u)})}),u};var s=!0,u=!0;function c(t,n,o){var s=t.match(n);return s&&s.length>=o&&parseInt(s[o],10)}function f(t){return'[object Object]'===Object.prototype.toString.call(t)}function p(t,n,o){n&&!o.has(n.id)&&(o.set(n.id,n),Object.keys(n).forEach(function(s){s.endsWith('Id')?p(t,t.get(n[s]),o):s.endsWith('Ids')&&n[s].forEach(function(n){p(t,t.get(n),o)})}))}},679,[32]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=e.shimGetUserMedia=void 0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(d[0]);Object.defineProperty(e,'shimGetUserMedia',{enumerable:!0,get:function(){return n.shimGetUserMedia}});var o=r(d[1]);Object.defineProperty(e,'shimGetDisplayMedia',{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),e.shimMediaStream=function(t){t.MediaStream=t.MediaStream||t.webkitMediaStream},e.shimOnTrack=function(n){if('object'!==(void 0===n?'undefined':t(n))||!n.RTCPeerConnection||'ontrack'in n.RTCPeerConnection.prototype)s.wrapPeerConnectionEvent(n,'track',function(t){return t.transceiver||Object.defineProperty(t,'transceiver',{value:{receiver:t.receiver}}),t});else{Object.defineProperty(n.RTCPeerConnection.prototype,'ontrack',{get:function(){return this._ontrack},set:function(t){this._ontrack&&this.removeEventListener('track',this._ontrack),this.addEventListener('track',this._ontrack=t)},enumerable:!0,configurable:!0});var o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._ontrackpoly||(this._ontrackpoly=function(o){o.stream.addEventListener('addtrack',function(s){var c=void 0;c=n.RTCPeerConnection.prototype.getReceivers?t.getReceivers().find(function(t){return t.track&&t.track.id===s.track.id}):{track:s.track};var p=new Event('track');p.track=s.track,p.receiver=c,p.transceiver={receiver:c},p.streams=[o.stream],t.dispatchEvent(p)}),o.stream.getTracks().forEach(function(s){var c=void 0;c=n.RTCPeerConnection.prototype.getReceivers?t.getReceivers().find(function(t){return t.track&&t.track.id===s.id}):{track:s};var p=new Event('track');p.track=s,p.receiver=c,p.transceiver={receiver:c},p.streams=[o.stream],t.dispatchEvent(p)})},this.addEventListener('addstream',this._ontrackpoly)),o.apply(this,arguments)}}},e.shimGetSendersWithDtmf=function(n){if('object'===(void 0===n?'undefined':t(n))&&n.RTCPeerConnection&&!('getSenders'in n.RTCPeerConnection.prototype)&&'createDTMFSender'in n.RTCPeerConnection.prototype){var o=function(t,n){return{track:n,get dtmf(){return void 0===this._dtmf&&('audio'===n.kind?this._dtmf=t.createDTMFSender(n):this._dtmf=null),this._dtmf},_pc:t}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var s=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(t,n){var c=s.apply(this,arguments);return c||(c=o(this,t),this._senders.push(c)),c};var c=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(t){c.apply(this,arguments);var n=this._senders.indexOf(t);-1!==n&&this._senders.splice(n,1)}}var p=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._senders=this._senders||[],p.apply(this,[t]),t.getTracks().forEach(function(t){n._senders.push(o(n,t))})};var h=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(t){var n=this;this._senders=this._senders||[],h.apply(this,[t]),t.getTracks().forEach(function(t){var o=n._senders.find(function(n){return n.track===t});o&&n._senders.splice(n._senders.indexOf(o),1)})}}else if('object'===(void 0===n?'undefined':t(n))&&n.RTCPeerConnection&&'getSenders'in n.RTCPeerConnection.prototype&&'createDTMFSender'in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!('dtmf'in n.RTCRtpSender.prototype)){var f=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=f.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n},Object.defineProperty(n.RTCRtpSender.prototype,'dtmf',{get:function(){return void 0===this._dtmf&&('audio'===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},e.shimGetStats=function(t){if(!t.RTCPeerConnection)return;var n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var t=this,o=Array.prototype.slice.call(arguments),s=o[0],c=o[1],p=o[2];if(arguments.length>0&&'function'==typeof s)return n.apply(this,arguments);if(0===n.length&&(0===arguments.length||'function'!=typeof s))return n.apply(this,[]);var h=function(t){var n={},o=t.result();return o.forEach(function(t){var o={id:t.id,timestamp:t.timestamp,type:{localcandidate:'local-candidate',remotecandidate:'remote-candidate'}[t.type]||t.type};t.names().forEach(function(n){o[n]=t.stat(n)}),n[o.id]=o}),n},f=function(t){return new Map(Object.keys(t).map(function(n){return[n,t[n]]}))};if(arguments.length>=2){return n.apply(this,[function(t){c(f(h(t)))},s])}return new Promise(function(o,s){n.apply(t,[function(t){o(f(h(t)))},s])}).then(c,p)}},e.shimSenderReceiverGetStats=function(n){if(!('object'===(void 0===n?'undefined':t(n))&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!('getStats'in n.RTCRtpSender.prototype)){var o=n.RTCPeerConnection.prototype.getSenders;o&&(n.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=o.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n});var c=n.RTCPeerConnection.prototype.addTrack;c&&(n.RTCPeerConnection.prototype.addTrack=function(){var t=c.apply(this,arguments);return t._pc=this,t}),n.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(n){return s.filterStats(n,t.track,!0)})}}if(!('getStats'in n.RTCRtpReceiver.prototype)){var p=n.RTCPeerConnection.prototype.getReceivers;p&&(n.RTCPeerConnection.prototype.getReceivers=function(){var t=this,n=p.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n}),s.wrapPeerConnectionEvent(n,'track',function(t){return t.receiver._pc=t.srcElement,t}),n.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(n){return s.filterStats(n,t.track,!1)})}}if(!('getStats'in n.RTCRtpSender.prototype&&'getStats'in n.RTCRtpReceiver.prototype))return;var h=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){var t=arguments[0],o=void 0,s=void 0,c=void 0;return this.getSenders().forEach(function(n){n.track===t&&(o?c=!0:o=n)}),this.getReceivers().forEach(function(n){return n.track===t&&(s?c=!0:s=n),n.track===t}),c||o&&s?Promise.reject(new DOMException('There are more than one sender or receiver for the track.','InvalidAccessError')):o?o.getStats():s?s.getStats():Promise.reject(new DOMException('There is no sender or receiver for the track.','InvalidAccessError'))}return h.apply(this,arguments)}},e.shimAddTrackRemoveTrackWithNative=p,e.shimAddTrackRemoveTrack=function(t,n){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&n.version>=65)return p(t);var o=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,n=o.apply(this);return this._reverseStreams=this._reverseStreams||{},n.map(function(n){return t._reverseStreams[n.id]})};var s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(n){var o=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},n.getTracks().forEach(function(t){var n=o.getSenders().find(function(n){return n.track===t});if(n)throw new DOMException('Track already exists.','InvalidAccessError')}),!this._reverseStreams[n.id]){var c=new t.MediaStream(n.getTracks());this._streams[n.id]=c,this._reverseStreams[c.id]=n,n=c}s.apply(this,[n])};var h=t.RTCPeerConnection.prototype.removeStream;function f(t,n){var o=n.sdp;return Object.keys(t._reverseStreams||[]).forEach(function(n){var s=t._reverseStreams[n],c=t._streams[s.id];o=o.replace(new RegExp(c.id,'g'),s.id)}),new RTCSessionDescription({type:n.type,sdp:o})}function u(t,n){var o=n.sdp;return Object.keys(t._reverseStreams||[]).forEach(function(n){var s=t._reverseStreams[n],c=t._streams[s.id];o=o.replace(new RegExp(s.id,'g'),c.id)}),new RTCSessionDescription({type:n.type,sdp:o})}t.RTCPeerConnection.prototype.removeStream=function(t){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},h.apply(this,[this._streams[t.id]||t]),delete this._reverseStreams[this._streams[t.id]?this._streams[t.id].id:t.id],delete this._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(n,o){var s=this;if('closed'===this.signalingState)throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.','InvalidStateError');var c=[].slice.call(arguments,1);if(1!==c.length||!c[0].getTracks().find(function(t){return t===n}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.",'NotSupportedError');var p=this.getSenders().find(function(t){return t.track===n});if(p)throw new DOMException('Track already exists.','InvalidAccessError');this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var h=this._streams[o.id];if(h)h.addTrack(n),Promise.resolve().then(function(){s.dispatchEvent(new Event('negotiationneeded'))});else{var f=new t.MediaStream([n]);this._streams[o.id]=f,this._reverseStreams[f.id]=o,this.addStream(f)}return this.getSenders().find(function(t){return t.track===n})},['createOffer','createAnswer'].forEach(function(n){var o=t.RTCPeerConnection.prototype[n],s=c({},n,function(){var t=this,n=arguments,s=arguments.length&&'function'==typeof arguments[0];return s?o.apply(this,[function(o){var s=f(t,o);n[0].apply(null,[s])},function(t){n[1]&&n[1].apply(null,t)},arguments[2]]):o.apply(this,arguments).then(function(n){return f(t,n)})});t.RTCPeerConnection.prototype[n]=s[n]});var v=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=u(this,arguments[0]),v.apply(this,arguments)):v.apply(this,arguments)};var C=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,'localDescription');Object.defineProperty(t.RTCPeerConnection.prototype,'localDescription',{get:function(){var t=C.get.apply(this);return''===t.type?t:f(this,t)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){var n=this;if('closed'===this.signalingState)throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.','InvalidStateError');if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.",'TypeError');var o=t._pc===this;if(!o)throw new DOMException('Sender was not created by this connection.','InvalidAccessError');this._streams=this._streams||{};var s=void 0;Object.keys(this._streams).forEach(function(o){var c=n._streams[o].getTracks().find(function(n){return t.track===n});c&&(s=n._streams[o])}),s&&(1===s.getTracks().length?this.removeStream(this._reverseStreams[s.id]):s.removeTrack(t.track),this.dispatchEvent(new Event('negotiationneeded')))}},e.shimPeerConnection=function(t,n){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection);if(!t.RTCPeerConnection)return;n.version<53&&['setLocalDescription','setRemoteDescription','addIceCandidate'].forEach(function(n){var o=t.RTCPeerConnection.prototype[n],s=c({},n,function(){return arguments[0]=new('addIceCandidate'===n?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)});t.RTCPeerConnection.prototype[n]=s[n]})},e.fixNegotiationNeeded=function(t,n){s.wrapPeerConnectionEvent(t,'negotiationneeded',function(t){var o=t.target;if(!(n.version<72||o.getConfiguration&&'plan-b'===o.getConfiguration().sdpSemantics)||'stable'===o.signalingState)return t})};var s=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n.default=t,n})(r(d[2]));function c(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function p(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(n){return t._shimmedLocalStreams[n][0]})};var n=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,o){if(!o)return n.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var s=n.apply(this,arguments);return this._shimmedLocalStreams[o.id]?-1===this._shimmedLocalStreams[o.id].indexOf(s)&&this._shimmedLocalStreams[o.id].push(s):this._shimmedLocalStreams[o.id]=[o,s],s};var o=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach(function(t){if(n.getSenders().find(function(n){return n.track===t}))throw new DOMException('Track already exists.','InvalidAccessError')});var s=this.getSenders();o.apply(this,arguments);var c=this.getSenders().filter(function(t){return-1===s.indexOf(t)});this._shimmedLocalStreams[t.id]=[t].concat(c)};var s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],s.apply(this,arguments)};var c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){var n=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach(function(o){var s=n._shimmedLocalStreams[o].indexOf(t);-1!==s&&n._shimmedLocalStreams[o].splice(s,1),1===n._shimmedLocalStreams[o].length&&delete n._shimmedLocalStreams[o]}),c.apply(this,arguments)}}},680,[681,682,679]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};e.shimGetUserMedia=function(n,c){var u=n&&n.navigator;if(!u.mediaDevices)return;var s=function(t){if('object'!==(void 0===t?'undefined':o(t))||t.mandatory||t.optional)return t;var n={};return Object.keys(t).forEach(function(c){if('require'!==c&&'advanced'!==c&&'mediaSource'!==c){var u='object'===o(t[c])?t[c]:{ideal:t[c]};void 0!==u.exact&&'number'==typeof u.exact&&(u.min=u.max=u.exact);var s=function(o,t){return o?o+t.charAt(0).toUpperCase()+t.slice(1):'deviceId'===t?'sourceId':t};if(void 0!==u.ideal){n.optional=n.optional||[];var f={};'number'==typeof u.ideal?(f[s('min',c)]=u.ideal,n.optional.push(f),(f={})[s('max',c)]=u.ideal,n.optional.push(f)):(f[s('',c)]=u.ideal,n.optional.push(f))}void 0!==u.exact&&'number'!=typeof u.exact?(n.mandatory=n.mandatory||{},n.mandatory[s('',c)]=u.exact):['min','max'].forEach(function(o){void 0!==u[o]&&(n.mandatory=n.mandatory||{},n.mandatory[s(o,c)]=u[o])})}}),t.advanced&&(n.optional=(n.optional||[]).concat(t.advanced)),n},f=function(n,f){if(c.version>=61)return f(n);if((n=JSON.parse(JSON.stringify(n)))&&'object'===o(n.audio)){var l=function(o,t,n){t in o&&!(n in o)&&(o[n]=o[t],delete o[t])};n=JSON.parse(JSON.stringify(n)),l(n.audio,'autoGainControl','googAutoGainControl'),l(n.audio,'noiseSuppression','googNoiseSuppression'),n.audio=s(n.audio)}if(n&&'object'===o(n.video)){var v=n.video.facingMode;v=v&&('object'===(void 0===v?'undefined':o(v))?v:{ideal:v});var p=c.version<66;if(v&&('user'===v.exact||'environment'===v.exact||'user'===v.ideal||'environment'===v.ideal)&&(!u.mediaDevices.getSupportedConstraints||!u.mediaDevices.getSupportedConstraints().facingMode||p)){delete n.video.facingMode;var y=void 0;if('environment'===v.exact||'environment'===v.ideal?y=['back','rear']:'user'!==v.exact&&'user'!==v.ideal||(y=['front']),y)return u.mediaDevices.enumerateDevices().then(function(o){var c=(o=o.filter(function(o){return'videoinput'===o.kind})).find(function(o){return y.some(function(t){return o.label.toLowerCase().includes(t)})});return!c&&o.length&&y.includes('back')&&(c=o[o.length-1]),c&&(n.video.deviceId=v.exact?{exact:c.deviceId}:{ideal:c.deviceId}),n.video=s(n.video),t('chrome: '+JSON.stringify(n)),f(n)})}n.video=s(n.video)}return t('chrome: '+JSON.stringify(n)),f(n)},l=function(o){return c.version>=64?o:{name:{PermissionDeniedError:'NotAllowedError',PermissionDismissedError:'NotAllowedError',InvalidStateError:'NotAllowedError',DevicesNotFoundError:'NotFoundError',ConstraintNotSatisfiedError:'OverconstrainedError',TrackStartError:'NotReadableError',MediaDeviceFailedDueToShutdown:'NotAllowedError',MediaDeviceKillSwitchOn:'NotAllowedError',TabCaptureError:'AbortError',ScreenCaptureError:'AbortError',DeviceCaptureError:'AbortError'}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString:function(){return this.name+(this.message&&': ')+this.message}}};if(u.getUserMedia=function(o,t,n){f(o,function(o){u.webkitGetUserMedia(o,t,function(o){n&&n(l(o))})})}.bind(u),u.mediaDevices.getUserMedia){var v=u.mediaDevices.getUserMedia.bind(u.mediaDevices);u.mediaDevices.getUserMedia=function(o){return f(o,function(o){return v(o).then(function(t){if(o.audio&&!t.getAudioTracks().length||o.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(o){o.stop()}),new DOMException('','NotFoundError');return t},function(o){return Promise.reject(l(o))})})}}};var t=(function(o){if(o&&o.__esModule)return o;var t={};if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t.default=o,t})(r(d[0])).log},681,[679]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=function(t,o){if(t.navigator.mediaDevices&&'getDisplayMedia'in t.navigator.mediaDevices)return;if(!t.navigator.mediaDevices)return;if('function'!=typeof o)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");t.navigator.mediaDevices.getDisplayMedia=function(n){return o(n).then(function(o){var v=n.video&&n.video.width,c=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:'desktop',chromeMediaSourceId:o,maxFrameRate:s||3}},v&&(n.video.mandatory.maxWidth=v),c&&(n.video.mandatory.maxHeight=c),t.navigator.mediaDevices.getUserMedia(n)})}}},682,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=e.shimGetUserMedia=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(d[1]);Object.defineProperty(e,'shimGetUserMedia',{enumerable:!0,get:function(){return o.shimGetUserMedia}});var c=r(d[2]);Object.defineProperty(e,'shimGetDisplayMedia',{enumerable:!0,get:function(){return c.shimGetDisplayMedia}}),e.shimOnTrack=function(t){'object'===(void 0===t?'undefined':n(t))&&t.RTCTrackEvent&&'receiver'in t.RTCTrackEvent.prototype&&!('transceiver'in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,'transceiver',{get:function(){return{receiver:this.receiver}}})},e.shimPeerConnection=function(o,c){if('object'!==(void 0===o?'undefined':n(o))||!o.RTCPeerConnection&&!o.mozRTCPeerConnection)return;!o.RTCPeerConnection&&o.mozRTCPeerConnection&&(o.RTCPeerConnection=o.mozRTCPeerConnection);c.version<53&&['setLocalDescription','setRemoteDescription','addIceCandidate'].forEach(function(t){var n=o.RTCPeerConnection.prototype[t],c=p({},t,function(){return arguments[0]=new('addIceCandidate'===t?o.RTCIceCandidate:o.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});o.RTCPeerConnection.prototype[t]=c[t]});var s={inboundrtp:'inbound-rtp',outboundrtp:'outbound-rtp',candidatepair:'candidate-pair',localcandidate:'local-candidate',remotecandidate:'remote-candidate'},u=o.RTCPeerConnection.prototype.getStats;o.RTCPeerConnection.prototype.getStats=function(){var n=Array.prototype.slice.call(arguments),o=n[0],p=n[1],f=n[2];return u.apply(this,[o||null]).then(function(n){if(c.version<53&&!p)try{n.forEach(function(t){t.type=s[t.type]||t.type})}catch(o){if('TypeError'!==o.name)throw o;n.forEach(function(o,c){n.set(c,t({},o,{type:s[o.type]||o.type}))})}return n}).then(p,f)}},e.shimSenderGetStats=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection||!t.RTCRtpSender)return;if(t.RTCRtpSender&&'getStats'in t.RTCRtpSender.prototype)return;var o=t.RTCPeerConnection.prototype.getSenders;o&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=o.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n});var c=t.RTCPeerConnection.prototype.addTrack;c&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=c.apply(this,arguments);return t._pc=this,t});t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}},e.shimReceiverGetStats=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection||!t.RTCRtpSender)return;if(t.RTCRtpSender&&'getStats'in t.RTCRtpReceiver.prototype)return;var o=t.RTCPeerConnection.prototype.getReceivers;o&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,n=o.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n});s.wrapPeerConnectionEvent(t,'track',function(t){return t.receiver._pc=t.srcElement,t}),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}},e.shimRemoveStream=function(t){if(!t.RTCPeerConnection||'removeStream'in t.RTCPeerConnection.prototype)return;t.RTCPeerConnection.prototype.removeStream=function(t){var n=this;s.deprecated('removeStream','removeTrack'),this.getSenders().forEach(function(o){o.track&&t.getTracks().includes(o.track)&&n.removeTrack(o)})}},e.shimRTCDataChannel=function(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)},e.shimAddTransceiver=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype.addTransceiver;o&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var t=arguments[1],n=t&&'sendEncodings'in t;n&&t.sendEncodings.forEach(function(t){if('rid'in t){if(!/^[a-z0-9]{0,16}$/i.test(t.rid))throw new TypeError('Invalid RID value provided.')}if('scaleResolutionDownBy'in t&&!(parseFloat(t.scaleResolutionDownBy)>=1))throw new RangeError('scale_resolution_down_by must be >= 1.0');if('maxFramerate'in t&&!(parseFloat(t.maxFramerate)>=0))throw new RangeError('max_framerate must be >= 0.0')});var c=o.apply(this,arguments);if(n){var s=c.sender,p=s.getParameters();'encodings'in p&&(1!==p.encodings.length||0!==Object.keys(p.encodings[0]).length)||(p.encodings=t.sendEncodings,s.sendEncodings=t.sendEncodings,this.setParametersPromises.push(s.setParameters(p).then(function(){delete s.sendEncodings}).catch(function(){delete s.sendEncodings})))}return c})},e.shimGetParameters=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCRtpSender)return;var o=t.RTCRtpSender.prototype.getParameters;o&&(t.RTCRtpSender.prototype.getParameters=function(){var t=o.apply(this,arguments);return'encodings'in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})},e.shimCreateOffer=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){var t=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return o.apply(t,n)}).finally(function(){t.setParametersPromises=[]}):o.apply(this,arguments)}},e.shimCreateAnswer=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){var t=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return o.apply(t,n)}).finally(function(){t.setParametersPromises=[]}):o.apply(this,arguments)}};var s=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n.default=t,n})(r(d[3]));function p(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}},683,[32,684,685,679]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.shimGetUserMedia=function(n,s){var p=n&&n.navigator,u=n&&n.MediaStreamTrack;if(p.getUserMedia=function(t,n,s){o.deprecated('navigator.getUserMedia','navigator.mediaDevices.getUserMedia'),p.mediaDevices.getUserMedia(t).then(n,s)},!(s.version>55&&'autoGainControl'in p.mediaDevices.getSupportedConstraints())){var c=function(t,o,n){o in t&&!(n in t)&&(t[n]=t[o],delete t[o])},f=p.mediaDevices.getUserMedia.bind(p.mediaDevices);if(p.mediaDevices.getUserMedia=function(o){return'object'===(void 0===o?'undefined':t(o))&&'object'===t(o.audio)&&(o=JSON.parse(JSON.stringify(o)),c(o.audio,'autoGainControl','mozAutoGainControl'),c(o.audio,'noiseSuppression','mozNoiseSuppression')),f(o)},u&&u.prototype.getSettings){var y=u.prototype.getSettings;u.prototype.getSettings=function(){var t=y.apply(this,arguments);return c(t,'mozAutoGainControl','autoGainControl'),c(t,'mozNoiseSuppression','noiseSuppression'),t}}if(u&&u.prototype.applyConstraints){var l=u.prototype.applyConstraints;u.prototype.applyConstraints=function(o){return'audio'===this.kind&&'object'===(void 0===o?'undefined':t(o))&&(o=JSON.parse(JSON.stringify(o)),c(o,'autoGainControl','mozAutoGainControl'),c(o,'noiseSuppression','mozNoiseSuppression')),l.apply(this,[o])}}}};var o=(function(t){if(t&&t.__esModule)return t;var o={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o.default=t,o})(r(d[0]))},684,[679]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=function(t,n){if(t.navigator.mediaDevices&&'getDisplayMedia'in t.navigator.mediaDevices)return;if(!t.navigator.mediaDevices)return;t.navigator.mediaDevices.getDisplayMedia=function(o){if(!o||!o.video){var s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name='NotFoundError',s.code=8,Promise.reject(s)}return!0===o.video?o.video={mediaSource:n}:o.video.mediaSource=n,t.navigator.mediaDevices.getUserMedia(o)}}},685,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.shimLocalStreamsAPI=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;'getLocalStreams'in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams});if(!('addStream'in t.RTCPeerConnection.prototype)){var o=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(function(c){return o.call(n,c,t)}),t.getVideoTracks().forEach(function(c){return o.call(n,c,t)})},t.RTCPeerConnection.prototype.addTrack=function(t){for(var n=this,c=arguments.length,s=Array(c>1?c-1:0),f=1;f<c;f++)s[f-1]=arguments[f];return s&&s.forEach(function(t){n._localStreams?n._localStreams.includes(t)||n._localStreams.push(t):n._localStreams=[t]}),o.apply(this,arguments)}}'removeStream'in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var n=this;this._localStreams||(this._localStreams=[]);var o=this._localStreams.indexOf(t);if(-1!==o){this._localStreams.splice(o,1);var c=t.getTracks();this.getSenders().forEach(function(t){c.includes(t.track)&&n.removeTrack(t)})}})},e.shimRemoteStreamsAPI=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;'getRemoteStreams'in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]});if(!('onaddstream'in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,'onaddstream',{get:function(){return this._onaddstream},set:function(t){var n=this;this._onaddstream&&(this.removeEventListener('addstream',this._onaddstream),this.removeEventListener('track',this._onaddstreampoly)),this.addEventListener('addstream',this._onaddstream=t),this.addEventListener('track',this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(n._remoteStreams||(n._remoteStreams=[]),!n._remoteStreams.includes(t)){n._remoteStreams.push(t);var o=new Event('addstream');o.stream=t,n.dispatchEvent(o)}})})}});var o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._onaddstreampoly||this.addEventListener('track',this._onaddstreampoly=function(n){n.streams.forEach(function(n){if(t._remoteStreams||(t._remoteStreams=[]),!(t._remoteStreams.indexOf(n)>=0)){t._remoteStreams.push(n);var o=new Event('addstream');o.stream=n,t.dispatchEvent(o)}})}),o.apply(t,arguments)}}},e.shimCallbacksAPI=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype,c=o.createOffer,s=o.createAnswer,f=o.setLocalDescription,v=o.setRemoteDescription,u=o.addIceCandidate;o.createOffer=function(t,n){var o=arguments.length>=2?arguments[2]:arguments[0],s=c.apply(this,[o]);return n?(s.then(t,n),Promise.resolve()):s},o.createAnswer=function(t,n){var o=arguments.length>=2?arguments[2]:arguments[0],c=s.apply(this,[o]);return n?(c.then(t,n),Promise.resolve()):c};var p=function(t,n,o){var c=f.apply(this,[t]);return o?(c.then(n,o),Promise.resolve()):c};o.setLocalDescription=p,p=function(t,n,o){var c=v.apply(this,[t]);return o?(c.then(n,o),Promise.resolve()):c},o.setRemoteDescription=p,p=function(t,n,o){var c=u.apply(this,[t]);return o?(c.then(n,o),Promise.resolve()):c},o.addIceCandidate=p},e.shimGetUserMedia=function(t){var n=t&&t.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){var o=n.mediaDevices,s=o.getUserMedia.bind(o);n.mediaDevices.getUserMedia=function(t){return s(c(t))}}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=function(t,o,c){n.mediaDevices.getUserMedia(t).then(o,c)}.bind(n))},e.shimConstraints=c,e.shimRTCIceServerUrls=function(t){if(!t.RTCPeerConnection)return;var n=t.RTCPeerConnection;t.RTCPeerConnection=function(t,c){if(t&&t.iceServers){for(var s=[],f=0;f<t.iceServers.length;f++){var v=t.iceServers[f];!v.hasOwnProperty('urls')&&v.hasOwnProperty('url')?(o.deprecated('RTCIceServer.url','RTCIceServer.urls'),(v=JSON.parse(JSON.stringify(v))).urls=v.url,delete v.url,s.push(v)):s.push(t.iceServers[f])}t.iceServers=s}return new n(t,c)},t.RTCPeerConnection.prototype=n.prototype,'generateCertificate'in n&&Object.defineProperty(t.RTCPeerConnection,'generateCertificate',{get:function(){return n.generateCertificate}})},e.shimTrackEventTransceiver=function(t){'object'===(void 0===t?'undefined':n(t))&&t.RTCTrackEvent&&'receiver'in t.RTCTrackEvent.prototype&&!('transceiver'in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,'transceiver',{get:function(){return{receiver:this.receiver}}})},e.shimCreateOfferLegacy=function(t){var n=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);var o=this.getTransceivers().find(function(t){return'audio'===t.receiver.track.kind});!1===t.offerToReceiveAudio&&o?'sendrecv'===o.direction?o.setDirection?o.setDirection('sendonly'):o.direction='sendonly':'recvonly'===o.direction&&(o.setDirection?o.setDirection('inactive'):o.direction='inactive'):!0!==t.offerToReceiveAudio||o||this.addTransceiver('audio'),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);var c=this.getTransceivers().find(function(t){return'video'===t.receiver.track.kind});!1===t.offerToReceiveVideo&&c?'sendrecv'===c.direction?c.setDirection?c.setDirection('sendonly'):c.direction='sendonly':'recvonly'===c.direction&&(c.setDirection?c.setDirection('inactive'):c.direction='inactive'):!0!==t.offerToReceiveVideo||c||this.addTransceiver('video')}return n.apply(this,arguments)}},e.shimAudioContext=function(t){if('object'!==(void 0===t?'undefined':n(t))||t.AudioContext)return;t.AudioContext=t.webkitAudioContext};var o=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n.default=t,n})(r(d[1]));function c(n){return n&&void 0!==n.video?t({},n,{video:o.compactObject(n.video)}):n}},686,[32,679]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};e.shimRTCIceCandidate=function(o){if(!o.RTCIceCandidate||o.RTCIceCandidate&&'foundation'in o.RTCIceCandidate.prototype)return;var c=o.RTCIceCandidate;o.RTCIceCandidate=function(o){if('object'===(void 0===o?'undefined':t(o))&&o.candidate&&0===o.candidate.indexOf('a=')&&((o=JSON.parse(JSON.stringify(o))).candidate=o.candidate.substr(2)),o.candidate&&o.candidate.length){var p=new c(o),u=s.default.parseCandidate(o.candidate),f=n(p,u);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new c(o)},o.RTCIceCandidate.prototype=c.prototype,p.wrapPeerConnectionEvent(o,'icecandidate',function(n){return n.candidate&&Object.defineProperty(n,'candidate',{value:new o.RTCIceCandidate(n.candidate),writable:'false'}),n})},e.shimMaxMessageSize=function(n,t){if(!n.RTCPeerConnection)return;'sctp'in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,'sctp',{get:function(){return void 0===this._sctp?null:this._sctp}});var o=function(n){if(!n||!n.sdp)return!1;var t=s.default.splitSections(n.sdp);return t.shift(),t.some(function(n){var t=s.default.parseMLine(n);return t&&'application'===t.kind&&-1!==t.protocol.indexOf('SCTP')})},c=function(n){var t=n.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var o=parseInt(t[1],10);return o!=o?-1:o},p=function(n){var o=65536;return'firefox'===t.browser&&(o=t.version<57?-1===n?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),o},u=function(n,o){var c=65536;'firefox'===t.browser&&57===t.version&&(c=65535);var p=s.default.matchPrefix(n.sdp,'a=max-message-size:');return p.length>0?c=parseInt(p[0].substr(19),10):'firefox'===t.browser&&-1!==o&&(c=2147483637),c},f=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,'chrome'===t.browser&&t.version>=76){var n=this.getConfiguration(),s=n.sdpSemantics;'plan-b'===s&&Object.defineProperty(this,'sctp',{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){var l=c(arguments[0]),C=p(l),h=u(arguments[0],l),y=void 0;y=0===C&&0===h?Number.POSITIVE_INFINITY:0===C||0===h?Math.max(C,h):Math.min(C,h);var v={};Object.defineProperty(v,'maxMessageSize',{get:function(){return y}}),this._sctp=v}return f.apply(this,arguments)}},e.shimSendThrowTypeError=function(n){if(!(n.RTCPeerConnection&&'createDataChannel'in n.RTCPeerConnection.prototype))return;function t(n,t){var o=n.send;n.send=function(){var c=arguments[0],s=c.length||c.size||c.byteLength;if('open'===n.readyState&&t.sctp&&s>t.sctp.maxMessageSize)throw new TypeError('Message too large (can send a maximum of '+t.sctp.maxMessageSize+' bytes)');return o.apply(n,arguments)}}var o=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){var n=o.apply(this,arguments);return t(n,this),n},p.wrapPeerConnectionEvent(n,'datachannel',function(n){return t(n.channel,n.target),n})},e.shimConnectionState=function(n){if(!n.RTCPeerConnection||'connectionState'in n.RTCPeerConnection.prototype)return;var t=n.RTCPeerConnection.prototype;Object.defineProperty(t,'connectionState',{get:function(){return{completed:'connected',checking:'connecting'}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,'onconnectionstatechange',{get:function(){return this._onconnectionstatechange||null},set:function(n){this._onconnectionstatechange&&(this.removeEventListener('connectionstatechange',this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener('connectionstatechange',this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),['setLocalDescription','setRemoteDescription'].forEach(function(n){var o=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(n){var t=n.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var o=new Event('connectionstatechange',n);t.dispatchEvent(o)}return n},this.addEventListener('iceconnectionstatechange',this._connectionstatechangepoly)),o.apply(this,arguments)}})},e.removeExtmapAllowMixed=function(n,t){if(!n.RTCPeerConnection)return;if('chrome'===t.browser&&t.version>=71)return;if('safari'===t.browser&&t.version>=605)return;var o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf('\na=extmap-allow-mixed')){var c=t.sdp.split('\n').filter(function(n){return'a=extmap-allow-mixed'!==n.trim()}).join('\n');n.RTCSessionDescription&&t instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:t.type,sdp:c}):t.sdp=c}return o.apply(this,arguments)}},e.shimAddIceCandidateNullOrEmpty=function(n,t){if(!n.RTCPeerConnection||!n.RTCPeerConnection.prototype)return;var o=n.RTCPeerConnection.prototype.addIceCandidate;if(!o||0===o.length)return;n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?('chrome'===t.browser&&t.version<78||'firefox'===t.browser&&t.version<68||'safari'===t.browser)&&arguments[0]&&''===arguments[0].candidate?Promise.resolve():o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}};var o,c=r(d[1]),s=(o=c)&&o.__esModule?o:{default:o},p=(function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t.default=n,t})(r(d[2]))},687,[32,688,679]);
__d(function(g,r,i,a,m,e,d){'use strict';var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};n.localCName=n.generateIdentifier(),n.splitLines=function(t){return t.trim().split('\n').map(function(t){return t.trim()})},n.splitSections=function(t){return t.split('\nm=').map(function(t,n){return(n>0?'m='+t:t).trim()+'\r\n'})},n.getDescription=function(t){var s=n.splitSections(t);return s&&s[0]},n.getMediaSections=function(t){var s=n.splitSections(t);return s.shift(),s},n.matchPrefix=function(t,s){return n.splitLines(t).filter(function(t){return 0===t.indexOf(s)})},n.parseCandidate=function(t){for(var n=void 0,s={foundation:(n=0===t.indexOf('a=candidate:')?t.substring(12).split(' '):t.substring(10).split(' '))[0],component:{1:'rtp',2:'rtcp'}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]},p=8;p<n.length;p+=2)switch(n[p]){case'raddr':s.relatedAddress=n[p+1];break;case'rport':s.relatedPort=parseInt(n[p+1],10);break;case'tcptype':s.tcpType=n[p+1];break;case'ufrag':s.ufrag=n[p+1],s.usernameFragment=n[p+1];break;default:void 0===s[n[p]]&&(s[n[p]]=n[p+1])}return s},n.writeCandidate=function(t){var n=[];n.push(t.foundation);var s=t.component;'rtp'===s?n.push(1):'rtcp'===s?n.push(2):n.push(s),n.push(t.protocol.toUpperCase()),n.push(t.priority),n.push(t.address||t.ip),n.push(t.port);var p=t.type;return n.push('typ'),n.push(p),'host'!==p&&t.relatedAddress&&t.relatedPort&&(n.push('raddr'),n.push(t.relatedAddress),n.push('rport'),n.push(t.relatedPort)),t.tcpType&&'tcp'===t.protocol.toLowerCase()&&(n.push('tcptype'),n.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(n.push('ufrag'),n.push(t.usernameFragment||t.ufrag)),'candidate:'+n.join(' ')},n.parseIceOptions=function(t){return t.substring(14).split(' ')},n.parseRtpMap=function(t){var n=t.substring(9).split(' '),s={payloadType:parseInt(n.shift(),10)};return n=n[0].split('/'),s.name=n[0],s.clockRate=parseInt(n[1],10),s.channels=3===n.length?parseInt(n[2],10):1,s.numChannels=s.channels,s},n.writeRtpMap=function(t){var n=t.payloadType;void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType);var s=t.channels||t.numChannels||1;return'a=rtpmap:'+n+' '+t.name+'/'+t.clockRate+(1!==s?'/'+s:'')+'\r\n'},n.parseExtmap=function(t){var n=t.substring(9).split(' ');return{id:parseInt(n[0],10),direction:n[0].indexOf('/')>0?n[0].split('/')[1]:'sendrecv',uri:n[1],attributes:n.slice(2).join(' ')}},n.writeExtmap=function(t){return'a=extmap:'+(t.id||t.preferredId)+(t.direction&&'sendrecv'!==t.direction?'/'+t.direction:'')+' '+t.uri+(t.attributes?' '+t.attributes:'')+'\r\n'},n.parseFmtp=function(t){for(var n={},s=void 0,p=t.substring(t.indexOf(' ')+1).split(';'),o=0;o<p.length;o++)n[(s=p[o].trim().split('='))[0].trim()]=s[1];return n},n.writeFmtp=function(t){var n='',s=t.payloadType;if(void 0!==t.preferredPayloadType&&(s=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var p=[];Object.keys(t.parameters).forEach(function(n){void 0!==t.parameters[n]?p.push(n+'='+t.parameters[n]):p.push(n)}),n+='a=fmtp:'+s+' '+p.join(';')+'\r\n'}return n},n.parseRtcpFb=function(t){var n=t.substring(t.indexOf(' ')+1).split(' ');return{type:n.shift(),parameter:n.join(' ')}},n.writeRtcpFb=function(t){var n='',s=t.payloadType;return void 0!==t.preferredPayloadType&&(s=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(function(t){n+='a=rtcp-fb:'+s+' '+t.type+(t.parameter&&t.parameter.length?' '+t.parameter:'')+'\r\n'}),n},n.parseSsrcMedia=function(t){var n=t.indexOf(' '),s={ssrc:parseInt(t.substring(7,n),10)},p=t.indexOf(':',n);return p>-1?(s.attribute=t.substring(n+1,p),s.value=t.substring(p+1)):s.attribute=t.substring(n+1),s},n.parseSsrcGroup=function(t){var n=t.substring(13).split(' ');return{semantics:n.shift(),ssrcs:n.map(function(t){return parseInt(t,10)})}},n.getMid=function(t){var s=n.matchPrefix(t,'a=mid:')[0];if(s)return s.substring(6)},n.parseFingerprint=function(t){var n=t.substring(14).split(' ');return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},n.getDtlsParameters=function(t,s){return{role:'auto',fingerprints:n.matchPrefix(t+s,'a=fingerprint:').map(n.parseFingerprint)}},n.writeDtlsParameters=function(t,n){var s='a=setup:'+n+'\r\n';return t.fingerprints.forEach(function(t){s+='a=fingerprint:'+t.algorithm+' '+t.value+'\r\n'}),s},n.parseCryptoLine=function(t){var n=t.substring(9).split(' ');return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},n.writeCryptoLine=function(s){return'a=crypto:'+s.tag+' '+s.cryptoSuite+' '+('object'===t(s.keyParams)?n.writeCryptoKeyParams(s.keyParams):s.keyParams)+(s.sessionParams?' '+s.sessionParams.join(' '):'')+'\r\n'},n.parseCryptoKeyParams=function(t){if(0!==t.indexOf('inline:'))return null;var n=t.substring(7).split('|');return{keyMethod:'inline',keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(':')[0]:void 0,mkiLength:n[2]?n[2].split(':')[1]:void 0}},n.writeCryptoKeyParams=function(t){return t.keyMethod+':'+t.keySalt+(t.lifeTime?'|'+t.lifeTime:'')+(t.mkiValue&&t.mkiLength?'|'+t.mkiValue+':'+t.mkiLength:'')},n.getCryptoParameters=function(t,s){return n.matchPrefix(t+s,'a=crypto:').map(n.parseCryptoLine)},n.getIceParameters=function(t,s){var p=n.matchPrefix(t+s,'a=ice-ufrag:')[0],o=n.matchPrefix(t+s,'a=ice-pwd:')[0];return p&&o?{usernameFragment:p.substring(12),password:o.substring(10)}:null},n.writeIceParameters=function(t){var n='a=ice-ufrag:'+t.usernameFragment+"\r\na=ice-pwd:"+t.password+'\r\n';return t.iceLite&&(n+='a=ice-lite\r\n'),n},n.parseRtpParameters=function(t){var s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},p=n.splitLines(t)[0].split(' ');s.profile=p[2];for(var o=3;o<p.length;o++){var c=p[o],u=n.matchPrefix(t,'a=rtpmap:'+c+' ')[0];if(u){var f=n.parseRtpMap(u),l=n.matchPrefix(t,'a=fmtp:'+c+' ');switch(f.parameters=l.length?n.parseFmtp(l[0]):{},f.rtcpFeedback=n.matchPrefix(t,'a=rtcp-fb:'+c+' ').map(n.parseRtcpFb),s.codecs.push(f),f.name.toUpperCase()){case'RED':case'ULPFEC':s.fecMechanisms.push(f.name.toUpperCase())}}}n.matchPrefix(t,'a=extmap:').forEach(function(t){s.headerExtensions.push(n.parseExtmap(t))});var h=n.matchPrefix(t,'a=rtcp-fb:* ').map(n.parseRtcpFb);return s.codecs.forEach(function(t){h.forEach(function(n){t.rtcpFeedback.find(function(t){return t.type===n.type&&t.parameter===n.parameter})||t.rtcpFeedback.push(n)})}),s},n.writeRtpDescription=function(t,s){var p='';p+='m='+t+' ',p+=s.codecs.length>0?'9':'0',p+=' '+(s.profile||'UDP/TLS/RTP/SAVPF')+' ',p+=s.codecs.map(function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType}).join(' ')+'\r\n',p+='c=IN IP4 0.0.0.0\r\n',p+='a=rtcp:9 IN IP4 0.0.0.0\r\n',s.codecs.forEach(function(t){p+=n.writeRtpMap(t),p+=n.writeFmtp(t),p+=n.writeRtcpFb(t)});var o=0;return s.codecs.forEach(function(t){t.maxptime>o&&(o=t.maxptime)}),o>0&&(p+='a=maxptime:'+o+'\r\n'),s.headerExtensions&&s.headerExtensions.forEach(function(t){p+=n.writeExtmap(t)}),p},n.parseRtpEncodingParameters=function(t){var s=[],p=n.parseRtpParameters(t),o=-1!==p.fecMechanisms.indexOf('RED'),c=-1!==p.fecMechanisms.indexOf('ULPFEC'),u=n.matchPrefix(t,'a=ssrc:').map(function(t){return n.parseSsrcMedia(t)}).filter(function(t){return'cname'===t.attribute}),f=u.length>0&&u[0].ssrc,l=void 0,h=n.matchPrefix(t,'a=ssrc-group:FID').map(function(t){return t.substring(17).split(' ').map(function(t){return parseInt(t,10)})});h.length>0&&h[0].length>1&&h[0][0]===f&&(l=h[0][1]),p.codecs.forEach(function(t){if('RTX'===t.name.toUpperCase()&&t.parameters.apt){var n={ssrc:f,codecPayloadType:parseInt(t.parameters.apt,10)};f&&l&&(n.rtx={ssrc:l}),s.push(n),o&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:f,mechanism:c?'red+ulpfec':'red'},s.push(n))}}),0===s.length&&f&&s.push({ssrc:f});var y=n.matchPrefix(t,'b=');return y.length&&(y=0===y[0].indexOf('b=TIAS:')?parseInt(y[0].substring(7),10):0===y[0].indexOf('b=AS:')?1e3*parseInt(y[0].substring(5),10)*.95-16e3:void 0,s.forEach(function(t){t.maxBitrate=y})),s},n.parseRtcpParameters=function(t){var s={},p=n.matchPrefix(t,'a=ssrc:').map(function(t){return n.parseSsrcMedia(t)}).filter(function(t){return'cname'===t.attribute})[0];p&&(s.cname=p.value,s.ssrc=p.ssrc);var o=n.matchPrefix(t,'a=rtcp-rsize');s.reducedSize=o.length>0,s.compound=0===o.length;var c=n.matchPrefix(t,'a=rtcp-mux');return s.mux=c.length>0,s},n.writeRtcpParameters=function(t){var n='';return t.reducedSize&&(n+='a=rtcp-rsize\r\n'),t.mux&&(n+='a=rtcp-mux\r\n'),void 0!==t.ssrc&&t.cname&&(n+='a=ssrc:'+t.ssrc+' cname:'+t.cname+'\r\n'),n},n.parseMsid=function(t){var s=void 0,p=n.matchPrefix(t,'a=msid:');if(1===p.length)return{stream:(s=p[0].substring(7).split(' '))[0],track:s[1]};var o=n.matchPrefix(t,'a=ssrc:').map(function(t){return n.parseSsrcMedia(t)}).filter(function(t){return'msid'===t.attribute});return o.length>0?{stream:(s=o[0].value.split(' '))[0],track:s[1]}:void 0},n.parseSctpDescription=function(t){var s=n.parseMLine(t),p=n.matchPrefix(t,'a=max-message-size:'),o=void 0;p.length>0&&(o=parseInt(p[0].substring(19),10)),isNaN(o)&&(o=65536);var c=n.matchPrefix(t,'a=sctp-port:');if(c.length>0)return{port:parseInt(c[0].substring(12),10),protocol:s.fmt,maxMessageSize:o};var u=n.matchPrefix(t,'a=sctpmap:');if(u.length>0){var f=u[0].substring(10).split(' ');return{port:parseInt(f[0],10),protocol:f[1],maxMessageSize:o}}},n.writeSctpDescription=function(t,n){var s=[];return s='DTLS/SCTP'!==t.protocol?['m='+t.kind+' 9 '+t.protocol+' '+n.protocol+'\r\n','c=IN IP4 0.0.0.0\r\n','a=sctp-port:'+n.port+'\r\n']:['m='+t.kind+' 9 '+t.protocol+' '+n.port+'\r\n','c=IN IP4 0.0.0.0\r\n','a=sctpmap:'+n.port+' '+n.protocol+' 65535\r\n'],void 0!==n.maxMessageSize&&s.push('a=max-message-size:'+n.maxMessageSize+'\r\n'),s.join('')},n.generateSessionId=function(){return Math.random().toString().substr(2,22)},n.writeSessionBoilerplate=function(t,s,p){var o=void 0,c=void 0!==s?s:2;return o=t||n.generateSessionId(),"v=0\r\no="+(p||'thisisadapterortc')+' '+o+' '+c+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.getDirection=function(t,s){for(var p=n.splitLines(t),o=0;o<p.length;o++)switch(p[o]){case'a=sendrecv':case'a=sendonly':case'a=recvonly':case'a=inactive':return p[o].substring(2)}return s?n.getDirection(s):'sendrecv'},n.getKind=function(t){return n.splitLines(t)[0].split(' ')[0].substring(2)},n.isRejected=function(t){return'0'===t.split(' ',2)[1]},n.parseMLine=function(t){var s=n.splitLines(t)[0].substring(2).split(' ');return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(' ')}},n.parseOLine=function(t){var s=n.matchPrefix(t,'o=')[0].substring(2).split(' ');return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},n.isValidSDP=function(t){if('string'!=typeof t||0===t.length)return!1;for(var s=n.splitLines(t),p=0;p<s.length;p++)if(s[p].length<2||'='!==s[p].charAt(1))return!1;return!0},'object'===(void 0===m?'undefined':t(m))&&(m.exports=n)},688,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=F;var n=t(r(d[1])),s=r(d[2]),o=r(d[3]),c=t(r(d[4])),u=U(r(d[5])),l=r(d[6]),f=r(d[7]),p=t(r(d[8])),h=U(r(d[9])),v=r(d[10]),S=r(d[11]),T=r(d[12]),y=t(r(d[13])),_=t(r(d[14])),D=t(r(d[15])),E=t(r(d[16])),C=t(r(d[17])),R=t(r(d[18])),k=t(r(d[19])),M=t(r(d[20])),P=r(d[21]),O=U(r(d[22])),A=t(r(d[23])),I=t(r(d[24])),w=t(r(d[25])),V=r(d[26]);function L(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(L=function(t){return t?s:n})(t)}function U(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=L(n);if(s&&s.has(t))return s.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var l=c?Object.getOwnPropertyDescriptor(t,u):null;l&&(l.get||l.set)?Object.defineProperty(o,u,l):o[u]=t[u]}return o.default=t,s&&s.set(t,o),o}function b(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=N(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(t,n){if(t){if("string"==typeof t)return x(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?x(t,n):void 0}}function x(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var B=(0,s.getLogger)(__filename);function F(t,n,s,c,u,l,f){var p=this;this.audioTransferActive=!(!0===f.startSilent),this._dtmfSender=void 0,this._dtmfTonesQueue=[],this.videoTransferActive=!0,this.rtc=t,this.id=n,this.isP2P=l,this.remoteTracks=new Map,this.localTracks=new Map,this._addedStreams=[],this.localSSRCs=new Map,this.localUfrag=null,this.remoteUfrag=null,this._dtlsTransport=null,this.signalingLayer=s,this._peerVideoTypeChanged=this._peerVideoTypeChanged.bind(this),this.signalingLayer.on(h.PEER_VIDEO_TYPE_CHANGED,this._peerVideoTypeChanged),this._peerMutedChanged=this._peerMutedChanged.bind(this),this.signalingLayer.on(h.PEER_MUTED_CHANGED,this._peerMutedChanged),this.options=f,this.signalingLayer.on(h.SOURCE_MUTED_CHANGED,function(t,n){return p._sourceMutedChanged(t,n)}),this.signalingLayer.on(h.SOURCE_VIDEO_TYPE_CHANGED,function(t,n){return p._sourceVideoTypeChanged(t,n)});var v=u||{};if(v.optional=v.optional||[],Array.isArray(v.optional)?v.optional.push({rtcStatsSFUP2P:this.isP2P}):B.warn('Optional param is not an array, rtcstats p2p data is omitted.'),this.peerconnection=new w.default.RTCPeerConnectionType(c,v),this.tpcUtils=new V.TPCUtils(this),this.updateLog=[],this.stats={},this.statsinterval=null,this._capScreenshareBitrate=this.options.capScreenshareBitrate,this._usesUnifiedPlan=f.usesUnifiedPlan,this._usesTransceiverCodecPreferences=y.default.supportsCodecPreferences()&&this._usesUnifiedPlan,this._usesTransceiverCodecPreferences&&B.info('Using RTCRtpTransceiver#setCodecPreferences for codec selection'),this.maxstats=f.maxstats,this.interop=new o.Interop,this._usesUnifiedPlan)this.simulcast=new M.default({numOfLayers:V.SIM_LAYER_RIDS.length});else{var S=r(d[27]);this.simulcast=new S({numOfLayers:V.SIM_LAYER_RIDS.length,explodeRemoteSimulcast:!1,usesUnifiedPlan:!1})}this.sdpConsistency=new k.default(this.toString()),this.localSdpMunger=new D.default(this,this.rtc.getLocalEndpointId()),this.eventEmitter=t.eventEmitter,this.rtxModifier=new E.default,this._senderVideoMaxHeight=2160,this._senderMaxHeights=new Map,this.trace=function(t,n){B.debug(t,n),p.updateLog.push({time:new Date,type:t,value:n||''})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(t){p.trace('onicecandidate',JSON.stringify(t.candidate,null,' ')),null!==p.onicecandidate&&p.onicecandidate(t)},this._usesUnifiedPlan?(this.onTrack=function(t){var n=t.streams[0];p._remoteTrackAdded(n,t.track,t.transceiver),n.addEventListener('removetrack',function(t){p._remoteTrackRemoved(n,t.track)})},this.peerconnection.addEventListener('track',this.onTrack)):(this.peerconnection.onaddstream=function(t){return p._remoteStreamAdded(t.stream)},this.peerconnection.onremovestream=function(t){return p._remoteStreamRemoved(t.stream)}),this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(t){p.trace('onsignalingstatechange',p.signalingState),null!==p.onsignalingstatechange&&p.onsignalingstatechange(t)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(t){p.trace('oniceconnectionstatechange',p.iceConnectionState),null!==p.oniceconnectionstatechange&&p.oniceconnectionstatechange(t)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(t){p.trace('onnegotiationneeded'),null!==p.onnegotiationneeded&&p.onnegotiationneeded(t)},this.onconnectionstatechange=null,this.peerconnection.onconnectionstatechange=function(t){p.trace('onconnectionstatechange',p.connectionState),null!==p.onconnectionstatechange&&p.onconnectionstatechange(t)},this.ondatachannel=null,this.peerconnection.ondatachannel=function(t){p.trace('ondatachannel'),null!==p.ondatachannel&&p.ondatachannel(t)},this.maxstats&&(this.statsinterval=window.setInterval(function(){p.getStats().then(function(t){if('function'==typeof(null===t||void 0===t?void 0:t.result))for(var n=t.result(),s=function(){var t=n[o];t.names().forEach(function(n){p._processStat(t,n,t.stat(n))})},o=0;o<n.length;++o)s();else t.forEach(function(t){return p._processStat(t,'',t)})})},1e3)),B.info("Create new "+this)}F.prototype._processStat=function(t,n,s){var o=t.id+"-"+n,c=this.stats[o],u=new Date;c||(this.stats[o]=c={startTime:u,endTime:u,values:[],times:[]}),c.values.push(s),c.times.push(u.getTime()),c.values.length>this.maxstats&&(c.values.shift(),c.times.shift()),c.endTime=u};var j=function(t){return void 0===t||null===t?'':"type: "+t.type+"\r\n"+t.sdp};F.prototype.getConnectionState=function(){var t=this.peerconnection.iceConnectionState;return'completed'===t?'connected':t},F.prototype.getDesiredMediaDirection=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.hasAnyTracksOfType(t);return this._usesUnifiedPlan?n?s?l.MediaDirection.SENDRECV:l.MediaDirection.SENDONLY:s?l.MediaDirection.RECVONLY:l.MediaDirection.INACTIVE:(t===f.MediaType.AUDIO?this.audioTransferActive:this.videoTransferActive)?s?l.MediaDirection.SENDRECV:l.MediaDirection.RECVONLY:l.MediaDirection.INACTIVE},F.prototype._getReceiversByEndpointIds=function(t,n){for(var s,o=[],c=b(t);!(s=c()).done;){var u=s.value;o=o.concat(this.getRemoteTracks(u,n))}var l=o.map(function(t){var n;return null===(n=t.track)||void 0===n?void 0:n.id});return this.peerconnection.getReceivers().filter(function(t){return t.track&&t.track.kind===n&&l.find(function(n){return n===t.track.id})})},F.prototype.isSimulcastOn=function(){return!this.options.disableSimulcast},F.prototype._peerVideoTypeChanged=function(t,n){if(t){var s=this.getRemoteTracks(t,f.MediaType.VIDEO);s.length&&s[0]._setVideoType(n)}else B.error(this+" No endpointID on peerVideoTypeChanged")},F.prototype._peerMutedChanged=function(t,n,s){if(t){var o=this.getRemoteTracks(t,n);o.length&&o[0].setMute(s)}else B.error(this+" On peerMuteChanged - no endpoint ID")},F.prototype._sourceMutedChanged=function(t,n){var s=this.getRemoteTracks().find(function(n){return n.getSourceName()===t});s&&s.setMute(n)},F.prototype._sourceVideoTypeChanged=function(t,n){var s=this.getRemoteTracks().find(function(n){return n.getSourceName()===t});s&&s._setVideoType(n)},F.prototype.getAudioLevels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={};return(t.length?this._getReceiversByEndpointIds(t,f.MediaType.AUDIO):this.peerconnection.getReceivers().filter(function(t){return t.track&&t.track.kind===f.MediaType.AUDIO&&t.track.enabled})).forEach(function(t){var s=t.getSynchronizationSources();s&&s.length&&(n[s[0].source]=s[0].audioLevel)}),n},F.prototype.getLocalTracks=function(t){var n=Array.from(this.localTracks.values());return void 0!==t&&(n=n.filter(function(n){return n.getType()===t})),n},F.prototype.getLocalVideoTracks=function(){return this.getLocalTracks(f.MediaType.VIDEO)},F.prototype.hasAnyTracksOfType=function(t){if(!t)throw new Error('"mediaType" is required');return this.getLocalTracks(t).length>0},F.prototype.getRemoteTracks=function(t,n){for(var s,o=[],c=b(t?[t]:this.remoteTracks.keys());!(s=c()).done;){var u=s.value,l=this.remoteTracks.get(u);if(l)for(var f,p=b(l.keys());!(f=p()).done;){var h=f.value;n&&n!==h||(o=o.concat(Array.from(l.get(h))))}}return o},F.prototype.getRemoteSourceInfoByParticipant=function(t){var n=[],s=this.getRemoteTracks(t);if(!(null===s||void 0===s?void 0:s.length))return n;var o=s.map(function(t){return t.getSSRC()}),c=new C.default(this.remoteDescription.sdp);return o.forEach(function(t,s){for(var o,u=b(c.media);!(o=u()).done;){var l=o.value,f='',p=R.default.findLines(l,"a=ssrc:"+t);if(p.length){n[s]||(n[s]='');var h=R.default.findLines(l,"a=ssrc-group:FID "+t);if(h.length){var v=h[0].split(' ')[2];f+=h[0]+"\r\n",p=p.concat(R.default.findLines(l,"a=ssrc:"+v))}n[s]+=p.join('\r\n')+"\r\n",n[s]+=f}}}),n},F.prototype.getTargetVideoBitrates=function(){var t=this.getConfiguredVideoCodec();return this.tpcUtils.videoBitrates[t.toUpperCase()]||this.tpcUtils.videoBitrates},F.prototype.getTrackBySSRC=function(t){if('number'!=typeof t)throw new Error("SSRC "+t+" is not a number");for(var n,s=b(this.localTracks.values());!(n=s()).done;){var o=n.value;if(this.getLocalSSRC(o)===t)return o}for(var c,u=b(this.getRemoteTracks());!(c=u()).done;){var l=c.value;if(l.getSSRC()===t)return l}return null},F.prototype.getSsrcByTrackId=function(t){var n=function(n){return n.getTrack().id===t},s=this.getLocalTracks().find(n);if(s)return this.getLocalSSRC(s);var o=this.getRemoteTracks().find(n);return o?o.getSSRC():null},F.prototype._remoteStreamAdded=function(t){var n=this,s=I.default.getStreamID(t);if(I.default.isUserStreamById(s)){y.default.isChromiumBased()&&(t.onaddtrack=function(s){n._remoteTrackAdded(t,s.track)},t.onremovetrack=function(s){n._remoteTrackRemoved(t,s.track)});for(var o,c=b(t.getAudioTracks());!(o=c()).done;){var u=o.value;this._remoteTrackAdded(t,u)}for(var l,f=b(t.getVideoTracks());!(l=f()).done;){var p=l.value;this._remoteTrackAdded(t,p)}}else B.info(this+" ignored remote 'stream added' event for non-user stream[id="+s+"]")},F.prototype._remoteTrackAdded=function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=I.default.getStreamID(t),c=n.kind;if(this.isP2P||I.default.isUserStreamById(o))if(B.info(this+" adding remote track for stream[id="+o+",type="+c+"]"),c){var u,l=this._usesUnifiedPlan?new C.default(this.peerconnection.remoteDescription.sdp):new C.default(this.remoteDescription.sdp);if(this._usesUnifiedPlan)if(s&&s.mid){var f=s.mid;u=l.media.filter(function(t){return R.default.findLine(t,"a=mid:"+f)})}else u=l.media.filter(function(t){var n=R.default.findLine(t,'a=msid:');return void 0!==n&&o===n.substring(7).split(' ')[0]});else u=l.media.filter(function(t){return t.startsWith("m="+c)});if(u.length){var p=R.default.findLines(u[0],'a=ssrc:');if((p=p.filter(function(t){return-1!==t.indexOf("msid:"+o)})).length){var h=p[0].substring(7).split(' ')[0],S=Number(h),T=this.signalingLayer.getSSRCOwner(S);if(isNaN(S)||S<0)O.callErrorHandler(new Error("Invalid SSRC for remote stream[ssrc="+S+",id="+o+",type="+c+"]"));else if(T){var y;_.default.isSourceNameSignalingEnabled()&&((y=this.signalingLayer.getTrackSourceName(S))||(y=(0,v.getSourceNameForJitsiTrack)(T,c,0))),B.info(this+" creating remote track[endpoint="+T+",ssrc="+S+",type="+c+",sourceName="+y+"]");var D=this.signalingLayer.getPeerMediaInfo(T,c,y);if(D){var E=D.muted,k=D.videoType;this._createRemoteTrack(T,t,n,c,k,S,E,y)}else O.callErrorHandler(new Error(this+": no peer media info available for "+T))}else O.callErrorHandler(new Error("No SSRC owner known for remote stream[ssrc="+S+",id="+o+",type="+c+"]"))}else O.callErrorHandler(new Error("No SSRC lines found in remote SDP for remote stream[msid="+o+",type="+c+"]"))}else O.callErrorHandler(new Error("No media lines found in remote SDP for remote stream[id="+o+",type="+c+"]"))}else O.callErrorHandler(new Error("MediaType undefined for remote track, stream id: "+o));else B.info(this+" ignored remote 'stream added' event for non-user stream[id="+o+"]")},F.prototype._createRemoteTrack=function(t,n,s,o,c,u,l,h){var v=this.remoteTracks.get(t);v||((v=new Map).set(f.MediaType.AUDIO,new Set),v.set(f.MediaType.VIDEO,new Set),this.remoteTracks.set(t,v));var S=v.get(o);if((null===S||void 0===S?void 0:S.size)&&Array.from(S).find(function(t){return t.getTrack()===s}))B.info(this+" ignored duplicated track event for track[endpoint="+t+",type="+o+"]");else{if((null===S||void 0===S?void 0:S.size)&&!_.default.isSourceNameSignalingEnabled()){B.error(this+" received a second remote track for track[endpoint="+t+",type="+o+"]deleting the existing track");var T=Array.from(S)[0];this._remoteTrackRemoved(T.getOriginalStream(),T.getTrack())}var y=new A.default(this.rtc,this.rtc.conference,t,n,s,o,c,u,l,this.isP2P,h);S.add(y),this.eventEmitter.emit(p.default.REMOTE_TRACK_ADDED,y,this)}},F.prototype._remoteStreamRemoved=function(t){if(I.default.isUserStream(t)){for(var n,s=b(t.getVideoTracks());!(n=s()).done;){var o=n.value;this._remoteTrackRemoved(t,o)}for(var c,u=b(t.getAudioTracks());!(c=u()).done;){var l=c.value;this._remoteTrackRemoved(t,l)}}else{var f=I.default.getStreamID(t);B.info("Ignored remote 'stream removed' event for stream[id="+f+"]")}},F.prototype._remoteTrackRemoved=function(t,n){var s=I.default.getStreamID(t),o=n&&I.default.getTrackID(n);if(I.default.isUserStreamById(s))if(s)if(o){var c=this.getRemoteTracks().find(function(t){return t.getStreamId()===s&&t.getTrackId()===o});c?(B.info(this+" remote track removed stream[id="+s+",trackId="+o+"]"),this._removeRemoteTrack(c)):O.callErrorHandler(new Error(this+" remote track removal failed - track not found"))}else O.callErrorHandler(new Error(this+" remote track removal failed - no track ID"));else O.callErrorHandler(new Error(this+" remote track removal failed - no stream ID"));else B.info(this+" ignored remote 'stream removed' event for non-user stream[id="+s+"]")},F.prototype.removeRemoteTracks=function(t){var n=[],s=this.remoteTracks.get(t);return s&&(n=(n=n.concat(Array.from(s.get(f.MediaType.AUDIO)))).concat(Array.from(s.get(f.MediaType.VIDEO))),this.remoteTracks.delete(t)),B.debug(this+" removed remote tracks[endpoint="+t+",count="+n.length),n},F.prototype._removeRemoteTrack=function(t){var n;t.dispose();var s=t.getParticipantId(),o=this.remoteTracks.get(s);o?(null===(n=o.get(t.getType()))||void 0===n?void 0:n.delete(t))||B.error(this+" Failed to remove "+t+" - type mapping messed up ?"):B.error(this+" removeRemoteTrack: no remote tracks map for endpoint="+s),this.eventEmitter.emit(p.default.REMOTE_TRACK_REMOVED,t)},F.prototype._extractSSRCMap=function(t){var n=new Map,s=new Map;if('object'!=typeof t||null===t||'string'!=typeof t.sdp)return B.warn('An empty description was passed as an argument'),n;var o=c.default.parse(t.sdp);if(!Array.isArray(o.media))return n;var u=o.media;this._usesUnifiedPlan&&(_.default.isMultiStreamSupportEnabled()?u=u.filter(function(t){return t.direction===l.MediaDirection.SENDONLY||t.direction===l.MediaDirection.SENDRECV}):(u=[],[f.MediaType.AUDIO,f.MediaType.VIDEO].forEach(function(t){var n=o.media.find(function(n){return n.type===t});n&&u.push(n)})));for(var p,h=0,v=b(u);!(p=v()).done;){var S=p.value;if(Array.isArray(S.ssrcs)){if(Array.isArray(S.ssrcGroups))for(var T,y=b(S.ssrcGroups);!(T=y()).done;){var D=T.value;if(void 0!==D.semantics&&void 0!==D.ssrcs){var E=D.ssrcs.split(' ').map(function(t){return parseInt(t,10)}),C=E[0];D.ssrcs=E,s.has(C)||s.set(C,[]),s.get(C).push(D)}}for(var R,k=S.ssrcs,M=b(k=this._usesUnifiedPlan?k.filter(function(t){return'cname'===t.attribute}):k.filter(function(t){return'msid'===t.attribute}));!(R=M()).done;){var P=R.value,O=this._usesUnifiedPlan?_.default.isMultiStreamSupportEnabled()?S.type+"-"+h:S.type:P.value,A=P.id,I=n.get(O);if(I||(I={ssrcs:[],groups:[],msid:O},n.set(O,I)),I.ssrcs.push(A),s.has(A))for(var w,V=b(s.get(A));!(w=V()).done;){var L=w.value;I.groups.push(L)}}S.type===f.MediaType.VIDEO&&h++}}return n};var H=function(t){if('object'!=typeof t||null===t||'string'!=typeof t.sdp)return B.warn('An empty description was passed as an argument'),t;var n=r(d[4]),s=n.parse(t.sdp);void 0!==s&&void 0!==s.media&&Array.isArray(s.media)&&s.media.forEach(function(t){var n=[],s=[];if(void 0!==t.ssrcGroups&&Array.isArray(t.ssrcGroups)&&t.ssrcGroups.forEach(function(t){void 0!==t.semantics&&'FID'===t.semantics&&void 0!==t.ssrcs&&n.push(Number(t.ssrcs.split(' ')[0]))}),Array.isArray(t.ssrcs)){var o;for(o=0;o<t.ssrcs.length;o++)'object'==typeof t.ssrcs[o]&&void 0!==t.ssrcs[o].id&&n.indexOf(t.ssrcs[o].id)>=0&&(s.push(t.ssrcs[o]),delete t.ssrcs[o]);for(o=0;o<t.ssrcs.length;o++)void 0!==t.ssrcs[o]&&s.push(t.ssrcs[o]);t.ssrcs=G(s)}});var o=n.write(s);return new RTCSessionDescription({type:t.type,sdp:o})};function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!y.default.isChrome()||!y.default.isVersionGreaterThan(70))return t;var s=(0,n.default)(t);return t.filter(function(t){return'mslabel'===t.attribute&&'-'===t.value}).map(function(t){return t.id}).forEach(function(t){var n=s.find(function(n){return n.id===t&&'cname'===n.attribute});n.value=l.MediaDirection.RECVONLY+"-"+t,(s=s.filter(function(n){return n.id!==t})).push(n)}),s}var Y=function(t,n){var s,o;if(!t)throw new Error('No local description passed in.');var c=new P.SdpTransformWrap(t.sdp),u=null===(s=c.selectMedia(f.MediaType.AUDIO))||void 0===s?void 0:s[0],p=!1;u&&u.direction!==l.MediaDirection.SENDRECV&&(n.startSilent?u.direction=l.MediaDirection.INACTIVE:u.direction=l.MediaDirection.SENDRECV,p=!0);var h=null===(o=c.selectMedia(f.MediaType.VIDEO))||void 0===o?void 0:o[0];return h&&h.direction!==l.MediaDirection.SENDRECV&&(h.direction=l.MediaDirection.SENDRECV,p=!0),p?new RTCSessionDescription({type:t.type,sdp:c.toRawSDP()}):t};F.prototype.getLocalSSRC=function(t){var n=this._getSSRC(t.rtcId);return n&&n.ssrcs[0]},F.prototype._injectSsrcGroupForUnifiedSimulcast=function(t){var n=c.default.parse(t.sdp),s=n.media.find(function(t){return'video'===t.type});s.ssrcGroups=s.ssrcGroups||[];var o=s.ssrcGroups.filter(function(t){return'FID'===t.semantics});if(s.simulcast||s.simulcast_03){var u=[];if(o&&o.length?o.forEach(function(t){u.push(t.ssrcs.split(' ')[0])}):s.ssrcs.forEach(function(t){'msid'===t.attribute&&u.push(t.id)}),s.ssrcGroups.find(function(t){return'SIM'===t.semantics}))return t;for(var l=0;l<u.length;l+=3){var f=u.slice(l,l+3);s.ssrcGroups.push({semantics:'SIM',ssrcs:f.join(' ')})}}return new RTCSessionDescription({type:t.type,sdp:c.default.write(n)})};var W={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},connectionState:function(){return this.peerconnection.connectionState},localDescription:function(){var t=this.peerconnection.localDescription;return t?(this.trace('getLocalDescription::preTransform',j(t)),this._usesUnifiedPlan&&!this.isP2P?(t=this.interop.toPlanB(t),this.trace('getLocalDescription::postTransform (Plan B)',j(t)),t=this._injectSsrcGroupForUnifiedSimulcast(t),this.trace('getLocalDescription::postTransform (inject ssrc group)',j(t))):this._usesUnifiedPlan||(y.default.doesVideoMuteByStreamRemove()&&(t=this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(t),B.debug('getLocalDescription::postTransform (munge local SDP)',t)),t=Y(t,this.options)),t=this.localSdpMunger.transformStreamIdentifiers(t)):(B.debug(this+" getLocalDescription no localDescription found"),{})},remoteDescription:function(){var t=this.peerconnection.remoteDescription;return t?(this.trace('getRemoteDescription::preTransform',j(t)),this._usesUnifiedPlan&&(this.isP2P?t=this._adjustRemoteMediaDirection(t):(t=this.interop.toPlanB(t),this.trace('getRemoteDescription::postTransform (Plan B)',j(t)))),t):(B.debug(this+" getRemoteDescription no remoteDescription found"),{})}};Object.keys(W).forEach(function(t){Object.defineProperty(F.prototype,t,{get:W[t]})}),F.prototype._getSSRC=function(t){return this.localSSRCs.get(t)},F.prototype.isSharingLowFpsScreen=function(){return this._isSharingScreen()&&this._capScreenshareBitrate},F.prototype._isSharingScreen=function(){var t=this.getLocalVideoTracks();return Boolean(t.find(function(t){return t.videoType===S.VideoType.DESKTOP}))},F.prototype._mungeCodecOrder=function(t){var n=this;if(!this.codecPreference)return t;var s=c.default.parse(t.sdp),o=s.media.find(function(t){return t.type===n.codecPreference.mediaType});if(!o)return t;if(this.codecPreference.enable)if(R.default.preferCodec(o,this.codecPreference.mimeType),this.codecPreference.mimeType===u.H264&&y.default.isReactNative()&&this.isP2P&&R.default.stripCodec(o,this.codecPreference.mimeType,!0),this.codecPreference.mimeType===u.VP9&&this.getConfiguredVideoCodec()===u.VP9){var l=this.tpcUtils.videoBitrates.VP9||this.tpcUtils.videoBitrates,f=l.high?l.high:V.HD_BITRATE,p=Math.floor((this._isSharingScreen()?V.HD_BITRATE:f)/1e3);o.bandwidth=[{type:'AS',limit:p}]}else o.bandwidth=void 0;else R.default.stripCodec(o,this.codecPreference.mimeType);return new RTCSessionDescription({type:t.type,sdp:c.default.write(s)})},F.prototype.addTrack=function(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.rtcId;if(B.info(this+" adding "+t),this.localTracks.has(o))return Promise.reject(new Error(t+" is already in "+this));this.localTracks.set(o,t);var c=t.getOriginalStream();if(this._usesUnifiedPlan){B.debug(this+" TPC.addTrack using unified plan");try{this.tpcUtils.addTrack(t,s)}catch(n){return B.error(this+" Adding track="+t+" failed: "+(null===n||void 0===n?void 0:n.message)),Promise.reject(n)}}else{if(c)this._addStream(c);else if(!y.default.doesVideoMuteByStreamRemove()||t.isAudioTrack()||t.isVideoTrack()&&!t.isMuted())return Promise.reject(new Error(this+" no WebRTC stream for track="+t));if(y.default.doesVideoMuteByStreamRemove()&&t.isVideoTrack()&&t.isMuted()){var u=this.generateNewStreamSSRCInfo(t);this.sdpConsistency.setPrimarySsrc(u.ssrcs[0]);var l=u.groups.find(function(t){return'SIM'===t.semantics});l&&this.simulcast.setSsrcCache(l.ssrcs);var f=u.groups.filter(function(t){return'FID'===t.semantics});if(f){var p=new Map;f.forEach(function(t){var n=t.ssrcs[0],s=t.ssrcs[1];p.set(n,s)}),this.rtxModifier.setSsrcCache(p)}}}var h=Promise.resolve();return y.default.isFirefox()&&(h=h.then(function(){return c&&n.tpcUtils.setEncodings(t)})),h},F.prototype.addTrackUnmute=function(t){if(B.info(this+" Adding track="+t+" as unmute"),!this._assertTrackBelongs('addTrackUnmute',t))return Promise.reject('Track not found on the peerconnection');var n=t.getOriginalStream();return n?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(null,t).then(function(){return!1}):(this._addStream(n),Promise.resolve(!0)):(B.error(this+" Unable to add track="+t+" as unmute - no WebRTC stream"),Promise.reject('Stream not found'))},F.prototype._addStream=function(t){this.peerconnection.addStream(t),this._addedStreams.push(t)},F.prototype._removeStream=function(t){this.peerconnection.removeStream(t),this._addedStreams=this._addedStreams.filter(function(n){return n!==t})},F.prototype._assertTrackBelongs=function(t,n){var s=this.localTracks.has(null===n||void 0===n?void 0:n.rtcId);return s||B.error(this+" "+t+": track="+n+" does not belong to pc"),s},F.prototype.getConfiguredVideoCodec=function(){var t,n=null===(t=this.peerconnection.localDescription)||void 0===t?void 0:t.sdp,s=u.VP8;if(!n)return s;var o=c.default.parse(n).media.find(function(t){return t.type===f.MediaType.VIDEO}).rtp[0].codec;return o?Object.values(u).find(function(t){return t===o.toLowerCase()}):s},F.prototype.setDesktopSharingFrameRate=function(t){var n=t<=T.SS_DEFAULT_FRAME_RATE;this._capScreenshareBitrate=this.isSimulcastOn()&&n},F.prototype.setVideoCodecs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=null===n,o=n||t;this.codecPreference&&(t||n)?(this.codecPreference.enable=s,this.codecPreference.mimeType=o):t||n?this.codecPreference={enable:s,mediaType:f.MediaType.VIDEO,mimeType:o}:B.warn(this+" Invalid codec settings[preferred="+t+",disabled="+n+"],\n            atleast one value is needed")},F.prototype.isMediaStreamInPc=function(t){return this._addedStreams.indexOf(t)>-1},F.prototype.removeTrack=function(t){var n=t.getOriginalStream();this.trace('removeStream',t.rtcId,n?n.id:void 0),this._assertTrackBelongs('removeStream',t)&&(this.localTracks.delete(t.rtcId),this.localSSRCs.delete(t.rtcId),n&&this.peerconnection.removeStream(n))},F.prototype.findSenderByKind=function(t){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find(function(n){return n.track&&n.track.kind===t})},F.prototype.findReceiverForTrack=function(t){return this.peerconnection.getReceivers().find(function(n){return n.track===t})},F.prototype.findSenderForTrack=function(t){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find(function(n){return n.track===t})},F.prototype.replaceTrack=function(t,n){var s,o=this;if(!t&&!n)return B.info(this+" replaceTrack called with no new track and no old track"),Promise.resolve();var c=!(!t&&(null===n||void 0===n?void 0:n.getVideoType())===S.VideoType.DESKTOP&&_.default.isMultiStreamSupportEnabled()&&!this.isP2P)&&Boolean(!t||!this.localTracks.has(null===t||void 0===t?void 0:t.rtcId));if(this._usesUnifiedPlan){B.debug(this+" TPC.replaceTrack using unified plan");var u=null!==(s=null===n||void 0===n?void 0:n.getType())&&void 0!==s?s:null===t||void 0===t?void 0:t.getType(),p=null===n||void 0===n?void 0:n.getOriginalStream();return(n&&!p?Promise.resolve():this.tpcUtils.replaceTrack(t,n)).then(function(s){if(t&&o.localTracks.delete(t.rtcId),n&&o.localTracks.set(n.rtcId,n),t&&n){var p=o.localSSRCs.get(t.rtcId);p&&(o.localSSRCs.delete(t.rtcId),o.localSSRCs.set(n.rtcId,p))}var h=u===f.MediaType.AUDIO?o.audioTransferActive:o.videoTransferActive;return s&&h?s.direction=n||y.default.isFirefox()?l.MediaDirection.SENDRECV:l.MediaDirection.RECVONLY:s&&(s.direction=l.MediaDirection.INACTIVE),(y.default.usesSdpMungingForSimulcast()||!n?Promise.resolve():o.tpcUtils.setEncodings(n)).then(function(){return c})})}B.debug(this+" TPC.replaceTrack using plan B");var h=Promise.resolve();return t&&this.removeTrack(t),n&&(h=this.addTrack(n)),h.then(function(){return!0})},F.prototype.removeTrackMute=function(t){var n=t.getOriginalStream();return this.trace('removeTrackMute',t.rtcId,n?n.id:null),this._assertTrackBelongs('removeTrackMute',t)?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(t,null).then(function(){return!1}):n?(B.info(this+" Removing track="+t+" as mute"),this._removeStream(n),Promise.resolve(!0)):(B.error(this+" removeTrackMute - no WebRTC stream for track="+t),Promise.reject('Stream not found')):Promise.reject('Track not found in the peerconnection')},F.prototype.createDataChannel=function(t,n){return this.trace('createDataChannel',t,n),this.peerconnection.createDataChannel(t,n)},F.prototype._ensureSimulcastGroupIsLast=function(t){var n=t.sdp,s=n.indexOf('m=video'),o=n.indexOf('a=ssrc-group:SIM',s),c=n.lastIndexOf('a=ssrc-group');if(-1===o||-1===c||c===o)return t;var u=n.indexOf('\r\n',o),l=n.substring(o,u+2);c=(n=n.replace(l,'')).lastIndexOf('a=ssrc-group');var f=n.indexOf('\r\n',c);return n=n.slice(0,f)+"\r\n"+l.trim()+n.slice(f),new RTCSessionDescription({type:t.type,sdp:n})},F.prototype._adjustLocalMediaDirection=function(t){var n,s,o=new P.SdpTransformWrap(t.sdp),c=!1,u=null===(n=o.selectMedia(f.MediaType.AUDIO))||void 0===n?void 0:n[0];if(u){var l=this.getDesiredMediaDirection(f.MediaType.AUDIO);u.direction!==l&&(u.direction=l,B.info(this+" Adjusted local audio direction to "+l),c=!0)}else B.warn(this+" No \"audio\" media found in the local description");var p=null===(s=o.selectMedia(f.MediaType.VIDEO))||void 0===s?void 0:s[0];if(p){var h=this.getDesiredMediaDirection(f.MediaType.VIDEO);p.direction!==h&&(p.direction=h,B.info(this+" Adjusted local video direction to "+h),c=!0)}else B.warn(this+" No \"video\" media found in the local description");return c?new RTCSessionDescription({type:t.type,sdp:o.toRawSDP()}):t},F.prototype._adjustRemoteMediaDirection=function(t){var n=this,s=new P.SdpTransformWrap(t.sdp);return[f.MediaType.AUDIO,f.MediaType.VIDEO].forEach(function(t){var o,c=null===(o=s.selectMedia(t))||void 0===o?void 0:o[0],u=n.hasAnyTracksOfType(t),f=n.getRemoteTracks(null,t).length>0;c.direction=u&&f?l.MediaDirection.SENDRECV:u?l.MediaDirection.RECVONLY:f?l.MediaDirection.SENDONLY:l.MediaDirection.INACTIVE}),new RTCSessionDescription({type:t.type,sdp:s.toRawSDP()})},F.prototype._mungeOpus=function(t){var n=this.options.audioQuality;if(!(null===n||void 0===n?void 0:n.stereo)&&!(null===n||void 0===n?void 0:n.opusMaxAverageBitrate))return t;for(var s,o=c.default.parse(t.sdp),l=function(){if('audio'===p.type){var t=p.rtp.find(function(t){return t.codec===u.OPUS}).payload;if(!t)return"continue";var s=p.fmtp.find(function(n){return n.payload===t});s||(s={payload:t,config:''});var o=c.default.parseParams(s.config),l=!1;if((null===n||void 0===n?void 0:n.stereo)&&(o.stereo=1,l=!0),(null===n||void 0===n?void 0:n.opusMaxAverageBitrate)&&(o.maxaveragebitrate=n.opusMaxAverageBitrate,l=!0),!l)return"continue";for(var f='',h=0,v=Object.keys(o);h<v.length;h++){var S=v[h];f+=S+"="+o[S]+"; "}s.config=f.trim()}},f=b(o.media);!(s=f()).done;){var p=s.value;l()}return new RTCSessionDescription({type:t.type,sdp:c.default.write(o)})},F.prototype._mungeInactive=function(t){for(var n,s=c.default.parse(t.sdp),o=b(s.media);!(n=o()).done;){var u=n.value;u.direction=l.MediaDirection.INACTIVE,u.ssrcs=void 0,u.ssrcGroups=void 0}return new RTCSessionDescription({type:t.type,sdp:c.default.write(s)})},F.prototype._initializeDtlsTransport=function(){var t=this;if(this.peerconnection.getSenders&&!this._dtlsTransport){var n=this.peerconnection.getSenders();0!==n.length&&n[0].transport&&(this._dtlsTransport=n[0].transport,this._dtlsTransport.onerror=function(n){B.error(t+" DtlsTransport error: "+n)},this._dtlsTransport.onstatechange=function(){t.trace('dtlsTransport.onstatechange',t._dtlsTransport.state)})}},F.prototype.configureSenderVideoEncodings=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(_.default.isSourceNameSignalingEnabled()){if(t)return this.setSenderVideoConstraints(this._senderMaxHeights.get(t.getSourceName()),t);for(var n,s=[],o=b(this.getLocalVideoTracks());!(n=o()).done;){var c=n.value;s.push(this.setSenderVideoConstraints(this._senderMaxHeights.get(c.getSourceName()),c))}return Promise.allSettled(s)}var u=t;return u||(u=this.getLocalVideoTracks()[0]),this.setSenderVideoConstraints(this._senderVideoMaxHeight,u)},F.prototype.setLocalDescription=function(t){var n=this,s=t;return this.trace('setLocalDescription::preTransform',j(s)),s=this._mungeOpus(s),this._usesUnifiedPlan||(s=this._adjustLocalMediaDirection(s),s=this._ensureSimulcastGroupIsLast(s)),this._usesTransceiverCodecPreferences||(s=this._mungeCodecOrder(s)),this.trace('setLocalDescription::postTransform',j(s)),new Promise(function(t,o){n.peerconnection.setLocalDescription(s).then(function(){n.trace('setLocalDescriptionOnSuccess');var o=R.default.getUfrag(s.sdp);o!==n.localUfrag&&(n.localUfrag=o,n.eventEmitter.emit(p.default.LOCAL_UFRAG_CHANGED,n,o)),n._initializeDtlsTransport(),t()},function(t){n.trace('setLocalDescriptionOnFailure',t),n.eventEmitter.emit(p.default.SET_LOCAL_DESCRIPTION_FAILED,t,n),o(t)})})},F.prototype.setAudioTransferActive=function(t){B.debug(this+" audio transfer active: "+t);var n=this.audioTransferActive!==t;return this.audioTransferActive=t,this._usesUnifiedPlan?(this.tpcUtils.setAudioTransferActive(t),!1):n},F.prototype.setRemoteDescription=function(t){var n=this,s=t;if(this.trace('setRemoteDescription::preTransform',j(t)),s=this._mungeOpus(s),this._usesUnifiedPlan){if(!this.isP2P){var o=this.peerconnection.remoteDescription;s=this.interop.toUnifiedPlan(s,o),this.trace('setRemoteDescription::postTransform (Unified)',j(s)),_.default.isRunInLiteModeEnabled()&&(s=this._mungeInactive(s))}this.isSimulcastOn()&&(s=this.tpcUtils.insertUnifiedPlanSimulcastReceive(s),this.trace('setRemoteDescription::postTransform (sim receive)',j(s))),s=this.tpcUtils.ensureCorrectOrderOfSsrcs(s),this.trace('setRemoteDescription::postTransform (correct ssrc order)',j(s))}else this.isSimulcastOn()&&(s=this.simulcast.mungeRemoteDescription(s,!0),this.trace('setRemoteDescription::postTransform (simulcast)',j(s))),s=H(s);return s=this._mungeCodecOrder(s),this.trace('setRemoteDescription::postTransform (munge codec order)',j(s)),new Promise(function(t,o){n.peerconnection.setRemoteDescription(s).then(function(){n.trace('setRemoteDescriptionOnSuccess');var o=R.default.getUfrag(s.sdp);o!==n.remoteUfrag&&(n.remoteUfrag=o,n.eventEmitter.emit(p.default.REMOTE_UFRAG_CHANGED,n,o)),n._initializeDtlsTransport(),t()},function(t){n.trace('setRemoteDescriptionOnFailure',t),n.eventEmitter.emit(p.default.SET_REMOTE_DESCRIPTION_FAILED,t,n),o(t)})})},F.prototype.setSenderVideoConstraints=function(t,n){var s,o,c,l,f,h,v,T,D=this;if(t<0)throw new Error("Invalid frameHeight: "+t);if(y.default.isReactNative())return Promise.resolve();if(_.default.isSourceNameSignalingEnabled()?this._senderMaxHeights.set(n.getSourceName(),t):this._senderVideoMaxHeight=t,!n||n.isMuted())return Promise.resolve();var E=this.findSenderForTrack(n.getTrack());if(!E)return Promise.resolve();var C=E.getParameters();if(!(null===(s=null===C||void 0===C?void 0:C.encodings)||void 0===s?void 0:s.length))return Promise.resolve();var R=this.isSharingLowFpsScreen()?"maintain-resolution":"maintain-framerate";C.degradationPreference=R,B.info(this+" Setting degradation preference [preference="+R+",track="+n),this.encodingsEnabledState=this.tpcUtils.calculateEncodingsActiveState(n,t);var k=this.tpcUtils.calculateEncodingsBitrates(n),M=n.getVideoType();if(this.isSimulcastOn()){for(var P in C.encodings)C.encodings.hasOwnProperty(P)&&(C.encodings[P].active=this.encodingsEnabledState[P],y.default.isFirefox()&&(C.encodings[P].degradationPreference=R),this.getConfiguredVideoCodec()===u.VP8&&((null===(c=null===(o=this.options)||void 0===o?void 0:o.videoQuality)||void 0===c?void 0:c.maxBitratesVideo)||this.isSharingLowFpsScreen()||this._usesUnifiedPlan)&&(C.encodings[P].maxBitrate=k[P]));this.tpcUtils.updateEncodingsResolution(C)}else if(t>0){var O=V.HD_SCALE_FACTOR;if(M===S.VideoType.CAMERA&&n.resolution>t&&(O=Math.floor(n.resolution/t)),C.encodings[0].active=!0,C.encodings[0].scaleResolutionDownBy=O,y.default.isFirefox()&&(C.encodings[0].degradationPreference=R),this.getConfiguredVideoCodec()===u.VP8&&(null===(f=null===(l=this.options)||void 0===l?void 0:l.videoQuality)||void 0===f?void 0:f.maxBitratesVideo)){var A=null===(h=this.getTargetVideoBitrates())||void 0===h?void 0:h.high;M===S.VideoType.CAMERA&&(A=null!==(T=null===(v=this.tpcUtils.localStreamEncodingsConfig.find(function(t){return t.scaleResolutionDownBy===O}))||void 0===v?void 0:v.maxBitrate)&&void 0!==T?T:A),C.encodings[0].maxBitrate=A}}else C.encodings[0].active=!1;return B.info(this+" setting max height="+t+",encodings="+JSON.stringify(C.encodings)),E.setParameters(C).then(function(){n.maxEnabledResolution=t,D.eventEmitter.emit(p.default.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,n)})},F.prototype.setVideoTransferActive=function(t){B.debug(this+" video transfer active: "+t);var n=this.videoTransferActive!==t;return this.videoTransferActive=t,this._usesUnifiedPlan?(this.tpcUtils.setVideoTransferActive(t),!1):n},F.prototype.sendTones=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!this._dtmfSender){if(this.peerconnection.getSenders){var o=this.peerconnection.getSenders().find(function(t){return t.dtmf});this._dtmfSender=o&&o.dtmf,this._dtmfSender&&B.info(this+" initialized DTMFSender using getSenders")}if(!this._dtmfSender){var c=Array.from(this.localTracks.values()).find(function(t){return t.isAudioTrack()});this.peerconnection.createDTMFSender&&c&&(this._dtmfSender=this.peerconnection.createDTMFSender(c.getTrack())),this._dtmfSender&&B.info(this+" initialized DTMFSender using deprecated createDTMFSender")}this._dtmfSender&&(this._dtmfSender.ontonechange=this._onToneChange.bind(this))}if(this._dtmfSender){if(this._dtmfSender.toneBuffer)return void this._dtmfTonesQueue.push({tones:t,duration:n,interToneGap:s});this._dtmfSender.insertDTMF(t,n,s)}else B.warn(this+" sendTones - failed to select DTMFSender")},F.prototype._onToneChange=function(t){if(this._dtmfSender&&''===t.tone&&this._dtmfTonesQueue.length){var n=this._dtmfTonesQueue.shift(),s=n.tones,o=n.duration,c=n.interToneGap;this._dtmfSender.insertDTMF(s,o,c)}},F.prototype.generateRecvonlySsrc=function(){var t=R.default.generateSsrc();B.info(this+" generated new recvonly SSRC="+t),this.sdpConsistency.setPrimarySsrc(t)},F.prototype.clearRecvonlySsrc=function(){B.info(this+" Clearing primary video SSRC!"),this.sdpConsistency.clearVideoSsrcCache()},F.prototype.close=function(){this.trace('stop'),this.signalingLayer.off(h.PEER_MUTED_CHANGED,this._peerMutedChanged),this.signalingLayer.off(h.PEER_VIDEO_TYPE_CHANGED,this._peerVideoTypeChanged),this._usesUnifiedPlan&&this.peerconnection.removeEventListener('track',this.onTrack);for(var t,n=b(this.remoteTracks.values());!(t=n()).done;)for(var s,o=b(t.value.values());!(s=o()).done;)for(var c,u=b(s.value);!(c=u()).done;){var l=c.value;this._removeRemoteTrack(l)}this.remoteTracks.clear(),this._addedStreams=[],this._dtmfSender=null,this._dtmfTonesQueue=[],this.rtc._removePeerConnection(this)||B.error(this+" RTC._removePeerConnection returned false"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),B.info(this+" Closing peerconnection"),this.peerconnection.close()},F.prototype.createAnswer=function(t){return this._createOfferOrAnswer(!1,t)},F.prototype.createOffer=function(t){return this._createOfferOrAnswer(!0,t)},F.prototype._createOfferOrAnswer=function(t,n){var s,o,c,l=this,h=t?'Offer':'Answer';this.trace("create"+h,JSON.stringify(n,null,' '));var v=function(t,n,s){try{l.trace("create"+h+"OnSuccess::preTransform",j(t)),l._usesUnifiedPlan||(l.hasAnyTracksOfType(f.MediaType.VIDEO)||l.sdpConsistency.hasPrimarySsrcCached()||l.generateRecvonlySsrc(),t=new RTCSessionDescription({type:t.type,sdp:l.sdpConsistency.makeVideoPrimarySsrcsConsistent(t.sdp)}),l.trace("create"+h+"OnSuccess::postTransform (make primary audio/video ssrcs consistent)",j(t)));var o=l.getLocalVideoTracks()[0];l.isSimulcastOn()&&y.default.usesSdpMungingForSimulcast()&&((null===o||void 0===o?void 0:o.getVideoType())===S.VideoType.CAMERA||l._usesUnifiedPlan||!l.isSharingLowFpsScreen())&&(t=l.simulcast.mungeLocalDescription(t),l.trace("create"+h+" OnSuccess::postTransform (simulcast)",j(t))),!l.options.disableRtx&&y.default.usesSdpMungingForSimulcast()&&(t=new RTCSessionDescription({type:t.type,sdp:l.rtxModifier.modifyRtxSsrcs(t.sdp)}),l.trace("create"+h+'OnSuccess::postTransform (rtx modifier)',j(t)));var c=l._extractSSRCMap(t);l._processLocalSSRCsMap(c),n(t)}catch(n){l.trace("create"+h+"OnError",n),l.trace("create"+h+"OnError",j(t)),B.error(l+" create"+h+"OnError",n,j(t)),s(n)}},T=function(n,s){l.trace("create"+h+"OnFailure",n);var o=t?p.default.CREATE_OFFER_FAILED:p.default.CREATE_ANSWER_FAILED;l.eventEmitter.emit(o,n,l),s(n)};if(this._usesTransceiverCodecPreferences){var _=this.peerconnection.getTransceivers().find(function(t){var n,s;return t.receiver&&(null===(s=null===(n=t.receiver)||void 0===n?void 0:n.track)||void 0===s?void 0:s.kind)===f.MediaType.VIDEO});if(_){var D=null===(s=RTCRtpReceiver.getCapabilities(f.MediaType.VIDEO))||void 0===s?void 0:s.codecs,E=null===(o=this.codecPreference)||void 0===o?void 0:o.mimeType,C=null===(c=this.codecPreference)||void 0===c?void 0:c.enable;D&&E&&C?D.sort(function(t){return t.mimeType.toLowerCase()===f.MediaType.VIDEO+"/"+E?-1:1}):D&&E&&(D=D.filter(function(t){return t.mimeType.toLowerCase()!==f.MediaType.VIDEO+"/"+E})),y.default.isChromiumBased()&&(D=D.filter(function(t){return t.mimeType.toLowerCase()!==f.MediaType.VIDEO+"/"+u.ULPFEC}));try{_.setCodecPreferences(D)}catch(t){B.warn(this+" Setting codec[preference="+E+",enable="+C+"] failed",t)}}}return new Promise(function(s,o){(t?l.peerconnection.createOffer(n):l.peerconnection.createAnswer(n)).then(function(t){return v(t,s,o)},function(t){return T(t,o)})})},F.prototype._extractPrimarySSRC=function(t){return t&&t.groups&&t.groups.length?t.groups[0].ssrcs[0]:t&&t.ssrcs&&t.ssrcs.length?t.ssrcs[0]:null},F.prototype._processLocalSSRCsMap=function(t){for(var n,s=b(this.localTracks.values());!(n=s()).done;){var o=n.value,c=void 0,u=void 0;_.default.isMultiStreamSupportEnabled()&&(c=(null===(u=o.getSourceName())||void 0===u?void 0:u.indexOf('-'))+2);var l=this._usesUnifiedPlan?_.default.isMultiStreamSupportEnabled()&&c?o.getType()+"-"+u.substr(c,1):o.getType():o.storedMSID;if(t.has(l)){var f=t.get(l);if(!f)return void B.error(this+" No SSRC found for stream="+l);var h=this.localSSRCs.get(o.rtcId),v=this._extractPrimarySSRC(f),S=this._extractPrimarySSRC(h);v!==S&&(S&&B.error(this+" Overwriting SSRC for track="+o+"] with ssrc="+f),this.localSSRCs.set(o.rtcId,f),this.eventEmitter.emit(p.default.LOCAL_TRACK_SSRC_UPDATED,o,v))}else o.isVideoTrack()||o.isMuted()||B.warn(this+" No SSRCs found in the local SDP for track="+o+", stream="+l)}},F.prototype.addIceCandidate=function(t){return this.trace('addIceCandidate',JSON.stringify({candidate:t.candidate,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex,usernameFragment:t.usernameFragment},null,' ')),this.peerconnection.addIceCandidate(t)},F.prototype.getActiveSimulcastStreams=function(){var t,n=1;return this.isSimulcastOn()&&this.encodingsEnabledState?n=null===(t=this.encodingsEnabledState.filter(function(t){return Boolean(t)}))||void 0===t?void 0:t.length:this.isSimulcastOn()&&(n=V.SIM_LAYER_RIDS.length),n},F.prototype.getStats=function(){return this.peerconnection.getStats()},F.prototype.generateNewStreamSSRCInfo=function(t){var n=t.rtcId,s=this._getSSRC(n);if(s&&B.error(this+" Overwriting local SSRCs for track id="+n),!this.isSimulcastOn()||t.getVideoType()!==S.VideoType.CAMERA&&this.isSharingLowFpsScreen())s={ssrcs:[R.default.generateSsrc()],groups:[]};else{s={ssrcs:[],groups:[]};for(var o=0;o<V.SIM_LAYER_RIDS.length;o++)s.ssrcs.push(R.default.generateSsrc());s.groups.push({ssrcs:s.ssrcs.slice(),semantics:'SIM'})}if(!this.options.disableRtx)for(var c=s.ssrcs.length,u=0;u<c;++u){var l=s.ssrcs[u],f=R.default.generateSsrc();s.ssrcs.push(f),s.groups.push({ssrcs:[l,f],semantics:'FID'})}return s.msid=t.storedMSID,this.localSSRCs.set(n,s),s},F.prototype.usesUnifiedPlan=function(){return this._usesUnifiedPlan},F.prototype.toString=function(){return"TPC[id="+this.id+",type="+(this.isP2P?'P2P':'JVB')+"]"}},689,[2,41,435,690,653,648,649,589,593,697,698,594,650,568,590,699,701,651,657,702,703,700,584,704,669,675,706,707]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})},690,[691]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Interop=void 0;var s=n(r(d[1])),t=n(r(d[2])),o=n(r(d[3])),u=n(r(d[4])),c=['audio','video','data'],f=function(n){return n.find(function(n){return'SIM'===n.semantics})},p=function(n){return n.find(function(n){return'FID'===n.semantics})};function l(n,s,t,o){if(n&&s){var u=function(n){return o.find(function(s){return s.id.toString()===n})};s.ssrcs.forEach(function(s){n.sources.push(u(s));var o=t[parseInt(s,10)].find(function(n){return'FID'===n.semantics});if(o){var c=o.ssrcs.find(function(n){return n!==s});n.sources.push(u(c)),n.ssrcGroups.push(o)}}),n.ssrcGroups.push(s)}}function v(n,s,t,o){if(n&&s){if(n.sources=[],n.ssrcGroups=[],!t[s.id])return n.sources.push(s),void(n.msid=s.msid);var u=function(n){return o.find(function(s){return s.id.toString()===n})},c=f(t[s.id]),v=p(t[s.id]);if(c)l(n,c,t,o);else if(v){var h=v.ssrcs.find(function(n){return n!==s}),y=f(t[h]);y?l(n,y,t,o):(v.ssrcs.forEach(function(s){n.sources.push(u(s))}),n.ssrcGroups.push(v))}n.msid=n.sources[0].msid}}function h(n,s,t){if(!t.find(function(s){return!!s.sources&&s.sources.some(function(s){return s.id===n.id})})){if(!s[n.id])return!1;var o=f(s[n.id]),u=p(s[n.id]);return o?t.some(function(n){return n.sources&&n.sources.some(function(n){return n.id.toString()===o.ssrcs[0]})}):!(!u||n.id.toString()===u.ssrcs[0])&&h({id:u.ssrcs[0]},s,t)}return!0}function y(n){var s={};return n&&Array.isArray(n)?(n.forEach(function(n){n.ssrcs&&Array.isArray(n.ssrcs)&&n.ssrcs.forEach(function(t){void 0===s[t]&&(s[t]=[]),s[t].push(n)})}),s):s}function w(n,s){if(!n||!s||0===n.media.length||0===s.media.length)return!1;var t=n.media[0],o=s.media[0];return t.iceUfrag!==o.iceUfrag||t.icePwd!==o.icePwd}var E=(function(){function n(){(0,s.default)(this,n)}return(0,t.default)(n,[{key:"toPlanB",value:function(n){if(!n||'string'!=typeof n.sdp)return console.warn('An empty description was passed as an argument.'),n;var s=u.default.parse(n.sdp);if(!s.media||!s.media.length)return console.warn('The description has no media.'),n;if(s.media.every(function(n){return-1!==c.indexOf(n.mid)}))return console.warn('The description does not look like unified plan sdp'),n;var t={},f=s.media;s.media=[],f.forEach(function(n){var s=n.type;if('application'===s)return n.mid='data',void(t[n.mid]=n);if(void 0===t[s]){var u=(0,o.default)(n);u.sources&&Array.isArray(u.sources)&&u.sources.forEach(function(s){n.msid?s.msid=n.msid:delete s.msid}),u.ssrcGroups&&n.msid||(u.ssrcGroups=[]),delete u.msid,u.mid=s,t[s]=u}else if(n.msid){var c=(0,o.default)(n);c.sources&&Array.isArray(c.sources)&&(c.sources.forEach(function(s){s.msid=n.msid}),t[s].sources=(t[s].sources||[]).concat(c.sources)),void 0!==c.ssrcGroups&&Array.isArray(c.ssrcGroups)&&(t[s].ssrcGroups=(t[s].ssrcGroups||[]).concat(c.ssrcGroups))}}),s.media=Object.values(t);var p=[];Object.values(t).forEach(function(n){'inactive'!==n.direction&&p.push(n.mid)}),s.groups.forEach(function(n){'BUNDLE'===n.type&&(n.mids=p.join(' '))}),s.msidSemantic={semantic:'WMS',token:'*'};var l=u.default.write(s);return new RTCSessionDescription({type:n.type,sdp:l})}},{key:"toUnifiedPlan",value:function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!n||'string'!=typeof n.sdp)return console.warn('An empty description was passed as an argument.'),n;var t=u.default.parse(n.sdp);if(!t.media||!t.media.length)return console.warn('The description has no media.'),n;if(t.media.length>3||t.media.every(function(n){return-1===c.indexOf(n.mid)}))return console.warn('The description does not look like plan-b'),n;var f=s?u.default.parse(s.sdp):null,p=w(t,f),l=t.media[0].iceUfrag,E=t.media[0].icePwd,S=t.media[0].fingerprint,A={};t.media.forEach(function(n){var s=n.type;if('application'!==s){var t=y(n.ssrcGroups);if(n.sources)n.sources.forEach(function(s,u){if(s.msid){if(!f||!f.media){if(h(s,t,Object.values(A)))return;var c=(0,o.default)(n);return c.mid=Object.keys(A).length.toString(),c.direction=u?'sendonly':'sendonly'===n.direction?'sendonly':'sendrecv',c.bundleOnly=void 0,v(c,s,t,n.sources),void(A[c.mid]=c)}if(!h(s,t,f.media)){var p=(0,o.default)(n);p.mid=f.media.length.toString(),p.direction='sendonly',v(p,s,t,n.sources),f.media.push(p)}}});else if(!f){var u=(0,o.default)(n);u.mid=Object.keys(A).length.toString(),A[n.mid]=u}}else{if(!f||!f.media){var c=(0,o.default)(n);return c.mid=Object.keys(A).length.toString(),void(A[n.mid]=c)}var p=f.media.findIndex(function(n){return n.type===s});p&&(f.media[p]=n,f.media[p].mid=p)}}),t.media=f?f.media:Object.values(A);var G=[];t.media.forEach(function(n){G.push(n.mid),p&&(n.iceUfrag=l,n.icePwd=E,n.fingerprint=S)}),t.groups.forEach(function(n){'BUNDLE'===n.type&&(n.mids=G.join(' '))}),t.msidSemantic={semantic:'WMS',token:'*'},t.origin.sessionVersion++;var k=u.default.write(t);return new RTCSessionDescription({type:n.type,sdp:k})}}]),n})();e.Interop=E},691,[2,12,13,652,692]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=s(r(d[1])),o={write:function(s,o){return void 0!==s&&void 0!==s.media&&Array.isArray(s.media)&&s.media.forEach(function(s){s.sources&&s.sources.length&&(s.ssrcs=[],s.sources.forEach(function(c){Object.keys(c).forEach(function(o){'id'!==o&&s.ssrcs.push({id:c.id,attribute:o,value:c[o]})})}),delete s.sources),s.ssrcGroups&&s.ssrcGroups.length&&s.ssrcGroups.forEach(function(s){void 0!==s.ssrcs&&Array.isArray(s.ssrcs)&&(s.ssrcs=s.ssrcs.join(' '))})}),c.default.write(s,o)},parse:function(s){var o=c.default.parse(s);return void 0!==o&&void 0!==o.media&&Array.isArray(o.media)&&o.media.forEach(function(s){void 0!==s.ssrcs&&Array.isArray(s.ssrcs)&&(s.sources=[],s.ssrcs.forEach(function(c){var o=s.sources.findIndex(function(s){return s.id===c.id});if(o>-1)s.sources[o][c.attribute]=c.value;else{var u={id:c.id};u[c.attribute]=c.value,s.sources.push(u)}}),delete s.ssrcs),void 0!==s.ssrcGroups&&Array.isArray(s.ssrcGroups)&&s.ssrcGroups.forEach(function(s){'string'==typeof s.ssrcs&&(s.ssrcs=s.ssrcs.split(' '))})}),o}};e.default=o},692,[2,693]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]),t=r(d[1]);e.write=t,e.parse=s.parse,e.parseParams=s.parseParams,e.parseFmtpConfig=s.parseFmtpConfig,e.parsePayloads=s.parsePayloads,e.parseRemoteCandidates=s.parseRemoteCandidates,e.parseImageAttributes=s.parseImageAttributes,e.parseSimulcastStreamList=s.parseSimulcastStreamList},693,[694,696]);
__d(function(g,r,i,a,m,e,d){var t=function(t){return String(Number(t))===t?Number(t):t},n=function(n,u,s,p){if(p&&!s)u[p]=t(n[1]);else for(var o=0;o<s.length;o+=1)null!=n[o+1]&&(u[s[o]]=t(n[o+1]))},u=function(t,u,s){var p=t.name&&t.names;t.push&&!u[t.push]?u[t.push]=[]:p&&!u[t.name]&&(u[t.name]={});var o=t.push?{}:p?u[t.name]:u;n(s.match(t.reg),o,t.names,t.name),t.push&&u[t.push].push(o)},s=r(d[0]),p=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(t){var n={},o=[],l=n;return t.split(/(\r\n|\r|\n)/).filter(p).forEach(function(t){var n=t[0],p=t.slice(2);'m'===n&&(o.push({rtp:[],fmtp:[]}),l=o[o.length-1]);for(var f=0;f<(s[n]||[]).length;f+=1){var c=s[n][f];if(c.reg.test(p))return u(c,l,p)}}),n.media=o,n};var o=function(n,u){var s=u.split(/=(.+)/,2);return 2===s.length?n[s[0]]=t(s[1]):1===s.length&&u.length>1&&(n[s[0]]=void 0),n};e.parseParams=function(t){return t.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(t){return t.toString().split(' ').map(Number)},e.parseRemoteCandidates=function(n){for(var u=[],s=n.split(' ').map(t),p=0;p<s.length;p+=3)u.push({component:s[p],ip:s[p+1],port:s[p+2]});return u},e.parseImageAttributes=function(t){return t.split(' ').map(function(t){return t.substring(1,t.length-1).split(',').reduce(o,{})})},e.parseSimulcastStreamList=function(n){return n.split(';').map(function(n){return n.split(',').map(function(n){var u,s=!1;return'~'!==n[0]?u=t(n):(u=t(n.substring(1,n.length)),s=!0),{scid:u,paused:s}})})}},694,[695]);
__d(function(g,r,i,a,m,e,d){var s=m.exports={v:[{name:'version',reg:/^(\d*)$/}],o:[{name:'origin',reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:['username','sessionId','sessionVersion','netType','ipVer','address'],format:'%s %s %d %s IP%d %s'}],s:[{name:'name'}],i:[{name:'description'}],u:[{name:'uri'}],e:[{name:'email'}],p:[{name:'phone'}],z:[{name:'timezones'}],r:[{name:'repeats'}],t:[{name:'timing',reg:/^(\d*) (\d*)/,names:['start','stop'],format:'%d %d'}],c:[{name:'connection',reg:/^IN IP(\d) (\S*)/,names:['version','ip'],format:'IN IP%d %s'}],b:[{push:'bandwidth',reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:['type','limit'],format:'%s:%s'}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:['type','port','protocol','payloads'],format:'%s %d %s %s'}],a:[{push:'rtp',reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:['payload','codec','rate','encoding'],format:function(s){return s.encoding?'rtpmap:%d %s/%s/%s':s.rate?'rtpmap:%d %s/%s':'rtpmap:%d %s'}},{push:'fmtp',reg:/^fmtp:(\d*) ([\S| ]*)/,names:['payload','config'],format:'fmtp:%d %s'},{name:'control',reg:/^control:(.*)/,format:'control:%s'},{name:'rtcp',reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:['port','netType','ipVer','address'],format:function(s){return null!=s.address?'rtcp:%d %s IP%d %s':'rtcp:%d'}},{push:'rtcpFbTrrInt',reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:['payload','value'],format:'rtcp-fb:%s trr-int %d'},{push:'rtcpFb',reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:['payload','type','subtype'],format:function(s){return null!=s.subtype?'rtcp-fb:%s %s %s':'rtcp-fb:%s %s'}},{push:'ext',reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:['value','direction','encrypt-uri','uri','config'],format:function(s){return'extmap:%d'+(s.direction?'/%s':'%v')+(s['encrypt-uri']?' %s':'%v')+' %s'+(s.config?' %s':'')}},{name:'extmapAllowMixed',reg:/^(extmap-allow-mixed)/},{push:'crypto',reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:['id','suite','config','sessionConfig'],format:function(s){return null!=s.sessionConfig?'crypto:%d %s %s %s':'crypto:%d %s %s'}},{name:'setup',reg:/^setup:(\w*)/,format:'setup:%s'},{name:'connectionType',reg:/^connection:(new|existing)/,format:'connection:%s'},{name:'mid',reg:/^mid:([^\s]*)/,format:'mid:%s'},{name:'msid',reg:/^msid:(.*)/,format:'msid:%s'},{name:'ptime',reg:/^ptime:(\d*(?:\.\d*)*)/,format:'ptime:%d'},{name:'maxptime',reg:/^maxptime:(\d*(?:\.\d*)*)/,format:'maxptime:%d'},{name:'direction',reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:'icelite',reg:/^(ice-lite)/},{name:'iceUfrag',reg:/^ice-ufrag:(\S*)/,format:'ice-ufrag:%s'},{name:'icePwd',reg:/^ice-pwd:(\S*)/,format:'ice-pwd:%s'},{name:'fingerprint',reg:/^fingerprint:(\S*) (\S*)/,names:['type','hash'],format:'fingerprint:%s %s'},{push:'candidates',reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:['foundation','component','transport','priority','ip','port','type','raddr','rport','tcptype','generation','network-id','network-cost'],format:function(s){var t='candidate:%s %d %s %d %s %d typ %s';return t+=null!=s.raddr?' raddr %s rport %d':'%v%v',t+=null!=s.tcptype?' tcptype %s':'%v',null!=s.generation&&(t+=' generation %d'),t+=null!=s['network-id']?' network-id %d':'%v',t+=null!=s['network-cost']?' network-cost %d':'%v'}},{name:'endOfCandidates',reg:/^(end-of-candidates)/},{name:'remoteCandidates',reg:/^remote-candidates:(.*)/,format:'remote-candidates:%s'},{name:'iceOptions',reg:/^ice-options:(\S*)/,format:'ice-options:%s'},{push:'ssrcs',reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:['id','attribute','value'],format:function(s){var t='ssrc:%d';return null!=s.attribute&&(t+=' %s',null!=s.value&&(t+=':%s')),t}},{push:'ssrcGroups',reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:['semantics','ssrcs'],format:'ssrc-group:%s %s'},{name:'msidSemantic',reg:/^msid-semantic:\s?(\w*) (\S*)/,names:['semantic','token'],format:'msid-semantic: %s %s'},{push:'groups',reg:/^group:(\w*) (.*)/,names:['type','mids'],format:'group:%s %s'},{name:'rtcpMux',reg:/^(rtcp-mux)/},{name:'rtcpRsize',reg:/^(rtcp-rsize)/},{name:'sctpmap',reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:['sctpmapNumber','app','maxMessageSize'],format:function(s){return null!=s.maxMessageSize?'sctpmap:%s %s %s':'sctpmap:%s %s'}},{name:'xGoogleFlag',reg:/^x-google-flag:([^\s]*)/,format:'x-google-flag:%s'},{push:'rids',reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:['id','direction','params'],format:function(s){return s.params?'rid:%s %s %s':'rid:%s %s'}},{push:'imageattrs',reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:['pt','dir1','attrs1','dir2','attrs2'],format:function(s){return'imageattr:%s %s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast',reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:['dir1','list1','dir2','list2'],format:function(s){return'simulcast:%s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast_03',reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:['value'],format:'simulcast: %s'},{name:'framerate',reg:/^framerate:(\d+(?:$|\.\d+))/,format:'framerate:%s'},{name:'sourceFilter',reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:['filterMode','netType','addressTypes','destAddress','srcList'],format:'source-filter: %s %s %s %s %s'},{name:'bundleOnly',reg:/^(bundle-only)/},{name:'label',reg:/^label:(.+)/,format:'label:%s'},{name:'sctpPort',reg:/^sctp-port:(\d+)$/,format:'sctp-port:%s'},{name:'maxMessageSize',reg:/^max-message-size:(\d+)$/,format:'max-message-size:%s'},{push:'tsRefClocks',reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:['clksrc','clksrcExt'],format:function(s){return'ts-refclk:%s'+(null!=s.clksrcExt?'=%s':'')}},{name:'mediaClk',reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:['id','mediaClockName','mediaClockValue','rateNumerator','rateDenominator'],format:function(s){var t='mediaclk:';return t+=null!=s.id?'id=%s %s':'%v%s',t+=null!=s.mediaClockValue?'=%s':'',t+=null!=s.rateNumerator?' rate=%s':'',t+=null!=s.rateDenominator?'/%s':''}},{name:'keywords',reg:/^keywds:(.+)$/,format:'keywds:%s'},{name:'content',reg:/^content:(.+)/,format:'content:%s'},{name:'bfcpFloorCtrl',reg:/^floorctrl:(c-only|s-only|c-s)/,format:'floorctrl:%s'},{name:'bfcpConfId',reg:/^confid:(\d+)/,format:'confid:%s'},{name:'bfcpUserId',reg:/^userid:(\d+)/,format:'userid:%s'},{name:'bfcpFloorId',reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:['id','mStream'],format:'floorid:%s mstrm:%s'},{push:'invalid',names:['value']}]};Object.keys(s).forEach(function(t){s[t].forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format='%s')})})},695,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),u=/%[sdv%]/g,o=function(n){var o=1,s=arguments,t=s.length;return n.replace(u,function(n){if(o>=t)return n;var u=s[o];switch(o+=1,n){case'%%':return'%';case'%s':return String(u);case'%d':return Number(u);case'%v':return''}})},s=function(n,u,s){var t=[n+'='+(u.format instanceof Function?u.format(u.push?s:s[u.name]):u.format)];if(u.names)for(var c=0;c<u.names.length;c+=1){var f=u.names[c];u.name?t.push(s[u.name][f]):t.push(s[u.names[c]])}else t.push(s[u.name]);return o.apply(null,t)},t=['v','o','s','i','u','e','p','c','b','t','r','z','a'],c=['i','c','b','a'];m.exports=function(u,o){o=o||{},null==u.version&&(u.version=0),null==u.name&&(u.name=' '),u.media.forEach(function(n){null==n.payloads&&(n.payloads='')});var f=o.outerOrder||t,h=o.innerOrder||c,l=[];return f.forEach(function(o){n[o].forEach(function(n){n.name in u&&null!=u[n.name]?l.push(s(o,n,u)):n.push in u&&null!=u[n.push]&&u[n.push].forEach(function(u){l.push(s(o,n,u))})})}),u.media.forEach(function(u){l.push(s('m',n.m[0],u)),h.forEach(function(o){n[o].forEach(function(n){n.name in u&&null!=u[n.name]?l.push(s(o,n,u)):n.push in u&&null!=u[n.push]&&u[n.push].forEach(function(u){l.push(s(o,n,u))})})})}),l.join('\r\n')+'\r\n'}},696,[695]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e.SignalingEvents=e.SOURCE_VIDEO_TYPE_CHANGED=e.SOURCE_MUTED_CHANGED=e.PEER_VIDEO_TYPE_CHANGED=e.PEER_MUTED_CHANGED=void 0,e.SignalingEvents=E,(function(E){E.PEER_MUTED_CHANGED="signaling.peerMuted",E.PEER_VIDEO_TYPE_CHANGED="signaling.peerVideoType",E.SOURCE_MUTED_CHANGED="signaling.sourceMuted",E.SOURCE_VIDEO_TYPE_CHANGED="signaling.sourceVideoType"})(E||(e.SignalingEvents=E={}));var _=E.PEER_MUTED_CHANGED;e.PEER_MUTED_CHANGED=_;var D=E.PEER_VIDEO_TYPE_CHANGED;e.PEER_VIDEO_TYPE_CHANGED=D;var C=E.SOURCE_MUTED_CHANGED;e.SOURCE_MUTED_CHANGED=C;var n=E.SOURCE_VIDEO_TYPE_CHANGED;e.SOURCE_VIDEO_TYPE_CHANGED=n},697,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.getMediaTypeFromSourceName=function(t){var n=t.indexOf('-')+1;if(n<=0)throw new Error("Invalid source name: "+t);for(var o=t.substr(n,1),u=0,f=Object.values(s.MediaType);u<f.length;u++){var c=f[u];if(c.substr(0,1)===o)return c}throw new Error("Invalid source name: "+t)},e.getSourceNameForJitsiTrack=function(t,n,o){var u=n.substring(0,1);return t+"-"+u+o};var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),f=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),s=r(d[7]);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var p=(function(t){(0,u.default)(h,t);var l,s,p=(l=h,s=v(),function(){var t,n=(0,c.default)(l);if(s){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function h(){return(0,n.default)(this,h),p.apply(this,arguments)}return(0,o.default)(h,[{key:"getSSRCOwner",value:function(t){throw new Error('not implemented')}},{key:"getPeerMediaInfo",value:function(t,n){throw new Error('not implemented')}},{key:"getPeerSourceInfo",value:function(t,n){throw new Error('not implemented')}},{key:"getTrackSourceName",value:function(t){throw new Error('not implemented')}}]),h})(l.default);e.default=p},698,[2,12,13,20,22,19,609,589]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),u=r(d[4]),l=r(d[5]),c=r(d[6]),v=r(d[7]),p=r(d[8]),f=t(r(d[9])),h=r(d[10]);function S(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=M(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(t,n){if(t){if("string"==typeof t)return y(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var b=(0,u.getLogger)(__filename),T=(function(){function t(n,o){(0,s.default)(this,t),this.tpc=n,this.localEndpointId=o,this.audioSourcesToMsidMap=new Map,this.videoSourcesToMsidMap=new Map}return(0,o.default)(t,[{key:"_addMutedLocalVideoTracksToSDP",value:function(t){var n,s=this.tpc.getLocalTracks(c.MediaType.VIDEO);if(!s.length)return!1;1!==s.length&&b.error(this.tpc+" there is more than 1 video track ! Strange things may happen !",s);var o=null===(n=t.selectMedia(c.MediaType.VIDEO))||void 0===n?void 0:n[0];if(!o)return b.debug(this.tpc+" unable to hack local video track SDP- no \"video\" media"),!1;for(var u,v=!1,f=S(s);!(u=f()).done;){var h=u.value,M=h.isMuted(),y=h.getOriginalStream(),T=h.videoType===p.VideoType.CAMERA,I=y&&this.tpc.isMediaStreamInPc(y);if(T&&(M||!I)){var w=this.tpc.isSimulcastOn()?this.tpc.simulcast.ssrcCache:[this.tpc.sdpConsistency.cachedPrimarySsrc];if(w.length){v=!0,o.direction=l.MediaDirection.SENDRECV;for(var D,E="injected-"+w[0],_=S(w);!(D=_()).done;){var k=D.value;o.removeSSRC(k),o.addSSRCAttribute({id:k,attribute:'cname',value:E}),o.addSSRCAttribute({id:k,attribute:'msid',value:h.storedMSID})}if(w.length>1){var A={ssrcs:w.join(' '),semantics:'SIM'};o.findGroup(A.semantics,A.ssrcs)||o.addSSRCGroup(A)}this.tpc.options.disableRtx||this.tpc.rtxModifier.modifyRtxSsrcs2(o)}else b.error("No SSRCs stored for: "+h+" in "+this.tpc)}}return v}},{key:"_generateMsidAttribute",value:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t||!n)return b.error("Unable to munge local MSID - track id="+n+" or media type="+t+" is missing"),null;var o=this.tpc.id;return'-'!==s&&s?s+"-"+o+" "+n+"-"+o:this.localEndpointId+"-"+t+"-"+o+" "+n+"-"+o}},{key:"_transformMediaIdentifiers",value:function(t){for(var s,o,u,l,v,p=this,h=null===(s=t.mLine)||void 0===s?void 0:s.type,M=this.tpc.id,y=S(t.ssrcs);!(v=y()).done;){var T=v.value;switch(T.attribute){case'cname':case'label':case'mslabel':T.value=T.value&&T.value+"-"+M;break;case'msid':if(T.value){var I=T.value.split(' '),w=I[0],D=I[1];f.default.isSourceNameSignalingEnabled()&&(w=this.localEndpointId+"-"+h,h===c.MediaType.VIDEO?this.videoSourcesToMsidMap.has(D)||(w=w+"-"+this.videoSourcesToMsidMap.size,this.videoSourcesToMsidMap.set(D,w)):this.audioSourcesToMsidMap.has(D)||(w=w+"-"+this.audioSourcesToMsidMap.size,this.audioSourcesToMsidMap.set(D,w)),w=h===c.MediaType.VIDEO?this.videoSourcesToMsidMap.get(D):this.audioSourcesToMsidMap.get(D)),T.value=this._generateMsidAttribute(h,D,w)}else b.warn("Unable to munge local MSID - weird format detected: "+T.value)}}if(this.tpc.usesUnifiedPlan())for(var E,_=null===(o=t.mLine)||void 0===o?void 0:o.msid,k=_&&_.split(' ')[1],A=function(n){if(!t.ssrcs.find(function(t){return t.id===n&&'msid'===t.attribute})&&k){var s=p._generateMsidAttribute(h,k);t.ssrcs.push({id:n,attribute:'msid',value:s})}},R=S((0,n.default)(new Set(null===(l=null===(u=t.mLine)||void 0===u?void 0:u.ssrcs)||void 0===l?void 0:l.map(function(t){return t.id}))));!(E=R()).done;){A(E.value)}}},{key:"maybeAddMutedLocalVideoTracksToSDP",value:function(t){if(!t)throw new Error('No local description passed in.');var n=new h.SdpTransformWrap(t.sdp);return this._addMutedLocalVideoTracksToSDP(n)?new RTCSessionDescription({type:t.type,sdp:n.toRawSDP()}):t}},{key:"transformStreamIdentifiers",value:function(t){var n;if(!t||!t.sdp||!t.type)return t;var s=new h.SdpTransformWrap(t.sdp),o=null===(n=s.selectMedia(c.MediaType.AUDIO))||void 0===n?void 0:n[0];o&&(this._transformMediaIdentifiers(o),this._injectSourceNames(o));var u=s.selectMedia(c.MediaType.VIDEO);f.default.isMultiStreamSupportEnabled()||u.splice(1);for(var l,v=S(u);!(l=v()).done;){var p=l.value;this._transformMediaIdentifiers(p),this._injectSourceNames(p)}return f.default.isSourceNameSignalingEnabled()&&!this.tpc._usesUnifiedPlan&&(this.audioSourcesToMsidMap.clear(),this.videoSourcesToMsidMap.clear()),new RTCSessionDescription({type:t.type,sdp:s.toRawSDP()})}},{key:"_injectSourceNames",value:function(t){var s,o,u,l,c=this;if(f.default.isSourceNameSignalingEnabled()){var p=(0,n.default)(new Set(null===(o=null===(s=t.mLine)||void 0===s?void 0:s.ssrcs)||void 0===o?void 0:o.map(function(t){return t.id}))),h=null===(u=t.mLine)||void 0===u?void 0:u.type;if(!h)throw new Error('_transformMediaIdentifiers - no media type in mediaSection');for(var M,y=function(n){var s,o=t.ssrcs.find(function(t){return t.id===n&&'name'===t.attribute}),u=null===(l=t.ssrcs.find(function(t){return t.id===n&&'msid'===t.attribute}))||void 0===l?void 0:l.value;u&&(s=u.split(' ')[0].split('-')[2]);o||t.ssrcs.push({id:n,attribute:'name',value:(0,v.getSourceNameForJitsiTrack)(c.localEndpointId,h,s)})},b=S(p);!(M=b()).done;){y(M.value)}}}}]),t})();e.default=T},699,[2,41,12,13,435,649,589,698,594,590,700]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.SdpTransformWrap=void 0,e.parsePrimarySSRC=p,e.parseSecondarySSRC=h;var n=t(r(d[1])),s=t(r(d[2])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=o(n);if(s&&s.has(t))return s.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var l=c?Object.getOwnPropertyDescriptor(t,f):null;l&&(l.get||l.set)?Object.defineProperty(u,f,l):u[f]=t[f]}u.default=t,s&&s.set(t,u);return u})(r(d[3]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(o=function(t){return t?s:n})(t)}function c(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=f(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,n){if(t){if("string"==typeof t)return l(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?l(t,n):void 0}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,u=new Array(n);s<n;s++)u[s]=t[s];return u}function p(t){return parseInt(t.ssrcs.split(' ')[0],10)}function h(t){return parseInt(t.ssrcs.split(' ')[1],10)}function y(t){return t.ssrcs?t.ssrcs.map(function(t){return t.id}).filter(function(t,n,s){return s.indexOf(t)===n}).length:0}var v=(function(){function t(s){if((0,n.default)(this,t),!s)throw new Error('mLine is undefined');this.mLine=s}return(0,s.default)(t,[{key:"ssrcs",get:function(){return this.mLine.ssrcs||(this.mLine.ssrcs=[]),this.mLine.ssrcs},set:function(t){this.mLine.ssrcs=t}},{key:"direction",get:function(){return this.mLine.direction},set:function(t){this.mLine.direction=t}},{key:"ssrcGroups",get:function(){return this.mLine.ssrcGroups||(this.mLine.ssrcGroups=[]),this.mLine.ssrcGroups},set:function(t){this.mLine.ssrcGroups=t}},{key:"getSSRCAttrValue",value:function(t,n){var s=this.ssrcs.find(function(s){return s.id===t&&s.attribute===n});return s&&s.value}},{key:"removeSSRC",value:function(t){this.mLine.ssrcs&&this.mLine.ssrcs.length&&(this.mLine.ssrcs=this.mLine.ssrcs.filter(function(n){return n.id!==t}))}},{key:"addSSRCAttribute",value:function(t){this.ssrcs.push(t)}},{key:"findGroup",value:function(t,n){return this.ssrcGroups.find(function(s){return s.semantics===t&&(!n||n===s.ssrcs)})}},{key:"findGroups",value:function(t){return this.ssrcGroups.filter(function(n){return n.semantics===t})}},{key:"findGroupByPrimarySSRC",value:function(t,n){return this.ssrcGroups.find(function(s){return s.semantics===t&&p(s)===n})}},{key:"findSSRCByMSID",value:function(t){return this.ssrcs.find(function(n){return'msid'===n.attribute&&(null===t||n.value===t)})}},{key:"getSSRCCount",value:function(){return y(this.mLine)}},{key:"containsAnySSRCGroups",value:function(){return void 0!==this.mLine.ssrcGroups}},{key:"getPrimaryVideoSsrc",value:function(){var t=this.mLine.type;if('video'!==t)throw new Error("getPrimarySsrc doesn't work with '"+t+"'");if(1===y(this.mLine))return this.mLine.ssrcs[0].id;if(this.mLine.ssrcGroups){var n=this.findGroup('SIM');if(n)return p(n);var s=this.findGroup('FID');if(s)return p(s);var u=this.findGroup('FEC-FR');if(u)return p(u)}}},{key:"getRtxSSRC",value:function(t){var n=this.findGroupByPrimarySSRC('FID',t);return n&&h(n)}},{key:"getSSRCs",value:function(){return this.ssrcs.map(function(t){return t.id}).filter(function(t,n,s){return s.indexOf(t)===n})}},{key:"getPrimaryVideoSSRCs",value:function(){var t=this.mLine.type;if('video'!==t)throw new Error("getPrimaryVideoSSRCs doesn't work with "+t);for(var n,s=this.getSSRCs(),u=c(this.ssrcGroups);!(n=u()).done;){var o=n.value;if('FID'===o.semantics||'FEC-FR'===o.semantics){var f=h(o);s.splice(s.indexOf(f),1)}}return s}},{key:"dumpSSRCGroups",value:function(){return JSON.stringify(this.mLine.ssrcGroups)}},{key:"removeGroupsWithSSRC",value:function(t){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(n){return-1===n.ssrcs.indexOf(""+t)}))}},{key:"removeGroupsBySemantics",value:function(t){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(n){return n.semantics!==t}))}},{key:"replaceSSRC",value:function(t,n){this.mLine.ssrcs&&this.mLine.ssrcs.forEach(function(s){s.id===t&&(s.id=n)})}},{key:"addSSRCGroup",value:function(t){this.ssrcGroups.push(t)}}]),t})(),S=(function(){function t(s){(0,n.default)(this,t),this.parsedSDP=u.parse(s)}return(0,s.default)(t,[{key:"selectMedia",value:function(t){var n=this.parsedSDP.media.filter(function(n){return n.type===t}).map(function(t){return new v(t)});return null!==n&&void 0!==n?n:null}},{key:"toRawSDP",value:function(){return u.write(this.parsedSDP)}}]),t})();e.SdpTransformWrap=S},700,[2,12,13,653]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=r(d[3]),s=r(d[4]),c=r(d[5]),S=t(r(d[6])),v=r(d[7]);function l(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=f(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,n){if(t){if("string"==typeof t)return p(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var R=(0,u.getLogger)(__filename);var y=(function(){function t(){(0,n.default)(this,t),this.correspondingRtxSsrcs=new Map}return(0,o.default)(t,[{key:"clearSsrcCache",value:function(){this.correspondingRtxSsrcs.clear()}},{key:"setSsrcCache",value:function(t){R.debug('Setting ssrc cache to ',t),this.correspondingRtxSsrcs=t}},{key:"modifyRtxSsrcs",value:function(t){var n=!1,o=new v.SdpTransformWrap(t),u=o.selectMedia(c.MediaType.VIDEO);if(!(null===u||void 0===u?void 0:u.length))return R.debug("No 'video' media found in the sdp: "+t),t;for(var s,S=l(u);!(s=S()).done;){var f=s.value;this.modifyRtxSsrcs2(f)&&(n=!0)}return n?o.toRawSDP():t}},{key:"modifyRtxSsrcs2",value:function(t){if(t.direction===s.MediaDirection.RECVONLY)return!1;if(t.getSSRCCount()<1)return!1;for(var n,o,u,c,v,f,p,R,y=l(t.getPrimaryVideoSSRCs());!(n=y()).done;){var h=n.value,C=t.getSSRCAttrValue(h,'msid'),b=t.getSSRCAttrValue(h,'cname'),x=this.correspondingRtxSsrcs.get(h);if(!x){var A=t.getRtxSSRC(h);x=A||S.default.generateSsrc(),this.correspondingRtxSsrcs.set(h,x)}o=t,c=x,void 0,void 0,void 0,void 0,v=(u={id:h,cname:b,msid:C}).id,f=u.msid,p=u.cname,(R=o.getRtxSSRC(v))!==c&&(R&&(o.removeSSRC(R),o.removeGroupsWithSSRC(R)),o.addSSRCAttribute({id:c,attribute:'cname',value:p}),o.addSSRCAttribute({id:c,attribute:'msid',value:f}),o.addSSRCGroup({semantics:'FID',ssrcs:v+" "+c}))}return!0}},{key:"stripRtx",value:function(t){var n=new v.SdpTransformWrap(t),o=n.selectMedia(c.MediaType.VIDEO);if(!(null===o||void 0===o?void 0:o.length))return R.debug("No 'video' media found in the sdp: "+t),t;for(var u,S=l(o);!(u=S()).done;){var f=u.value;if(f.direction!==s.MediaDirection.RECVONLY&&f.getSSRCCount()&&f.containsAnySSRCGroups()){var p=f.findGroups('FID');f.removeGroupsBySemantics('FID');for(var y,h=l(p);!(y=h()).done;){var C=y.value,b=(0,v.parseSecondarySSRC)(C);f.removeSSRC(b)}}}return n.toRawSDP()}}]),t})();e.default=y},701,[2,12,13,435,649,589,657,700]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),c=t(r(d[2])),o=r(d[3]),s=r(d[4]),l=r(d[5]);function u(t,n){var c="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(c)return(c=c.call(t)).next.bind(c);if(Array.isArray(t)||(c=y(t))||n&&t&&"number"==typeof t.length){c&&(t=c);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t,n){if(t){if("string"==typeof t)return f(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?f(t,n):void 0}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,o=new Array(n);c<n;c++)o[c]=t[c];return o}var h=(0,o.getLogger)(__filename),S=(function(){function t(c){(0,n.default)(this,t),this.clearVideoSsrcCache(),this.logPrefix=c}return(0,c.default)(t,[{key:"clearVideoSsrcCache",value:function(){this.cachedPrimarySsrc=null,this.injectRecvOnly=!1}},{key:"setPrimarySsrc",value:function(t){if('number'!=typeof t)throw new Error('Primary SSRC must be a number!');this.cachedPrimarySsrc=t}},{key:"hasPrimarySsrcCached",value:function(){return Boolean(this.cachedPrimarySsrc)}},{key:"makeVideoPrimarySsrcsConsistent",value:function(t){var n,c=new l.SdpTransformWrap(t),o=null===(n=c.selectMedia(s.MediaType.VIDEO))||void 0===n?void 0:n[0];if(!o)return h.debug(this.logPrefix+" no 'video' media found in the sdp: "+t),t;if('recvonly'===o.direction)this.cachedPrimarySsrc&&this.injectRecvOnly?o.addSSRCAttribute({id:this.cachedPrimarySsrc,attribute:'cname',value:"recvonly-"+this.cachedPrimarySsrc}):h.info(this.logPrefix+" no SSRC found for the recvonly video stream!");else{var y=o.getPrimaryVideoSsrc();if(!y)return h.info(this.logPrefix+" sdp-consistency couldn't parse new primary ssrc"),t;if(this.cachedPrimarySsrc){o.replaceSSRC(y,this.cachedPrimarySsrc);for(var f,S=u(o.ssrcGroups);!(f=S()).done;){var v=f.value;if('FID'===v.semantics){var p=(0,l.parsePrimarySSRC)(v),P=(0,l.parseSecondarySSRC)(v);p===y&&(v.ssrcs=this.cachedPrimarySsrc+" "+P)}}}else this.cachedPrimarySsrc=y;this.injectRecvOnly=!0}return c.toRawSDP()}}]),t})();e.default=S},702,[2,12,13,435,589,700]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),u=r(d[3]),o=r(d[4]),c=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=l(s);if(n&&n.has(t))return n.get(t);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var f=o?Object.getOwnPropertyDescriptor(t,c):null;f&&(f.get||f.set)?Object.defineProperty(u,c,f):u[c]=t[c]}u.default=t,n&&n.set(t,u);return u})(r(d[5]));function l(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:s})(t)}function f(t,s){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=p(t))||s&&t&&"number"==typeof t.length){n&&(t=n);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,s){if(t){if("string"==typeof t)return v(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,s):void 0}}function v(t,s){(null==s||s>t.length)&&(s=t.length);for(var n=0,u=new Array(s);n<s;n++)u[n]=t[n];return u}var h=3,y=(function(){function t(n){(0,s.default)(this,t),this._options=n,this._ssrcCache=new Map,this._options.numOfLayers||(this._options.numOfLayers=h)}return(0,n.default)(t,[{key:"_fillSsrcsFromCache",value:function(t){var s=t.mid,n=this._ssrcCache.get(s),u=this._parseSimLayers(t),o=this._getSsrcAttribute(t,u[0],'msid'),c=this._getSsrcAttribute(t,u[0],'cname');t.ssrcs=[],t.ssrcGroups=[];for(var l,p=f(n);!(l=p()).done;){var v=l.value;t.ssrcs.push({id:v,attribute:'msid',value:o}),t.ssrcs.push({id:v,attribute:'cname',value:c})}return t.ssrcGroups.push({semantics:'SIM',ssrcs:n.join(' ')}),t}},{key:"_generateNewSsrcsForSimulcast",value:function(t,s){var n=this._getSsrcAttribute(t,s,'cname'),u=this._getSsrcAttribute(t,s,'msid'),o=function(t,s){t.ssrcs.push({id:s,attribute:'cname',value:n}),t.ssrcs.push({id:s,attribute:'msid',value:u})};u||(u=t.msid,t.ssrcs.forEach(function(s){t.ssrcs.push({id:s.id,attribute:'msid',value:u})}));for(var c=[],l=0;l<this._options.numOfLayers-1;++l){var f=this._generateSsrc();o(t,f),c.push(f)}return t.ssrcGroups=t.ssrcGroups||[],t.ssrcGroups.push({semantics:'SIM',ssrcs:s+' '+c.join(' ')}),t}},{key:"_generateSsrc",value:function(){return Math.floor(4294967295*Math.random())}},{key:"_getSsrcAttribute",value:function(t,s,n){var u,o;return null===(o=null===(u=t.ssrcs)||void 0===u?void 0:u.find(function(t){return Number(t.id)===s&&t.attribute===n}))||void 0===o?void 0:o.value}},{key:"_parseSimLayers",value:function(t){var s,n,u=null===(s=t.ssrcGroups)||void 0===s?void 0:s.find(function(t){return'SIM'===t.semantics});return u?u.ssrcs.split(' ').map(function(t){return Number(t)}):(null===(n=t.ssrcs)||void 0===n?void 0:n.length)?[Number(t.ssrcs[0].id)]:null}},{key:"mungeLocalDescription",value:function(t){var s,n,l,p;if(!t||!t.sdp)return t;for(var v,h=c.parse(t.sdp),y=f(h.media);!(v=y()).done;){var b=v.value;if(b.direction!==u.MediaDirection.RECVONLY&&b.direction!==u.MediaDirection.INACTIVE&&b.type===o.MediaType.VIDEO){var _=b.mid,S=new Set(null===(s=b.ssrcs)||void 0===s?void 0:s.map(function(t){return t.id})),O=null!==(l=null===(n=b.ssrcGroups)||void 0===n?void 0:n.length)&&void 0!==l?l:0,M=void 0;if(!(0===S.size||S.size>2||2===S.size&&0===O)){if(1===S.size)M=Number(null===(p=b.ssrcs[0])||void 0===p?void 0:p.id);else{var w=b.ssrcGroups.find(function(t){return'FID'===t.semantics});w&&(M=Number(w.ssrcs.split(' ')[0]))}if(this._ssrcCache.has(_))b=this._fillSsrcsFromCache(b);else{b=this._generateNewSsrcsForSimulcast(b,M);var j=this._parseSimLayers(b);this._ssrcCache.set(_,j)}}}}return new RTCSessionDescription({type:t.type,sdp:c.write(h)})}}]),t})();e.default=y},703,[2,12,13,649,589,653]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),o=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),h=y(r(d[8])),_=r(d[9]),S=y(r(d[10])),T=t(r(d[11])),v=t(r(d[12])),k=t(r(d[13]));function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(p=function(t){return t?u:n})(t)}function y(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=p(n);if(u&&u.has(t))return u.get(t);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=o?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(s,c,l):s[c]=t[c]}return s.default=t,u&&u.set(t,s),s}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var b=r(d[14]).getLogger(__filename),w=r(d[15]),C=!1,M=!1,A=['abort','canplaythrough','ended','error'],N=(function(t){(0,c.default)(N,t);var k,p,y=(k=N,p=E(),function(){var t,n=(0,f.default)(k);if(p){var u=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function N(t,u,o,c,l,f,h,_,S,T,v){var k;if((0,n.default)(this,N),(k=y.call(this,u,c,l,function(){},f,h)).rtc=t,'number'!=typeof _)throw new TypeError("SSRC "+_+" is not a number");return k.ssrc=_,k.ownerEndpointId=o,k.muted=S,k.isP2P=T,k._sourceName=v,k._trackStreamingStatus=null,k._trackStreamingStatusImpl=null,k._enteredForwardedSourcesTimestamp=null,k.addEventListener=k.on=k._addEventListener.bind((0,s.default)(k)),k.removeEventListener=k.off=k._removeEventListener.bind((0,s.default)(k)),b.debug("New remote track added: "+(0,s.default)(k)),k.hasBeenMuted=S,k.rtc&&k.track&&k._bindTrackHandlers(),k._containerHandlers={},A.forEach(function(t){k._containerHandlers[t]=k._containerEventHandler.bind((0,s.default)(k),t)}),k}return(0,u.default)(N,[{key:"_bindTrackHandlers",value:function(){var t=this;this.track.addEventListener('mute',function(){return t._onTrackMute()}),this.track.addEventListener('unmute',function(){return t._onTrackUnmute()}),this.track.addEventListener('ended',function(){b.debug("\"onended\" event("+Date.now()+"): "+t)})}},{key:"_addEventListener",value:function(t,n){(0,o.default)((0,f.default)(N.prototype),"addListener",this).call(this,t,n),T.default.isSourceNameSignalingEnabled()&&t===h.TRACK_STREAMING_STATUS_CHANGED&&this.listenerCount(h.TRACK_STREAMING_STATUS_CHANGED)&&!this._trackStreamingStatusImpl&&(this._initTrackStreamingStatus(),b.debug("Initializing track streaming status: "+this._sourceName))}},{key:"_removeEventListener",value:function(t,n){(0,o.default)((0,f.default)(N.prototype),"removeListener",this).call(this,t,n),T.default.isSourceNameSignalingEnabled()&&t===h.TRACK_STREAMING_STATUS_CHANGED&&!this.listenerCount(h.TRACK_STREAMING_STATUS_CHANGED)&&(this._disposeTrackStreamingStatus(),b.debug("Disposing track streaming status: "+this._sourceName))}},{key:"_onTrackMute",value:function(){b.debug("\"onmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(w.REMOTE_TRACK_MUTE,this)}},{key:"_onTrackUnmute",value:function(){b.debug("\"onunmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(w.REMOTE_TRACK_UNMUTE,this)}},{key:"dispose",value:function(){return T.default.isSourceNameSignalingEnabled()&&this._disposeTrackStreamingStatus(),(0,o.default)((0,f.default)(N.prototype),"dispose",this).call(this)}},{key:"setMute",value:function(t){this.muted!==t&&(t&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=t),this.muted=t,this.emit(h.TRACK_MUTE_CHANGED,this))}},{key:"isMuted",value:function(){return this.muted}},{key:"getParticipantId",value:function(){return this.ownerEndpointId}},{key:"isLocal",value:function(){return!1}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"_setVideoType",value:function(t){this.videoType!==t&&(this.videoType=t,this.emit(h.TRACK_VIDEOTYPE_CHANGED,t))}},{key:"_playCallback",value:function(){if(this.conference.room){var t=this.isVideoTrack()?'video':'audio',n=window.performance.now();console.log("(TIME) Render "+t+":\t",n),this.conference.getConnectionTimes()[t+".render"]=n;var u=window.connectionTimes['obtainPermissions.start'],s=window.connectionTimes['obtainPermissions.end'],o=isNaN(s)||isNaN(u)?0:s-u,c=n-(this.conference.getConnectionTimes()['session.initiate']-this.conference.getConnectionTimes()['muc.joined'])-o;this.conference.getConnectionTimes()[t+".ttfm"]=c,console.log("(TIME) TTFM "+t+":\t",c),v.default.sendAnalytics((0,_.createTtfmEvent)({media_type:t,muted:this.hasBeenMuted,value:c}))}}},{key:"_attachTTFMTracker",value:function(t){C&&this.isAudioTrack()||M&&this.isVideoTrack()||(this.isAudioTrack()&&(C=!0),this.isVideoTrack()&&(M=!0),t.addEventListener('canplay',this._playCallback.bind(this)))}},{key:"_onTrackAttach",value:function(t){var n=this;A.forEach(function(u){t.addEventListener(u,n._containerHandlers[u])})}},{key:"_onTrackDetach",value:function(t){var n=this;A.forEach(function(u){t.removeEventListener(u,n._containerHandlers[u])})}},{key:"_containerEventHandler",value:function(t){b.debug(t+" handler was called for a container with attached "+this)}},{key:"_getStatus",value:function(){var t=this.track,n=t.enabled,u=t.muted;return"readyState: "+t.readyState+", muted: "+u+", enabled: "+n}},{key:"_initTrackStreamingStatus",value:function(){var t=this.conference.options.config;this._trackStreamingStatus=S.TrackStreamingStatus.ACTIVE,this._trackStreamingStatusImpl=new S.default(this.rtc,this.conference,this,{p2pRtcMuteTimeout:t._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:t._peerConnStatusRtcMuteTimeout,outOfForwardedSourcesTimeout:t._peerConnStatusOutOfLastNTimeout}),this._trackStreamingStatusImpl.init()}},{key:"_disposeTrackStreamingStatus",value:function(){this._trackStreamingStatusImpl&&(this._trackStreamingStatusImpl.dispose(),this._trackStreamingStatusImpl=null,this._trackStreamingStatus=null)}},{key:"_setTrackStreamingStatus",value:function(t){this._trackStreamingStatus=t}},{key:"getTrackStreamingStatus",value:function(){return this._trackStreamingStatus}},{key:"_clearEnteredForwardedSourcesTimestamp",value:function(){this._enteredForwardedSourcesTimestamp=null}},{key:"_setEnteredForwardedSourcesTimestamp",value:function(t){this._enteredForwardedSourcesTimestamp=t}},{key:"_getEnteredForwardedSourcesTimestamp",value:function(){return this._enteredForwardedSourcesTimestamp}},{key:"toString",value:function(){return"RemoteTrack[userID: "+this.getParticipantId()+", type: "+this.getType()+", ssrc: "+this.getSSRC()+", p2p: "+this.isP2P+", sourceName: "+this._sourceName+", status: "+this._getStatus()+"]"}}]),N})(k.default);e.default=N},704,[2,12,13,23,17,20,22,19,599,566,705,590,563,674,435,593]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TrackStreamingStatusImpl=e.TrackStreamingStatus=void 0;var n,s=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=r(d[4]),h=r(d[5]),T=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=k(n);if(s&&s.has(t))return s.get(t);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var h=o?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(u,c,h):u[c]=t[c]}u.default=t,s&&s.set(t,u);return u})(r(d[6])),f=t(r(d[7])),S=r(d[8]),l=t(r(d[9])),p=t(r(d[10]));function k(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(k=function(t){return t?s:n})(t)}e.TrackStreamingStatus=n,(function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.INTERRUPTED="interrupted",t.RESTORING="restoring"})(n||(e.TrackStreamingStatus=n={}));var _=(0,c.getLogger)(__filename),v=500,M=2500,E=1e4,C=(function(){function t(n,s,o,c){(0,u.default)(this,t),this.rtc=n,this.conference=s,this.track=o,this.restoringTimer=null,this.rtcMutedTimestamp=null,this.streamingStatusMap={},this.trackTimer=null,this.outOfForwardedSourcesTimeout='number'==typeof c.outOfForwardedSourcesTimeout?c.outOfForwardedSourcesTimeout:v,this.p2pRtcMuteTimeout='number'==typeof c.p2pRtcMuteTimeout?c.p2pRtcMuteTimeout:M,this.rtcMuteTimeout='number'==typeof c.rtcMuteTimeout?c.rtcMuteTimeout:E,_.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout)}return(0,o.default)(t,[{key:"_getVideoFrozenTimeout",value:function(){var t=this.track.getSourceName();return this.rtc.isInForwardedSources(t)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfForwardedSourcesTimeout}},{key:"init",value:function(){this._onP2PStatus=this.figureOutStreamingStatus.bind(this),this.conference.on(h.JitsiConferenceEvents.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(h.JitsiConferenceEvents.USER_LEFT,this._onUserLeft),l.default.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(f.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(f.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this.track.on(T.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this),this.track.on(T.TRACK_VIDEOTYPE_CHANGED,this._onTrackVideoTypeChanged)),this._onForwardedSourcesChanged=this.onForwardedSourcesChanged.bind(this),this.conference.on(h.JitsiConferenceEvents.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this._onLastNValueChanged=this.figureOutStreamingStatus.bind(this),this.rtc.on(f.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){l.default.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(f.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(f.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.track.off(T.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged)),this.conference.off(h.JitsiConferenceEvents.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this.conference.off(h.JitsiConferenceEvents.P2P_STATUS,this._onP2PStatus),this.conference.off(h.JitsiConferenceEvents.USER_LEFT,this._onUserLeft),this.rtc.removeListener(f.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.maybeSendTrackStreamingStatusEvent(Date.now()),this.figureOutStreamingStatus()}},{key:"_changeStreamingStatus",value:function(t){if(this.track.getTrackStreamingStatus()!==t){var n=this.track.getSourceName();this.track._setTrackStreamingStatus(t),_.debug("Emit track streaming status("+Date.now()+") "+n+": "+t),p.default.sendLog(JSON.stringify({id:'track.streaming.status',track:n,status:t})),this.track.emit(T.TRACK_STREAMING_STATUS_CHANGED,this.track,t)}}},{key:"clearTimeout",value:function(){this.trackTimer&&(window.clearTimeout(this.trackTimer),this.trackTimer=null)}},{key:"clearRtcMutedTimestamp",value:function(){this.rtcMutedTimestamp=null}},{key:"isVideoTrackFrozen",value:function(){if(!l.default.supportsVideoMuteOnConnInterrupted())return!1;var t=this.track.isWebRTCTrackMuted(),n=this.rtcMutedTimestamp,s=this._getVideoFrozenTimeout();return t&&'number'==typeof n&&Date.now()-n>=s}},{key:"figureOutStreamingStatus",value:function(){var u=this.track.getSourceName(),o=this.conference.isP2PActive(),c=this._isRestoringTimedout(),h=0===this.conference.getLastN(),T=this.track.isMuted()||h,f=this.isVideoTrackFrozen(),S=this.rtc.isInForwardedSources(u),l=o?t._getNewStateForP2PMode(T,f):t._getNewStateForJvbMode(S,c,T,f);l!==n.RESTORING&&this._clearRestoringTimer(),_.debug("Figure out conn status for "+u+", is video muted: "+T+" video track frozen: "+f+" p2p mode: "+o+" is in forwarded sources: "+S+" currentStatus => newStatus: "+this.track.getTrackStreamingStatus()+" => "+l);var p=this.streamingStatusMap||{};if(!('p2p'in p&&'streamingStatus'in p&&p.p2p===o&&p.streamingStatus===l)){var k=Date.now();this.maybeSendTrackStreamingStatusEvent(k),this.streamingStatusMap=(0,s.default)((0,s.default)({},p),{streamingStatus:l,p2p:o,startedMs:k}),'videoType'in this.streamingStatusMap||(this.streamingStatusMap.videoType=this.track.getVideoType())}this._changeStreamingStatus(l)}},{key:"maybeSendTrackStreamingStatusEvent",value:function(t){var n=this.streamingStatusMap;n&&'startedMs'in n&&'videoType'in n&&'streamingStatus'in n&&'p2p'in n&&(n.value=t-n.startedMs,p.default.sendAnalytics((0,S.createTrackStreamingStatusEvent)(n)))}},{key:"onForwardedSourcesChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,u=this.track.getSourceName();_.debug("Fowarded sources changed leaving="+t+", entering="+n+" at "+s),l.default.supportsVideoMuteOnConnInterrupted()||this.figureOutStreamingStatus(),t.includes(u)&&(this.track._clearEnteredForwardedSourcesTimestamp(),this._clearRestoringTimer(),l.default.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus()),n.includes(u)&&(this.track._setEnteredForwardedSourcesTimestamp(s),l.default.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus())}},{key:"_clearRestoringTimer",value:function(){var t=this.restoringTimer;t&&(clearTimeout(t),this.restoringTimer=null)}},{key:"_isRestoringTimedout",value:function(){var t=this,n=this.track._getEnteredForwardedSourcesTimestamp();return!!(n&&Date.now()-n>=1e4)||(this.restoringTimer||(this.restoringTimer=setTimeout(function(){return t.figureOutStreamingStatus()},1e4)),!1)}},{key:"_isCurrentTrack",value:function(t){return t.getSourceName()===this.track.getSourceName()}},{key:"onUserLeft",value:function(t){this.track.getParticipantId()===t&&(this.maybeSendTrackStreamingStatusEvent(Date.now()),this.streamingStatusMap={})}},{key:"onTrackRtcMuted",value:function(t){var n=this;if(this._isCurrentTrack(t)){var s=t.getSourceName();if(_.debug("Detector track RTC muted: "+s,Date.now()),this.rtcMutedTimestamp=Date.now(),!t.isMuted()){this.clearTimeout();var u=this._getVideoFrozenTimeout();this.trackTimer=window.setTimeout(function(){_.debug("Set RTC mute timeout for: "+s+" of "+u+" ms"),n.clearTimeout(),n.figureOutStreamingStatus()},u)}}}},{key:"onTrackRtcUnmuted",value:function(t){if(this._isCurrentTrack(t)){var n=this.track.getSourceName();_.debug("Detector track RTC unmuted: "+n,Date.now()),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.figureOutStreamingStatus()}}},{key:"onSignallingMuteChanged",value:function(t){if(this._isCurrentTrack(t)){var n=this.track.getSourceName();_.debug("Detector on track signalling mute changed: "+n,t.isMuted()),this.figureOutStreamingStatus()}}},{key:"onTrackVideoTypeChanged",value:function(t){var n=Date.now();this.maybeSendTrackStreamingStatusEvent(n),this.streamingStatusMap=(0,s.default)((0,s.default)({},this.streamingStatusMap||{}),{videoType:t,startedMs:n})}}],[{key:"_getNewStateForJvbMode",value:function(t,s,u,o){return u?n.ACTIVE:l.default.supportsVideoMuteOnConnInterrupted()?o?t?s?n.INTERRUPTED:n.RESTORING:n.INACTIVE:n.ACTIVE:t?n.ACTIVE:n.INACTIVE}},{key:"_getNewStateForP2PMode",value:function(t,s){return l.default.supportsVideoMuteOnConnInterrupted()?t||!s?n.ACTIVE:n.INTERRUPTED:n.ACTIVE}}]),t})();e.TrackStreamingStatusImpl=C;var R=C;e.default=R},705,[2,32,12,13,435,555,599,593,566,568,563]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TPCUtils=e.SIM_LAYER_RIDS=e.SD_SCALE_FACTOR=e.LD_SCALE_FACTOR=e.HD_SCALE_FACTOR=e.HD_BITRATE=void 0;var t=n(r(d[1])),o=n(r(d[2])),s=r(d[3]),c=n(r(d[4])),l=r(d[5]),u=r(d[6]),v=r(d[7]),f=n(r(d[8])),p=n(r(d[9])),h=(0,s.getLogger)(__filename),T=2e5,y=7e5,S='1',E='2',k='3',D=25e5;e.HD_BITRATE=D;var R=1;e.HD_SCALE_FACTOR=R;var C=4;e.LD_SCALE_FACTOR=C;var _=2;e.SD_SCALE_FACTOR=_;var A=[S,E,k];e.SIM_LAYER_RIDS=A;var B=(function(){function n(o){var s,c,l;(0,t.default)(this,n),this.pc=o;var u=null===(c=null===(s=this.pc.options)||void 0===s?void 0:s.videoQuality)||void 0===c?void 0:c.maxBitratesVideo,v={low:T,standard:y,high:D};this.videoBitrates=null!==u&&void 0!==u?u:v;var p=null!==(l=this.videoBitrates.VP8)&&void 0!==l?l:this.videoBitrates;this.localStreamEncodingsConfig=[{active:!0,maxBitrate:f.default.isFirefox()?p.high:p.low,rid:S,scaleResolutionDownBy:f.default.isFirefox()?R:C},{active:!0,maxBitrate:p.standard,rid:E,scaleResolutionDownBy:_},{active:!0,maxBitrate:f.default.isFirefox()?p.low:p.high,rid:k,scaleResolutionDownBy:f.default.isFirefox()?C:R}]}return(0,o.default)(n,[{key:"_getStreamEncodings",value:function(n){return this.pc.isSimulcastOn()&&n.isVideoTrack()?this.localStreamEncodingsConfig:n.isVideoTrack()?[{active:!0,maxBitrate:this.videoBitrates.high}]:[{active:!0}]}},{key:"ensureCorrectOrderOfSsrcs",value:function(n){var t=c.default.parse(n.sdp);return t.media.forEach(function(n){if(n.type!==u.MediaType.AUDIO&&n.ssrcGroups&&n.ssrcGroups.length){var t=[],o=new Set;n.ssrcGroups.map(function(n){return n.ssrcs.split(' ').filter(Boolean).forEach(function(n){return o.add(n)})}),o.forEach(function(o){var s=n.ssrcs.filter(function(n){return n.id.toString()===o});t=t.concat(s)}),n.ssrcs=t}}),new RTCSessionDescription({type:n.type,sdp:c.default.write(t)})}},{key:"findTransceiver",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===t||void 0===t?void 0:t.track)&&t.getOriginalStream()?this.pc.peerconnection.getTransceivers().find(function(n){var o,s;return(null===(s=null===(o=n.sender)||void 0===o?void 0:o.track)||void 0===s?void 0:s.id)===t.getTrackId()}):this.pc.peerconnection.getTransceivers().find(function(t){var o,s;return(null===(s=null===(o=t.receiver)||void 0===o?void 0:o.track)||void 0===s?void 0:s.kind)===n})}},{key:"insertUnifiedPlanSimulcastReceive",value:function(n){if(f.default.usesSdpMungingForSimulcast())return n;var t=c.default.parse(n.sdp),o=t.media.findIndex(function(n){return n.type===u.MediaType.VIDEO});if(t.media[o].rids&&(t.media[o].simulcast_03||t.media[o].simulcast))return t.media.forEach(function(n,s){n.type===u.MediaType.VIDEO&&s!==o&&(t.media[s].rids=void 0,t.media[s].simulcast=void 0,t.media[s].simulcast_03=void 0)}),new RTCSessionDescription({type:n.type,sdp:c.default.write(t)});t.media[o].rids=[{id:S,direction:'recv'},{id:E,direction:'recv'},{id:k,direction:'recv'}];var s=f.default.isFirefox()&&f.default.isVersionGreaterThan(71)?"recv "+A.join(';'):"recv rid="+A.join(';');return t.media[o].simulcast_03={value:s},new RTCSessionDescription({type:n.type,sdp:c.default.write(t)})}},{key:"addTrack",value:function(n,t){var o=n.getTrack();if(t){var s=[];n.getOriginalStream()&&s.push(n.getOriginalStream());var c={direction:l.MediaDirection.SENDRECV,streams:s,sendEncodings:[]};f.default.isFirefox()||(c.sendEncodings=this._getStreamEncodings(n)),this.pc.peerconnection.addTransceiver(o,c)}else this.pc.peerconnection.addTrack(o)}},{key:"calculateEncodingsActiveState",value:function(n,t){var o=this,s=n.getTrack().getSettings().height;return this.localStreamEncodingsConfig.map(function(n){return s/n.scaleResolutionDownBy}).map(function(s,c){var l,u=n.getVideoType()!==v.VideoType.CAMERA||(t>0&&(null===(l=o.localStreamEncodingsConfig[c])||void 0===l?void 0:l.scaleResolutionDownBy)===C||s<=t);return o.pc.isSharingLowFpsScreen()&&n.getVideoType()===v.VideoType.DESKTOP&&o.pc.usesUnifiedPlan()&&!f.default.isWebKitBased()&&o.localStreamEncodingsConfig[c].scaleResolutionDownBy!==R&&(u=!1),u})}},{key:"calculateEncodingsBitrates",value:function(n){var t,o,s=this,c=n.getVideoType(),l=(null===(o=null===(t=this.pc.options)||void 0===t?void 0:t.videoQuality)||void 0===o?void 0:o.desktopBitrate)||5e5,u=n._originalStream&&n._originalStream.id!==n.getStreamId();return this.localStreamEncodingsConfig.map(function(n){return s.pc.isSharingLowFpsScreen()&&!f.default.isWebKitBased()?u?D:l:c===v.VideoType.DESKTOP&&f.default.isChromiumBased()&&!s.pc.usesUnifiedPlan()?void 0:n.maxBitrate})}},{key:"replaceTrack",value:function(n,t){var o,s,c,u,v=null!==(o=null===t||void 0===t?void 0:t.getType())&&void 0!==o?o:null===n||void 0===n?void 0:n.getType(),f=this.pc.getLocalTracks(v),T=null!==(s=null===t||void 0===t?void 0:t.getTrack())&&void 0!==s?s:null,y=p.default.isMultiStreamSupportEnabled()&&(null===f||void 0===f?void 0:f.length)&&!n&&t&&!f.find(function(n){return n===t});if(n&&!n.isMuted())u=this.pc.peerconnection.getTransceivers().find(function(t){return t.sender.track===n.getTrack()});else if(y)u=this.pc.peerconnection.getTransceivers().find(function(n){return n.receiver.track.kind===v&&n.direction===l.MediaDirection.RECVONLY&&n.currentDirection===l.MediaDirection.INACTIVE});else{u=this.pc.peerconnection.getTransceivers().find(function(n){return n.receiver.track.kind===v});var S=null!==(c=null===t||void 0===t?void 0:t.getSourceName())&&void 0!==c?c:null===n||void 0===n?void 0:n.getSourceName();if(S){var E=Number(S.split('-')[1].substring(1));E&&(u=this.pc.peerconnection.getTransceivers().filter(function(n){return n.receiver.track.kind===v&&n.direction!==l.MediaDirection.RECVONLY})[E])}}return u?(h.debug(this.pc+" Replacing "+n+" with "+t),u.sender.replaceTrack(T).then(function(){return Promise.resolve(u)})):Promise.reject(new Error('replace track failed'))}},{key:"setAudioTransferActive",value:function(n){this.setMediaTransferActive(u.MediaType.AUDIO,n)}},{key:"setEncodings",value:function(n){var t,o,s=n.getType(),c=this.findTransceiver(s,n),l=null===(t=null===c||void 0===c?void 0:c.sender)||void 0===t?void 0:t.getParameters();return(null===(o=null===l||void 0===l?void 0:l.encodings)||void 0===o?void 0:o.length)?(l.encodings=this._getStreamEncodings(n),c.sender.setParameters(l)):Promise.resolve()}},{key:"setMediaTransferActive",value:function(n,t){var o=this.pc.peerconnection.getTransceivers().filter(function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===n}),s=this.pc.getLocalTracks(n);h.info(this.pc+" "+(t?'Enabling':'Suspending')+" "+n+" media transfer."),o.forEach(function(n,o){t?o<s.length?n.direction=l.MediaDirection.SENDRECV:n.direction=l.MediaDirection.RECVONLY:n.direction=l.MediaDirection.INACTIVE})}},{key:"setVideoTransferActive",value:function(n){this.setMediaTransferActive(u.MediaType.VIDEO,n)}},{key:"updateEncodingsResolution",value:function(n){var t=this;if(f.default.isWebKitBased()&&n.encodings&&Array.isArray(n.encodings)){var o;(o=n.encodings).every(function(n){return void 0!==n.scaleResolutionDownBy&&n.scaleResolutionDownBy===o[0].scaleResolutionDownBy})&&n.encodings.forEach(function(n,o){n.scaleResolutionDownBy=t.localStreamEncodingsConfig[o].scaleResolutionDownBy})}}}]),n})();e.TPCUtils=B},706,[2,12,13,435,653,649,589,594,568,590]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]),t=r(d[1]),n=t.parseSsrcs,o=t.writeSsrcs,c=3;function u(s,t,n){return s.ssrcs.filter(function(s){return s.id===t}).filter(function(s){return s.attribute===n}).map(function(s){return s.value})[0]}function p(s){this.options=s||{},this.options.numOfLayers||(this.options.numOfLayers=c),console.log("SdpSimulcast: using "+this.options.numOfLayers+" layers"),this.ssrcCache=[]}function l(s,t){null!=s&&Array.isArray(s.media)&&s.media.forEach(function(s){'video'===s.type&&t(s)})}function f(s){return s&&null!=s&&s.type&&''!=s.type&&s.sdp&&''!=s.sdp}function h(s){if(s&&Array.isArray(s.ssrcGroups))for(var t=n(s),c=[],u=s.ssrcGroups.length;u--;)if('SIM'===s.ssrcGroups[u].semantics){for(var p=s.ssrcGroups[u].ssrcs.split(' '),l=0;l<p.length;l++){var f=p[l];c.push(f);var h=t[f].msid.split(' ');t[f].msid=[h[0],'/',l,' ',h[1],'/',l].join(''),t[f].cname=[t[f].cname,'/',l].join(''),s.ssrcGroups.forEach(function(s){if('SIM'!==s.semantics){var n=s.ssrcs.split(' ');-1!==n.indexOf(f)&&n.forEach(function(s){t[s].msid=t[f].msid,t[s].cname=t[f].cname,s!==f&&c.push(s)})}})}s.ssrcs=o(t,c),s.ssrcGroups.splice(u,1)}}function S(s){if(s&&Array.isArray(s.ssrcGroups)){var t=n(s);s.ssrcGroups.forEach(function(n){if('SIM'===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var o=n.ssrcs.split(' '),c=1;c<o.length;c++){var u=o[c];delete t[u],s.ssrcGroups.forEach(function(s){if('SIM'!==s.semantics){var n=s.ssrcs.split(' ');-1!==n.indexOf(u)&&(n.forEach(function(s){delete t[s]}),s.nuke=!0)}})}}}),s.ssrcs=o(t);for(var c=s.ssrcGroups.length;c--;)s.ssrcGroups[c].nuke&&s.ssrcGroups.splice(c,1)}else console.info("Halt: There are no SSRC groups in the remote description.")}function v(s){s&&void 0!==s.xGoogleFlag&&(s.xGoogleFlag=void 0)}function y(s){s&&(Array.isArray(s.invalid)||(s.invalid=[]),s.invalid.some(function(s){return'x-google-flag:conference'===s.value})||s.invalid.push({value:'x-google-flag:conference'}))}p.prototype.clearSsrcCache=function(){this.ssrcCache=[]},p.prototype.setSsrcCache=function(s){this.ssrcCache=s},p.prototype._parseSimLayers=function(s){var t=s.ssrcGroups&&s.ssrcGroups.find(function(s){return"SIM"===s.semantics});return t?t.ssrcs.split(" ").map(function(s){return parseInt(s)}):[s.ssrcs[0].id]},p.prototype._buildNewToOldSsrcMap=function(s,t){for(var n={},o=0;o<s.length;++o){var c=s[o],u=t[o]||null;n[c]=u}return n},p.prototype._fillInSourceDataFromCache=function(s){console.log("SdpSimulcast restoring from cache: ",this.ssrcCache);var t=this._parseSimLayers(s);console.log("SdpSimulcast Parsed new sim ssrcs: ",t);var n=u(s,t[0],"msid"),o=u(s,t[0],"cname"),c=this._buildNewToOldSsrcMap(t,this.ssrcCache);console.log("SdpSimulcast built replacement map: ",c);var p=this.ssrcCache.filter(function(s){return-1===Object.values(c).indexOf(s)});return console.log("SdpSimulcast built ssrcs to add: ",p),s.ssrcs.forEach(function(s){c[s.id]&&(s.id=c[s.id])}),p.forEach(function(t){s.ssrcs.push({id:t,attribute:"msid",value:n}),s.ssrcs.push({id:t,attribute:"cname",value:o})}),s.ssrcGroups=s.ssrcGroups||[],s.ssrcGroups.push({semantics:"SIM",ssrcs:this.ssrcCache.join(" ")}),s},p.prototype._generateSourceData=function(s,t){var n=function(s,t){s.ssrcs.push({id:t,attribute:"cname",value:c}),s.ssrcs.push({id:t,attribute:"msid",value:o})},o=u(s,t,"msid"),c=u(s,t,"cname");this.options.usesUnifiedPlan&&!o&&(o=s.msid,s.ssrcs.forEach(function(t){s.ssrcs.push({id:t.id,attribute:"msid",value:o})}));for(var p=[],l=0;l<this.options.numOfLayers-1;++l){var f=Math.floor(4294967295*Math.random())+0;n(s,f),p.push(f)}return s.ssrcGroups=s.ssrcGroups||[],s.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+p.join(" ")}),s},p.prototype._restoreSimulcast=function(s){var t,n=s.ssrcs&&s.ssrcs.map(function(s){return s.id}).filter(function(s,t,n){return n.indexOf(s)===t}).length||0,o=s.ssrcGroups&&s.ssrcGroups.length||0;if(0===n||n>2)return s;if(2==n&&0===o)return s;if(1===n)t=s.ssrcs[0].id;else{var c=s.ssrcGroups.filter(function(s){return"FID"===s.semantics})[0];if(!c)return s;t=parseInt(c.ssrcs.split(" ")[0])}return console.log("SdpSimulcast: current ssrc cache: ",this.ssrcCache),console.log("SdpSimulcast: parsed primary ssrc "+t),-1!==this.ssrcCache.indexOf(t)?(console.log("SdpSimulcast: Have seen primary ssrc before, filling in data from cache"),s=this._fillInSourceDataFromCache(s)):(console.log("SdpSimulcast: Have not seen primary ssrc before, generating source data"),s=this._generateSourceData(s,t)),this.ssrcCache=this._parseSimLayers(s),s},p.prototype.mungeRemoteDescription=function(t,n){if(!f(t))return t;var o=s.parse(t.sdp),c=this;return l(o,function(s){c.options.explodeRemoteSimulcast?h(s):S(s),!c.options.usesUnifiedPlan&&n?y(s):v(s)}),new RTCSessionDescription({type:t.type,sdp:s.write(o)})},p.prototype.mungeLocalDescription=function(t){if(!f(t))return t;var n=s.parse(t.sdp),o=this;return l(n,function(s){'recvonly'!=s.direction&&'inactive'!=s.direction&&o._restoreSimulcast(s)}),new RTCSessionDescription({type:t.type,sdp:s.write(n)})},m.exports=p},707,[653,708]);
__d(function(g,r,i,a,m,e,d){e.writeSsrcs=function(t,s){var c=[];if(void 0!==t&&0!==Object.keys(t).length){Array.isArray(s)||(s=[]);for(var n=0;n<s.length;n++){var u=s[n],f=t[u];Object.keys(f).forEach(function(t){c.push({id:u,attribute:t,value:f[t]})})}Object.keys(t).forEach(function(n){if(n=parseInt(n),!(s.indexOf(n)>=0)){var u=t[n];Object.keys(u).forEach(function(t){c.push({id:n,attribute:t,value:u[t]})})}})}return c},e.parseSsrcs=function(t){var s={};return void 0!==t.ssrcs&&Array.isArray(t.ssrcs)&&t.ssrcs.forEach(function(t){s[t.id]||(s[t.id]={}),s[t.id][t.attribute]=t.value}),s}},708,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),c=v(r(d[4])),l=t(r(d[5])),u=v(r(d[6])),_=v(r(d[7])),h=t(r(d[8]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(f=function(t){return t?o:n})(t)}function v(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var u=c?Object.getOwnPropertyDescriptor(t,l):null;u&&(u.get||u.set)?Object.defineProperty(s,l,u):s[l]=t[l]}return s.default=t,o&&o.set(t,s),s}var p=r(d[9]),E=r(d[10]).VideoType,S=r(d[11]).XMPPEvents,T=(0,s.getLogger)(__filename),y='stats',R='face_landmark',C=[{width:1920,height:1080,layers:3,target:'high',targetRN:4e6},{width:1280,height:720,layers:3,target:'high',targetRN:25e5},{width:960,height:540,layers:3,target:'standard',targetRN:9e5},{width:640,height:360,layers:2,target:'standard',targetRN:5e5},{width:480,height:270,layers:2,target:'low',targetRN:35e4},{width:320,height:180,layers:1,target:'low',targetRN:15e4}],b=800;function A(t,n,o,s){var c=0,u=Math.min(n.height,n.width),_=C.find(function(t){return t.height<=u});if(_&&t&&s.codec===l.default.VP8){var f=function(){var t=u;if(!(_=C.find(function(n){return n.height===t})))return"break";c+=h.default.isReactNative()?_.targetRN:s[_.target]};for(u=_.height;u>=180;u/=2){if("break"===f())break}}else _&&(c=h.default.isReactNative()?_.targetRN:s[_.target]);return Math.min(c/1e3,N(Math.max(0,o-1e3)))}function N(t){return t>6e4?Number.MAX_SAFE_INTEGER:b*Math.pow(1.08,t/1e3)}var w=(function(){function t(o,s,l){var h,f=this;(0,n.default)(this,t),this.eventEmitter=s,this._conference=o,this._localStats={connectionQuality:100,jvbRTT:void 0},this._lastConnectionQualityUpdate=-1,this._options=l,this._remoteStats={},this._timeIceConnected=-1,this._timeVideoUnmuted=-1,(null===(h=this._options.config)||void 0===h?void 0:h.startBitrate)>0&&(b=this._options.config.startBitrate),o.on(c.CONNECTION_INTERRUPTED,function(){f._updateLocalConnectionQuality(0),f.eventEmitter.emit(_.LOCAL_STATS_UPDATED,f._localStats),f._broadcastLocalStats()}),o.room.addListener(S.ICE_CONNECTION_STATE_CHANGED,function(t,n){t.isP2P||'connected'!==n||(f._timeIceConnected=window.performance.now())}),o.on(c.ENDPOINT_MESSAGE_RECEIVED,function(t,n){n.type===y&&f._updateRemoteStats(t.getId(),n.values)}),o.on(c.ENDPOINT_STATS_RECEIVED,function(t,n){f._updateRemoteStats(t.getId(),n)}),o.on(c.ENDPOINT_MESSAGE_RECEIVED,function(t,n){n.type===R&&f.eventEmitter.emit(c.FACE_LANDMARK_ADDED,t.getId(),n)}),o.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)),o.on(c.TRACK_MUTE_CHANGED,function(t){t.isVideoTrack()&&(t.isMuted()?f._timeVideoUnmuted=-1:f._maybeUpdateUnmuteTime())}),o.on(c.TRACK_ADDED,function(t){t.isVideoTrack()&&!t.isMuted()&&f._maybeUpdateUnmuteTime()}),o.rtc.on(u.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,function(t){f._localStats.maxEnabledResolution=t.maxEnabledResolution}),o.on(c.SERVER_REGION_CHANGED,function(t){f._localStats.serverRegion=t}),o.on(c.PROPERTIES_CHANGED,function(t){f._localStats.bridgeCount=Number((t||{})['bridge-count'])})}return(0,o.default)(t,[{key:"_maybeUpdateUnmuteTime",value:function(){this._timeVideoUnmuted<0&&(this._timeVideoUnmuted=window.performance.now())}},{key:"_calculateConnectionQuality",value:function(t,n,o){var s,c,l,u=p[o],_=100;if(this._localStats.packetLoss&&(l=this._localStats.packetLoss.upload,n&&(l*=.5)),n||!u||t===E.DESKTOP||this._timeIceConnected<0||this._timeVideoUnmuted<0)void 0===l?(T.error("Cannot calculate connection quality, unknown packet loss."),_=100):_=l<=2?100:l<=4?70:l<=6?50:l<=8?30:l<=12?10:0;else{var h=this._conference.getActivePeerConnection();if(h){var f=h.isSimulcastOn(),v=h.getTargetVideoBitrates();v.codec=h.getConfiguredVideoCodec();var S=window.performance.now()-Math.max(this._timeVideoUnmuted,this._timeIceConnected),y=null!==(c=null===(s=this._options.config)||void 0===s?void 0:s.pcStatsInterval)&&void 0!==c?c:1e4,R=A(f,u,S,v);R=Math.min(R,2500),S>y&&(_=100*this._localStats.bitrate.upload/R)}l&&l>=10&&(_=Math.min(_,30))}if(this._lastConnectionQualityUpdate>0){var C=this._localStats.connectionQuality,b=(window.performance.now()-this._lastConnectionQualityUpdate)/1e3;_=Math.min(_,C+2*b)}return Math.min(100,_)}},{key:"_updateLocalConnectionQuality",value:function(t){this._localStats.connectionQuality=t,this._lastConnectionQualityUpdate=window.performance.now()}},{key:"_broadcastLocalStats",value:function(){var t={bitrate:this._localStats.bitrate,packetLoss:this._localStats.packetLoss,connectionQuality:this._localStats.connectionQuality,jvbRTT:this._localStats.jvbRTT,serverRegion:this._localStats.serverRegion,maxEnabledResolution:this._localStats.maxEnabledResolution,avgAudioLevels:this._localStats.localAvgAudioLevels};try{this._conference.sendEndpointStatsMessage(t)}catch(t){}}},{key:"_updateLocalStats",value:function(t,n){if(!t.isP2P){var o=n.transport&&n.transport.length&&n.transport[0].rtt;this._localStats.jvbRTT=o||void 0}if(t===this._conference.getActivePeerConnection()){var s,c=!this._conference.isConnectionInterrupted(),l=this._conference.getLocalVideoTrack(),u=l?l.videoType:void 0,h=!l||l.isMuted(),f=l?Math.min(l.resolution,l.maxEnabledResolution):null;for(s in h||this._maybeUpdateUnmuteTime(),n)n.hasOwnProperty(s)&&(this._localStats[s]=n[s]);c&&this._updateLocalConnectionQuality(this._calculateConnectionQuality(u,h,f)),this.eventEmitter.emit(_.LOCAL_STATS_UPDATED,this._localStats),this._broadcastLocalStats()}}},{key:"_updateRemoteStats",value:function(t,n){this._remoteStats[t]={bitrate:n.bitrate,packetLoss:n.packetLoss,connectionQuality:n.connectionQuality,jvbRTT:n.jvbRTT,serverRegion:n.serverRegion,maxEnabledResolution:n.maxEnabledResolution,avgAudioLevels:n.avgAudioLevels},this.eventEmitter.emit(_.REMOTE_STATS_UPDATED,t,this._remoteStats[t])}},{key:"getStats",value:function(){return this._localStats}}]),t})();e.default=w},709,[2,12,13,435,555,648,593,710,568,676,594,596]);
__d(function(g,r,i,a,m,e,d){var T;Object.defineProperty(e,"__esModule",{value:!0}),e.REMOTE_STATS_UPDATED=e.LOCAL_STATS_UPDATED=e.ConnectionQualityEvents=void 0,e.ConnectionQualityEvents=T,(function(T){T.LOCAL_STATS_UPDATED="cq.local_stats_updated",T.REMOTE_STATS_UPDATED="cq.remote_stats_updated"})(T||(e.ConnectionQualityEvents=T={}));var _=T.LOCAL_STATS_UPDATED;e.LOCAL_STATS_UPDATED=_;var t=T.REMOTE_STATS_UPDATED;e.REMOTE_STATS_UPDATED=t},710,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),c=r(d[3]),s=l(r(d[4])),f=l(r(d[5]));function u(n){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(u=function(n){return n?o:t})(n)}function l(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=u(t);if(o&&o.has(n))return o.get(n);var c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in n)if("default"!==f&&Object.prototype.hasOwnProperty.call(n,f)){var l=s?Object.getOwnPropertyDescriptor(n,f):null;l&&(l.get||l.set)?Object.defineProperty(c,f,l):c[f]=n[f]}return c.default=n,o&&o.set(n,c),c}var _=(0,c.getLogger)(__filename),p=(function(){function n(o){(0,t.default)(this,n),this._conference=o}return(0,o.default)(n,[{key:"_actOnIceFailed",value:function(){if(this._conference.room){var n=this._conference.options.config,t=n.enableForcedReload,o=n.enableIceRestart,c=void 0!==o&&!o,u=this._conference.room.supportsRestartByTerminate(),l=u&&!o;if(_.info("ICE failed, enableForcedReload: "+t+", enableIceRestart: "+o+", supports restart by terminate: "+u),c||!o&&!u||t){_.info('ICE failed, but ICE restarts are disabled');var p=t?s.CONFERENCE_RESTARTED:s.ICE_FAILED;this._conference.eventEmitter.emit(f.CONFERENCE_FAILED,p)}else{var v=this._conference.jvbJingleSession,E=v&&v.getIceConnectionState();v?'connected'===E?_.info('ICE connection restored - not sending ICE failed'):(_.info("Sending ICE failed - the connection did not recover, ICE state: "+E+", use 'session-terminate': "+l),l?this._conference.jvbJingleSession.terminate(function(){_.info('session-terminate for ice restart - done')},function(n){_.error("session-terminate for ice restart - error: "+n.message)},{reason:'connectivity-error',reasonDescription:'ICE FAILED',requestRestart:!0,sendSessionTerminate:!0}):this._conference.jvbJingleSession.sendIceFailedNotification()):_.warn('Not sending ICE failed - no JVB connection')}}}},{key:"start",value:function(){var n=this;this._conference.xmpp.ping(65e3).then(function(){n._canceled||(n._iceFailedTimeout=window.setTimeout(function(){n._iceFailedTimeout=void 0,n._actOnIceFailed()},2e3))},function(n){_.error('PING error/timeout - not sending ICE failed',n)})}},{key:"cancel",value:function(){this._canceled=!0,window.clearTimeout(this._iceFailedTimeout)}}]),n})();e.default=p},711,[2,12,13,435,554,555]);
__d(function(g,r,i,a,m,e,d){var _;Object.defineProperty(e,"__esModule",{value:!0}),e.VAD_TALK_WHILE_MUTED=e.VAD_SCORE_PUBLISHED=e.VAD_REPORT_PUBLISHED=e.VAD_NOISY_DEVICE=e.NO_AUDIO_INPUT=e.DetectionEvents=e.DETECTOR_STATE_CHANGE=e.AUDIO_INPUT_STATE_CHANGE=void 0,e.DetectionEvents=_,(function(_){_.DETECTOR_STATE_CHANGE="detector_state_change",_.AUDIO_INPUT_STATE_CHANGE="audio_input_state_changed",_.NO_AUDIO_INPUT="no_audio_input_detected",_.VAD_NOISY_DEVICE="detection.vad_noise_device",_.VAD_REPORT_PUBLISHED="vad-report-published",_.VAD_SCORE_PUBLISHED="detection.vad_score_published",_.VAD_TALK_WHILE_MUTED="detection.vad_talk_while_muted"})(_||(e.DetectionEvents=_={}));var E=_.DETECTOR_STATE_CHANGE;e.DETECTOR_STATE_CHANGE=E;var D=_.AUDIO_INPUT_STATE_CHANGE;e.AUDIO_INPUT_STATE_CHANGE=D;var A=_.NO_AUDIO_INPUT;e.NO_AUDIO_INPUT=A;var T=_.VAD_NOISY_DEVICE;e.VAD_NOISY_DEVICE=T;var I=_.VAD_REPORT_PUBLISHED;e.VAD_REPORT_PUBLISHED=I;var t=_.VAD_SCORE_PUBLISHED;e.VAD_SCORE_PUBLISHED=t;var O=_.VAD_TALK_WHILE_MUTED;e.VAD_TALK_WHILE_MUTED=O},712,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),s=t(r(d[7])),_=T(r(d[8])),h=T(r(d[9])),p=t(r(d[10])),v=T(r(d[11]));function A(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(A=function(t){return t?u:n})(t)}function T(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=A(n);if(u&&u.has(t))return u.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var f=c?Object.getOwnPropertyDescriptor(t,l):null;f&&(f.get||f.set)?Object.defineProperty(o,l,f):o[l]=t[l]}return o.default=t,u&&u.set(t,o),o}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var I=(function(t){(0,c.default)(I,t);var s,A,T=(s=I,A=y(),function(){var t,n=(0,f.default)(s);if(A){var u=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function I(t){var u;return(0,n.default)(this,I),(u=T.call(this))._conference=t,u._timeoutTrigger=null,u._hasAudioInput=null,p.default.supportsReceiverStats()||t.statistics.addAudioLevelListener(u._audioLevel.bind((0,o.default)(u))),t.on(_.TRACK_ADDED,u._trackAdded.bind((0,o.default)(u))),u}return(0,u.default)(I,[{key:"_clearTriggerTimeout",value:function(){clearTimeout(this._timeoutTrigger),this._timeoutTrigger=null}},{key:"_handleAudioInputStateChange",value:function(t){var n=0!==t;null!==this._hasAudioInput&&this._hasAudioInput===n||(this._hasAudioInput=n,this.emit(v.AUDIO_INPUT_STATE_CHANGE,this._hasAudioInput))}},{key:"_handleNoAudioInputDetection",value:function(t){var n=this;this._eventFired||(0!==t||this._timeoutTrigger?0!==t&&this._timeoutTrigger&&this._clearTriggerTimeout():this._timeoutTrigger=setTimeout(function(){n._eventFired=!0,n.emit(v.NO_AUDIO_INPUT)},4e3))}},{key:"_audioLevel",value:function(t,n,u,o){if(o&&this._audioTrack){var c=t.localSSRCs.get(this._audioTrack.rtcId);c&&c.ssrcs.includes(n)&&(this._handleAudioInputStateChange(u),this._handleNoAudioInputDetection(u))}}},{key:"_trackAdded",value:function(t){var n=this;t.isLocalAudioTrack()&&(this._audioTrack=t,this._eventFired=!1,this._clearTriggerTimeout(),p.default.supportsReceiverStats()&&(t.on(h.NO_AUDIO_INPUT,function(t){n._handleNoAudioInputDetection(t)}),t.on(h.TRACK_AUDIO_LEVEL_CHANGED,function(t){n._handleNoAudioInputDetection(t),n._handleAudioInputStateChange(t)})))}}]),I})(s.default);e.default=I},713,[2,12,13,23,20,22,19,558,555,599,568,712]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=c(n);if(o&&o.has(t))return o.get(t);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=f?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(u,s,l):u[s]=t[s]}u.default=t,o&&o.set(t,u);return u})(r(d[3])),f=t(r(d[4]));function c(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(c=function(t){return t?o:n})(t)}var s=(function(){function t(o){(0,n.default)(this,t),this.conference=o,o.addEventListener(u.TRACK_AUDIO_LEVEL_CHANGED,this._audioLevel.bind(this)),this.myUserID=this.conference.myUserId()}return(0,o.default)(t,[{key:"_audioLevel",value:function(t,n){!this.conference.isP2PActive()||n<=.6||t===this.myUserID&&this.conference.getLocalAudioTrack().isMuted()||this.conference.rtc.eventEmitter.emit(f.default.DOMINANT_SPEAKER_CHANGED,t)}}]),t})();e.default=s},714,[2,12,13,555,593]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6])),l=r(d[7]),v=r(d[8]),_=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=p(n);if(o&&o.has(t))return o.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var f=u?Object.getOwnPropertyDescriptor(t,s):null;f&&(f.get||f.set)?Object.defineProperty(c,s,f):c[s]=t[s]}c.default=t,o&&o.set(t,c);return c})(r(d[9])),h=r(d[10]),A=t(r(d[11]));function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(p=function(t){return t?o:n})(t)}function y(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=D(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(t,n){if(t){if("string"==typeof t)return E(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?E(t,n):void 0}}function E(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var S=(0,l.getLogger)(__filename),b=(function(t){(0,u.default)(D,t);var l,v,p=(l=D,v=k(),function(){var t,n=(0,f.default)(l);if(v){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function D(t,o){var u;return(0,n.default)(this,D),(u=p.call(this))._createVADProcessor=o,u._vadEmitter=null,u._isVADEmitterRunning=!1,u._detectionServices=[],u._vadInitTracker=Promise.resolve(),u._processVADScore=u._processVADScore.bind((0,c.default)(u)),t.on(_.TRACK_ADDED,u._trackAdded.bind((0,c.default)(u))),t.on(_.TRACK_REMOVED,u._trackRemoved.bind((0,c.default)(u))),t.on(_.TRACK_MUTE_CHANGED,u._trackMuteChanged.bind((0,c.default)(u))),u}return(0,o.default)(D,[{key:"addVADDetectionService",value:function(t){var n=this;this._detectionServices.push(t),t.on(h.DETECTOR_STATE_CHANGE,function(){!n._detectionServices.filter(function(t){return!0===t.isActive()}).length&&n._isVADEmitterRunning?n._stopVADEmitter():n._isVADEmitterRunning||n._startVADEmitter()})}},{key:"_startVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.on(h.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.start(),this._isVADEmitterRunning=!0)}},{key:"_stopVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.removeListener(h.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.stop()),this._isVADEmitterRunning=!1}},{key:"_processVADScore",value:function(t){for(var n,o=y(this._detectionServices);!(n=o()).done;){n.value.processVADScore(t)}}},{key:"_changeDetectorsMuteState",value:function(t){for(var n,o=y(this._detectionServices);!(n=o()).done;){n.value.changeMuteState(t)}}},{key:"_trackAdded",value:function(t){var n=this;t.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){return n._createVADProcessor()}).then(function(n){return A.default.create(t.getDeviceId(),4096,n)}).then(function(o){S.debug('Created VAD emitter for track: ',t.getTrackLabel()),n._vadEmitter=o,n._changeDetectorsMuteState(t.isMuted())}).catch(function(t){S.warn('Failed to start VADAudioAnalyser',t)}))}},{key:"_trackMuteChanged",value:function(t){var n=this;t.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){n._changeDetectorsMuteState(t.isMuted())}))}},{key:"_trackRemoved",value:function(t){var n=this;t.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){S.debug('Removing track from VAD detection - ',t.getTrackLabel()),n._vadEmitter&&(n._stopVADEmitter(),n._vadEmitter.destroy(),n._vadEmitter=null);for(var o,c=y(n._detectionServices);!(o=c()).done;){o.value.reset()}}))}}]),D})(v.EventEmitter);e.default=b},715,[2,12,13,23,20,22,19,435,558,555,712,716]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),c=t(r(d[2])),n=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),_=t(r(d[8])),h=t(r(d[9])),v=r(d[10]),p=r(d[11]);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var S=(function(t){(0,s.default)(A,t);var _,S,k=(_=A,S=y(),function(){var t,o=(0,f.default)(_);if(S){var c=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,c)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function A(t,o,n){var s;return(0,c.default)(this,A),(s=k.call(this))._procNodeSampleRate=t,s._vadProcessor=o,s._localTrack=n,s._bufferResidue=new Float32Array([]),s._audioContext=(0,v.createAudioContext)({sampleRate:o.getRequiredPCMFrequency()}),s._vadSampleSize=o.getSampleLength(),s._onAudioProcess=s._onAudioProcess.bind((0,u.default)(s)),s._initializeAudioContext(),s}return(0,n.default)(A,[{key:"_initializeAudioContext",value:function(){this._audioSource=this._audioContext.createMediaStreamSource(this._localTrack.stream),this._audioProcessingNode=this._audioContext.createScriptProcessor(this._procNodeSampleRate,1,1)}},{key:"_onAudioProcess",value:function(t){for(var c=t.inputBuffer.getChannelData(0),n=[].concat((0,o.default)(this._bufferResidue),(0,o.default)(c)),u=Date.now(),s=0;s+this._vadSampleSize<n.length;s+=this._vadSampleSize){var l=n.slice(s,s+this._vadSampleSize),f=this._vadProcessor.calculateAudioFrameVAD(l.slice());this.emit(p.VAD_SCORE_PUBLISHED,{timestamp:u,score:f,pcmData:l,deviceId:this._localTrack.getDeviceId()})}this._bufferResidue=n.slice(s,n.length)}},{key:"_connectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=this._onAudioProcess,this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=function(){},this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_cleanupResources",value:function(){this._disconnectAudioGraph(),this._localTrack.stopStream()}},{key:"getDeviceId",value:function(){return this._localTrack.getDeviceId()}},{key:"getTrackLabel",value:function(){return this._localTrack.getDeviceLabel()}},{key:"start",value:function(){this._connectAudioGraph()}},{key:"stop",value:function(){this._disconnectAudioGraph(),this._bufferResidue=[]}},{key:"destroy",value:function(){this._destroyed||(this._cleanupResources(),this._destroyed=!0)}}],[{key:"create",value:function(t,o,c){return h.default.obtainAudioAndVideoPermissions({devices:['audio'],micDeviceId:t}).then(function(n){if(!n[0])throw new Error("Failed to create jitsi local track for device id: "+t);return new A(o,c,n[0])})}}]),A})(_.default);e.default=S},716,[2,41,12,13,23,20,22,19,558,669,717,712]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createAudioContext=function(t){var n=window.AudioContext||window.webkitAudioContext;if(!n)return;return new n(t)}},717,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),n=t(r(d[6])),f=r(d[7]),v=r(d[8]),_=r(d[9]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=(function(t){(0,o.default)(p,t);var f,y,A=(f=p,y=h(),function(){var t,c=(0,n.default)(f);if(y){var s=(0,n.default)(this).constructor;t=Reflect.construct(c,arguments,s)}else t=c.apply(this,arguments);return(0,l.default)(this,t)});function p(){var t;return(0,c.default)(this,p),(t=A.call(this))._processing=!1,t._scoreArray=[],t._audioLvlArray=[],t._active=!1,t._calculateNoisyScore=t._calculateNoisyScore.bind((0,u.default)(t)),t}return(0,s.default)(p,[{key:"_calculateNoisyScore",value:function(){var t=(0,v.calculateAverage)(this._scoreArray),c=(0,v.calculateAverage)(this._audioLvlArray);t<.2&&c>.04&&(this.emit(_.VAD_NOISY_DEVICE),this._setActiveState(!1)),this.reset()}},{key:"_recordValues",value:function(t,c){this._scoreArray.push(t),this._audioLvlArray.push(c)}},{key:"_setActiveState",value:function(t){this._active=t,this.emit(_.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(t){this._setActiveState(!t),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],this._audioLvlArray=[],clearTimeout(this._processTimeout)}},{key:"processVADScore",value:function(t){if(this._active)if(this._processing){var c=(0,v.filterPositiveValues)(t.pcmData);this._recordValues(t.score,(0,v.calculateAverage)(c))}else if(t.score<.2){var s=(0,v.filterPositiveValues)(t.pcmData),u=(0,v.calculateAverage)(s);u>.02&&(this._processing=!0,this._recordValues(t.score,u),this._processTimeout=setTimeout(this._calculateNoisyScore,1500))}}}]),p})(f.EventEmitter);e.default=y},718,[2,12,13,23,20,22,19,558,587,712]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),n=t(r(d[5])),l=t(r(d[6])),f=r(d[7]),_=r(d[8]),h=r(d[9]);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var A=(function(t){(0,o.default)(p,t);var f,A,y=(f=p,A=v(),function(){var t,c=(0,l.default)(f);if(A){var s=(0,l.default)(this).constructor;t=Reflect.construct(c,arguments,s)}else t=c.apply(this,arguments);return(0,n.default)(this,t)});function p(){var t;return(0,c.default)(this,p),(t=y.call(this))._processing=!1,t._scoreArray=[],t._active=!1,t._calculateVADScore=t._calculateVADScore.bind((0,u.default)(t)),t}return(0,s.default)(p,[{key:"_calculateVADScore",value:function(){(0,_.calculateAverage)(this._scoreArray)>.6&&(this.emit(h.VAD_TALK_WHILE_MUTED),this._setActiveState(!1)),this.reset()}},{key:"_setActiveState",value:function(t){this._active=t,this.emit(h.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(t){this._setActiveState(t),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"processVADScore",value:function(t){this._active&&(this._processing?this._scoreArray.push(t.score):t.score>.9&&(this._processing=!0,this._scoreArray.push(t.score),this._processTimeout=setTimeout(this._calculateVADScore,700)))}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],clearTimeout(this._processTimeout)}}]),p})(f.EventEmitter);e.default=A},719,[2,12,13,23,20,22,19,558,587,712]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=r(d[3]),p=u(r(d[4])),h=u(r(d[5]));function c(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(c=function(t){return t?s:n})(t)}function u(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=c(n);if(s&&s.has(t))return s.get(t);var o={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var u=p?Object.getOwnPropertyDescriptor(t,h):null;u&&(u.get||u.set)?Object.defineProperty(o,h,u):o[h]=t[h]}return o.default=t,s&&s.set(t,o),o}var f=(0,o.getLogger)(__filename),l=5,v=250,y=200,R=(function(){function t(s,o){(0,n.default)(this,t),this.participant=s,this.e2eping=o,this.id=s.getId(),this.requests={},this.lastRequestId=1,this.sendRequest=this.sendRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.maybeLogRttAndStop=this.maybeLogRttAndStop.bind(this),this.scheduleNext=this.scheduleNext.bind(this),this.stop=this.stop.bind(this),this.getDelay=this.getDelay.bind(this),this.timeout=this.scheduleNext()}return(0,s.default)(t,[{key:"scheduleNext",value:function(){return window.setTimeout(this.sendRequest,this.getDelay())}},{key:"stop",value:function(){this.timeout&&window.clearTimeout(this.timeout),this.e2eping.removeParticipant(this.id)}},{key:"getDelay",value:function(){var t=this.e2eping.conference.getParticipants().length,n=t*(t-1)/2*this.e2eping.numRequests/this.e2eping.maxMessagesPerSecond;return(1.5-Math.random())*Math.max(n/this.e2eping.numRequests*1e3,1e3)}},{key:"sendRequest",value:function(){var t=this.lastRequestId++,n={type:"e2e-ping-request",id:t};this.e2eping.sendMessage(n,this.id),this.requests[t]={id:t,timeSent:window.performance.now()}}},{key:"handleResponse",value:function(t){var n=this.requests[t.id];n&&(n.rtt=window.performance.now()-n.timeSent),this.maybeLogRttAndStop()}},{key:"maybeLogRttAndStop",value:function(){var t,n,s=1/0,o=0,p=0;for(n in this.requests)this.requests.hasOwnProperty(n)&&(p++,(t=this.requests[n]).rtt&&(o++,s=Math.min(s,t.rtt)));return o>=this.e2eping.numRequests?(f.info("Measured RTT="+s+" ms to "+this.id+" (in "+this.participant.getProperty('region')+")"),this.stop(),void this.e2eping.conference.eventEmitter.emit(h.E2E_RTT_CHANGED,this.participant,s)):p>2*this.e2eping.numRequests?(f.info("Stopping e2eping for "+this.id+" because we sent "+p+" with only "+o+" responses."),void this.stop()):void(this.timeout=this.scheduleNext())}}]),t})(),E=(function(){function t(s,o,h){(0,n.default)(this,t),this.conference=s,this.eventEmitter=s.eventEmitter,this.sendMessage=h,this.participants={},this.numRequests=l,this.maxConferenceSize=y,this.maxMessagesPerSecond=v,o&&o.e2eping&&('number'==typeof o.e2eping.numRequests&&(this.numRequests=o.e2eping.numRequests),'number'==typeof o.e2eping.maxConferenceSize&&(this.maxConferenceSize=o.e2eping.maxConferenceSize),'number'==typeof o.e2eping.maxMessagesPerSecond&&(this.maxMessagesPerSecond=o.e2eping.maxMessagesPerSecond)),f.info("Initializing e2e ping with numRequests="+this.numRequests+", maxConferenceSize="+this.maxConferenceSize+", maxMessagesPerSecond="+this.maxMessagesPerSecond+"."),this.participantJoined=this.participantJoined.bind(this),this.participantLeft=this.participantLeft.bind(this),s.on(p.USER_LEFT,this.participantLeft),this.messageReceived=this.messageReceived.bind(this),s.on(p.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.conferenceJoined=this.conferenceJoined.bind(this),s.on(p.CONFERENCE_JOINED,this.conferenceJoined)}return(0,s.default)(t,[{key:"conferenceJoined",value:function(){var t=this;this.conference.getParticipants().forEach(function(n){return t.participantJoined(n.getId(),n)}),this.conference.on(p.USER_JOINED,this.participantJoined)}},{key:"messageReceived",value:function(t,n){"e2e-ping-request"===n.type?this.handleRequest(t.getId(),n):"e2e-ping-response"===n.type&&this.handleResponse(t.getId(),n)}},{key:"participantJoined",value:function(t,n){this.participants[t]&&(f.info("Participant wrapper already exists for "+t+". Clearing."),this.participants[t].stop()),this.conference.getParticipants().length>this.maxConferenceSize||this.conference.myUserId()>t&&(f.info("Starting e2eping for participant "+t),this.participants[t]=new R(n,this))}},{key:"removeParticipant",value:function(t){this.participants[t]&&delete this.participants[t]}},{key:"participantLeft",value:function(t){this.participants[t]&&(this.participants[t].stop(),delete this.participants[t])}},{key:"handleRequest",value:function(t,n){if(n&&n.id){var s={type:"e2e-ping-response",id:n.id};this.sendMessage(s,t)}else f.info("Received an invalid e2e ping request from "+t+".")}},{key:"handleResponse",value:function(t,n){var s=this.participants[t];s&&s.handleResponse(n)}},{key:"stop",value:function(){for(var t in f.info('Stopping e2eping'),this.conference.off(p.USER_JOINED,this.participantJoined),this.conference.off(p.USER_LEFT,this.participantLeft),this.conference.off(p.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.participants)this.participants.hasOwnProperty(t)&&this.participants[t].stop();this.participants={}}}]),t})();e.default=E},720,[2,12,13,435,555,721]);
__d(function(g,r,i,a,m,e,d){var E;Object.defineProperty(e,"__esModule",{value:!0}),e.E2ePingEvents=e.E2E_RTT_CHANGED=void 0,e.E2ePingEvents=E,(function(E){E.E2E_RTT_CHANGED="e2eping.e2e_rtt_changed"})(E||(e.E2ePingEvents=E={}));var _=E.E2E_RTT_CHANGED;e.E2E_RTT_CHANGED=_},721,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),f=r(d[3]),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=c(n);if(u&&u.has(t))return u.get(t);var f={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var v=o?Object.getOwnPropertyDescriptor(t,s):null;v&&(v.get||v.set)?Object.defineProperty(f,s,v):f[s]=t[s]}f.default=t,u&&u.set(t,f);return f})(r(d[4]));function c(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(c=function(t){return t?u:n})(t)}var s=(0,f.getLogger)(__filename),v=(function(){function t(u){var f=this;(0,n.default)(this,t),this._conference=u,this._jvb121=!0,this._conference.addEventListener(o.USER_JOINED,function(){return f.evaluateStatus()}),this._conference.addEventListener(o.USER_LEFT,function(){return f.evaluateStatus()}),this._conference.addEventListener(o.P2P_STATUS,function(){return f.evaluateStatus()})}return(0,u.default)(t,[{key:"evaluateStatus",value:function(){var t=this._jvb121,n=!this._conference.isP2PActive()&&this._conference.getParticipantCount()<=2;t!==n&&(this._jvb121=n,s.debug("JVB121 status "+t+" => "+n),this._conference.eventEmitter.emit(o.JVB121_STATUS,t,n))}}]),t})();e.default=v},722,[2,12,13,435,555]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})},723,[724]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})},724,[725]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RecordingController=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=r(d[4]),h=r(d[5]),_=r(d[6]),l=(0,c.getLogger)(__filename),f=new Set(['flac','wav','ogg']),u='flac',S=Object.freeze({IDLE:Symbol('IDLE'),STARTING:Symbol('STARTING'),RECORDING:Symbol('RECORDING'),STOPPING:Symbol('STOPPING'),FAILED:Symbol('FAILED')}),R=(function(){function t(){(0,n.default)(this,t),this._adapters={},this._conference=null,this._currentSessionToken=-1,this._state=S.IDLE,this._isMuted=!1,this._micDeviceId='default',this._format=u,this._registered=!1,this.registerEvents=this.registerEvents.bind(this),this.getParticipantsStats=this.getParticipantsStats.bind(this),this._onStartCommand=this._onStartCommand.bind(this),this._onStopCommand=this._onStopCommand.bind(this),this._onPingCommand=this._onPingCommand.bind(this),this._doStartRecording=this._doStartRecording.bind(this),this._doStopRecording=this._doStopRecording.bind(this),this._updateStats=this._updateStats.bind(this),this._switchToNewSession=this._switchToNewSession.bind(this)}return(0,o.default)(t,[{key:"registerEvents",value:function(t){this._registered||(this._conference=t,this._conference&&(this._conference.addCommandListener("localRecStop",this._onStopCommand),this._conference.addCommandListener("localRecStart",this._onStartCommand),this._conference.addCommandListener("localRecPing",this._onPingCommand),this._registered=!0),this._conference.isModerator()||this._conference.sendCommandOnce("localRecPing",{}))}},{key:"onStateChanged",set:function(t){this._onStateChanged=t}},{key:"onNotify",set:function(t){this._onNotify=t}},{key:"onWarning",set:function(t){this._onWarning=t}},{key:"startRecording",value:function(t){this.registerEvents(),this.switchFormat(t),this._conference&&this._conference.isModerator()?(this._conference.removeCommand("localRecStop"),this._conference.sendCommand("localRecStart",{attributes:{sessionToken:this._getRandomToken(),format:this._format}})):this._onWarning&&this._onWarning('localRecording.messages.notModerator')}},{key:"stopRecording",value:function(){this._conference&&(this._conference.isModerator()?(this._conference.removeCommand("localRecStart"),this._conference.sendCommand("localRecStop",{attributes:{sessionToken:this._currentSessionToken}})):this._onWarning&&this._onWarning('localRecording.messages.notModerator'))}},{key:"downloadRecordedData",value:function(t){var n=this;this._adapters[t]?this._adapters[t].exportRecordedData().then(function(o){var s=o.data,c=o.format,_="session_"+t+"_"+n._conference.myUserId()+"."+c;(0,h.downloadBlob)(s,_)}).catch(function(n){l.error("Failed to download audio for session "+t+". Error: "+n)}):l.error("Invalid session token for download "+t)}},{key:"setMicDevice",value:function(t){t!==this._micDeviceId&&(this._micDeviceId=String(t),this._state===S.RECORDING&&(l.log('Before switching microphone...'),this._adapters[this._currentSessionToken].setMicDevice(this._micDeviceId).then(function(){l.log('Finished switching microphone.')}).catch(function(){l.error('Failed to switch microphone')})),l.log("Switch microphone to "+this._micDeviceId))}},{key:"setMuted",value:function(t){this._isMuted=Boolean(t),this._state===S.RECORDING&&this._adapters[this._currentSessionToken].setMuted(this._isMuted)}},{key:"switchFormat",value:function(t){f.has(t)?(this._format=t,l.log("Recording format switched to "+t)):l.log("Unknown format "+t+". Ignoring...")}},{key:"getLocalStats",value:function(){return{currentSessionToken:this._currentSessionToken,isRecording:this._state===S.RECORDING,recordedBytes:0,recordedLength:0}}},{key:"getParticipantsStats",value:function(){for(var t=this._conference.getParticipants().map(function(t){return{id:t.getId(),displayName:t.getDisplayName(),recordingStats:s.default.parse(t.getProperty("localRecStats")||'{}'),isSelf:!1}}),n={},o=0;o<t.length;++o)n[t[o].id]=t[o];var c=this._conference.myUserId();return n[c]={id:c,displayName:'localRecording.me',recordingStats:this.getLocalStats(),isSelf:!0},n}},{key:"_changeState",value:function(t){this._state!==t&&(l.log("state change: "+this._state.toString()+" -> "+t.toString()),this._state=t)}},{key:"_updateStats",value:function(){this._conference&&this._conference.setLocalParticipantProperty("localRecStats",JSON.stringify(this.getLocalStats()))}},{key:"_onStartCommand",value:function(t){var n=this,o=t.attributes,s=o.sessionToken,c=o.format;this._state===S.IDLE?(this._changeState(S.STARTING),this._switchToNewSession(s,c),this._doStartRecording()):this._state===S.RECORDING&&this._currentSessionToken!==s&&(this._changeState(S.STOPPING),this._doStopRecording().then(function(){n._changeState(S.STARTING),n._switchToNewSession(s,c),n._doStartRecording()}))}},{key:"_onStopCommand",value:function(t){this._state===S.RECORDING&&this._currentSessionToken===t.attributes.sessionToken&&(this._changeState(S.STOPPING),this._doStopRecording())}},{key:"_onPingCommand",value:function(){this._conference.isModerator()&&(l.log('Received ping, sending pong.'),this._conference.sendCommandOnce("localRecPong",{}))}},{key:"_getRandomToken",value:function(){return Math.floor(1e8*Math.random())+1}},{key:"_doStartRecording",value:function(){var t=this;if(this._state===S.STARTING){var n=this._adapters[this._currentSessionToken];n.start(this._micDeviceId).then(function(){t._changeState(S.RECORDING),_.sessionManager.beginSegment(t._currentSessionToken),l.log('Local recording engaged.'),t._onNotify&&t._onNotify('localRecording.messages.engaged'),t._onStateChanged&&t._onStateChanged(!0),n.setMuted(t._isMuted),t._updateStats()}).catch(function(t){l.error('Failed to start local recording.',t)})}}},{key:"_doStopRecording",value:function(){var t=this;if(this._state===S.STOPPING){var n=this._currentSessionToken;return this._adapters[this._currentSessionToken].stop().then(function(){t._changeState(S.IDLE),_.sessionManager.endSegment(t._currentSessionToken),l.log('Local recording unengaged.'),t.downloadRecordedData(n);var o=t._conference.isModerator()?'localRecording.messages.finishedModerator':'localRecording.messages.finished',s={token:n};t._onNotify&&t._onNotify(o,s),t._onStateChanged&&t._onStateChanged(!1),t._updateStats()}).catch(function(t){l.error('Failed to stop local recording.',t)})}return Promise.resolve()}},{key:"_switchToNewSession",value:function(t,n){this._format=n,this._currentSessionToken=t,l.log("New session: "+this._currentSessionToken+", format: "+this._format),this._adapters[t]=this._createRecordingAdapter(),_.sessionManager.createSession(t,this._format)}},{key:"_createRecordingAdapter",value:function(){switch(l.debug("[RecordingController] creating recording adapter for "+this._format+" format."),this._format){case'ogg':return new h.OggAdapter;case'flac':return new h.FlacAdapter;case'wav':return new h.WavAdapter;default:throw new Error("Unknown format: "+this._format)}}}]),t})();e.RecordingController=R},725,[2,12,13,726,435,727,736]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(u)return(u=u.call(t)).next.bind(u);if(Array.isArray(t)||(u=n(t))||o&&t&&"number"==typeof t.length){u&&(t=u);var l=0;return function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,n){if(t){if("string"==typeof t)return o(t,n);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?Array.from(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?o(t,n):void 0}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var u=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/;e.parse=function(t){var n='object'==typeof(arguments.length<=1?void 0:arguments[1])&&(arguments.length<=1?void 0:arguments[1]),o=(arguments.length<=1?0:arguments.length-1)>1||!n?arguments.length<=1?void 0:arguments[1]:void 0,l=(arguments.length<=1?0:arguments.length-1)>1&&(arguments.length<=2?void 0:arguments[2])||n||{},c=JSON.parse(t,o);return'ignore'===l.protoAction?c:c&&'object'==typeof c&&t.match(u)?(e.scan(c,l),c):c},e.scan=function(n){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=[n];u.length;){var l=u;u=[];for(var c,f=t(l);!(c=f()).done;){var p=c.value;if(Object.prototype.hasOwnProperty.call(p,'__proto__')){if('remove'!==o.protoAction)throw new SyntaxError('Object contains forbidden prototype property');delete p.__proto__}for(var v in p){var s=p[v];s&&'object'==typeof s&&u.push(p[v])}}}},e.safeParse=function(t,n){try{return e.parse(t,n)}catch(t){return null}}},726,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))});var t=r(d[1]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))});var u=r(d[2]);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))});var o=r(d[3]);Object.keys(o).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))});var c=r(d[4]);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===c[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return c[n]}}))})},727,[728,729,730,731,733]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.OggAdapter=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),s=t(r(d[5])),l=r(d[6]),f=r(d[7]);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var _=(0,l.getLogger)(__filename),h=(function(t){(0,u.default)(p,t);var l,f,h=(l=p,f=v(),function(){var t,n=(0,s.default)(l);if(f){var o=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function p(){var t;return(0,n.default)(this,p),(t=h.apply(this,arguments))._mediaRecorder=null,t._initPromise=null,t._recordedData=null,t}return(0,o.default)(p,[{key:"start",value:function(t){var n=this;return this._initPromise||(this._initPromise=this._initialize(t)),this._initPromise.then(function(){return new Promise(function(t){n._mediaRecorder.start(),t()})})}},{key:"stop",value:function(){var t=this;return new Promise(function(n){t._mediaRecorder.onstop=function(){return n()},t._mediaRecorder.stop()})}},{key:"exportRecordedData",value:function(){return null!==this._recordedData?Promise.resolve({data:this._recordedData,format:'ogg'}):Promise.reject('No audio data recorded.')}},{key:"setMuted",value:function(t){var n=!t;if(!this._stream)return Promise.resolve();var o=this._stream.getAudioTracks()[0];return o?(o.enabled!==n&&(o.enabled=n,_.log(t?'Mute':'Unmute')),Promise.resolve()):(_.error('Cannot mute/unmute. Track not found!'),Promise.resolve())}},{key:"_initialize",value:function(t){var n=this;return this._mediaRecorder?Promise.resolve():new Promise(function(o,u){n._getAudioStream(t).then(function(t){n._stream=t,n._mediaRecorder=new MediaRecorder(t),n._mediaRecorder.ondataavailable=function(t){return n._saveMediaData(t.data)},o()}).catch(function(t){_.error("Error calling getUserMedia(): "+t),u()})})}},{key:"_saveMediaData",value:function(t){this._recordedData=t}}]),p})(f.RecordingAdapter);e.OggAdapter=h},728,[2,12,13,20,22,19,435,729]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RecordingAdapter=void 0;var o=t(r(d[1])),n=t(r(d[2])),c=t(r(d[3])),u=(function(){function t(){(0,o.default)(this,t)}return(0,n.default)(t,[{key:"start",value:function(t){throw new Error('Not implemented')}},{key:"stop",value:function(){throw new Error('Not implemented')}},{key:"exportRecordedData",value:function(){throw new Error('Not implemented')}},{key:"setMuted",value:function(t){throw new Error('Not implemented')}},{key:"setMicDevice",value:function(t){throw new Error('Not implemented')}},{key:"_getAudioStream",value:function(t){return c.default.createLocalTracks({devices:['audio'],micDeviceId:t}).then(function(t){if(1!==t.length)throw new Error("Unexpected number of streams from createLocalTracks.");var o=t[0].stream;if(void 0===o)throw new Error('Failed to create local track.');return o})}}]),t})();e.RecordingAdapter=u},729,[2,12,13,553]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.downloadBlob=function(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'recording.ogg',t=window.URL.createObjectURL(o),c=document.createElement('a');c.style='display: none',c.href=t,c.download=n,document.body.appendChild(c),c.click(),document.body.removeChild(c)}},730,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.WavAdapter=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),c=r(d[7]),h=r(d[8]);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var _=(0,c.getLogger)(__filename),p=(function(t){(0,u.default)(w,t);var c,h,p=(c=w,h=v(),function(){var t,n=(0,f.default)(c);if(h){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function w(){var t;return(0,n.default)(this,w),(t=p.call(this))._wavLength=0,t._wavBuffers=[],t._isInitialized=!1,t._initPromise=null,t._onAudioProcess=t._onAudioProcess.bind((0,s.default)(t)),t}return(0,o.default)(w,[{key:"start",value:function(t){var n=this;return this._initPromise||(this._initPromise=this._initialize(t)),this._initPromise.then(function(){n._wavBuffers=[],n._wavLength=0,n._connectAudioGraph()})}},{key:"stop",value:function(){return this._disconnectAudioGraph(),this._data=this._exportMonoWAV(this._wavBuffers,this._wavLength),this._audioProcessingNode=null,this._audioSource=null,this._isInitialized=!1,Promise.resolve()}},{key:"exportRecordedData",value:function(){return null!==this._data?Promise.resolve({data:this._data,format:'wav'}):Promise.reject('No audio data recorded.')}},{key:"setMuted",value:function(t){var n=!t;if(!this._stream)return Promise.resolve();var o=this._stream.getAudioTracks()[0];return o?(o.enabled!==n&&(o.enabled=n,_.log(t?'Mute':'Unmute')),Promise.resolve()):(_.error('Cannot mute/unmute. Track not found!'),Promise.resolve())}},{key:"setMicDevice",value:function(t){return this._replaceMic(t)}},{key:"_createWavHeader",value:function(t){var n=new ArrayBuffer(44),o=new DataView(n);return y(o,0,'RIFF'),y(o,8,'WAVE'),y(o,12,'fmt '),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,1,!0),o.setUint32(24,this._sampleRate,!0),o.setUint32(28,1*Number(this._sampleRate)*16/8,!0),o.setUint16(32,1*Number(16)/8,!0),o.setUint16(34,16,!0),y(o,36,'data'),o.setUint32(4,32+t,!0),o.setUint32(40,t,!0),new Uint8Array(n)}},{key:"_initialize",value:function(t){var n=this;return this._isInitialized?Promise.resolve():this._initializeAudioContext(t,this._onAudioProcess).then(function(){n._isInitialized=!0})}},{key:"_onAudioProcess",value:function(t){var n=t.inputBuffer.getChannelData(0);this._wavBuffers.push(new Float32Array(n)),this._wavLength+=n.length}},{key:"_exportMonoWAV",value:function(t,n){for(var o=2*n,s=new ArrayBuffer(44+o),u=new DataView(s),l=this._createWavHeader(o),f=l.length,c=0;c<f;++c)u.setUint8(c,l[c]);return A(u,44,t),new Blob([u],{type:'audio/wav'})}}]),w})(h.AbstractAudioContextAdapter);function y(t,n,o){for(var s=o.length,u=0;u<s;++u)t.setUint8(n+u,o.charCodeAt(u))}function A(t,n,o){var s,u,l,f,c,h=o.length,v=n;for(s=0;s<h;++s)for(c=(l=o[s]).length,u=0;u<c;++u,v+=2)f=Math.max(-1,Math.min(1,l[u])),t.setInt16(v,f<0?32768*f:32767*f,!0)}e.WavAdapter=p},731,[2,12,13,23,20,22,19,435,732]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractAudioContextAdapter=void 0;var o=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),s=t(r(d[5])),l=r(d[6]),_=r(d[7]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=(0,l.getLogger)(__filename),p=(function(t){(0,u.default)(v,t);var l,_,p=(l=v,_=f(),function(){var t,o=(0,s.default)(l);if(_){var n=(0,s.default)(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function v(){var t;return(0,o.default)(this,v),(t=p.call(this))._audioContext=null,t._audioProcessingNode=null,t._audioSource=null,t._stream=null,t._sampleRate=44100,t._audioContext=new AudioContext,t._sampleRate=t._audioContext.sampleRate,h.log("Current sampleRate "+t._sampleRate+"."),t}return(0,n.default)(v,[{key:"_initializeAudioContext",value:function(t,o){var n=this;return'function'!=typeof o?Promise.reject('a callback function is required.'):this._getAudioStream(t).then(function(t){n._stream=t,n._audioSource=n._audioContext.createMediaStreamSource(t),n._audioProcessingNode=n._audioContext.createScriptProcessor(4096,1,1),n._audioProcessingNode.onaudioprocess=o,h.debug('AudioContext is set up.')}).catch(function(t){return h.error("Error calling getUserMedia(): "+t),Promise.reject(t)})}},{key:"_connectAudioGraph",value:function(){this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=void 0,this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_replaceMic",value:function(t){var o=this;return this._audioContext&&this._audioProcessingNode?this._getAudioStream(t).then(function(t){var n=o._audioContext.createMediaStreamSource(t);o._audioSource.disconnect(),n.connect(o._audioProcessingNode),o._stream=t,o._audioSource=n}):Promise.resolve()}}]),v})(_.RecordingAdapter);e.AbstractAudioContextAdapter=p},732,[2,12,13,20,22,19,435,729]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})},733,[734]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.FlacAdapter=void 0;var o=t(r(d[1])),n=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),_=r(d[7]),f=r(d[8]),v=r(d[9]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var p=(0,_.getLogger)(__filename),R=(function(t){(0,u.default)(k,t);var _,f,R=(_=k,f=h(),function(){var t,o=(0,l.default)(_);if(f){var n=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function k(){var t;return(0,o.default)(this,k),(t=R.call(this))._encoder=null,t._stopPromiseResolver=null,t._initWorkerPromiseResolver=null,t._initPromise=null,t._onAudioProcess=t._onAudioProcess.bind((0,s.default)(t)),t._onWorkerMessage=t._onWorkerMessage.bind((0,s.default)(t)),t}return(0,n.default)(k,[{key:"start",value:function(t){var o=this;return this._initPromise||(this._initPromise=this._initialize(t)),this._initPromise.then(function(){o._connectAudioGraph()})}},{key:"stop",value:function(){var t=this;return this._encoder?new Promise(function(o){t._initPromise=null,t._disconnectAudioGraph(),t._stopPromiseResolver=o,t._encoder.postMessage({command:v.MAIN_THREAD_FINISH})}):(p.error('Attempting to stop but has nothing to stop.'),Promise.reject())}},{key:"exportRecordedData",value:function(){return null!==this._data?Promise.resolve({data:this._data,format:'flac'}):Promise.reject('No audio data recorded.')}},{key:"setMuted",value:function(t){var o=!t;if(!this._stream)return Promise.resolve();var n=this._stream.getAudioTracks()[0];return n?(n.enabled!==o&&(n.enabled=o,p.log(t?'Mute':'Unmute')),Promise.resolve()):(p.error('Cannot mute/unmute. Track not found!'),Promise.resolve())}},{key:"setMicDevice",value:function(t){return this._replaceMic(t)}},{key:"_initialize",value:function(t){var o=this;return null!==this._encoder?Promise.resolve():new Promise(function(t,n){try{o._loadWebWorker()}catch(t){n()}o._initWorkerPromiseResolver=t,o._encoder.onmessage=o._onWorkerMessage,o._encoder.postMessage({command:v.MAIN_THREAD_INIT,config:{sampleRate:o._sampleRate,bps:16}})}).then(function(){return o._initializeAudioContext(t,o._onAudioProcess)})}},{key:"_onAudioProcess",value:function(t){var o=t.inputBuffer.getChannelData(0);this._encoder.postMessage({command:v.MAIN_THREAD_NEW_DATA_ARRIVED,buf:o})}},{key:"_onWorkerMessage",value:function(t){switch(t.data.command){case v.WORKER_BLOB_READY:this._data=t.data.buf,null!==this._stopPromiseResolver&&(this._stopPromiseResolver(),this._stopPromiseResolver=null,this._encoder.terminate(),this._encoder=null);break;case v.DEBUG:p.log(t.data);break;case v.WORKER_LIBFLAC_READY:p.log('libflac is ready.'),this._initWorkerPromiseResolver();break;default:p.error("Unknown event\n                from encoder (WebWorker): \""+t.data.command+"\"!")}}},{key:"_loadWebWorker",value:function(){var t=new Blob(["importScripts('https://sdk.sariska.io/flacEncodeWorker.min.js');"],{type:'application/javascript'}),o=(window.URL||window.webkitURL).createObjectURL(t);this._encoder=new Worker(o),URL.revokeObjectURL(o)}}]),k})(f.AbstractAudioContextAdapter);e.FlacAdapter=R},734,[2,12,13,23,20,22,19,435,732,735]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.WORKER_LIBFLAC_READY=e.WORKER_BLOB_READY=e.MAIN_THREAD_NEW_DATA_ARRIVED=e.MAIN_THREAD_INIT=e.MAIN_THREAD_FINISH=e.DEBUG=void 0;e.MAIN_THREAD_FINISH='MAIN_THREAD_FINISH';e.MAIN_THREAD_INIT='MAIN_THREAD_INIT';e.MAIN_THREAD_NEW_DATA_ARRIVED='MAIN_THREAD_NEW_DATA_ARRIVED';e.WORKER_LIBFLAC_READY='WORKER_LIBFLAC_READY';e.WORKER_BLOB_READY='WORKER_BLOB_READY';e.DEBUG='DEBUG'},735,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})},736,[737]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.sessionManager=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=r(d[4]),l=(0,r(d[5]).getLogger)(__filename);function S(){return window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}var v=Object.freeze({SESSION_STARTED:'SESSION_STARTED',SEGMENT_STARTED:'SEGMENT_STARTED',SEGMENT_ENDED:'SEGMENT_ENDED'}),c=new((function(){function t(){(0,s.default)(this,t),this._sessionsMetadata={},this._loadMetadata()}return(0,n.default)(t,[{key:"_loadMetadata",value:function(){var t=u.jitsiLocalStorage.getItem("localRecordingMetadataVersion1");if(null!==t)try{var s=o.default.parse(t);this._sessionsMetadata=s}catch(t){return void l.warn('Failed to parse localStorage item.')}}},{key:"_saveMetadata",value:function(){u.jitsiLocalStorage.setItem("localRecordingMetadataVersion1",JSON.stringify(this._sessionsMetadata))}},{key:"createSession",value:function(t,s){void 0===this._sessionsMetadata[t]?(this._sessionsMetadata[t]={format:s,events:[]},this._sessionsMetadata[t].events.push({type:v.SESSION_STARTED,timestamp:S()}),this._saveMetadata()):l.warn("Session "+t+" already exists")}},{key:"getSessions",value:function(){for(var t=Object.keys(this._sessionsMetadata),s=[],n=0;n<t.length;++n){var o=this._sessionsMetadata[t[n]],u={start:o.events[0].timestamp,format:o.format,sessionToken:t[n],segments:this.getSegments(t[n])};s.push(u)}return s.sort(function(t,s){return(t.start||0)-(s.start||0)}),s}},{key:"removeSession",value:function(t){delete this._sessionsMetadata[t],this._saveMetadata()}},{key:"getSegments",value:function(t){var s=this._sessionsMetadata[t];return s?this._constructSegments(s.events):[]}},{key:"beginSegment",value:function(t){return void 0===this._sessionsMetadata[t]?(l.warn("Attempting to add segments to nonexistent session "+t),-1):(this._sessionsMetadata[t].events.push({type:v.SEGMENT_STARTED,timestamp:S()}),this._saveMetadata(),this.getSegments(t).length-1)}},{key:"getCurrentSegmentIndex",value:function(t){if(void 0===this._sessionsMetadata[t])return-1;var s=this.getSegments(t);return 0===s.length?-1:s[s.length-1].end?-1:s.length-1}},{key:"endSegment",value:function(t){void 0===this._sessionsMetadata[t]?l.warn("Attempting to end a segment in nonexistent session "+t):(this._sessionsMetadata[t].events.push({type:v.SEGMENT_ENDED,timestamp:S()}),this._saveMetadata())}},{key:"_constructSegments",value:function(t){if(0===t.length)return[];var s=[],n=null,o={};function u(){if(void 0===o.gapBefore||null===o.gapBefore)if(s.length>0&&s[s.length-1].end){var t=s[s.length-1];o.start&&t.end?o.gapBefore=o.start-t.end:o.gapBefore=null}else null!==n&&0===s.length?o.gapBefore=o.start?o.start-n:null:o.gapBefore=null;o.duration=o.end&&o.start?o.end-o.start:null,s.push(o),o={}}for(var S=0;S<t.length;++S){var c=t[S];switch(c.type){case v.SESSION_STARTED:null===n?n=c.timestamp:l.warn('Unexpected SESSION_STARTED event.',c);break;case v.SEGMENT_STARTED:void 0===o.start||null===o.start?o.start=c.timestamp:(u(),o.start=c.timestamp);break;case v.SEGMENT_ENDED:void 0===o.start||null===o.start?l.warn('Unexpected SEGMENT_ENDED event',c):(o.end=c.timestamp,u());break;default:l.warn('Unexpected error during _constructSegments')}}return o.start&&u(),s}}]),t})());e.sessionManager=c,window.sessionManager=c},737,[2,12,13,726,570,435]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=r(d[3]),c=t(r(d[4])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=v(n);if(s&&s.has(t))return s.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var u=c?Object.getOwnPropertyDescriptor(t,l):null;u&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=t[l]}o.default=t,s&&s.set(t,o);return o})(r(d[5])),u=r(d[6]),h=t(r(d[7]));function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(v=function(t){return t?s:n})(t)}function _(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=f(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,n){if(t){if("string"==typeof t)return p(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var C=(0,o.getLogger)(__filename),V=2160,S=180,y=-1,N=(function(){function t(){(0,n.default)(this,t),this._defaultConstraints={maxHeight:S},this._lastN=y,this._maxFrameHeight=V,this._selectedEndpoints=[],this._receiverVideoConstraints={constraints:{},defaultConstraints:this.defaultConstraints,lastN:this._lastN,onStageEndpoints:[],selectedEndpoints:this._selectedEndpoints}}return(0,s.default)(t,[{key:"constraints",get:function(){return this._receiverVideoConstraints.lastN=this._lastN,this._selectedEndpoints.length?(this._receiverVideoConstraints.constraints={},this._selectedEndpoints.length>1?(this._receiverVideoConstraints.defaultConstraints={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.onStageEndpoints=[],this._receiverVideoConstraints.selectedEndpoints=[]):(this._receiverVideoConstraints.constraints[this._selectedEndpoints[0]]={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.defaultConstraints=this._defaultConstraints,this._receiverVideoConstraints.onStageEndpoints=this._selectedEndpoints,this._receiverVideoConstraints.selectedEndpoints=[]),this._receiverVideoConstraints):this._receiverVideoConstraints}},{key:"updateLastN",value:function(t){var n=this._lastN!==t;return n&&(this._lastN=t,C.debug("Updating ReceiverVideoConstraints lastN("+t+")")),n}},{key:"updateReceiveResolution",value:function(t){var n=this._maxFrameHeight!==t;return n&&(this._maxFrameHeight=t,C.debug("Updating receive maxFrameHeight: "+t)),n}},{key:"updateReceiverVideoConstraints",value:function(t){var n=!(0,c.default)(this._receiverVideoConstraints,t);return n&&(this._receiverVideoConstraints=t,C.debug("Updating ReceiverVideoConstraints "+JSON.stringify(t))),n}},{key:"updateSelectedEndpoints",value:function(t){C.debug("Updating selected endpoints: "+JSON.stringify(t)),this._selectedEndpoints=t}}]),t})(),E=(function(){function t(s,o){var c,u,h=this;(0,n.default)(this,t),this._conference=s,this._rtc=o;var v=s.options.config;(this._lastN=null!==(c=null===v||void 0===v?void 0:v.startLastN)&&void 0!==c?c:(null===v||void 0===v?void 0:v.channelLastN)||y,this._maxFrameHeight=V,this._sourceReceiverConstraints=new Map,null===(u=null===v||void 0===v?void 0:v.useNewBandwidthAllocationStrategy)||void 0===u||u)?(this._receiverVideoConstraints=new N,this._receiverVideoConstraints.updateLastN(this._lastN)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)):this._rtc.setLastN(this._lastN);this._selectedEndpoints=[],this._conference.on(l._MEDIA_SESSION_STARTED,function(t){return h._onMediaSessionStarted(t)})}return(0,s.default)(t,[{key:"_getDefaultSourceReceiverConstraints",value:function(t,n){var s;if(!h.default.isSourceNameSignalingEnabled())return null;for(var o,c=(null===(s=t.peerconnection)||void 0===s?void 0:s.getRemoteTracks(null,u.MediaType.VIDEO))||[],l=new Map,v=_(c);!(o=v()).done;){var f=o.value;l.set(f.getSourceName(),n)}return l}},{key:"_onMediaSessionStarted",value:function(t){t.isP2P||!this._receiverVideoConstraints?t.setReceiverVideoConstraint(this._maxFrameHeight,this._sourceReceiverConstraints):(this._receiverVideoConstraints.updateReceiveResolution(this._maxFrameHeight),this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints))}},{key:"getLastN",value:function(){return this._lastN}},{key:"selectEndpoints",value:function(t){var n=this;if(this._selectedEndpoints=t,this._receiverVideoConstraints){var s=t.filter(function(t){return t!==n._conference.myUserId()}),o=JSON.parse(JSON.stringify(this._receiverVideoConstraints.constraints));s.length&&this._receiverVideoConstraints.updateSelectedEndpoints(s);var l=this._receiverVideoConstraints.constraints;(0,c.default)(l,o)||this._rtc.setNewReceiverVideoConstraints(l)}else this._rtc.selectEndpoints(t)}},{key:"setLastN",value:function(t){if(this._lastN!==t){if(this._lastN=t,this._receiverVideoConstraints)return void(this._receiverVideoConstraints.updateLastN(t)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints));this._rtc.setLastN(t)}}},{key:"setPreferredReceiveMaxFrameHeight",value:function(t){this._maxFrameHeight=t;for(var n,s=_(this._conference.getMediaSessions());!(n=s()).done;){var o=n.value;if(o.isP2P||!this._receiverVideoConstraints)o.setReceiverVideoConstraint(t,this._getDefaultSourceReceiverConstraints(this._maxFrameHeight));else this._receiverVideoConstraints.updateReceiveResolution(t)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)}}},{key:"setReceiverConstraints",value:function(t){var n,s,o,c;this._receiverVideoConstraints||(this._receiverVideoConstraints=new N);var l=Object.keys(t).includes('onStageEndpoints','selectedEndpoints'),u=Object.keys(t).includes('onStageSources','selectedSources');if(!h.default.isSourceNameSignalingEnabled()&&u)throw new Error('"onStageSources" and "selectedSources" are not supported when sourceNameSignaling is disabled.');if(h.default.isSourceNameSignalingEnabled()&&l)throw new Error('"onStageEndpoints" and "selectedEndpoints" are not supported when sourceNameSignaling is enabled.');if(this._receiverVideoConstraints.updateReceiverVideoConstraints(t)){this._lastN=null!==(n=t.lastN)&&void 0!==n?n:this._lastN,this._selectedEndpoints=null!==(s=t.selectedEndpoints)&&void 0!==s?s:this._selectedEndpoints,this._rtc.setNewReceiverVideoConstraints(t);var v=this._conference.getMediaSessions().find(function(t){return t.isP2P});if(!v)return;if(h.default.isSourceNameSignalingEnabled()){var _=Array.from(Object.entries(t.constraints)).map(function(t){return t[1]=t[1].maxHeight,t});this._sourceReceiverConstraints=new Map(_),v.setReceiverVideoConstraint(null,this._sourceReceiverConstraints)}else{var f=null===(o=Object.values(t.constraints)[0])||void 0===o?void 0:o.maxHeight;f||(f=null===(c=t.defaultConstraints)||void 0===c?void 0:c.maxHeight),f&&v.setReceiverVideoConstraint(f)}}}}]),t})();e.default=E},738,[2,12,13,435,559,555,589,590]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=h(n);if(o&&o.has(t))return o.get(t);var s={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=u?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(s,c,l):s[c]=t[c]}s.default=t,o&&o.set(t,s);return s})(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7]));function h(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(h=function(t){return t?o:n})(t)}function S(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=_(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,n){if(t){if("string"==typeof t)return v(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(t,n):void 0}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var p=(0,s.getLogger)(__filename),M=2160,y=(function(){function t(o,s){var l=this;(0,n.default)(this,t),this._conference=o,this._preferredSendMaxFrameHeight=M,this._rtc=s,this._sourceSenderConstraints=new Map,this._conference.on(u._MEDIA_SESSION_STARTED,function(t){return l._onMediaSessionStarted(t)}),this._conference.on(u._MEDIA_SESSION_ACTIVE_CHANGED,function(){return l._configureConstraintsForLocalSources()}),this._rtc.on(c.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,function(t){return l._onSenderConstraintsReceived(t)})}return(0,o.default)(t,[{key:"_configureConstraintsForLocalSources",value:function(){if(l.default.isSourceNameSignalingEnabled())for(var t,n=S(this._rtc.getLocalVideoTracks());!(t=n()).done;){var o=t.value.getSourceName();o&&this._propagateSendMaxFrameHeight(o)}else this._propagateSendMaxFrameHeight()}},{key:"_onMediaSessionStarted",value:function(t){var n=this;l.default.isSourceNameSignalingEnabled()?t.addListener(f.default.REMOTE_SOURCE_CONSTRAINTS_CHANGED,function(t,o){t===n._conference.getActiveMediaSession()&&o.forEach(function(t){return n._onSenderConstraintsReceived(t)})}):t.addListener(f.default.REMOTE_VIDEO_CONSTRAINTS_CHANGED,function(t){return t===n._conference.getActiveMediaSession()&&n._configureConstraintsForLocalSources()})}},{key:"_onSenderConstraintsReceived",value:function(t){var n,o;if(l.default.isSourceNameSignalingEnabled())for(var s,u=t.maxHeight,c=t.sourceName,f=S(null!==(n=this._conference.getLocalVideoTracks())&&void 0!==n?n:[]);!(s=f()).done;){s.value.getSourceName()!==c||this._sourceSenderConstraints.has(c)&&this._sourceSenderConstraints.get(c)===u||(this._sourceSenderConstraints.set(c,u),p.debug("Sender constraints for source:"+c+" changed to maxHeight:"+u),this._propagateSendMaxFrameHeight(c))}else(null===(o=this._senderVideoConstraints)||void 0===o?void 0:o.idealHeight)!==t.idealHeight&&(this._senderVideoConstraints=t,this._propagateSendMaxFrameHeight())}},{key:"_propagateSendMaxFrameHeight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l.default.isSourceNameSignalingEnabled()&&!t)throw new Error('sourceName missing for calculating the sendMaxHeight for video tracks');var n=this._selectSendMaxFrameHeight(t),o=[];if(n>=0)for(var s,u=S(this._conference.getMediaSessions());!(s=u()).done;){var c=s.value;o.push(c.setSenderVideoConstraint(n,t))}return Promise.all(o)}},{key:"_selectSendMaxFrameHeight",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l.default.isSourceNameSignalingEnabled()&&!n)throw new Error('sourceName missing for calculating the sendMaxHeight for video tracks');var o=this._conference.getActiveMediaSession(),s=o?o.isP2P?n?this._sourceSenderConstraints.get(n):o.getRemoteRecvMaxFrameHeight():n?this._sourceSenderConstraints.get(n):null===(t=this._senderVideoConstraints)||void 0===t?void 0:t.idealHeight:void 0;return this._preferredSendMaxFrameHeight>=0&&s>=0?Math.min(this._preferredSendMaxFrameHeight,s):s>=0?s:this._preferredSendMaxFrameHeight}},{key:"setPreferredSendMaxFrameHeight",value:function(t){if(this._preferredSendMaxFrameHeight=t,l.default.isSourceNameSignalingEnabled()){for(var n,o=[],s=S(this._sourceSenderConstraints.keys());!(n=s()).done;){var u=n.value;o.push(this._propagateSendMaxFrameHeight(u))}return Promise.allSettled(o)}return this._propagateSendMaxFrameHeight()}}]),t})();e.default=y},739,[2,12,13,435,555,593,590,664]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),c=r(d[4]),u=r(d[5]),f=t(r(d[6])),h=t(r(d[7])),_=(0,c.getLogger)(__filename),l=(function(){function t(s){(0,n.default)(this,t),this._sessions={},this._chatRoom=s,this.onPresence=this.onPresence.bind(this),this._chatRoom.eventEmitter.addListener(u.XMPPEvents.PRESENCE_RECEIVED,this.onPresence)}return(0,o.default)(t,[{key:"getSession",value:function(t){return this._sessions[t]}},{key:"onPresence",value:function(t){var s=t.fromHiddenDomain,n=t.presence;h.default.isFromFocus(n)?this._handleFocusPresence(n):s&&this._handleJibriPresence(n)}},{key:"startRecording",value:function(t){var n=this,o=new f.default((0,s.default)((0,s.default)({},t),{connection:this._chatRoom.connection}));return o.start({appData:t.appData,broadcastId:t.broadcastId,focusMucJid:this._chatRoom.focusMucJid,streamId:t.streamId}).then(function(){return n.getSession(o.getID())||(n._addSession(o),n._emitSessionUpdate(o)),o}).catch(function(t){return n._emitSessionUpdate(o),Promise.reject(t)})}},{key:"stopRecording",value:function(t){var s=this.getSession(t);return s?s.stop({focusMucJid:this._chatRoom.focusMucJid}):Promise.reject(new Error('Could not find session'))}},{key:"_addSession",value:function(t){this._sessions[t.getID()]=t}},{key:"_createSession",value:function(t,s,n){var o=new f.default({connection:this._chatRoom.connection,focusMucJid:this._chatRoom.focusMucJid,mode:n,sessionID:t,status:s});return this._addSession(o),o}},{key:"_emitSessionUpdate",value:function(t,s){this._chatRoom.eventEmitter.emit(u.XMPPEvents.RECORDER_STATE_CHANGED,t,s)}},{key:"_handleFocusPresence",value:function(t){var s=h.default.getFocusRecordingUpdate(t);if(s){var n=s.error,o=s.initiator,c=s.recordingMode,u=s.sessionID,f=s.status,l=this.getSession(u);l||'off'!==f?l&&l.getStatus()===f&&l.getError()===n?_.warn('Ignoring duplicate presence update: ',JSON.stringify(s)):(l||(l=this._createSession(u,f,c)),l.setStatus(f),n&&l.setError(n),this._emitSessionUpdate(l,o)):_.warn('Ignoring recording presence update','Received a new session with status off.')}}},{key:"_handleJibriPresence",value:function(t){var s=h.default.getHiddenDomainUpdate(t),n=s.liveStreamViewURL,o=s.mode,c=s.sessionID;if(c){var u=this.getSession(c);u||(u=this._createSession(c,'',o)),u.setLiveStreamViewURL(n),this._emitSessionUpdate(u)}else _.warn('Ignoring potential jibri presence due to no session id.')}}]),t})();e.default=l},740,[2,32,12,13,435,596,741,742]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),u=t(r(d[4])),c=(function(){function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,t),this._connection=o.connection,this._mode=o.mode,this._setSessionID(o.sessionID),this.setStatus(o.status)}return(0,o.default)(t,[{key:"getError",value:function(){return this._error}},{key:"getID",value:function(){return this._sessionID}},{key:"getInitiator",value:function(){return this._initiator}},{key:"getLiveStreamViewURL",value:function(){return this._liveStreamViewURL}},{key:"getStatus",value:function(){return this._status}},{key:"getTerminator",value:function(){return this._terminator}},{key:"getMode",value:function(){return this._mode}},{key:"setError",value:function(t){this._error=t}},{key:"setLiveStreamViewURL",value:function(t){this._liveStreamViewURL=t}},{key:"setStatus",value:function(t){this._status=t}},{key:"setInitiator",value:function(t){this._initiator=t}},{key:"setTerminator",value:function(t){this._terminator=t}},{key:"start",value:function(t){var n=this,o=t.appData,s=t.broadcastId,c=t.focusMucJid,_=t.streamId;return new Promise(function(t,f){n._connection.sendIQ(n._createIQ({action:'start',appData:o,focusMucJid:c,broadcastId:s,streamId:_}),function(o){n.setStatus('pending'),n._setSessionID(u.default.getSessionIdFromIq(o)),t()},function(t){n._setErrorFromIq(t),f(t)})})}},{key:"stop",value:function(t){var n=this,o=t.focusMucJid;return new Promise(function(t,s){n._connection.sendIQ(n._createIQ({action:'stop',focusMucJid:o}),t,s)})}},{key:"_createIQ",value:function(t){var n=t.action,o=t.appData,u=t.broadcastId,c=t.focusMucJid,_=t.streamId;try{o=JSON.parse(o)||{}}catch(t){o={}}return o.base_url=o.base_url?o.base_url:""+window.location.origin+window.location.pathname,o.token=this._connection.emuc.xmpp.token,(0,s.$iq)({to:c,type:'set'}).c('jibri',{xmlns:'http://jitsi.org/protocol/jibri',action:n,app_data:JSON.stringify(o),recording_mode:this._mode,streamid:_,you_tube_broadcast_id:u}).up()}},{key:"_setErrorFromIq",value:function(t){var n=t.getElementsByTagName('error')[0];this.setError(n.children[0].tagName)}},{key:"_setSessionID",value:function(t){this._sessionID=t}}]),t})();e.default=c},741,[2,12,13,560,742]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={getFocusRecordingUpdate:function(t){var n=t&&t.getElementsByTagName('jibri-recording-status')[0];if(n)return{error:n.getAttribute('failure_reason'),initiator:n.getAttribute('initiator'),recordingMode:n.getAttribute('recording_mode'),sessionID:n.getAttribute('session_id'),status:n.getAttribute('status')}},getHiddenDomainUpdate:function(t){var n=t.getElementsByTagName('live-stream-view-url')[0],o=n&&n.textContent,s=t.getElementsByTagName('mode')[0],u=s&&s.textContent&&s.textContent.toLowerCase(),c=t.getElementsByTagName('session_id')[0];return{liveStreamViewURL:o,mode:u,sessionID:c&&c.textContent}},getSessionIdFromIq:function(t){var n=t&&t.getElementsByTagName('jibri')[0];return n&&n.getAttribute('session_id')},getSessionId:function(t){var n=t.getElementsByTagName('session_id')[0];return n&&n.textContent},isFromFocus:function(t){return t.getAttribute('from').includes('focus')}}},742,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),s=r(d[3]),c=_(r(d[4])),l=r(d[5]),u=_(r(d[6])),v=r(d[7]),f=t(r(d[8]));function h(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:o})(t)}function _(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h(o);if(n&&n.has(t))return n.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var u=c?Object.getOwnPropertyDescriptor(t,l):null;u&&(u.get||u.set)?Object.defineProperty(s,l,u):s[l]=t[l]}return s.default=t,n&&n.set(t,s),s}var p=(0,s.getLogger)(__filename),A=(function(){function t(n){(0,o.default)(this,t),this._conference=n,this._localAudioLevelCache={},this._reportedParticipants=[],this._audioProblemCandidates={},this._numberOfRemoteAudioLevelsReceived={},this._onLocalAudioLevelsReport=this._onLocalAudioLevelsReport.bind(this),this._onRemoteAudioLevelReceived=this._onRemoteAudioLevelReceived.bind(this),this._clearUserData=this._clearUserData.bind(this),this._conference.on(u.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport),this._conference.on(c.USER_LEFT,this._clearUserData)}return(0,n.default)(t,[{key:"_onRemoteAudioLevelReceived",value:function(t,o){var n=o.avgAudioLevels,s=this._numberOfRemoteAudioLevelsReceived[t]+1||0;if(this._numberOfRemoteAudioLevelsReceived[t]=s,!(-1!==this._reportedParticipants.indexOf(t)||t in this._audioProblemCandidates||n<=0||s<3)){var c=this._conference.getParticipantById(t);if(c)if(c.getTracksByMediaType(l.MediaType.AUDIO).length>0&&c.isAudioMuted())return;var u=this._localAudioLevelCache[t];Array.isArray(u)&&!u.every(function(t){return 0===t})||(this._audioProblemCandidates[t]={remoteAudioLevels:n,localAudioLevels:[]})}}},{key:"_onLocalAudioLevelsReport",value:function(t,o){var n=this,s=o.avgAudioLevels;t===this._conference.getActivePeerConnection()&&(Object.keys(s).forEach(function(t){if(-1===n._reportedParticipants.indexOf(t)){var o=n._localAudioLevelCache[t];Array.isArray(o)?o.length>=2&&o.shift():n._localAudioLevelCache[t]=[],n._localAudioLevelCache[t].push(s[t])}}),Object.keys(this._audioProblemCandidates).forEach(function(t){var o=n._audioProblemCandidates[t],c=o.localAudioLevels,l=o.remoteAudioLevels;if(c.push(s[t]),2===c.length){if(c.every(function(t){return void 0===t||0===t})){var u=JSON.stringify(c);f.default.sendAnalytics((0,v.createAudioOutputProblemEvent)(t,u,l)),p.warn("A potential problem is detected with the audio output for participant "+t+", local audio levels: "+u+", remote audio levels: "+l),n._reportedParticipants.push(t),n._clearUserData(t)}delete n._audioProblemCandidates[t]}}))}},{key:"_clearUserData",value:function(t){delete this._localAudioLevelCache[t]}},{key:"dispose",value:function(){this._conference.off(u.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.off(c.USER_LEFT,this._clearUserData),this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport),this._localAudioLevelCache=void 0,this._audioProblemCandidates=void 0,this._reportedParticipants=void 0,this._numberOfRemoteAudioLevelsReceived=void 0,this._conference=void 0}}]),t})();e.default=A},743,[2,12,13,435,555,589,710,566,563]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),c=r(d[4]),l=t(r(d[5])),p=P(r(d[6])),_=r(d[7]),v=r(d[8]),h=P(r(d[9])),u=r(d[10]),f=t(r(d[11])),S=t(r(d[12]));function T(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,n=new WeakMap;return(T=function(t){return t?n:s})(t)}function P(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=T(s);if(n&&n.has(t))return n.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(o,l,p):o[l]=t[l]}return o.default=t,n&&n.set(t,o),o}function R(t,s){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=y(t))||s&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t,s){if(t){if("string"==typeof t)return A(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,s):void 0}}function A(t,s){(null==s||s>t.length)&&(s=t.length);for(var n=0,o=new Array(s);n<s;n++)o[n]=t[n];return o}var w=(0,c.getLogger)(__filename),x=(function(){function t(s){(0,n.default)(this,t),this.name=s,this.count=0,this.sum=0,this.samples=[]}return(0,o.default)(t,[{key:"addNext",value:function(t){'number'!=typeof t?w.error(this.name+" - invalid value for idx: "+this.count,t):isNaN(t)||(this.sum+=t,this.samples.push(t),this.count+=1)}},{key:"calculate",value:function(){return this.sum/this.count}},{key:"appendReport",value:function(t){t[this.name+"_avg"]=this.calculate(),t[this.name+"_samples"]=JSON.stringify(this.samples)}},{key:"reset",value:function(){this.samples=[],this.sum=0,this.count=0}}]),t})(),N=(function(){function t(s,o,c){var l=this;(0,n.default)(this,t),this.isP2P=o,this._n=c,this._sampleIdx=0,this._avgRTT=new x('rtt'),this._avgRemoteRTTMap=new Map,this._avgRtpStatsReporter=s,this._avgEnd2EndRTT=void 0,this._onConnectionStats=function(t,s){l.isP2P===t.isP2P&&l._calculateAvgStats(s)};var _=s._conference;_.statistics.addConnectionStatsListener(this._onConnectionStats),this.isP2P||(this._onUserLeft=function(t){return l._avgRemoteRTTMap.delete(t)},_.on(p.USER_LEFT,this._onUserLeft),this._onRemoteStatsUpdated=function(t,s){return l._processRemoteStats(t,s)},_.on(h.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated))}return(0,o.default)(t,[{key:"_calculateAvgStats",value:function(t){if(t){if(f.default.supportsRTTStatistics()&&t.transport&&t.transport.length&&this._avgRTT.addNext(t.transport[0].rtt),this._sampleIdx+=1,this._sampleIdx>=this._n){if(f.default.supportsRTTStatistics()){var n=this._avgRtpStatsReporter._conference,o={p2p:this.isP2P,conference_size:n.getParticipantCount()};if(t.transport&&t.transport.length&&(0,s.default)(o,{local_candidate_type:t.transport[0].localCandidateType,remote_candidate_type:t.transport[0].remoteCandidateType,transport_type:t.transport[0].type}),this._avgRTT.appendReport(o),this.isP2P){var c=this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;isNaN(c)||(o.rtt_diff=this._avgRTT.calculate()-c)}else{var l=this._calculateAvgRemoteRTT(),p=this._avgRTT.calculate();this._avgEnd2EndRTT=p+l,isNaN(p)||isNaN(l)||(o.end2end_rtt_avg=this._avgEnd2EndRTT)}S.default.sendAnalytics((0,u.createRtpStatsEvent)(o))}this._resetAvgStats()}}else w.error('No stats')}},{key:"_calculateAvgRemoteRTT",value:function(){for(var t,s=0,n=0,o=R(this._avgRemoteRTTMap.values());!(t=o()).done;){var c=t.value,l=c.calculate();isNaN(l)||(n+=l,s+=1,c.reset())}return n/s}},{key:"_processRemoteStats",value:function(t,s){var n='number'==typeof s.jvbRTT,o=this._avgRemoteRTTMap.get(t);!o&&n&&(o=new x(t+"_stat_rtt"),this._avgRemoteRTTMap.set(t,o)),n?o.addNext(s.jvbRTT):o&&this._avgRemoteRTTMap.delete(t)}},{key:"_resetAvgStats",value:function(){this._avgRTT.reset(),this._avgRemoteRTTMap&&this._avgRemoteRTTMap.clear(),this._sampleIdx=0}},{key:"dispose",value:function(){var t=this._avgRtpStatsReporter._conference;t.statistics.removeConnectionStatsListener(this._onConnectionStats),this.isP2P||(t.off(h.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated),t.off(p.USER_LEFT,this._onUserLeft))}}]),t})(),b=(function(){function t(s,o){var c=this;(0,n.default)(this,t),this._n=o,o>0?(w.info("Avg RTP stats will be calculated every "+o+" samples"),this._sampleIdx=0,this._conference=s,this._avgAudioBitrateUp=new x('bitrate_audio_upload'),this._avgAudioBitrateDown=new x('bitrate_audio_download'),this._avgVideoBitrateUp=new x('bitrate_video_upload'),this._avgVideoBitrateDown=new x('bitrate_video_download'),this._avgBandwidthUp=new x('bandwidth_upload'),this._avgBandwidthDown=new x('bandwidth_download'),this._avgPacketLossTotal=new x('packet_loss_total'),this._avgPacketLossUp=new x('packet_loss_upload'),this._avgPacketLossDown=new x('packet_loss_download'),this._avgRemoteFPS=new x('framerate_remote'),this._avgRemoteScreenFPS=new x('framerate_screen_remote'),this._avgLocalFPS=new x('framerate_local'),this._avgLocalScreenFPS=new x('framerate_screen_local'),this._avgRemoteCameraPixels=new x('pixels_remote'),this._avgRemoteScreenPixels=new x('pixels_screen_remote'),this._avgLocalCameraPixels=new x('pixels_local'),this._avgLocalScreenPixels=new x('pixels_screen_local'),this._avgCQ=new x('connection_quality'),this._cachedTransportStats=void 0,this._onLocalStatsUpdated=function(t){c._calculateAvgStats(t),c._maybeSendTransportAnalyticsEvent(t)},s.on(h.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._onP2PStatusChanged=function(){w.debug('Resetting average stats calculation'),c._resetAvgStats(),c.jvbStatsMonitor._resetAvgStats(),c.p2pStatsMonitor._resetAvgStats()},s.on(p.P2P_STATUS,this._onP2PStatusChanged),this._onJvb121StatusChanged=function(t,s){!0===s&&(w.info('Resetting JVB avg RTP stats'),c._resetAvgJvbStats())},s.on(p.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor=new N(this,!1,o),this.p2pStatsMonitor=new N(this,!0,o)):w.info('Avg RTP stats reports are disabled.')}return(0,o.default)(t,[{key:"_calculateAvgStats",value:function(t){if(t){var n=this._conference.isP2PActive(),o=this._conference.getParticipantCount();if(n||!(o<2)){var c=t.bitrate,l=t.bandwidth,p=t.packetLoss,_=t.framerate,h=t.resolution;if(c)if(l)if(p)if(_)if(h){if(this._avgAudioBitrateUp.addNext(c.audio.upload),this._avgAudioBitrateDown.addNext(c.audio.download),this._avgVideoBitrateUp.addNext(c.video.upload),this._avgVideoBitrateDown.addNext(c.video.download),f.default.supportsBandwidthStatistics()&&(this._avgBandwidthUp.addNext(l.upload),this._avgBandwidthDown.addNext(l.download)),this._avgPacketLossUp.addNext(p.upload),this._avgPacketLossDown.addNext(p.download),this._avgPacketLossTotal.addNext(p.total),this._avgCQ.addNext(t.connectionQuality),_&&(this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(_,!1,v.VideoType.CAMERA)),this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(_,!1,v.VideoType.DESKTOP)),this._avgLocalFPS.addNext(this._calculateAvgVideoFps(_,!0,v.VideoType.CAMERA)),this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(_,!0,v.VideoType.DESKTOP))),h&&(this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(h,!1,v.VideoType.CAMERA)),this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(h,!1,v.VideoType.DESKTOP)),this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(h,!0,v.VideoType.CAMERA)),this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(h,!0,v.VideoType.DESKTOP))),this._sampleIdx+=1,this._sampleIdx>=this._n){var T={p2p:n,conference_size:o};t.transport&&t.transport.length&&(0,s.default)(T,{local_candidate_type:t.transport[0].localCandidateType,remote_candidate_type:t.transport[0].remoteCandidateType,transport_type:t.transport[0].type}),this._avgAudioBitrateUp.appendReport(T),this._avgAudioBitrateDown.appendReport(T),this._avgVideoBitrateUp.appendReport(T),this._avgVideoBitrateDown.appendReport(T),f.default.supportsBandwidthStatistics()&&(this._avgBandwidthUp.appendReport(T),this._avgBandwidthDown.appendReport(T)),this._avgPacketLossUp.appendReport(T),this._avgPacketLossDown.appendReport(T),this._avgPacketLossTotal.appendReport(T),this._avgRemoteFPS.appendReport(T),isNaN(this._avgRemoteScreenFPS.calculate())||this._avgRemoteScreenFPS.appendReport(T),this._avgLocalFPS.appendReport(T),isNaN(this._avgLocalScreenFPS.calculate())||this._avgLocalScreenFPS.appendReport(T),this._avgRemoteCameraPixels.appendReport(T),isNaN(this._avgRemoteScreenPixels.calculate())||this._avgRemoteScreenPixels.appendReport(T),this._avgLocalCameraPixels.appendReport(T),isNaN(this._avgLocalScreenPixels.calculate())||this._avgLocalScreenPixels.appendReport(T),this._avgCQ.appendReport(T),S.default.sendAnalytics((0,u.createRtpStatsEvent)(T)),this._resetAvgStats()}}else w.error('No resolution');else w.error('No "framerate"');else w.error('No "packetloss"');else w.error('No "bandwidth"');else w.error('No "bitrate"')}}else w.error('No stats')}},{key:"_calculateAvgVideoPixels",value:function(t,s,n){for(var o=0,c=0,l=this._conference.myUserId(),p=0,_=Object.keys(t);p<_.length;p++){var v=_[p];if(s?v===l:v!==l){var h=s?null:this._conference.getParticipantById(v),u=t[v];if((s||h)&&u){var f=this._calculatePeerAvgVideoPixels(u,h,n);isNaN(f)||(o+=f,c+=1)}}}return o/c}},{key:"_calculatePeerAvgVideoPixels",value:function(t,s,n){var o=Object.keys(t).map(function(t){return Number(t)}),c=null,l=this._conference.getActivePeerConnection();s?(c=s.getTracksByMediaType(_.MediaType.VIDEO))&&(o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&s.getSSRC()===t&&s.videoType===n})})):(c=this._conference.getLocalTracks(_.MediaType.VIDEO),o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&l.getLocalSSRC(s)===t&&s.videoType===n})}));for(var p,v=0,h=0,u=R(o);!(p=u()).done;){var f=p.value,S=Number(t[f].height)*Number(t[f].width);!isNaN(S)&&S>0&&(v+=S,h+=1)}return v/h}},{key:"_calculateAvgVideoFps",value:function(t,s,n){for(var o=0,c=0,l=this._conference.myUserId(),p=0,_=Object.keys(t);p<_.length;p++){var v=_[p];if(s?v===l:v!==l){var h=s?null:this._conference.getParticipantById(v),u=t[v];if((s||h)&&u){var f=this._calculatePeerAvgVideoFps(u,h,n);isNaN(f)||(o+=f,c+=1)}}}return o/c}},{key:"_calculatePeerAvgVideoFps",value:function(t,s,n){var o=Object.keys(t).map(function(t){return Number(t)}),c=null,l=this._conference.getActivePeerConnection();s?(c=s.getTracksByMediaType(_.MediaType.VIDEO))&&(o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&s.getSSRC()===t&&s.videoType===n})})):(c=this._conference.getLocalTracks(_.MediaType.VIDEO),o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&l.getLocalSSRC(s)===t&&s.videoType===n})}));for(var p,v=0,h=0,u=R(o);!(p=u()).done;){var f=p.value,S=Number(t[f]);!isNaN(S)&&S>0&&(v+=S,h+=1)}return v/h}},{key:"_maybeSendTransportAnalyticsEvent",value:function(t){if(t&&t.transport&&t.transport.length){var s={p2p:t.transport[0].p2p,local_candidate_type:t.transport[0].localCandidateType,remote_candidate_type:t.transport[0].remoteCandidateType,transport_type:t.transport[0].type};this._cachedTransportStats&&(0,l.default)(s,this._cachedTransportStats)||(this._cachedTransportStats=s,S.default.sendAnalytics((0,u.createTransportStatsEvent)(s)))}}},{key:"_resetAvgJvbStats",value:function(){this._resetAvgStats(),this.jvbStatsMonitor._resetAvgStats()}},{key:"_resetAvgStats",value:function(){this._avgAudioBitrateUp.reset(),this._avgAudioBitrateDown.reset(),this._avgVideoBitrateUp.reset(),this._avgVideoBitrateDown.reset(),this._avgBandwidthUp.reset(),this._avgBandwidthDown.reset(),this._avgPacketLossUp.reset(),this._avgPacketLossDown.reset(),this._avgPacketLossTotal.reset(),this._avgRemoteFPS.reset(),this._avgRemoteScreenFPS.reset(),this._avgLocalFPS.reset(),this._avgLocalScreenFPS.reset(),this._avgRemoteCameraPixels.reset(),this._avgRemoteScreenPixels.reset(),this._avgLocalCameraPixels.reset(),this._avgLocalScreenPixels.reset(),this._avgCQ.reset(),this._sampleIdx=0}},{key:"dispose",value:function(){this._conference.off(p.P2P_STATUS,this._onP2PStatusChanged),this._conference.off(h.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._conference.off(p.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor.dispose(),this.p2pStatsMonitor.dispose()}}]),t})();e.default=b},744,[2,32,12,13,435,559,555,589,594,710,566,568,563]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(s);if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var l=u?Object.getOwnPropertyDescriptor(t,f):null;l&&(l.get||l.set)?Object.defineProperty(o,f,l):o[f]=t[f]}o.default=t,n&&n.set(t,o);return o})(r(d[3])),u=r(d[4]),f=t(r(d[5]));function p(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:s})(t)}var l=(function(){function t(n){(0,s.default)(this,t),this.stats={users:{},dominantSpeakerId:null};var p=n.myUserId();this.stats.users[p]=new f.default(p,null,!0),this.conference=n,n.addEventListener(o.DOMINANT_SPEAKER_CHANGED,this._onDominantSpeaker.bind(this)),n.addEventListener(o.USER_JOINED,this._onUserJoin.bind(this)),n.addEventListener(o.USER_LEFT,this._onUserLeave.bind(this)),n.addEventListener(o.DISPLAY_NAME_CHANGED,this._onDisplayNameChange.bind(this)),n.addEventListener(o.FACE_LANDMARK_ADDED,this._onFaceLandmarkAdd.bind(this)),n.xmpp&&n.xmpp.addListener(u.XMPPEvents.SPEAKER_STATS_RECEIVED,this._updateStats.bind(this))}return(0,n.default)(t,[{key:"_onDominantSpeaker",value:function(t){var s=this.stats.users[this.stats.dominantSpeakerId],n=this.stats.users[t];s&&s.setDominantSpeaker(!1),n&&n.setDominantSpeaker(!0),this.stats.dominantSpeakerId=t}},{key:"_onUserJoin",value:function(t,s){s.isHidden()||this.stats.users[t]||(this.stats.users[t]=new f.default(t,s.getDisplayName()))}},{key:"_onUserLeave",value:function(t){var s=this.stats.users[t];s&&s.markAsHasLeft()}},{key:"_onDisplayNameChange",value:function(t,s){var n=this.stats.users[t];n&&n.setDisplayName(s)}},{key:"_onFaceLandmarkAdd",value:function(t,s){var n=this.stats.users[t];n&&s.faceExpression&&n.addFaceExpression(s.faceExpression,s.duration)}},{key:"getStats",value:function(){return this.stats.users}},{key:"_updateStats",value:function(t){for(var s in t){var n=void 0,o=this.conference.getParticipantById(s);o&&o.isHidden()||(this.stats.users[s]?(n=this.stats.users[s]).getDisplayName()||n.setDisplayName(t[s].displayName):(n=new f.default(s,t[s].displayName),this.stats.users[s]=n,n.markAsHasLeft())),n.totalDominantSpeakerTime=t[s].totalDominantSpeakerTime,n.setFaceExpressions(t[s].faceExpressions)}}}]),t})();e.default=l},745,[2,12,13,555,596,746]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=r(d[1]),n=(function(){"use strict";function n(s,o,u){t(this,n),this._userId=s,this.setDisplayName(o),this._isLocalStats=u||!1,this.setDominantSpeaker(!1),this.totalDominantSpeakerTime=0,this._dominantSpeakerStart=0,this._hasLeft=!1,this._faceExpressions={happy:0,neutral:0,surprised:0,angry:0,fearful:0,disgusted:0,sad:0}}return s(n,[{key:"getUserId",value:function(){return this._userId}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"setDisplayName",value:function(t){this.displayName=t}},{key:"isLocalStats",value:function(){return this._isLocalStats}},{key:"isDominantSpeaker",value:function(){return this._dominantSpeakerStart>0}},{key:"setDominantSpeaker",value:function(t){if(!this.isDominantSpeaker()&&t)this._dominantSpeakerStart=Date.now();else if(this.isDominantSpeaker()&&!t){var s=Date.now()-this._dominantSpeakerStart;this.totalDominantSpeakerTime+=s,this._dominantSpeakerStart=0}}},{key:"getTotalDominantSpeakerTime",value:function(){var t=this.totalDominantSpeakerTime;return this.isDominantSpeaker()&&(t+=Date.now()-this._dominantSpeakerStart),t}},{key:"hasLeft",value:function(){return this._hasLeft}},{key:"markAsHasLeft",value:function(){this._hasLeft=!0,this.setDominantSpeaker(!1)}},{key:"getFaceExpressions",value:function(){return this._faceExpressions}},{key:"setFaceExpressions",value:function(t){this._faceExpressions=t}},{key:"addFaceExpression",value:function(t,s){this._faceExpressions[t]+=s}}]),n})();m.exports=n},746,[12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o='before';function h(){this.audioRecorder=new n.default,this.transcriptionService=new s.default,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=o,this.lineLength=0}function c(t,n){if(console.log("retrieved an answer from the transcription service. The answer has an array of length: "+n.wordArray.length),n.wordArray.length>0){var s=n.startTime.getUTCMilliseconds()-t.startTime.getUTCMilliseconds();s<0&&(s=0);var o='[';n.wordArray.forEach(function(t){t.begin+=s,t.end+=s,o+=t.word+","}),o+=']',console.log(o),n.wordArray.name=n.name}t.results.push(n.wordArray),t.counter--,console.log("current counter: "+t.counter),t.maybeMerge()}function l(t){for(var n=0;n<t.length;n++)0===t[n].length&&t.splice(n,1);return t.length>0}function u(t,n){if(0===t.length)t.push(n);else{if(t[t.length-1].begin<=n.begin)return void t.push(n);for(var s=0;s<t.length;s++)if(n.begin<t[s].begin)return void t.splice(s,0,n);t.push(n)}}h.prototype.start=function(){if(this.state!==o)throw new Error("The transcription can only start when it's in the \"before\" state. It's currently in the \""+this.state+"\" state");this.state="recording",this.audioRecorder.start(),this.startTime=new Date},h.prototype.stop=function(t){var n=this;if("recording"!==this.state)throw new Error("The transcription can only stop when it's in the \"recording\" state. It's currently in the \""+this.state+"\" state");console.log('stopping recording and sending audio files'),this.audioRecorder.stop();var s=c.bind(null,this);this.audioRecorder.getRecordingResults().forEach(function(t){n.transcriptionService.send(t,s),n.counter++}),this.state="transcribing",this.callback=t},h.prototype.maybeMerge=function(){"transcribing"===this.state&&0===this.counter&&this.merge()},h.prototype.merge=function(){var t=this;console.log("starting merge process!\n The length of the array: "+this.results.length),this.transcription='';var n=this.results,s=[];l(n),n.forEach(function(t){return u(s,t)});for(var o=function(){var s=n[0];n.forEach(function(t){t[0].begin<s[0].begin&&(s=t)});var o=s.shift();t.updateTranscription(o,s.name);for(var h=function(){var h=!1,c=s[0].begin;if(n.forEach(function(t){t[0].begin<c&&(h=!0)}),h)return"break";o=s.shift(),t.updateTranscription(o,null)};s.length>0;){if("break"===h())break}};l(n);)o();this.state="finished",this.callback&&this.callback(this.transcription)},h.prototype.updateTranscription=function(t,n){void 0!==n&&null!==n&&(this.transcription+="\n"+n+":",this.lineLength=n.length+1),this.lineLength+t.word.length>80&&(this.transcription+='\n    ',this.lineLength=4),this.transcription+=" "+t.word,this.lineLength+=t.word.length+1},h.prototype.addTrack=function(t){this.audioRecorder.addTrack(t)},h.prototype.removeTrack=function(t){this.audioRecorder.removeTrack(t)},h.prototype.getTranscription=function(){if("finished"!==this.state)throw new Error("The transcription can only be retrieved when it's in the \"finished\" state. It's currently in the \""+this.state+"\" state");return this.transcription},h.prototype.getState=function(){return this.state},h.prototype.reset=function(){this.state=o,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0};var f=h;e.default=f},747,[2,748,751]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),c='audio/webm',s='audio/ogg';function p(t){if(void 0===t.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");t.recorder.start(),t.startTime=new Date}function u(t){if(void 0===t.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");t.recorder.stop()}function h(){if(MediaRecorder.isTypeSupported(c))return c;if(MediaRecorder.isTypeSupported(s))return s;throw new Error('unable to create a MediaRecorder with the right mimetype!')}function f(t){this.recorders=[],this.fileType=h(),this.isRecording=!1,this.jitsiConference=t}f.determineCorrectFileType=h,f.prototype.addTrack=function(t){if(t.isAudioTrack()){var o=this.instantiateTrackRecorder(t);this.recorders.push(o),this.updateNames(),this.isRecording&&p(o)}},f.prototype.instantiateTrackRecorder=function(t){var o=new n.default(t),c=o.track.getOriginalStream(),s=new MediaStream;return c.getAudioTracks().forEach(function(t){return s.addTrack(t)}),o.recorder=new MediaRecorder(s,{mimeType:this.fileType}),o.data=[],o.recorder.ondataavailable=function(t){t.data.size>0&&o.data.push(t.data)},o},f.prototype.removeTrack=function(t){if(!t.isVideoTrack()){var o,n=this.recorders;for(o=0;o<n.length;o++)if(n[o].track.getParticipantId()===t.getParticipantId()){var c=n[o];this.isRecording?u(c):n.splice(o,1)}this.updateNames()}},f.prototype.updateNames=function(){var t=this.jitsiConference;this.recorders.forEach(function(o){if(o.track.isLocal())o.name='the transcriber';else{var n=o.track.getParticipantId(),c=t.getParticipantById(n).getDisplayName();'undefined'!==c&&(o.name=c)}})},f.prototype.start=function(){if(this.isRecording)throw new Error('audiorecorder is already recording');this.isRecording=!0,this.recorders.forEach(function(t){return p(t)}),console.log("Started the recording of the audio. There are currently "+this.recorders.length+" recorders active.")},f.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach(function(t){return u(t)}),console.log('stopped recording')},f.prototype.download=function(){var t=this;this.recorders.forEach(function(o){var n=new Blob(o.data,{type:t.fileType}),c=URL.createObjectURL(n),s=document.createElement('a');document.body.appendChild(s),s.style='display: none',s.href=c,s.download="test."+t.fileType.split('/')[1],s.click(),window.URL.revokeObjectURL(c)})},f.prototype.getRecordingResults=function(){var t=this;if(this.isRecording)throw new Error('cannot get blobs because the AudioRecorder is still recording!');this.updateNames();var n=[];return this.recorders.forEach(function(c){return n.push(new o.default(new Blob(c.data,{type:t.fileType}),c.name,c.startTime))}),n},f.prototype.getFileType=function(){return this.fileType};var l=f;e.default=l},748,[2,749,750]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=(0,u.default)(function t(u,l,o,s){(0,f.default)(this,t),this.blob=u,this.name=l,this.startTime=o,this.wordArray=s});e.default=l},749,[2,13,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=t(r(d[2])),n=(0,l.default)(function t(l){(0,u.default)(this,t),this.track=l,this.recorder=null,this.data=null,this.name=null,this.startTime=null});e.default=n},750,[2,13,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),c=t(r(d[7]));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=(function(t){(0,s.default)(O,t);var v,y,R=(v=O,y=p(),function(){var t,n=(0,l.default)(v);if(y){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function O(){var t;return(0,n.default)(this,O),(t=R.call(this)).url=h(),t}return(0,o.default)(O,[{key:"sendRequest",value:function(t,n){console.log("sending an audio file  to "+this.url),console.log("the audio file being sent: "+t);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE&&200===o.status)n(o.responseText);else if(o.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server. status: "+o.status)},o.open('POST',this.url),o.setRequestHeader('Content-Type',c.default.determineCorrectFileType()),o.send(t),console.log("send "+t)}},{key:"formatResponse",value:function(t){var n=JSON.parse(t).objects;n.shift();var o=[];return n.forEach(function(t){return t.filler||o.push(new f.default(t.word,t.start,t.end))}),o}},{key:"verify",value:function(t){if(console.log("response from server:"+t.toString()),'string'!=typeof t)return!1;var n;try{n=JSON.parse(t)}catch(t){return console.log(t),!1}if(void 0===n.objects)return!1;var o=n.objects;return!(!o[0]||!o[0]['session-id'])}}]),O})(t(r(d[8])).default);function h(){var t='config does not contain an url to a Sphinx4 https server';if(void 0===config.sphinxURL)console.log(t);else{var n=config.sphinxURL;if(void 0!==n.includes&&n.includes('https://'))return n;console.log(t)}}e.default=v},751,[2,12,13,20,22,19,752,748,753]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=(function(){function t(u,o,f){(0,n.default)(this,t),this.word=u,this.begin=o,this.end=f}return(0,u.default)(t,[{key:"getWord",value:function(){return this.word}},{key:"getBeginTime",value:function(){return this.begin}},{key:"getEndTime",value:function(){return this.end}}]),t})();e.default=o},752,[2,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=(function(){function t(){throw(0,n.default)(this,t),new Error('TranscriptionService is abstract and cannot be created')}return(0,o.default)(t,[{key:"send",value:function(t,n){var o=this;this.sendRequest(t.blob,function(s){o.verify(s)?t.wordArray=o.formatResponse(s):(console.log('the retrieved response from the server is not valid!'),t.wordArray=[]),n(t)})}},{key:"sendRequest",value:function(t,n){throw new Error('TranscriptionService.sendRequest is abstract')}},{key:"formatResponse",value:function(t){throw new Error('TranscriptionService.format is abstract')}},{key:"verify",value:function(t){throw new Error('TranscriptionService.verify is abstract')}}]),t})();e.default=s},753,[2,12,13]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;var o=n(r(d[1])),s=r(d[2]).getLogger(__filename);function t(n){this.versions={},this.conference=n,this.conference.addCommandListener('versions',this.processVersions.bind(this))}t.prototype.processVersions=function(n,t,c){var f=this;if(this.conference.isFocus(c)){var v=[];n.children.forEach(function(n){var o=n.attributes.name,t=n.value;f.versions[o]!==t&&(f.versions[o]=t,s.info("Got "+o+" version: "+t),v.push({id:'component_version',component:o,version:t}))}),v.length>0&&o.default.sendLog(JSON.stringify(v))}else s.warn("Received versions not from the focus user: "+n,c)},t.prototype.getComponentVersion=function(n){return this.versions[n]}},754,[2,563,435]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=r(d[3]),u=r(d[4]),f=t(r(d[5])),S=(function(t,s){if(!s&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=c(s);if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var S=u?Object.getOwnPropertyDescriptor(t,f):null;S&&(S.get||S.set)?Object.defineProperty(o,f,S):o[f]=t[f]}o.default=t,n&&n.set(t,o);return o})(r(d[6]));function c(t){if("function"!=typeof WeakMap)return null;var s=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:s})(t)}var h=(0,o.getLogger)(__filename),l=(function(){function t(n){(0,s.default)(this,t),this.chatRoom=n,this.eventEmitter=n.eventEmitter,h.debug('creating VideoSIPGW'),this.sessions={},this.sessionStateChangeListener=this.sessionStateChanged.bind(this),n.addPresenceListener('jibri-sip-call-state',this.handleJibriSIPState.bind(this))}return(0,n.default)(t,[{key:"handleJibriSIPState",value:function(t){var s=t.attributes;if(s){h.debug('Handle video sip gw state : ',s);var n=s.state;if(n!==this.state)switch(n){case S.STATE_ON:case S.STATE_OFF:case S.STATE_PENDING:case S.STATE_RETRYING:case S.STATE_FAILED:var o=s.sipaddress;if(!o)return;var u=this.sessions[o];u?u.setState(n,s.failure_reason):h.warn('Video SIP GW session not found:',o)}}}},{key:"createVideoSIPGWSession",value:function(t,s){if(this.sessions[t])return h.warn('There was already a Video SIP GW session for address',t),new Error(S.ERROR_SESSION_EXISTS);var n=new f.default(t,s,this.chatRoom);return n.addStateListener(this.sessionStateChangeListener),this.sessions[t]=n,n}},{key:"sessionStateChanged",value:function(t){var s=t.address;if(t.newState===S.STATE_OFF||t.newState===S.STATE_FAILED){var n=this.sessions[s];if(!n)return void h.error('Missing Video SIP GW session with address:',s);n.removeStateListener(this.sessionStateChangeListener),delete this.sessions[s]}this.eventEmitter.emit(u.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,t)}}]),t})();e.default=l},755,[2,12,13,435,596,756,757]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=r(d[6]),l=r(d[7]),p=t(r(d[8])),h=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=v(n);if(s&&s.has(t))return s.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var f=u?Object.getOwnPropertyDescriptor(t,c):null;f&&(f.get||f.set)?Object.defineProperty(o,c,f):o[c]=t[c]}o.default=t,s&&s.set(t,o);return o})(r(d[9]));function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(v=function(t){return t?s:n})(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var T=(0,f.getLogger)(__filename),_=(function(t){(0,o.default)(_,t);var f,p,v=(f=_,p=y(),function(){var t,n=(0,c.default)(f);if(p){var s=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function _(t,s,o){var u;return(0,n.default)(this,_),(u=v.call(this)).sipAddress=t,u.displayName=s,u.chatRoom=o,u.state=void 0,u}return(0,s.default)(_,[{key:"stop",value:function(){this.state!==h.STATE_OFF&&this.state!==h.STATE_FAILED?this._sendJibriIQ('stop'):T.warn('Video SIP GW session already stopped or failed!')}},{key:"start",value:function(){this.state!==h.STATE_ON&&this.state!==h.STATE_OFF&&this.state!==h.STATE_PENDING&&this.state!==h.STATE_RETRYING?this._sendJibriIQ('start'):T.warn('Video SIP GW session already started!')}},{key:"setState",value:function(t,n){if(t!==this.state){var s=this.state;this.state=t,this.eventEmitter.emit("STATE_CHANGED",{address:this.sipAddress,failureReason:n,oldState:s,newState:this.state,displayName:this.displayName})}}},{key:"addStateListener",value:function(t){this.addListener("STATE_CHANGED",t)}},{key:"removeStateListener",value:function(t){this.removeListener("STATE_CHANGED",t)}},{key:"_sendJibriIQ",value:function(t){var n=this,s={};s.baseUrl=window.location.origin,s.token=this.chatRoom.connection.emuc.xmpp.token;var o={xmlns:'http://jitsi.org/protocol/jibri',action:t,app_data:JSON.stringify(s),sipaddress:this.sipAddress};o.displayname=this.displayName;var u=(0,l.$iq)({to:this.chatRoom.focusMucJid,type:'set'}).c('jibri',o).up();T.debug(t+" video SIP GW session",u.nodeTree),this.chatRoom.connection.sendIQ(u,function(){},function(s){T.error("Failed to "+t+" video SIP GW session, error: ",s),n.setState(h.STATE_FAILED)})}}]),_})(p.default);e.default=_},756,[2,12,13,20,22,19,435,560,609,757]);
__d(function(g,r,i,a,m,e,d){var S,T,E;Object.defineProperty(e,"__esModule",{value:!0}),e.VideoSIPGWStatusConstants=e.VideoSIPGWStateConstants=e.VideoSIPGWErrorConstants=e.STATUS_UNDEFINED=e.STATUS_BUSY=e.STATUS_AVAILABLE=e.STATE_RETRYING=e.STATE_PENDING=e.STATE_ON=e.STATE_OFF=e.STATE_FAILED=e.ERROR_SESSION_EXISTS=e.ERROR_NO_CONNECTION=void 0,e.VideoSIPGWStatusConstants=S,(function(S){S.STATUS_AVAILABLE="available",S.STATUS_UNDEFINED="undefined",S.STATUS_BUSY="busy"})(S||(e.VideoSIPGWStatusConstants=S={})),e.VideoSIPGWStateConstants=T,(function(S){S.STATE_ON="on",S.STATE_OFF="off",S.STATE_PENDING="pending",S.STATE_RETRYING="retrying",S.STATE_FAILED="failed"})(T||(e.VideoSIPGWStateConstants=T={})),e.VideoSIPGWErrorConstants=E,(function(S){S.ERROR_NO_CONNECTION="error_no_connection",S.ERROR_SESSION_EXISTS="error_session_already_exists"})(E||(e.VideoSIPGWErrorConstants=E={}));var _=S.STATUS_AVAILABLE;e.STATUS_AVAILABLE=_;var A=S.STATUS_UNDEFINED;e.STATUS_UNDEFINED=A;var N=S.STATUS_BUSY;e.STATUS_BUSY=N;var I=T.STATE_ON;e.STATE_ON=I;var t=T.STATE_OFF;e.STATE_OFF=t;var n=T.STATE_PENDING;e.STATE_PENDING=n;var o=T.STATE_RETRYING;e.STATE_RETRYING=o;var O=T.STATE_FAILED;e.STATE_FAILED=O;var R=E.ERROR_NO_CONNECTION;e.ERROR_NO_CONNECTION=R;var s=E.ERROR_SESSION_EXISTS;e.ERROR_SESSION_EXISTS=s},757,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SOURCE_INFO_PRESENCE_ELEMENT=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),s=t(r(d[5])),l=t(r(d[6])),f=r(d[7]),v=r(d[8]),S=r(d[9]),_=P(r(d[10])),h=P(r(d[11])),E=r(d[12]),p=r(d[13]),y=t(r(d[14])),T=r(d[15]);function M(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(M=function(t){return t?o:n})(t)}function P(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=M(n);if(o&&o.has(t))return o.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=c?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(u,s,l):u[s]=t[s]}return u.default=t,o&&o.set(t,u),u}function O(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=R(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(t,n){if(t){if("string"==typeof t)return I(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?I(t,n):void 0}}function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var b=(0,f.getLogger)(__filename);e.SOURCE_INFO_PRESENCE_ELEMENT="SourceInfo";var w=(function(t){(0,c.default)(R,t);var f,M,P=(f=R,M=N(),function(){var t,n=(0,l.default)(f);if(M){var o=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function R(){var t;return(0,o.default)(this,R),(t=P.call(this)).ssrcOwners=new Map,t.chatRoom=null,t._localSourceState={},t._remoteSourceState={},t._sourceNames=new Map,t}return(0,u.default)(R,[{key:"_addLocalSourceInfoToPresence",value:function(){return!!this.chatRoom&&this.chatRoom.addOrReplaceInPresence("SourceInfo",{value:JSON.stringify(this._localSourceState)})}},{key:"_doesEndpointSendNewSourceInfo",value:function(t){var n,o=null===(n=this.chatRoom)||void 0===n?void 0:n.getLastPresence(t);return Boolean(o&&o.find(function(t){return"SourceInfo"===t.tagName}))}},{key:"setChatRoom",value:function(t){var n=this,o=this.chatRoom;this.chatRoom=t,o&&(o.removePresenceListener('audiomuted',this._audioMuteHandler),o.removePresenceListener('videomuted',this._videoMuteHandler),o.removePresenceListener('videoType',this._videoTypeHandler),y.default.isSourceNameSignalingEnabled()&&(this._sourceInfoHandler&&o.removePresenceListener("SourceInfo",this._sourceInfoHandler),this._memberLeftHandler&&o.removeEventListener(p.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler))),t&&(y.default.isSourceNameSignalingEnabled()?(this._bindChatRoomEventHandlers(t),this._addLocalSourceInfoToPresence()):(this._audioMuteHandler=function(t,o){n.eventEmitter.emit(_.PEER_MUTED_CHANGED,o,S.MediaType.AUDIO,'true'===t.value)},t.addPresenceListener('audiomuted',this._audioMuteHandler),this._videoMuteHandler=function(t,o){n.eventEmitter.emit(_.PEER_MUTED_CHANGED,o,S.MediaType.VIDEO,'true'===t.value)},t.addPresenceListener('videomuted',this._videoMuteHandler),this._videoTypeHandler=function(t,o){n.eventEmitter.emit(_.PEER_VIDEO_TYPE_CHANGED,o,t.value)},t.addPresenceListener('videoType',this._videoTypeHandler)))}},{key:"_bindChatRoomEventHandlers",value:function(t){var o=this;this._audioMuteHandler=function(t,n){var u,c;o._doesEndpointSendNewSourceInfo(n)||(u=n,c='true'===t.value,o.eventEmitter.emit(_.PEER_MUTED_CHANGED,u,S.MediaType.AUDIO,c))},t.addPresenceListener('audiomuted',this._audioMuteHandler),this._videoMuteHandler=function(t,n){var u,c;o._doesEndpointSendNewSourceInfo(n)||(u=n,c='true'===t.value,o.eventEmitter.emit(_.PEER_MUTED_CHANGED,u,S.MediaType.VIDEO,c))},t.addPresenceListener('videomuted',this._videoMuteHandler);this._videoTypeHandler=function(t,n){var u,c;o._doesEndpointSendNewSourceInfo(n)||(u=n,c=t.value,o.eventEmitter.emit(_.PEER_VIDEO_TYPE_CHANGED,u,c))},y.default.isMultiStreamSupportEnabled()||t.addPresenceListener('videoType',this._videoTypeHandler),this._sourceInfoHandler=function(t,n){for(var u,c=n,s=t.value,l=JSON.parse(s),f=o._doesEndpointSendNewSourceInfo(c),v=o._remoteSourceState[c]||(o._remoteSourceState[c]={}),p=0,y=Object.keys(l);p<y.length;p++){var T=y[p],M=(0,h.getMediaTypeFromSourceName)(T),P=Boolean(l[T].muted),O=v[T]||(v[T]={sourceName:T});O.muted!==P&&(O.muted=P,f&&!o._localSourceState[T]&&o.eventEmitter.emit(_.SOURCE_MUTED_CHANGED,T,P));var R=M===S.MediaType.VIDEO?null!==(u=l[T].videoType)&&void 0!==u?u:E.VideoType.CAMERA:void 0;O.videoType!==R&&(O.videoType=R,f&&!o._localSourceState[T]&&o.eventEmitter.emit(_.SOURCE_VIDEO_TYPE_CHANGED,T,R))}for(var I=Object.keys(l),N=0,b=Object.keys(v);N<b.length;N++){var w=b[N];-1===I.indexOf(w)&&delete v[w]}},t.addPresenceListener('SourceInfo',this._sourceInfoHandler),this._memberLeftHandler=function(t){var u=v.Strophe.getResourceFromJid(t);if(delete o._remoteSourceState[u],y.default.isSourceNameSignalingEnabled())for(var c,s=O(o.ssrcOwners.entries());!(c=s()).done;){var l=c.value,f=(0,n.default)(l,2),S=f[0];f[1]===u&&delete o._sourceNames[S]}},t.addEventListener(p.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler)}},{key:"_findEndpointSourceInfoForMediaType",value:function(t,n){var o=this._remoteSourceState[t];if(!o)return null;for(var u=0,c=Object.values(o);u<c.length;u++){var s=c[u];if((0,h.getMediaTypeFromSourceName)(s.sourceName)===n)return s}return null}},{key:"getPeerMediaInfo",value:function(t,n,o){var u,c=this,s=function(){if(c.chatRoom)return c.chatRoom.getMediaPresenceInfo(t,n);b.warn('Requested peer media info, before room was set')};if(y.default.isSourceNameSignalingEnabled()){var l=null===(u=this.chatRoom)||void 0===u?void 0:u.getLastPresence(t);if(!l)return void b.warn("getPeerMediaInfo - no presence stored for: "+t);if(!this._doesEndpointSendNewSourceInfo(t))return s();if(o)return this.getPeerSourceInfo(t,o);var f={},v=this._findEndpointSourceInfoForMediaType(t,n);if(n===S.MediaType.AUDIO)f.muted=!v||v.muted;else{if(n!==S.MediaType.VIDEO)throw new Error("Unsupported media type: "+n);f.muted=!v||v.muted,f.videoType=v?v.videoType:void 0;var _=(0,T.filterNodeFromPresenceJSON)(l,'jitsi_participant_codecType');_.length>0&&(f.codecType=_[0].value)}return f}return s()}},{key:"getPeerSourceInfo",value:function(t,n){var o,u={muted:!0,videoType:E.VideoType.CAMERA};return this._remoteSourceState[t]?null!==(o=this._remoteSourceState[t][n])&&void 0!==o?o:u:void 0}},{key:"getSSRCOwner",value:function(t){return this.ssrcOwners.get(t)}},{key:"setSSRCOwner",value:function(t,n){if('number'!=typeof t)throw new TypeError("SSRC("+t+") must be a number");var o=this.ssrcOwners.get(t);o&&o!==n&&b.error("SSRC owner re-assigned from "+o+" to "+n),this.ssrcOwners.set(t,n)}},{key:"setTrackMuteStatus",value:function(t,n){return this._localSourceState[t]||(this._localSourceState[t]={}),this._localSourceState[t].muted=n,!!this.chatRoom&&this._addLocalSourceInfoToPresence()}},{key:"setTrackVideoType",value:function(t,n){return this._localSourceState[t]||(this._localSourceState[t]={}),this._localSourceState[t].videoType!==n&&(this._localSourceState[t].videoType=n===E.VideoType.CAMERA?void 0:n,this._addLocalSourceInfoToPresence())}},{key:"getTrackSourceName",value:function(t){return this._sourceNames.get(t)}},{key:"setTrackSourceName",value:function(t,n){if('number'!=typeof t)throw new TypeError("SSRC("+t+") must be a number");var o=this._sourceNames.get(t);o&&o!==n&&b.error("SSRC("+t+") sourceName re-assigned from "+o+" to "+n),this._sourceNames.set(t,n)}}]),R})(h.default);e.default=w},758,[2,33,12,13,20,22,19,435,560,589,697,698,594,596,590,637]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=s(n);if(u&&u.has(t))return u.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var f=c?Object.getOwnPropertyDescriptor(t,l):null;f&&(f.get||f.set)?Object.defineProperty(o,l,f):o[l]=t[l]}o.default=t,u&&u.set(t,o);return o})(r(d[4])),l=t(r(d[5]));function s(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(s=function(t){return t?u:n})(t)}var f={localTracksDuration:{audio:{startedTime:-1,value:0},video:{camera:{startedTime:-1,value:0},desktop:{startedTime:-1,value:0}},conference:{startedTime:-1,value:0}}},v={localTracksDuration:{audio:{startedTime:-1,value:0},video:{camera:{startedTime:-1,value:0},desktop:{startedTime:-1,value:0}},conference:{startedTime:-1,value:0}}};function T(t){var n=t.audio,u=t.video,o=t.conference,c=u.camera,l=u.desktop;return{action:'local.tracks.durations',attributes:{audio:n.value,camera:c.value,conference:o.value,desktop:l.value}}}function p(t,n){var u=Date.now(),c=t.localTracksDuration,l=c.audio,s=c.video,f=s.camera,v=s.desktop,T=n.getLocalTracks(),p=T.find(function(t){return"audio"===t.getType()}),D=T.find(function(t){return"video"===t.getType()}),k=(0,o.default)({},c);if(p&&!p.muted&&n?-1===l.startedTime&&(k.audio.startedTime=u):k.audio={startedTime:-1,value:l.value+(-1===l.startedTime?0:u-l.startedTime)},D&&!D.muted&&n){var E=D.videoType;-1===s[E].startedTime&&(k.video[E].startedTime=u)}else k.video={camera:{startedTime:-1,value:f.value+(-1===f.startedTime?0:u-f.startedTime)},desktop:{startedTime:-1,value:v.value+(-1===v.startedTime?0:u-v.startedTime)}};return(0,o.default)((0,o.default)({},c),k)}var D=(0,n.default)(function t(n){(0,u.default)(this,t),n.addEventListener(c.CONFERENCE_JOINED,function(){v={localTracksDuration:(0,o.default)((0,o.default)({},p(f,n)),{conference:{startedTime:Date.now(),value:0}})}}),n.addEventListener(c.TRACK_UPDATED,function(){var t=v.localTracksDuration;-1!==t.conference.startedTime&&(v={localTracksDuration:(0,o.default)((0,o.default)({},t),p(v,n))})}),n.addEventListener(c.TRACK_ADDED,function(){var t=v.localTracksDuration;-1!==t.conference.startedTime&&(v={localTracksDuration:(0,o.default)((0,o.default)({},t),p(v,n))})}),n.addEventListener(c.TRACK_REMOVED,function(){var t=v.localTracksDuration;-1!==t.conference.startedTime&&(v={localTracksDuration:(0,o.default)((0,o.default)({},t),p(v,n))})}),n.addEventListener(c.CONFERENCE_LEFT,function(){var t=v.localTracksDuration,u=(0,o.default)((0,o.default)({},p(v,n)),{conference:{startedTime:-1,value:Date.now()-t.conference.startedTime}});l.default.sendAnalytics(T(u))})});e.default=D},759,[2,13,12,32,555,563]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.parseURLParams=c,e.syncWithURL=function(t){var o=c();return Object.keys(o).forEach(function(n){var c=n.replace('config.','');switch(c){case'analytics.disabled':t.analytics.disabled=o[n];break;case'startWithAudioMuted':t.startAudioMuted=o[n];break;case'startWithVideoMuted':t.startVideoMuted=o[n];break;case'p2p.enabled':t.p2p.enabled=o[n];break;default:t[c]=o[n]}}),console.log("conferenceConfig",t),t};var o=t(r(d[1])),n=['__proto__','constructor','prototype'];function c(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=location.search?location.search:location.hash,s={},l=c&&c.substr(1).split('&')||[];if(location.hash&&1===l.length){var u=l[0];if(u.startsWith('/')&&1===u.split('&').length)return s}return l.forEach(function(c){var l=c.split('='),u=l[0];if(u&&!n.includes(u.split('.')[0])){var p;try{if(p=l[1],!t){var f=decodeURIComponent(p).replace(/\\&/,'&');p='undefined'===f?void 0:o.default.parse(f)}}catch(t){return void console.log("Failed to parse URL parameter value: "+String(p))}s[u]=p}}),s}},760,[2,726]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.initSDKConfig=e.devConnectionConfig=e.connectionConfig=e.conferenceConfig=void 0;e.initSDKConfig={disableAudioLevels:!1,flags:{sendMultipleVideoStreams:!0,sourceNameSignaling:!0}};e.connectionConfig={hosts:{domain:'sariska.io',muc:'muc.sariska.io'},serviceUrl:'wss://api.sariska.io/api/v1/media/websocket',clientNode:'https://www.sariska.io'};e.devConnectionConfig={hosts:{domain:'dev.sariska.io',muc:'muc.dev.sariska.io'},serviceUrl:'wss://api.dev.sariska.io/api/v1/media/websocket',clientNode:'https://www.sariska.io'};e.conferenceConfig={enableLocalRecording:!0,enableVirtualBackground:!1,enableNoiseCancellation:!1,enableTalkWhileMuted:!0,enableNoAudioDetection:!0,enableNoisyMicDetection:!0,createVADProcessor:!0,openBridgeChannel:'websocket',hiddenDomain:"recorder.sariska.io",enableLayerSuspension:!0,e2eping:{pingInterval:-1},analytics:{disabled:!1},p2p:{enabled:!1}}},761,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),c=t(r(d[5])),f=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=_(n);if(s&&s.has(t))return s.get(t);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var f=o?Object.getOwnPropertyDescriptor(t,c):null;f&&(f.get||f.set)?Object.defineProperty(u,c,f):u[c]=t[c]}u.default=t,s&&s.set(t,u);return u})(r(d[6])),l=t(r(d[7])),v=t(r(d[8])),p=t(r(d[9])),h=r(d[10]),y=t(r(d[11]));function _(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(_=function(t){return t?s:n})(t)}var D='microphone',E='camera',A=new((function(){function t(){var n=this;(0,u.default)(this,t),this._eventEmitter=new c.default,this._permissions={},l.default.addListener(y.default.DEVICE_LIST_CHANGED,function(t){return n._eventEmitter.emit(f.DEVICE_LIST_CHANGED,t)}),l.default.addListener(y.default.DEVICE_LIST_AVAILABLE,function(t){return n._logOutputDevice(n.getAudioOutputDevice(),t)}),l.default.addListener(y.default.PERMISSIONS_CHANGED,function(t){return n._handlePermissionsChange(t)}),this._permissionsApiSupported=new Promise(function(t){if(navigator.permissions){var u=n,o=[];o.push(navigator.permissions.query({name:E}).then(function(t){return n._handlePermissionsChange((0,s.default)({},h.MediaType.VIDEO,n._parsePermissionState(t))),t.onchange=function(){try{u._handlePermissionsChange((0,s.default)({},h.MediaType.VIDEO,u._parsePermissionState(this)))}catch(t){}},!0}).catch(function(){return!1})),o.push(navigator.permissions.query({name:D}).then(function(t){return n._handlePermissionsChange((0,s.default)({},h.MediaType.AUDIO,n._parsePermissionState(t))),t.onchange=function(){try{u._handlePermissionsChange((0,s.default)({},h.MediaType.AUDIO,u._parsePermissionState(this)))}catch(t){}},!0}).catch(function(){return!1})),Promise.all(o).then(function(n){return t(n.every(function(t){return t}))})}else t(!1)})}return(0,o.default)(t,[{key:"_parsePermissionState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.state||t.status;if('string'!=typeof n)throw new TypeError;return"granted"===n}},{key:"_handlePermissionsChange",value:function(t){var s=this;[h.MediaType.AUDIO,h.MediaType.VIDEO].some(function(n){return n in t&&t[n]!==s._permissions[n]})&&(this._permissions=(0,n.default)((0,n.default)({},this._permissions),t),this._eventEmitter.emit(f.PERMISSIONS_CHANGED,this._permissions),(this._permissions[h.MediaType.AUDIO]||this._permissions[h.MediaType.VIDEO])&&this.enumerateDevices(function(){}))}},{key:"_logOutputDevice",value:function(t,n){var s=n.find(function(n){return'audiooutput'===n.kind&&n.deviceId===t});s&&p.default.sendActiveDeviceListEvent(l.default.getEventDataForActiveDevice(s))}},{key:"enumerateDevices",value:function(t){l.default.enumerateDevices(t)}},{key:"isDeviceListAvailable",value:function(){return l.default.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(t){return l.default.isDeviceChangeAvailable(t)}},{key:"isDevicePermissionGranted",value:function(t){var n=this;return new Promise(function(s){t in n._permissions?s(n._permissions[t]):n._permissionsApiSupported.then(function(u){if(u){var o=[];switch(t){case h.MediaType.VIDEO:o.push(navigator.permissions.query({name:E}));break;case h.MediaType.AUDIO:o.push(navigator.permissions.query({name:D}));break;default:o.push(navigator.permissions.query({name:E})),o.push(navigator.permissions.query({name:D}))}Promise.all(o).then(function(t){return s(t.every(function(t){try{return n._parsePermissionState(t)}catch(t){return!1}}))},function(){return s(!1)})}else s(!1)})})}},{key:"isMultipleAudioInputSupported",value:function(){return!(v.default.isFirefox()&&v.default.isVersionLessThan('101')||v.default.isIosBrowser())}},{key:"getAudioOutputDevice",value:function(){return l.default.getAudioOutputDevice()}},{key:"setAudioOutputDevice",value:function(t){return l.default.getCurrentlyAvailableMediaDevices().length>0&&this._logOutputDevice(t,l.default.getCurrentlyAvailableMediaDevices()),l.default.setAudioOutputDevice(t)}},{key:"addEventListener",value:function(t,n){this._eventEmitter.addListener(t,n)}},{key:"removeEventListener",value:function(t,n){this._eventEmitter.removeListener(t,n)}},{key:"emitEvent",value:function(t){for(var n,s=arguments.length,u=new Array(s>1?s-1:0),o=1;o<s;o++)u[o-1]=arguments[o];(n=this._eventEmitter).emit.apply(n,[t].concat(u))}}]),t})());e.default=A},762,[2,32,253,12,13,558,763,669,568,563,589,593]);
__d(function(g,r,i,a,m,e,d){var S;Object.defineProperty(e,"__esModule",{value:!0}),e.SLOW_GET_USER_MEDIA=e.PERMISSION_PROMPT_IS_SHOWN=e.PERMISSIONS_CHANGED=e.JitsiMediaDevicesEvents=e.DEVICE_LIST_CHANGED=void 0,e.JitsiMediaDevicesEvents=S,(function(S){S.DEVICE_LIST_CHANGED="mediaDevices.devicechange",S.PERMISSIONS_CHANGED="rtc.permissions_changed",S.PERMISSION_PROMPT_IS_SHOWN="mediaDevices.permissionPromptIsShown",S.SLOW_GET_USER_MEDIA="mediaDevices.slowGetUserMedia"})(S||(e.JitsiMediaDevicesEvents=S={}));var _=S.DEVICE_LIST_CHANGED;e.DEVICE_LIST_CHANGED=_;var E=S.PERMISSIONS_CHANGED;e.PERMISSIONS_CHANGED=E;var I=S.PERMISSION_PROMPT_IS_SHOWN;e.PERMISSION_PROMPT_IS_SHOWN=I;var D=S.SLOW_GET_USER_MEDIA;e.SLOW_GET_USER_MEDIA=D},763,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new Promise(function(t){u.default.enumerateDevices(function(n){for(var l,v=n.filter(function(t){return'audioinput'===t.kind}),s=[],O=c(v);!(l=O()).done;){var A=l.value,h=u.default.obtainAudioAndVideoPermissions({devices:['audio'],micDeviceId:A.deviceId}).then(function(t){var n=t[0],u=n.getOriginalStream();return f.default.startLocalStats(u,n.setAudioLevel.bind(n)),n.addEventListener(o.LOCAL_TRACK_STOPPED,function(){f.default.stopLocalStats(u)}),n});s.push(h)}Promise.allSettled(s).then(function(n){for(var u,f=n.filter(function(t){return'fulfilled'===t.status}),l=n.filter(function(t){return'rejected'===t.status}),v=f.map(function(t){return t.value}),s=l.map(function(t){return t.value}),O=c(s);!(u=O()).done;){var A=u.value;p.error('Failed to acquire audio device with error: ',A)}for(var h,_=function(n){n.on(o.TRACK_AUDIO_LEVEL_CHANGED,function(o){o>.008&&(b(v),t({deviceId:n.deviceId,deviceLabel:n.track.label}))})},j=c(v);!(h=j()).done;){var L=h.value;_(L)}setTimeout(function(){b(v),t({deviceId:'',deviceLabel:''})},y)})})})};var n=r(d[1]),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=l(n);if(o&&o.has(t))return o.get(t);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var v=f?Object.getOwnPropertyDescriptor(t,c):null;v&&(v.get||v.set)?Object.defineProperty(u,c,v):u[c]=t[c]}u.default=t,o&&o.set(t,u);return u})(r(d[2])),u=t(r(d[3])),f=t(r(d[4]));function l(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(l=function(t){return t?o:n})(t)}function c(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=v(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,n){if(t){if("string"==typeof t)return s(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var p=(0,n.getLogger)(__filename),y=3e3;function b(t){for(var n,o=c(t);!(n=o()).done;){n.value.stopStream()}}},764,[2,435,599,669,563]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=r(d[4]),l=r(d[5]),p=r(d[6]),h=r(d[7]),_=t(r(d[8])),u=t(r(d[9])),f=r(d[10]),C=this&&this.__rest||function(t,n){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(o[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(s=Object.getOwnPropertySymbols(t);c<s.length;c++)n.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(t,s[c])&&(o[s[c]]=t[s[c]])}return o},v=(0,c.getLogger)(__filename),y=(function(){function t(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var c=s.jitsiConnection,l=C(s,["jitsiConnection"]);this._options=(0,n.default)({pcConfig:c&&c.xmpp.connection.jingle.p2pIceConfig},l),this._peerConnection=null,this._onFatalError=this._onFatalError.bind(this),this._onSendMessage=this._onSendMessage.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this)}return(0,s.default)(t,[{key:"processMessage",value:function(t){var n=t.from;if(n)if(this._peerConnection&&this._peerConnection.getPeerJid()!==n)this._onFatalError(n,f.ACTIONS.CONNECTION_ERROR,'rejected');else{var o=this._convertStringToXML(t.data.iq),s=o&&o.find('jingle'),c=s&&s.attr('action');c===f.ACTIONS.INITIATE&&(this._peerConnection=this._createPeerConnection(n,{isInitiator:!1,receiveVideo:!0})),this._peerConnection&&this._peerConnection.processMessage(s),c!==f.ACTIONS.CONNECTION_ERROR&&c!==f.ACTIONS.UNAVAILABLE&&c!==f.ACTIONS.TERMINATE||this._selfCloseConnection()}}},{key:"start",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._peerConnection=this._createPeerConnection(t,{isInitiator:!0,receiveVideo:!1}),this._peerConnection.start(n)}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.stop(),this._peerConnection=null}},{key:"_convertStringToXML",value:function(t){try{var n=(new DOMParser).parseFromString(t,'text/xml');return $(n)}catch(t){return v.error('Attempted to convert incorrectly formatted xml'),null}}},{key:"_createPeerConnection",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error('Cannot create ProxyConnectionPC without a peer.');var s=(0,n.default)({pcConfig:this._options.pcConfig,onError:this._onFatalError,onRemoteStream:this._onRemoteStream,onSendMessage:this._onSendMessage,peerJid:t},o);return new u.default(s)}},{key:"_onFatalError",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'';v.error('Received a proxy connection error',t,n,o);var s=(0,l.$iq)({to:t,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:n}).c('details').t(o).up();this._onSendMessage(t,s),this._peerConnection&&this._peerConnection.getPeerJid()===t&&this._selfCloseConnection()}},{key:"_onRemoteStream",value:function(t){if(!this._options.onRemoteStream)return v.error('Remote track received without callback.'),void t.dispose();var n,o=t.isVideoTrack();o&&(n=this._options.convertVideoToDesktop?h.VideoType.DESKTOP:h.VideoType.CAMERA);var s=t.getOriginalStream(),c=_.default.createLocalTracks([{deviceId:"proxy:"+this._peerConnection.getPeerJid(),mediaType:o?p.MediaType.VIDEO:p.MediaType.AUDIO,sourceType:'proxy',stream:s,track:s.getVideoTracks()[0],videoType:n}]);this._options.onRemoteStream(c[0])}},{key:"_onSendMessage",value:function(t,n){if(this._options.onSendMessage)try{var o=(new XMLSerializer).serializeToString(n.nodeTree||n);this._options.onSendMessage(t,{iq:o})}catch(t){v.error('Attempted to send an incorrectly formatted iq.')}}},{key:"_selfCloseConnection",value:function(){this.stop(),this._options.onConnectionClosed&&this._options.onConnectionClosed()}}]),t})();e.default=y},765,[2,32,12,13,435,560,589,594,669,766,767]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3])),c=r(d[4]),_=n(r(d[5])),h=r(d[6]),u=n(r(d[7])),f=n(r(d[8])),p=n(r(d[9])),v=r(d[10]),C=r(d[11]),l=(0,c.getLogger)(__filename),E=(function(){function n(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,n),this._options=(0,t.default)({pcConfig:{},isInitiator:!1,receiveAudio:!1,receiveVideo:!1},s),this._tracks=[],this._peerConnection=null,this._onError=this._onError.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this),this._onSendMessage=this._onSendMessage.bind(this)}return(0,s.default)(n,[{key:"getPeerJid",value:function(){return this._options.peerJid}},{key:"processMessage",value:function(n){switch(n.attr('action')){case C.ACTIONS.ACCEPT:this._onSessionAccept(n);break;case C.ACTIONS.INITIATE:this._onSessionInitiate(n);break;case C.ACTIONS.TERMINATE:this._onSessionTerminate(n);break;case C.ACTIONS.TRANSPORT_INFO:this._onTransportInfo(n)}}},{key:"start",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._peerConnection||(this._tracks=this._tracks.concat(n),this._peerConnection=this._createPeerConnection(),this._peerConnection.invite(n))}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.terminate(),this._onSessionTerminate()}},{key:"_createPeerConnection",value:function(){var n=this,o={connected:!0,jingle:{terminate:function(){}},sendIQ:this._onSendMessage,addEventListener:function(){return function(){}}},s=(0,t.default)({iceServers:v.DEFAULT_STUN_SERVERS},this._options.pcConfig),c={addPresenceListener:function(){},connectionTimes:[],eventEmitter:{emit:function(t){switch(t){case h.XMPPEvents.CONNECTION_ICE_FAILED:case h.XMPPEvents.CONNECTION_FAILED:n._onError(C.ACTIONS.CONNECTION_ERROR,t)}}},getMediaPresenceInfo:function(){return{}},removePresenceListener:function(){},supportsRestartByTerminate:function(){return!1}};this._rtc=new u.default({myUserId:function(){return''}},{}),this._rtc.addListener(_.default.REMOTE_TRACK_ADDED,this._onRemoteStream);var l=new f.default(void 0,void 0,this._options.peerJid,o,{offerToReceiveAudio:this._options.receiveAudio,offerToReceiveVideo:this._options.receiveVideo},s,!0,this._options.isInitiator),E=new p.default;return E.setChatRoom(c),l.initialize(c,this._rtc,E,{}),l}},{key:"_onError",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'';this._options.onError(this._options.peerJid,n,t)}},{key:"_onRemoteStream",value:function(n){this._tracks.push(n),this._options.onRemoteStream(n)}},{key:"_onSendMessage",value:function(n){this._options.onSendMessage(this._options.peerJid,n)}},{key:"_onSessionAccept",value:function(n){this._peerConnection?this._peerConnection.setAnswer(n):l.error('Received an answer when no peer connection exists.')}},{key:"_onSessionInitiate",value:function(n){var t=this;this._peerConnection?l.error('Received an offer when an offer was already sent.'):(this._peerConnection=this._createPeerConnection(),this._peerConnection.acceptOffer(n,function(){},function(){return t._onError(t._options.peerJid,C.ACTIONS.CONNECTION_ERROR,'session initiate error')}))}},{key:"_onSessionTerminate",value:function(){this._tracks.forEach(function(n){return n.dispose()}),this._tracks=[],this._peerConnection&&this._peerConnection.onTerminated(),this._rtc&&(this._rtc.removeListener(_.default.REMOTE_TRACK_ADDED,this._onRemoteStream),this._rtc.destroy())}},{key:"_onTransportInfo",value:function(n){this._peerConnection.addIceCandidates(n)}}]),n})();e.default=E},766,[2,32,12,13,435,593,596,669,647,758,602,767]);
__d(function(g,r,i,a,m,e,d){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ACTIONS=void 0,e.ACTIONS=n,(function(n){n.ACCEPT="session-accept",n.CONNECTION_ERROR="connection-error-encountered",n.INITIATE="session-initiate",n.TERMINATE="session-terminate",n.TRANSPORT_INFO="transport-info",n.UNAVAILABLE="unavailable"})(n||(e.ACTIONS=n={}))},767,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={error:{BUSY:'busy',ERROR:'error',RESOURCE_CONSTRAINT:'resource-constraint',UNEXPECTED_REQUEST:'unexpected-request',SERVICE_UNAVAILABLE:'service-unavailable'},mode:{FILE:'file',STREAM:'stream'},status:{OFF:'off',ON:'on',PENDING:'pending'}}},768,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.execute=x,e.init=y;var n=t(r(d[1])),s=t(r(d[2])),c=t(r(d[3])),l=t(r(d[4])),u=t(r(d[5])),o=r(d[6]),f=this&&this.__awaiter||function(t,n,s,c){return new(s||(s=Promise))(function(l,u){function o(t){try{w(c.next(t))}catch(t){u(t)}}function f(t){try{w(c.throw(t))}catch(t){u(t)}}function w(t){var n;t.done?l(t.value):(n=t.value,n instanceof s?n:new s(function(t){t(n)})).then(o,f)}w((c=c.apply(t,n||[])).next())})},w='preCallTestResults',v=new s.default,p=!1,S=null;function h(t){if(!c.default.isReactNative())return new Promise(function(n){u.default.loadScript(t.callStatsCustomScriptUrl||o.CALLSTATS_SCRIPT_URL,!0,!0,void 0,n)})}function P(t){return new Promise(function(n,s){var c=t.callStatsID,u=t.callStatsSecret,o=t.statisticsId||t.statisticsDisplayName||l.default.callStatsUserName;S.initialize(c,u,o,function(t,c){'success'===t?(S.on(w,function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];v.emit.apply(v,[w].concat(n))}),p=!0,n()):s({status:t,message:c})},null,{disablePrecalltest:!0})})}function y(t){return f(this,void 0,void 0,n.default.mark(function s(){var c,l,u;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!p){n.next=2;break}throw new Error('Precall Test already initialized');case 2:if(c=t.callStatsID,l=t.callStatsSecret,u=t.disableThirdPartyRequests,c&&l&&!u){n.next=5;break}throw new Error('Callstats is disabled');case 5:return n.next=7,h(t);case 7:return S=new window.callstats,n.abrupt("return",P(t));case 9:case"end":return n.stop()}},s)}))}function x(){return p?new Promise(function(t,n){v.on(w,function(s,c){'success'===s?t(c):n({status:s,payload:c})}),S.makePrecallTest()}):Promise.reject('uninitialized')}var _={init:y,execute:x};e.default=_},769,[2,283,558,568,643,580,562]);
__d(function(g,r,i,a,m,e,d){m.exports={getTokenAuthUrl:function(n,o,t){return'string'!=typeof n?null:n.replace('{room}',o).replace('{roleUpgrade}',!0===t)}}},770,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),u=r(d[4]);function l(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=h(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var f=(0,s.getLogger)(__filename),_=(function(){function t(){(0,n.default)(this,t),this._started=!1,this._streamsToMix=[],this._streamMSSArray=[]}return(0,o.default)(t,[{key:"addMediaStream",value:function(t){t.getAudioTracks()||f.warn('Added MediaStream doesn\'t contain audio tracks.'),this._streamsToMix.push(t)}},{key:"start",value:function(){if(this._started)return this._mixedMSD.stream;if(this._audioContext=(0,u.createAudioContext)(),!this._streamsToMix.length)return f.warn('No MediaStream\'s added to AudioMixer, nothing will happen.'),null;this._started=!0,this._mixedMSD=this._audioContext.createMediaStreamDestination();for(var t,n=l(this._streamsToMix);!(t=n()).done;){var o=t.value,s=this._audioContext.createMediaStreamSource(o);s.connect(this._mixedMSD),this._streamMSSArray.push(s)}return this._mixedMSD.stream}},{key:"reset",value:function(){this._started=!1,this._streamsToMix=[];for(var t,n=l(this._streamMSSArray);!(t=n()).done;){t.value.disconnect()}this._streamMSSArray=[],this._audioContext&&(this._audioContext=void 0)}}]),t})();e.default=_},771,[2,12,13,435,717]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))});var t=r(d[1]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))});var u=r(d[2]);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))});var o=r(d[3]);Object.keys(o).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))});var c=r(d[4]);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===c[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return c[n]}}))})},772,[773,774,777,780,785]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.AudioMixerEffect=void 0;var u=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),n=(function(){function t(o){if((0,u.default)(this,t),"audio"!==o.getType())throw new Error('AudioMixerEffect only supports audio JitsiLocalTracks; effect will not work!');this._mixAudio=o}return(0,o.default)(t,[{key:"isEnabled",value:function(t){return t.isAudioTrack()&&this._mixAudio.isAudioTrack()}},{key:"startEffect",value:function(t){return this._originalStream=t,this._originalTrack=t.getTracks()[0],this._audioMixer=s.default.createAudioMixer(),this._audioMixer.addMediaStream(this._mixAudio.getOriginalStream()),this._audioMixer.addMediaStream(this._originalStream),this._mixedMediaStream=this._audioMixer.start(),this._mixedMediaTrack=this._mixedMediaStream.getTracks()[0],this.setMuted(!this._originalTrack.enabled),this._originalTrack.enabled=!0,this._mixedMediaStream}},{key:"stopEffect",value:function(){this._originalTrack.enabled=this._mixedMediaTrack.enabled,this._audioMixer.reset()}},{key:"setMuted",value:function(t){this._mixedMediaTrack.enabled=!t}},{key:"isMuted",value:function(){return!this._mixedMediaTrack.enabled}}]),t})();e.AudioMixerEffect=n},773,[2,12,13,553]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createPresenterEffect=function(t){if(!MediaStreamTrack.prototype.getSettings&&!MediaStreamTrack.prototype.getConstraints)return Promise.reject(new Error('JitsiStreamPresenterEffect not supported!'));return Promise.resolve(new n.default(t))};var n=t(r(d[1]))},774,[2,775]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),h=t(r(d[3])),o=r(d[4]),_=(function(){function t(s){var h;(0,n.default)(this,t);var o=document.createElement('div'),_=s.getVideoTracks()[0],l=null!==(h=_.getSettings())&&void 0!==h?h:_.getConstraints(),c=l.height,v=l.width,p=l.frameRate;this._canvas=document.createElement('canvas'),this._ctx=this._canvas.getContext('2d'),this._desktopElement=document.createElement('video'),this._videoElement=document.createElement('video'),o.appendChild(this._videoElement),o.appendChild(this._desktopElement),null!==document.body&&document.body.appendChild(o),this._frameRate=parseInt(p,10),this._videoElement.width=parseInt(v,10),this._videoElement.height=parseInt(c,10),this._videoElement.autoplay=!0,this._videoElement.srcObject=s,this._videoElement.play(),o.style.display='none',this._onVideoFrameTimer=this._onVideoFrameTimer.bind(this)}return(0,h.default)(t,[{key:"_onVideoFrameTimer",value:function(t){t.data.id===o.INTERVAL_TIMEOUT&&this._renderVideo()}},{key:"_renderVideo",value:function(){var t,n=this._desktopStream.getVideoTracks(),h=(0,s.default)(n,1)[0],o=null!==(t=h.getSettings())&&void 0!==t?t:h.getConstraints(),_=o.height,l=o.width;this._canvas.width=parseInt(l,10),this._canvas.height=parseInt(_,10),this._ctx.drawImage(this._desktopElement,0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._videoElement,this._canvas.width-this._videoElement.width,this._canvas.height-this._videoElement.height,this._videoElement.width,this._videoElement.height),this._ctx.beginPath(),this._ctx.lineWidth=2,this._ctx.strokeStyle='#A9A9A9',this._ctx.rect(this._canvas.width-this._videoElement.width,this._canvas.height-this._videoElement.height,this._videoElement.width,this._videoElement.height),this._ctx.stroke()}},{key:"isEnabled",value:function(t){return t.isVideoTrack()&&'desktop'===t.videoType}},{key:"startEffect",value:function(t){var s,n=t.getVideoTracks()[0],h=null!==(s=n.getSettings())&&void 0!==s?s:n.getConstraints(),_=h.height,l=h.width;return this._desktopStream=t,this._desktopElement.width=parseInt(l,10),this._desktopElement.height=parseInt(_,10),this._desktopElement.autoplay=!0,this._desktopElement.srcObject=t,this._desktopElement.play(),this._canvas.width=parseInt(l,10),this._canvas.height=parseInt(_,10),this._videoFrameTimerWorker=new Worker(o.timerWorkerScript,{name:'Presenter effect worker'}),this._videoFrameTimerWorker.onmessage=this._onVideoFrameTimer,this._videoFrameTimerWorker.postMessage({id:o.SET_INTERVAL,timeMs:1e3/this._frameRate}),this._canvas.captureStream(this._frameRate)}},{key:"stopEffect",value:function(){this._videoFrameTimerWorker.postMessage({id:o.CLEAR_INTERVAL}),this._videoFrameTimerWorker.terminate()}}]),t})();e.default=_},775,[2,33,12,13,776]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.timerWorkerScript=e.SET_INTERVAL=e.INTERVAL_TIMEOUT=e.CLEAR_INTERVAL=void 0;e.SET_INTERVAL=1;e.CLEAR_INTERVAL=2;e.INTERVAL_TIMEOUT=3;var n=URL.createObjectURL(new Blob(["\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case 1: {\n            timer = setInterval(() => {\n                postMessage({ id: 3 });\n            }, request.data.timeMs);\n            break;\n        }\n        case 2: {\n            if (timer) {\n                clearInterval(timer);\n            }\n            break;\n        }\n        }\n    };\n"],{type:'application/javascript'}));e.timerWorkerScript=n},776,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RNNOISE_SAMPLE_LENGTH",{enumerable:!0,get:function(){return u.RNNOISE_SAMPLE_LENGTH}}),Object.defineProperty(e,"RnnoiseProcessor",{enumerable:!0,get:function(){return u.default}}),e.createRnnoiseProcessor=function(){n||(n=(0,o.default)());return n.then(function(t){return new u.default(t)})};var n,o=t(r(d[1])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=t[l]}u.default=t,o&&o.set(t,u);return u})(r(d[2]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(f=function(t){return t?o:n})(t)}},777,[2,778,779]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(n){var t;(n=void 0!==(n=n||{})?n:{}).ready=new Promise(function(n,o){t=n});var o,u={};for(o in n)n.hasOwnProperty(o)&&(u[o]=n[o]);var s=[],f=!1,c=!1;f="object"==typeof window,c="function"==typeof importScripts,"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;var l,p="";(f||c)&&(c?p=self.location.href:document.currentScript&&(p=document.currentScript.src),p=0!==(p="https://sdk.sariska.io/").indexOf("blob:")?p.substr(0,p.lastIndexOf("/")+1):"",c&&(l=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var y,h,b=n.print||console.log.bind(console),_=n.printErr||console.warn.bind(console);for(o in u)u.hasOwnProperty(o)&&(n[o]=u[o]);u=null,n.arguments&&(s=n.arguments),n.thisProgram&&n.thisProgram,n.quit&&(quit_=n.quit),n.wasmBinary&&(y=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,"object"!=typeof WebAssembly&&_("no native wasm support detected");var w,v,A,R=new WebAssembly.Table({initial:1,maximum:1,element:"anyfunc"}),I=!1;function E(t){w=t,n.HEAP8=new Int8Array(t),n.HEAP16=new Int16Array(t),n.HEAP32=A=new Int32Array(t),n.HEAPU8=v=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=new Uint32Array(t),n.HEAPF32=new Float32Array(t),n.HEAPF64=new Float64Array(t)}var P=n.INITIAL_MEMORY||16777216;function W(t){for(;t.length>0;){var o=t.shift();if("function"!=typeof o){var u=o.func;"number"==typeof u?void 0===o.arg?n.dynCall_v(u):n.dynCall_vi(u,o.arg):u(void 0===o.arg?null:o.arg)}else o(n)}}(h=n.wasmMemory?n.wasmMemory:new WebAssembly.Memory({initial:P/65536,maximum:32768}))&&(w=h.buffer),P=w.byteLength,E(w),A[24364]=5340496;var S=[],M=[],x=[],H=[];function O(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)t=n.preRun.shift(),S.unshift(t);var t;W(S)}function U(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)t=n.postRun.shift(),H.unshift(t);var t;W(H)}var T=0,F=null,j=null;function k(t){if(T--,n.monitorRunDependencies&&n.monitorRunDependencies(T),0==T&&(null!==F&&(clearInterval(F),F=null),j)){var o=j;j=null,o()}}function B(t){throw n.onAbort&&n.onAbort(t),b(t+=""),_(t),I=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}n.preloadedImages={},n.preloadedAudios={};var q="data:application/octet-stream;base64,";function D(n){return t=n,o=q,String.prototype.startsWith?t.startsWith(o):0===t.indexOf(o);var t,o}var L,z="rnnoise.wasm";function C(){try{if(y)return new Uint8Array(y);if(l)return l(z);throw"both async and sync fetching of the wasm failed"}catch(n){B(n)}}function N(n){try{return h.grow(n-w.byteLength+65535>>>16),E(h.buffer),1}catch(n){}}D(z)||(L=z,z=n.locateFile?n.locateFile(L,p):p+L),M.push({func:function(){Y()}});var G,X={a:function(n,t,o){v.copyWithin(n,t,t+o)},b:function(n){n>>>=0;var t=v.length;if(n>2147483648)return!1;for(var o,u,s=1;s<=4;s*=2){var f=t*(1+.2/s);if(f=Math.min(f,n+100663296),N(Math.min(2147483648,((o=Math.max(16777216,n,f))%(u=65536)>0&&(o+=u-o%u),o))))return!0}return!1},memory:h,table:R},Y=((function(){var t={a:X};function o(t,o){var u=t.exports;n.asm=u,k()}function u(n){o(n.instance)}function s(n){return(y||!f&&!c||"function"!=typeof fetch?new Promise(function(n,t){n(C())}):fetch(z,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+z+"'";return n.arrayBuffer()}).catch(function(){return C()})).then(function(n){return WebAssembly.instantiate(n,t)}).then(n,function(n){_("failed to asynchronously prepare wasm: "+n),B(n)})}if(T++,n.monitorRunDependencies&&n.monitorRunDependencies(T),n.instantiateWasm)try{return n.instantiateWasm(t,o)}catch(n){return _("Module.instantiateWasm callback failed with error: "+n),!1}!(function(){if(y||"function"!=typeof WebAssembly.instantiateStreaming||D(z)||"function"!=typeof fetch)return s(u);fetch(z,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,t).then(u,function(n){return _("wasm streaming compile failed: "+n),_("falling back to ArrayBuffer instantiation"),s(u)})})})()})(),n.___wasm_call_ctors=function(){return(Y=n.___wasm_call_ctors=n.asm.c).apply(null,arguments)});function J(o){function u(){G||(G=!0,n.calledRun=!0,I||(W(M),W(x),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),U()))}o=o||s,T>0||(O(),T>0||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),u()},1)):u()))}if(n._rnnoise_init=function(){return(n._rnnoise_init=n.asm.d).apply(null,arguments)},n._rnnoise_create=function(){return(n._rnnoise_create=n.asm.e).apply(null,arguments)},n._malloc=function(){return(n._malloc=n.asm.f).apply(null,arguments)},n._rnnoise_destroy=function(){return(n._rnnoise_destroy=n.asm.g).apply(null,arguments)},n._free=function(){return(n._free=n.asm.h).apply(null,arguments)},n._rnnoise_process_frame=function(){return(n._rnnoise_process_frame=n.asm.i).apply(null,arguments)},j=function n(){G||J(),G||(j=n)},n.run=J,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return J(),n.ready};e.default=n},778,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RNNOISE_SAMPLE_LENGTH=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3]));function u(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=c(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,n){if(t){if("string"==typeof t)return _(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_(t,n):void 0}}function _(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}e.RNNOISE_SAMPLE_LENGTH=480;var l=1920,f=(function(){function t(n){(0,s.default)(this,t);try{if(this._wasmInterface=n,this._wasmPcmInput=this._wasmInterface._malloc(l),!this._wasmPcmInput)throw Error('Failed to create wasm input memory buffer!');if(this._wasmPcmOutput=this._wasmInterface._malloc(l),!this._wasmPcmOutput)throw n._free(this._wasmPcmInput),Error('Failed to create wasm output memory buffer!');this._wasmPcmInputF32Index=this._wasmPcmInput/4,this._context=this._wasmInterface._rnnoise_create()}catch(t){throw this._releaseWasmResources(),t}}return(0,o.default)(t,[{key:"_copyPCMSampleToWasmBuffer",value:function(t){this._wasmInterface.HEAPF32.set(t,this._wasmPcmInputF32Index)}},{key:"_convertTo16BitPCM",value:function(t){for(var s,o=u(t.entries());!(s=o()).done;){var c=s.value,_=(0,n.default)(c,2),l=_[0],f=_[1];t[l]=32767*f}}},{key:"_releaseWasmResources",value:function(){this._wasmPcmInput&&(this._wasmInterface._free(this._wasmPcmInput),this._wasmPcmInput=null),this._wasmPcmOutput&&(this._wasmInterface._free(this._wasmPcmOutput),this._wasmPcmOutput=null),this._context&&(this._wasmInterface._rnnoise_destroy(this._context),this._context=null)}},{key:"getSampleLength",value:function(){return 480}},{key:"getRequiredPCMFrequency",value:function(){return 44100}},{key:"destroy",value:function(){this._destroyed||(this._releaseWasmResources(),this._destroyed=!0)}},{key:"calculateAudioFrameVAD",value:function(t){if(this._destroyed)throw new Error('RnnoiseProcessor instance is destroyed, please create another one!');var n=t.length;if(480!==n)throw new Error("Rnnoise can only process PCM frames of 480 samples! Input sample was:"+n);return this._convertTo16BitPCM(t),this._copyPCMSampleToWasmBuffer(t),this._wasmInterface._rnnoise_process_frame(this._context,this._wasmPcmOutput,this._wasmPcmInput)}}]),t})();e.default=f},779,[2,33,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createScreenshotCaptureEffect=function(t){if(!MediaStreamTrack.prototype.getSettings&&!MediaStreamTrack.prototype.getConstraints)return Promise.reject(new Error('ScreenshotCaptureEffect not supported!'));return Promise.resolve(new o.default(t))};var o=t(r(d[1]))},780,[2,781]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),h=t(r(d[3])),o=r(d[4]),_=r(d[5]),c=(function(){function t(n){(0,s.default)(this,t),this.callback=n,this._currentCanvas=document.createElement('canvas'),this._currentCanvasContext=this._currentCanvas.getContext('2d'),this._videoElement=document.createElement('video'),this._handleWorkerAction=this._handleWorkerAction.bind(this),this._initScreenshotCapture=this._initScreenshotCapture.bind(this),this._streamWorker=new Worker(_.timerWorkerScript,{name:'Screenshot capture worker'}),this._streamWorker.onmessage=this._handleWorkerAction}return(0,n.default)(t,[{key:"startEffect",value:function(t,s){var n=this;return new Promise(function(h,o){var _;'desktop'!==s&&o();var c=t.getVideoTracks()[0],u=null!==(_=c.getSettings())&&void 0!==_?_:c.getConstraints(),l=u.height,v=u.width;n._streamHeight=l,n._streamWidth=v,n._currentCanvas.height=parseInt(l,10),n._currentCanvas.width=parseInt(v,10),n._videoElement.height=parseInt(l,10),n._videoElement.width=parseInt(v,10),n._videoElement.srcObject=t,n._videoElement.play(),n._videoElement.addEventListener('loadeddata',n._initScreenshotCapture),h()})}},{key:"stopEffect",value:function(){this._streamWorker.postMessage({id:o.CLEAR_INTERVAL}),this._videoElement.removeEventListener('loadeddata',this._initScreenshotCapture)}},{key:"_initScreenshotCapture",value:function(){var t=document.createElement('canvas').getContext('2d');t.drawImage(this._videoElement,0,0,this._streamWidth,this._streamHeight);var s=t.getImageData(0,0,this._streamWidth,this._streamHeight).data;this._storedImageData=s,this._streamWorker.postMessage({id:o.SET_INTERVAL,timeMs:o.POLL_INTERVAL})}},{key:"_handleWorkerAction",value:function(t){return t.data.id===o.INTERVAL_TIMEOUT&&this._handleScreenshot()}},{key:"_shouldProcessScreenshot",value:function(t){return t>=o.PIXEL_LOWER_BOUND}},{key:"_handleScreenshot",value:function(){this._currentCanvasContext.drawImage(this._videoElement,0,0,this._streamWidth,this._streamHeight);var t=this._currentCanvasContext.getImageData(0,0,this._streamWidth,this._streamHeight).data,s=(0,h.default)(t,this._storedImageData,null,this._streamWidth,this._streamHeight);this._shouldProcessScreenshot(s)&&(this._storedImageData=t,this.callback(this._currentCanvas))}}]),t})();e.default=c},781,[2,12,13,782,783,784]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(h,c,s,v,M,w){if(!o(h)||!o(c)||s&&!o(s))throw new Error('Image data: Uint8Array, Uint8ClampedArray or Buffer expected.');if(h.length!==c.length||s&&s.length!==h.length)throw new Error('Image sizes do not match.');if(h.length!==v*M*4)throw new Error('Image data size does not match width/height.');w=n({},f,w);for(var y=v*M,E=new Uint32Array(h.buffer,h.byteOffset,y),C=new Uint32Array(c.buffer,c.byteOffset,y),b=!0,x=0;x<y;x++)if(E[x]!==C[x]){b=!1;break}if(b){if(s&&!w.diffMask)for(var k=0;k<y;k++)p(h,4*k,w.alpha,s);return 0}for(var U=35215*w.threshold*w.threshold,_=0,B=0;B<M;B++)for(var I=0;I<v;I++){var z=4*(B*v+I),O=l(h,c,z,z);Math.abs(O)>U?w.includeAA||!u(h,I,B,v,M,c)&&!u(c,I,B,v,M,h)?(s&&A.apply(void 0,[s,z].concat(t(O<0&&w.diffColorAlt||w.diffColor))),_++):s&&!w.diffMask&&A.apply(void 0,[s,z].concat(t(w.aaColor))):s&&(w.diffMask||p(h,z,w.alpha,s))}return _};var f={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function o(t){return ArrayBuffer.isView(t)&&1===t.constructor.BYTES_PER_ELEMENT}function u(t,n,f,o,u,c){for(var s,v,M,A,p=Math.max(n-1,0),w=Math.max(f-1,0),y=Math.min(n+1,o-1),E=Math.min(f+1,u-1),C=4*(f*o+n),b=n===p||n===y||f===w||f===E?1:0,x=0,k=0,U=p;U<=y;U++)for(var _=w;_<=E;_++)if(U!==n||_!==f){var B=l(t,t,C,4*(_*o+U),!0);if(0===B){if(++b>2)return!1}else B<x?(x=B,s=U,v=_):B>k&&(k=B,M=U,A=_)}return 0!==x&&0!==k&&(h(t,s,v,o,u)&&h(c,s,v,o,u)||h(t,M,A,o,u)&&h(c,M,A,o,u))}function h(t,n,f,o,u){for(var h=Math.max(n-1,0),l=Math.max(f-1,0),c=Math.min(n+1,o-1),s=Math.min(f+1,u-1),v=4*(f*o+n),M=n===h||n===c||f===l||f===s?1:0,A=h;A<=c;A++)for(var p=l;p<=s;p++)if(A!==n||p!==f){var w=4*(p*o+A);if(t[v]===t[w]&&t[v+1]===t[w+1]&&t[v+2]===t[w+2]&&t[v+3]===t[w+3]&&M++,M>2)return!0}return!1}function l(t,n,f,o,u){var h=t[f+0],l=t[f+1],A=t[f+2],p=t[f+3],w=n[o+0],y=n[o+1],E=n[o+2],C=n[o+3];if(p===C&&h===w&&l===y&&A===E)return 0;p<255&&(h=M(h,p/=255),l=M(l,p),A=M(A,p)),C<255&&(w=M(w,C/=255),y=M(y,C),E=M(E,C));var b=c(h,l,A),x=c(w,y,E),k=b-x;if(u)return k;var U=s(h,l,A)-s(w,y,E),_=v(h,l,A)-v(w,y,E),B=.5053*k*k+.299*U*U+.1957*_*_;return b>x?-B:B}function c(t,n,f){return.29889531*t+.58662247*n+.11448223*f}function s(t,n,f){return.59597799*t-.2741761*n-.32180189*f}function v(t,n,f){return.21147017*t-.52261711*n+.31114694*f}function M(t,n){return 255+(t-255)*n}function A(t,n,f,o,u){t[n+0]=f,t[n+1]=o,t[n+2]=u,t[n+3]=255}function p(t,n,f,o){var u=M(c(t[n+0],t[n+1],t[n+2]),f*t[n+3]/255);A(o,n,u,u,u)}},782,[41,32]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SET_INTERVAL=e.POLL_INTERVAL=e.PIXEL_LOWER_BOUND=e.INTERVAL_TIMEOUT=e.CLEAR_INTERVAL=void 0;e.PIXEL_LOWER_BOUND=1e5;e.POLL_INTERVAL=3e4;e.SET_INTERVAL=1;e.CLEAR_INTERVAL=2;e.INTERVAL_TIMEOUT=3},783,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.timerWorkerScript=void 0;var n=r(d[0]),t="\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case "+n.SET_INTERVAL+": {\n            timer = setInterval(() => {\n                postMessage({ id: "+n.INTERVAL_TIMEOUT+" });\n            }, request.data.timeMs);\n            break;\n        }\n        case "+n.CLEAR_INTERVAL+": {\n            if (timer) {\n                clearInterval(timer);\n            }\n            break;\n        }\n        }\n    };\n",s=URL.createObjectURL(new Blob([t],{type:'application/javascript'}));e.timerWorkerScript=s},784,[783]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createVirtualBackgroundEffect=function(t,v){var p;return f(this,void 0,void 0,n.default.mark(function f(){var v,k,w,x,_,y;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints){n.next=2;break}throw new Error('JitsiStreamBackgroundEffect not supported!');case 2:if(n.prev=2,k=r(d[6]),!(null===(p=null===k||void 0===k?void 0:k.feature)||void 0===p?void 0:p.simd)){n.next=10;break}return n.next=7,(0,c.default)();case 7:v=n.sent,n.next=13;break;case 10:return n.next=12,(0,s.default)();case 12:v=n.sent;case 13:n.next=18;break;case 15:return n.prev=15,n.t0=n.catch(2),n.abrupt("return");case 18:return w=v._getModelBufferMemoryOffset(),n.next=21,fetch(k.feature.simd?l.model144:l.model96);case 21:if((x=n.sent).ok){n.next=24;break}throw new Error('Failed to download tflite model!');case 24:return n.next=26,x.arrayBuffer();case 26:return _=n.sent,v.HEAPU8.set(new Uint8Array(_),w),v._loadModel(_.byteLength),y=(0,o.default)((0,o.default)({},k.feature.simd?h.model144:h.model96),{virtualBackground:t}),n.abrupt("return",new u.default(v,y));case 31:case"end":return n.stop()}},f,null,[[2,15]])}))};var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),f=this&&this.__awaiter||function(t,n,o,u){return new(o||(o=Promise))(function(s,c){function f(t){try{h(u.next(t))}catch(t){c(t)}}function l(t){try{h(u.throw(t))}catch(t){c(t)}}function h(t){var n;t.done?s(t.value):(n=t.value,n instanceof o?n:new o(function(t){t(n)})).then(f,l)}h((u=u.apply(t,n||[])).next())})},l={model96:'https://sdk.sariska.io/segm_lite_v681.tflite',model144:'https://sdk.sariska.io/segm_full_v679.tflite'},h={model96:{height:96,width:160},model144:{height:144,width:256}}},785,[2,283,32,786,789,790,791]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=r(d[3]),u=r(d[4]),h=(function(){function t(n,u){var h,_,l;(0,s.default)(this,t),this._options=u,this._options.virtualBackground.backgroundType===o.VIRTUAL_BACKGROUND_TYPE.IMAGE&&(this._virtualImage=document.createElement('img'),this._virtualImage.crossOrigin='anonymous',this._virtualImage.src=this._options.virtualBackground.virtualSource),this._options.virtualBackground.backgroundType===o.VIRTUAL_BACKGROUND_TYPE.DESKTOP_SHARE&&(this._virtualVideo=document.createElement('video'),this._virtualVideo.autoplay=!0,this._virtualVideo.srcObject=null===(l=null===(_=null===(h=this._options)||void 0===h?void 0:h.virtualBackground)||void 0===_?void 0:_.virtualSource)||void 0===l?void 0:l.stream),this._model=n,this._segmentationPixelCount=this._options.width*this._options.height,this._onMaskFrameTimer=this._onMaskFrameTimer.bind(this),this._outputCanvasElement=document.createElement('canvas'),this._outputCanvasElement.getContext('2d'),this._inputVideoElement=document.createElement('video')}return(0,n.default)(t,[{key:"_onMaskFrameTimer",value:function(t){t.data.id===u.TIMEOUT_TICK&&this._renderMask()}},{key:"runPostProcessing",value:function(){this._outputCanvasCtx.globalCompositeOperation='copy',this._options.virtualBackground.backgroundType===o.VIRTUAL_BACKGROUND_TYPE.IMAGE?this._outputCanvasCtx.filter='blur(4px)':this._outputCanvasCtx.filter='blur(8px)',this._outputCanvasCtx.drawImage(this._segmentationMaskCanvas,0,0,this._options.width,this._options.height,0,0,this._inputVideoElement.width,this._inputVideoElement.height),this._outputCanvasCtx.globalCompositeOperation='source-in',this._outputCanvasCtx.filter='none',this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0),this._outputCanvasCtx.globalCompositeOperation='destination-over',this._options.virtualBackground.backgroundType===o.VIRTUAL_BACKGROUND_TYPE.IMAGE&&this._outputCanvasCtx.drawImage(this._virtualImage,0,0,this._inputVideoElement.width,this._inputVideoElement.height),this._options.virtualBackground.backgroundType===o.VIRTUAL_BACKGROUND_TYPE.DESKTOP_SHARE?this._outputCanvasCtx.drawImage(this._virtualVideo,0,0,this._desktopShareDimensions.width,this._desktopShareDimensions.height):(this._outputCanvasCtx.filter="blur("+this._options.virtualBackground.blurValue+"px)",this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0))}},{key:"runInference",value:function(){this._model._runInference();for(var t=this._model._getOutputMemoryOffset()/4,s=0;s<this._segmentationPixelCount;s++){var n=this._model.HEAPF32[t+2*s],o=this._model.HEAPF32[t+2*s+1],u=Math.max(n,o),h=Math.exp(n-u),_=Math.exp(o-u);this._segmentationMask.data[4*s+3]=255*_/(h+_)}this._segmentationMaskCtx.putImageData(this._segmentationMask,0,0)}},{key:"_renderMask",value:function(){var t,s,n,o=null===(n=null===(s=null===(t=this._options)||void 0===t?void 0:t.virtualBackground)||void 0===s?void 0:s.virtualSource)||void 0===n?void 0:n.track;o&&(this._desktopShareDimensions=o.getSettings?o.getSettings():o.getConstraints()),this.resizeSource(),this.runInference(),this.runPostProcessing(),this._maskFrameTimerWorker.postMessage({id:u.SET_TIMEOUT,timeMs:33.333333333333336})}},{key:"resizeSource",value:function(){this._segmentationMaskCtx.drawImage(this._inputVideoElement,0,0,this._inputVideoElement.width,this._inputVideoElement.height,0,0,this._options.width,this._options.height);for(var t=this._segmentationMaskCtx.getImageData(0,0,this._options.width,this._options.height),s=this._model._getInputMemoryOffset()/4,n=0;n<this._segmentationPixelCount;n++)this._model.HEAPF32[s+3*n]=t.data[4*n]/255,this._model.HEAPF32[s+3*n+1]=t.data[4*n+1]/255,this._model.HEAPF32[s+3*n+2]=t.data[4*n+2]/255}},{key:"isEnabled",value:function(t){return t.isVideoTrack()&&'camera'===t.videoType}},{key:"startEffect",value:function(t){var s=this;this._maskFrameTimerWorker=new Worker(u.timerWorkerScript,{name:'Blur effect worker'}),this._maskFrameTimerWorker.onmessage=this._onMaskFrameTimer;var n=t.getVideoTracks()[0],o=n.getSettings?n.getSettings():n.getConstraints(),h=o.height,_=o.frameRate,l=o.width;return this._segmentationMask=new ImageData(this._options.width,this._options.height),this._segmentationMaskCanvas=document.createElement('canvas'),this._segmentationMaskCanvas.width=this._options.width,this._segmentationMaskCanvas.height=this._options.height,this._segmentationMaskCtx=this._segmentationMaskCanvas.getContext('2d'),this._outputCanvasElement.width=parseInt(l,10),this._outputCanvasElement.height=parseInt(h,10),this._outputCanvasCtx=this._outputCanvasElement.getContext('2d'),this._inputVideoElement.width=parseInt(l,10),this._inputVideoElement.height=parseInt(h,10),this._inputVideoElement.autoplay=!0,this._inputVideoElement.srcObject=t,this._inputVideoElement.onloadeddata=function(){s._maskFrameTimerWorker.postMessage({id:u.SET_TIMEOUT,timeMs:33.333333333333336})},this._outputCanvasElement.captureStream(parseInt(_,10))}},{key:"stopEffect",value:function(){this._maskFrameTimerWorker.postMessage({id:u.CLEAR_TIMEOUT}),this._maskFrameTimerWorker.terminate()}}]),t})();e.default=h},786,[2,12,13,787,788]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.VIRTUAL_BACKGROUND_TYPE=void 0;e.VIRTUAL_BACKGROUND_TYPE={IMAGE:'image',DESKTOP_SHARE:'desktop-share',BLUR:'blur',NONE:'none'}},787,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.timerWorkerScript=e.TIMEOUT_TICK=e.SET_TIMEOUT=e.CLEAR_TIMEOUT=void 0;e.SET_TIMEOUT=1;e.CLEAR_TIMEOUT=2;e.TIMEOUT_TICK=3;var t=URL.createObjectURL(new Blob(["\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case 1: {\n            timer = setTimeout(() => {\n                postMessage({ id: 3 });\n            }, request.data.timeMs);\n            break;\n        }\n        case 2: {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            break;\n        }\n        }\n    };\n"],{type:'application/javascript'}));e.timerWorkerScript=t},788,[]);
__d(function(g,r,i,a,m,e,d){var n,t=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(n=n||__filename),function(t){var o,s,u=void 0!==(t=t||{})?t:{};u.ready=new Promise(function(n,t){o=n,s=t});var c,f={};for(c in u)u.hasOwnProperty(c)&&(f[c]=u[c]);var p,l=[],y="./this.program",h=function(n,t){throw t},v=!1,w=!1;v="object"==typeof window,w="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;var _,b,A="";v||p||w?(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),n&&(A=n),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",w&&(b=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),_=function(n,t,o){var s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType="arraybuffer",s.onload=function(){200==s.status||0==s.status&&s.response?t(s.response):o()},s.onerror=o,s.send(null)}):(b=function(n){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(n)):("object"==typeof(t=read(n,"binary"))||D("Assertion failed: "+void 0),t)},"undefined"!=typeof scriptArgs?l=scriptArgs:void 0!==arguments&&(l=arguments),"function"==typeof quit&&(h=function(n){quit(n)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var E,I,R,O=u.print||console.log.bind(console),C=u.printErr||console.warn.bind(console);for(c in f)f.hasOwnProperty(c)&&(u[c]=f[c]);f=null,u.arguments&&(l=u.arguments),u.thisProgram&&(y=u.thisProgram),u.quit&&(h=u.quit),u.wasmBinary&&(E=u.wasmBinary),u.noExitRuntime&&(I=u.noExitRuntime),"object"!=typeof WebAssembly&&D("no native wasm support detected");var M,S,P,H,W=!1,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(n,t,o){for(var s=t+o,u=t;n[u]&&!(u>=s);)++u;if(u-t>16&&n.subarray&&T)return T.decode(n.subarray(t,u));for(var c="";t<u;){var f=n[t++];if(128&f){var p=63&n[t++];if(192!=(224&f)){var l=63&n[t++];if((f=224==(240&f)?(15&f)<<12|p<<6|l:(7&f)<<18|p<<12|l<<6|63&n[t++])<65536)c+=String.fromCharCode(f);else{var y=f-65536;c+=String.fromCharCode(55296|y>>10,56320|1023&y)}}else c+=String.fromCharCode((31&f)<<6|p)}else c+=String.fromCharCode(f)}return c}u.INITIAL_MEMORY;var k,U=[],j=[],L=[],B=[];j.push({func:function(){ae()}});var q=0;function D(n){u.onAbort&&u.onAbort(n),C(n+=""),W=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(n);throw s(t),t}function F(n,t){return String.prototype.startsWith?n.startsWith(t):0===n.indexOf(t)}u.preloadedImages={},u.preloadedAudios={};var N="data:application/octet-stream;base64,";function G(n){return F(n,N)}var z="file://";function X(n){return F(n,z)}var Y,J="https://sdk.sariska.io/tflite.wasm";function K(n){try{if(n==J&&E)return new Uint8Array(E);if(b)return b(n);throw"both async and sync fetching of the wasm failed"}catch(n){D(n)}}function Q(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var o=t.func;"number"==typeof o?void 0===t.arg?k.get(o)():k.get(o)(t.arg):o(void 0===t.arg?null:t.arg)}else t(u)}}function V(n){return H[oe()>>2]=n,n}function Z(n){try{return R.grow(n-M.byteLength+65535>>>16),t=R.buffer,M=t,u.HEAP8=S=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=H=new Int32Array(t),u.HEAPU8=P=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=new Float64Array(t),1}catch(n){}var t}G(J)||(J=J),Y=p?function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var $={};function ee(){if(!ee.strings){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(var t in $)n[t]=$[t];var o=[];for(var t in n)o.push(t+"="+n[t]);ee.strings=o}return ee.strings}var ne,te={mappings:{},buffers:[null,[],[]],printChar:function(n,t){var o=te.buffers[n];0===t||10===t?((1===n?O:C)(x(o,0)),o.length=0):o.push(t)},varargs:void 0,get:function(){return te.varargs+=4,H[te.varargs-4>>2]},getStr:function(n){return n?x(P,n,void 0):""},get64:function(n,t){return n}},re={a:function(){D()},n:function(n,t){var o;if(0===n)o=Date.now();else{if(1!==n&&4!==n)return V(28),-1;o=Y()}return H[t>>2]=o/1e3|0,H[t+4>>2]=o%1e3*1e3*1e3|0,0},i:function(n,t){D("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(n,t){D("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(n,t,o){P.copyWithin(n,t,t+o)},m:function(n){n>>>=0;var t=P.length;if(n>2147483648)return!1;for(var o,s,u=1;u<=4;u*=2){var c=t*(1+.2/u);if(c=Math.min(c,n+100663296),Z(Math.min(2147483648,((o=Math.max(16777216,n,c))%(s=65536)>0&&(o+=s-o%s),o))))return!0}return!1},o:function(n){for(var t=Y();Y()-t<n;);},p:function(n,t){var o=0;return ee().forEach(function(s,u){var c=t+o;H[n+4*u>>2]=c,(function(n,t,o){for(var s=0;s<n.length;++s)S[t++>>0]=n.charCodeAt(s);S[t>>0]=0})(s,c),o+=s.length+1}),0},g:function(n,t){var o=ee();H[n>>2]=o.length;var s=0;return o.forEach(function(n){s+=n.length+1}),H[t>>2]=s,0},j:function(n){var t;t=n,I||(u.onExit&&u.onExit(t),W=!0),h(t,new se(t))},h:function(n){return 0},k:function(n,t,o,s,u){},c:function(n,t,o,s){for(var u=0,c=0;c<o;c++){for(var f=H[t+8*c>>2],p=H[t+(8*c+4)>>2],l=0;l<p;l++)te.printChar(n,P[f+l]);u+=p}return H[s>>2]=u,0},d:function(){return 6},f:function(){return 28},b:function(n){switch(n){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return V(28),-1}},ae=((function(){var n={a:re};function o(n){t(n.instance)}function c(t){return(function(){if(!E&&(v||w)){if("function"==typeof fetch&&!X(J))return fetch(J,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+J+"'";return n.arrayBuffer()}).catch(function(){return K(J)});if(_)return new Promise(function(n,t){_(J,function(t){n(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return K(J)})})().then(function(t){return WebAssembly.instantiate(t,n)}).then(t,function(n){C("failed to asynchronously prepare wasm: "+n),D(n)})}if(q++,u.monitorRunDependencies&&u.monitorRunDependencies(q),u.instantiateWasm)try{return u.instantiateWasm(n,t)}catch(n){return C("Module.instantiateWasm callback failed with error: "+n),!1}(E||"function"!=typeof WebAssembly.instantiateStreaming||G(J)||X(J)||"function"!=typeof fetch?c(o):fetch(J,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,n).then(o,function(n){return C("wasm streaming compile failed: "+n),C("falling back to ArrayBuffer instantiation"),c(o)})})).catch(s)})(),u.___wasm_call_ctors=function(){return(ae=u.___wasm_call_ctors=u.asm.r).apply(null,arguments)}),oe=(u._getModelBufferMemoryOffset=function(){return(u._getModelBufferMemoryOffset=u.asm.s).apply(null,arguments)},u._getInputMemoryOffset=function(){return(u._getInputMemoryOffset=u.asm.t).apply(null,arguments)},u._getInputHeight=function(){return(u._getInputHeight=u.asm.u).apply(null,arguments)},u._getInputWidth=function(){return(u._getInputWidth=u.asm.v).apply(null,arguments)},u._getInputChannelCount=function(){return(u._getInputChannelCount=u.asm.w).apply(null,arguments)},u._getOutputMemoryOffset=function(){return(u._getOutputMemoryOffset=u.asm.x).apply(null,arguments)},u._getOutputHeight=function(){return(u._getOutputHeight=u.asm.y).apply(null,arguments)},u._getOutputWidth=function(){return(u._getOutputWidth=u.asm.z).apply(null,arguments)},u._getOutputChannelCount=function(){return(u._getOutputChannelCount=u.asm.A).apply(null,arguments)},u._loadModel=function(){return(u._loadModel=u.asm.B).apply(null,arguments)},u._runInference=function(){return(u._runInference=u.asm.C).apply(null,arguments)},u.___errno_location=function(){return(oe=u.___errno_location=u.asm.E).apply(null,arguments)});function se(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function ie(n){function t(){ne||(ne=!0,u.calledRun=!0,W||(Q(j),Q(L),o(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),(function(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)n=u.postRun.shift(),B.unshift(n);var n;Q(B)})()))}n=n||l,q>0||((function(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)n=u.preRun.shift(),U.unshift(n);var n;Q(U)})(),q>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t()))}if(u.run=ie,u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return I=!0,ie(),t.ready});"object"==typeof e&&"object"==typeof m?m.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):"object"==typeof e&&(e.createTFLiteModule=t)},789,[]);
__d(function(g,r,i,a,m,e,d){var n,t=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(n=n||__filename),function(t){var o,s,u=void 0!==(t=t||{})?t:{};u.ready=new Promise(function(n,t){o=n,s=t});var c,f={};for(c in u)u.hasOwnProperty(c)&&(f[c]=u[c]);var p,l=[],y="./this.program",h=function(n,t){throw t},v=!1,w=!1;v="object"==typeof window,w="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;var _,b,A="";v||p||w?(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),n&&(A=n),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",w&&(b=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),_=function(n,t,o){var s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType="arraybuffer",s.onload=function(){200==s.status||0==s.status&&s.response?t(s.response):o()},s.onerror=o,s.send(null)}):(b=function(n){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(n)):("object"==typeof(t=read(n,"binary"))||q("Assertion failed: "+void 0),t)},"undefined"!=typeof scriptArgs?l=scriptArgs:void 0!==arguments&&(l=arguments),"function"==typeof quit&&(h=function(n){quit(n)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var E,I,R,O=u.print||console.log.bind(console),C=u.printErr||console.warn.bind(console);for(c in f)f.hasOwnProperty(c)&&(u[c]=f[c]);f=null,u.arguments&&(l=u.arguments),u.thisProgram&&(y=u.thisProgram),u.quit&&(h=u.quit),u.wasmBinary&&(E=u.wasmBinary),u.noExitRuntime&&(I=u.noExitRuntime),"object"!=typeof WebAssembly&&q("no native wasm support detected");var M,S,P,H,W=!1,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(n,t,o){for(var s=t+o,u=t;n[u]&&!(u>=s);)++u;if(u-t>16&&n.subarray&&T)return T.decode(n.subarray(t,u));for(var c="";t<u;){var f=n[t++];if(128&f){var p=63&n[t++];if(192!=(224&f)){var l=63&n[t++];if((f=224==(240&f)?(15&f)<<12|p<<6|l:(7&f)<<18|p<<12|l<<6|63&n[t++])<65536)c+=String.fromCharCode(f);else{var y=f-65536;c+=String.fromCharCode(55296|y>>10,56320|1023&y)}}else c+=String.fromCharCode((31&f)<<6|p)}else c+=String.fromCharCode(f)}return c}u.INITIAL_MEMORY;var k,U=[],j=[],L=[],B=[];j.push({func:function(){ae()}});var D=0;function q(n){u.onAbort&&u.onAbort(n),C(n+=""),W=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(n);throw s(t),t}function F(n,t){return String.prototype.startsWith?n.startsWith(t):0===n.indexOf(t)}u.preloadedImages={},u.preloadedAudios={};var N="data:application/octet-stream;base64,";function G(n){return F(n,N)}var z="file://";function X(n){return F(n,z)}var Y,J="https://sdk.sariska.io/tflite-simd.wasm";function K(n){try{if(n==J&&E)return new Uint8Array(E);if(b)return b(n);throw"both async and sync fetching of the wasm failed"}catch(n){q(n)}}function Q(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var o=t.func;"number"==typeof o?void 0===t.arg?k.get(o)():k.get(o)(t.arg):o(void 0===t.arg?null:t.arg)}else t(u)}}function V(n){return H[oe()>>2]=n,n}function Z(n){try{return R.grow(n-M.byteLength+65535>>>16),t=R.buffer,M=t,u.HEAP8=S=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=H=new Int32Array(t),u.HEAPU8=P=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=new Float64Array(t),1}catch(n){}var t}G(J)||(J=J),Y=p?function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var $={};function ee(){if(!ee.strings){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(var t in $)n[t]=$[t];var o=[];for(var t in n)o.push(t+"="+n[t]);ee.strings=o}return ee.strings}var ne,te={mappings:{},buffers:[null,[],[]],printChar:function(n,t){var o=te.buffers[n];0===t||10===t?((1===n?O:C)(x(o,0)),o.length=0):o.push(t)},varargs:void 0,get:function(){return te.varargs+=4,H[te.varargs-4>>2]},getStr:function(n){return n?x(P,n,void 0):""},get64:function(n,t){return n}},re={a:function(){q()},n:function(n,t){var o;if(0===n)o=Date.now();else{if(1!==n&&4!==n)return V(28),-1;o=Y()}return H[t>>2]=o/1e3|0,H[t+4>>2]=o%1e3*1e3*1e3|0,0},i:function(n,t){q("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(n,t){q("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(n,t,o){P.copyWithin(n,t,t+o)},m:function(n){n>>>=0;var t=P.length;if(n>2147483648)return!1;for(var o,s,u=1;u<=4;u*=2){var c=t*(1+.2/u);if(c=Math.min(c,n+100663296),Z(Math.min(2147483648,((o=Math.max(16777216,n,c))%(s=65536)>0&&(o+=s-o%s),o))))return!0}return!1},o:function(n){for(var t=Y();Y()-t<n;);},p:function(n,t){var o=0;return ee().forEach(function(s,u){var c=t+o;H[n+4*u>>2]=c,(function(n,t,o){for(var s=0;s<n.length;++s)S[t++>>0]=n.charCodeAt(s);S[t>>0]=0})(s,c),o+=s.length+1}),0},g:function(n,t){var o=ee();H[n>>2]=o.length;var s=0;return o.forEach(function(n){s+=n.length+1}),H[t>>2]=s,0},j:function(n){var t;t=n,I||(u.onExit&&u.onExit(t),W=!0),h(t,new se(t))},h:function(n){return 0},k:function(n,t,o,s,u){},c:function(n,t,o,s){for(var u=0,c=0;c<o;c++){for(var f=H[t+8*c>>2],p=H[t+(8*c+4)>>2],l=0;l<p;l++)te.printChar(n,P[f+l]);u+=p}return H[s>>2]=u,0},d:function(){return 6},f:function(){return 28},b:function(n){switch(n){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return V(28),-1}},ae=((function(){var n={a:re};function o(n){t(n.instance)}function c(t){return(function(){if(!E&&(v||w)){if("function"==typeof fetch&&!X(J))return fetch(J,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+J+"'";return n.arrayBuffer()}).catch(function(){return K(J)});if(_)return new Promise(function(n,t){_(J,function(t){n(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return K(J)})})().then(function(t){return WebAssembly.instantiate(t,n)}).then(t,function(n){C("failed to asynchronously prepare wasm: "+n),q(n)})}if(D++,u.monitorRunDependencies&&u.monitorRunDependencies(D),u.instantiateWasm)try{return u.instantiateWasm(n,t)}catch(n){return C("Module.instantiateWasm callback failed with error: "+n),!1}(E||"function"!=typeof WebAssembly.instantiateStreaming||G(J)||X(J)||"function"!=typeof fetch?c(o):fetch(J,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,n).then(o,function(n){return C("wasm streaming compile failed: "+n),C("falling back to ArrayBuffer instantiation"),c(o)})})).catch(s)})(),u.___wasm_call_ctors=function(){return(ae=u.___wasm_call_ctors=u.asm.r).apply(null,arguments)}),oe=(u._getModelBufferMemoryOffset=function(){return(u._getModelBufferMemoryOffset=u.asm.s).apply(null,arguments)},u._getInputMemoryOffset=function(){return(u._getInputMemoryOffset=u.asm.t).apply(null,arguments)},u._getInputHeight=function(){return(u._getInputHeight=u.asm.u).apply(null,arguments)},u._getInputWidth=function(){return(u._getInputWidth=u.asm.v).apply(null,arguments)},u._getInputChannelCount=function(){return(u._getInputChannelCount=u.asm.w).apply(null,arguments)},u._getOutputMemoryOffset=function(){return(u._getOutputMemoryOffset=u.asm.x).apply(null,arguments)},u._getOutputHeight=function(){return(u._getOutputHeight=u.asm.y).apply(null,arguments)},u._getOutputWidth=function(){return(u._getOutputWidth=u.asm.z).apply(null,arguments)},u._getOutputChannelCount=function(){return(u._getOutputChannelCount=u.asm.A).apply(null,arguments)},u._loadModel=function(){return(u._loadModel=u.asm.B).apply(null,arguments)},u._runInference=function(){return(u._runInference=u.asm.C).apply(null,arguments)},u.___errno_location=function(){return(oe=u.___errno_location=u.asm.E).apply(null,arguments)});function se(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function ie(n){function t(){ne||(ne=!0,u.calledRun=!0,W||(Q(j),Q(L),o(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),(function(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)n=u.postRun.shift(),B.unshift(n);var n;Q(B)})()))}n=n||l,D>0||((function(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)n=u.preRun.shift(),U.unshift(n);var n;Q(U)})(),D>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t()))}if(u.run=ie,u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return I=!0,ie(),t.ready});"object"==typeof e&&"object"==typeof m?m.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):"object"==typeof e&&(e.createTFLiteSIMDModule=t)},790,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,u){if(!o)return!1;var c=t.buffer,f=v.get(c);if(null==f){if((f=n.validate(c))&&u)try{new n.Instance(new n.Module(c)).exports[0]()}catch(t){f=!1}v.set(c,f)}return f}var n=this.WebAssembly||globalThis.WebAssembly,o="object"==typeof n,u=function(t){return void 0!==t},c=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Uint8Array.of.apply(Uint8Array,[0,97,115,109,1,0,0,0].concat(n))},f=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Uint32Array.of.apply(Uint32Array,[1836278016,1].concat(n))},l=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return f.apply(void 0,[1610679297,33751040].concat(n,[40239360,259]))},y=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return c.apply(void 0,[1,4,1,96,0,0,3,2,1,0].concat(n,[11,0,10,4,110,97,109,101,2,3,1,0,0]))},s=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Uint16Array.of.apply(Uint16Array,[24832,28019,1,0,1025,24577,0,515,1].concat(n))},p=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return s.apply(void 0,n.concat([2842,4096,28164,28001,357,260,256,560,259,0]))},v=new WeakMap,A=f(1610679553,58589440,117440770,805372165,101318656,1107297281,268438272,1835101700,17039717,36700416,259),b=c(5,3,1,4,1,0,8,4,110,97,109,101,2,1,0),h=s(773,1,2561,269,11,65,65,65,3068,2816,2560,28164,28001,613,259,0),w=f(1610679297,33751040,134873089,100664833,185276736),U=c(2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1,0,8,4,110,97,109,101,2,1,0),x=Uint16Array.of(24832,28019,1,0,1537,24577,512,32639,515,1,2058,1537,16640,16640,2816,2560,28164,28001,613,259,0),M=p(3082,2561,17152,0,0,252),W=p(2058,1537,16640,49152),k=l(101318657,301990913,268438272,1835101700,17039717),C=y(5,4,1,3,1,1,10,7,1,5,0,254,3,0),I=l(84344833,6357249,17369600,4259847,186257917,1845758464),R=y(10,7,1,5,0,208,112,26);m.exports={support:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o&&t(Uint32Array.of(1836278016,n))},get supportStreaming(){return o&&u(n.instantiateStreaming)},feature:{get bigInt(){return t(A,!0)},get bulk(){return t(h)},get exceptions(){return t(w)},get memory64(){return t(b)},get mutableGlobal(){return t(U)},get multiValue(){return t(x)},get saturateConversions(){return t(M)},get signExtensions(){return t(W)},get tailCall(){return t(k)},get threads(){return t(C)},get simd(){return t(I)},get references(){return t(R)},get typeReflection(){return o&&u(n.Memory.type)},get funcReferences(){return o&&u(n.Function)}}}},791,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createNetworkInfoEvent=function(n){var t=n.isOnline,o=n.networkType,l=n.details,s={isOnline:t};return o&&(s.networkType=o),l&&(s.details=l),{action:'network.info',attributes:s}}},792,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.connection=void 0;var n=r(d[0]);e.connection=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0;switch(N.type){case n.ADD_CONNECTION:return t=N.payload;case n.REMOVE_CONNECTION:return t=null;case n.CONNECTION_ACTION:if(null===t)return;var l=N.param1,u=N.param2,o=N.method;return t[o](l,u),o===n.CONNECTION_DISCONNECT&&(t=null),t;default:return t}}},793,[551]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.localTrack=void 0;var n=t(r(d[1])),u=r(d[2]),l=[];e.localTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case u.ADD_LOCAL_TRACK:return t.push(o.payload),(0,n.default)(t);case u.UPDATE_LOCAL_TRACK:return index=t.findIndex(function(t){return t.getId()===o.payload.getId()}),t[index]=o.payload,(0,n.default)(t);case u.REMOVE_LOCAL_TRACK:return t=t.filter(function(t){return t.id!==o.payload.getId()}),(0,n.default)(t);case u.LOCAL_TRACK_ACTION:var c=o.param1,f=o.method;return o.param2,t.find(function(t){return t.getId()===c})[f](c),(0,n.default)(t);case u.REMOVE_ALL_LOCAL_TRACK:return t=[],(0,n.default)(t);default:return t}}},794,[2,41,551]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.remoteTrack=void 0;var n=t(r(d[1])),u=r(d[2]),o=[];e.remoteTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case u.ADD_REMOTE_TRACK:return t.push(l.payload),(0,n.default)(t);case u.UPDATE_REMOTE_TRACK:return index=t.findIndex(function(t){return t.getId()===l.payload.getId()}),t[index]=l.payload,(0,n.default)(t);case u.REMOVE_REMOTE_TRACK:return t=t.filter(function(t){return t.getId()!==l.payload.getId()}),(0,n.default)(t);case u.REMOTE_TRACK_ACTION:var E=l.param1,_=l.param2;return t[l.method](E,_),(0,n.default)(t);case u.REMOVE_ALL_REMOTE_TRACK:return t=[],(0,n.default)(t);default:return t}}},795,[2,41,551]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.sariskaMediaTransport=void 0;var n=r(d[1]),o=t(r(d[2])),s=r(d[3]),v=o.default;e.sariskaMediaTransport=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case n.SARISKA_MEDIA_TRANSPORT_ACTION:var l=o.method,u=o.param1;return"setLogLevel"===l?(t.setLogLevel(u),t):(t[l](s.initSDKConfig),t);default:return t}}},796,[2,551,552,797]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.s3=e.initSDKConfig=e.dropbox=e.connectionConfig=e.conferenceConfig=void 0;e.initSDKConfig={disableAudioLevels:!0};e.connectionConfig={hosts:{domain:'sariska.io',muc:'muc.sariska.io'},serviceUrl:'wss://api.sariska.io/api/v1/media/websocket',clientNode:'https://www.sariska.io'};e.conferenceConfig={openBridgeChannel:'websocket',e2eping:{pingInterval:-1},p2p:{enabled:!1}};e.dropbox={file_recording_metadata:{upload_credentials:{service_name:"dropbox",token:"dropbox_oauth_token"}}};e.s3={file_recording_metadata:{share:!0}}},797,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),c=t(r(d[2])),s=(t(r(d[3])),r(d[4])),o=t(r(d[5])),u=r(d[6]),l=r(d[7]),f=r(d[8]),p=r(d[9]),T=r(d[10]),E=r(d[11]),k=O(r(d[12])),v=t(r(d[13])),C=r(d[14]),N=r(d[15]),A=O(r(d[16]));function L(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,c=new WeakMap;return(L=function(t){return t?c:n})(t)}function O(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var c=L(n);if(c&&c.has(t))return c.get(t);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var l=o?Object.getOwnPropertyDescriptor(t,u):null;l&&(l.get||l.set)?Object.defineProperty(s,u,l):s[u]=t[u]}return s.default=t,c&&c.set(t,s),s}var _={};new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.CREATE_CONNECTION,function(t){var n,s,o,l;return c.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.token,s=t.roomName,o=t.isNightly,l=u.store.getState(),n&&!l.connection){c.next=4;break}return c.abrupt("return");case 4:return c.abrupt("return",(0,f.createConnection)(n,s,o));case 5:case"end":return c.stop()}},null,null,null,Promise)}),new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.CREATE_CONFERENCE,function(t){var n,s;return c.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.options,!(s=u.store.getState()).conference&&s.connection){c.next=4;break}return c.abrupt("return");case 4:return c.abrupt("return",(0,l.createConference)(n));case 5:case"end":return c.stop()}},null,null,null,Promise)}),new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.CONNECTION_ACTION,function(t){var n,s,o;return c.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:n=t.action,s=t.param1,o=t.param2,u.store.dispatch((0,T.connectionAction)(k.CONNECTION_ACTION,n,s,o));case 2:case"end":return c.stop()}},null,null,null,Promise)}),new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.CONFERENCE_ACTION,function(t){var n,s,o,l,f,p,T,v,C;return c.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:n=u.store.getState(),s=t.action,o=t.param1,l=t.param2,c.t0=s,c.next=c.t0===k.START_SIP_VIDEO_CALLING?5:c.t0===k.STOP_SIP_VIDEO_CALLING?11:c.t0===k.START_RECORDING?16:c.t0===k.ADD_TRACK?35:c.t0===k.REMOVE_TRACK?36:c.t0===k.REPLACE_TRACK?37:38;break;case 5:if(!_[o]){c.next=7;break}return c.abrupt("return");case 7:return f=n.conference.createVideoSIPGWSession(o,l),_[o]=f,f.start(),c.abrupt("break",38);case 11:if(_[o]){c.next=13;break}return c.abrupt("return");case 13:return _[o].stop(),delete _[o],c.abrupt("break",38);case 16:if("file"!==o.mode||"dropbox"!==o.serviceName){c.next=25;break}return p={},(T=A[o.serviceName]).file_recording_metadata.upload_credentials.token=o.token,p.appData=JSON.stringify(T),p.mode="file",c.abrupt("return",u.store.dispatch((0,E.conferenceAction)(k.CONFERENCE_ACTION,s,p)));case 25:if("file"!==o.mode||"s3"!==o.serviceName){c.next=33;break}return v={},C=A[o.serviceName],v.appData=JSON.stringify(C),v.mode='file',c.abrupt("return",u.store.dispatch((0,E.conferenceAction)(k.CONFERENCE_ACTION,s,v)));case 33:if("stream"!==o.mode){c.next=35;break}return c.abrupt("return",u.store.dispatch((0,E.conferenceAction)(k.CONFERENCE_ACTION,s,o)));case 35:case 36:return c.abrupt("return",u.store.dispatch((0,E.conferenceAction)(k.CONFERENCE_ACTION,s,n.localTrack.find(function(t){return t.getId()===o}))));case 37:return c.abrupt("return",u.store.dispatch((0,E.conferenceAction)(k.CONFERENCE_ACTION,s,n.localTrack.find(function(t){return t.getId()===o}),n.localTrack.find(function(t){return t.getId()===l}))));case 38:return c.abrupt("return",u.store.dispatch((0,E.conferenceAction)(k.CONFERENCE_ACTION,s,o,l)));case 39:case"end":return c.stop()}},null,null,null,Promise)}),new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.LOCAL_TRACK_ACTION,function(t){var n,s,o;return c.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:n=t.action,s=t.param1,o=t.param2,u.store.dispatch((0,p.localTrackAction)(k.LOCAL_TRACK_ACTION,n,s,o));case 2:case"end":return c.stop()}},null,null,null,Promise)}),new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.REMOTE_TRACK_ACTION,function(t){var n,s,o;return c.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:n=t.action,s=t.param1,o=t.param2,u.store.dispatch((0,p.remoteTrackAction)(k.REMOTE_TRACK_ACTION,n,s,o));case 2:case"end":return c.stop()}},null,null,null,Promise)}),new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.CREATE_LOCAL_TRACKS,function(t){var s,l,f,T,E,N,A,L,O,_,x,I,R,b,w,h,M,S,y,P,D,K,F,B,j,G,V,W,J,q,z,H,Q,U,X,Y,Z,$,ee;return c.default.async(function(te){for(;;)switch(te.prev=te.next){case 0:if(s=t.audio,l=t.video,f=t.desktop,T=t.resolution,E=t.cameraDeviceId,N=t.micDeviceId,A=t.minFps,L=t.maxFps,O=t.facingMode,_=t.desktopMinFps,x=t.desktopMaxFps,I=t.desktopSharingSourceDevice,R={},!0===s&&(R.devices=["audio"]),N&&(R.micDeviceId=N),b={},!0===l&&(b.devices=["video"]),T&&(b.resolution=T),E&&(b.cameraDeviceId=E),A&&(b.minFps=A),L&&(b.maxFps=L),O&&(b.facingMode=O),w={},!0===f&&(w.devices=["desktop"]),_&&(w.desktopMinFps=_),x&&(w.desktopMaxFps=x),I&&(w.desktopSharingSourceDevice=I),!0!==s||!0!==l||!0!==f){te.next=30;break}return te.next=19,c.default.awrap(o.default.createLocalTracks(b));case 19:return h=te.sent,te.next=22,c.default.awrap(o.default.createLocalTracks(R));case 22:return M=te.sent,te.next=25,c.default.awrap(o.default.createLocalTracks(w));case 25:return S=te.sent,u.store.dispatch((0,p.addLocalTrack)(h[0])),u.store.dispatch((0,p.addLocalTrack)(M[0])),u.store.dispatch((0,p.addLocalTrack)(S[0])),te.abrupt("return",v.default.newLocalTrackMessage(k.CREATE_LOCAL_TRACKS,[(0,C.extractTrackInfo)(M[0]),(0,C.extractTrackInfo)(h[0]),(0,C.extractTrackInfo)(S[0])]));case 30:if(!0!==s||!0!==l){te.next=44;break}return te.next=33,c.default.awrap(o.default.createLocalTracks(b));case 33:return y=te.sent,P=(0,n.default)(y,1),D=P[0],te.next=38,c.default.awrap(o.default.createLocalTracks(R));case 38:return K=te.sent,F=(0,n.default)(K,1),B=F[0],u.store.dispatch((0,p.addLocalTrack)(D)),u.store.dispatch((0,p.addLocalTrack)(B)),te.abrupt("return",v.default.newLocalTrackMessage(k.CREATE_LOCAL_TRACKS,[(0,C.extractTrackInfo)(B),(0,C.extractTrackInfo)(D)]));case 44:if(!0!==s||!0!==f){te.next=58;break}return te.next=47,c.default.awrap(o.default.createLocalTracks(R));case 47:return j=te.sent,G=(0,n.default)(j,1),V=G[0],te.next=52,c.default.awrap(o.default.createLocalTracks(w));case 52:return W=te.sent,J=(0,n.default)(W,1),q=J[0],u.store.dispatch((0,p.addLocalTrack)(V)),u.store.dispatch((0,p.addLocalTrack)(q)),te.abrupt("return",v.default.newLocalTrackMessage(k.CREATE_LOCAL_TRACKS,[(0,C.extractTrackInfo)(V),(0,C.extractTrackInfo)(q)]));case 58:if(!0!==l||!0!==f){te.next=72;break}return te.next=61,c.default.awrap(o.default.createLocalTracks(b));case 61:return z=te.sent,H=(0,n.default)(z,1),Q=H[0],te.next=66,c.default.awrap(o.default.createLocalTracks(w));case 66:return U=te.sent,X=(0,n.default)(U,1),Y=X[0],u.store.dispatch((0,p.addLocalTrack)(Q)),u.store.dispatch((0,p.addLocalTrack)(Y)),te.abrupt("return",v.default.newLocalTrackMessage(k.CREATE_LOCAL_TRACKS,[(0,C.extractTrackInfo)(Q),(0,C.extractTrackInfo)(Y)]));case 72:if(!0!==s){te.next=78;break}return te.next=75,c.default.awrap(o.default.createLocalTracks(R));case 75:return Z=te.sent,u.store.dispatch((0,p.addLocalTrack)(Z[0])),te.abrupt("return",v.default.newLocalTrackMessage(k.CREATE_LOCAL_TRACKS,[(0,C.extractTrackInfo)(Z[0])]));case 78:if(!0!==l){te.next=84;break}return te.next=81,c.default.awrap(o.default.createLocalTracks(b));case 81:return $=te.sent,u.store.dispatch((0,p.addLocalTrack)($[0])),te.abrupt("return",v.default.newLocalTrackMessage(k.CREATE_LOCAL_TRACKS,[(0,C.extractTrackInfo)($[0])]));case 84:if(!0!==f){te.next=90;break}return te.next=87,c.default.awrap(o.default.createLocalTracks(w));case 87:return ee=te.sent,u.store.dispatch((0,p.addLocalTrack)(ee[0])),te.abrupt("return",v.default.newLocalTrackMessage(k.CREATE_LOCAL_TRACKS,[(0,C.extractTrackInfo)(ee[0])]));case 90:case"end":return te.stop()}},null,null,null,Promise)}),new s.NativeEventEmitter(s.NativeModules.BroadcastNativeEvent).addListener(k.SARISKA_MEDIA_TRANSPORT_ACTION,function(t){var n,s,o;return c.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.action,s=t.param1,o=t.param2,c.abrupt("return",u.store.dispatch((0,N.sariskaMediaTransportAction)(k.SARISKA_MEDIA_TRANSPORT_ACTION,n,s,o)));case 2:case"end":return c.stop()}},null,null,null,Promise)})},798,[2,33,283,55,7,552,546,799,804,800,813,801,551,802,803,814,797]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createConference=function(){var n=u.store.getState().connection.initJitsiConference(c.conferenceConfig);n.on(t.default.events.conference.CONFERENCE_JOINED,function(){var t=n.getLocalUser(),o=t.name,f=void 0===o?"":o,c=t.email,s=void 0===c?"":c,u=t.avatar,C=void 0===u?"":u,l=t.id,T=void 0===l?"":l,A={role:n.getRole(),hidden:n.isHidden(),dtmf:n.isDTMFSupported(),name:f,email:s,userId:T,avatar:C,phonePin:n.getPhonePin(),phoneNumber:n.getPhoneNumber(),isMembersOnly:n.isMembersOnly()};E.default.newConferenceMessage(_.CONFERENCE_JOINED,A)}),n.on(t.default.events.conference.CONFERENCE_LEFT,function(){E.default.newConferenceMessage(_.CONFERENCE_LEFT),u.store.dispatch((0,f.removeConference)())}),n.on(t.default.events.conference.TRACK_ADDED,function(n){u.store.dispatch((0,o.addRemoteTrack)(n)),E.default.newConferenceMessage(_.TRACK_ADDED,(0,s.extractRemoteTrackInfo)(n))}),n.on(t.default.events.conference.TRACK_REMOVED,function(n){u.store.dispatch((0,o.removeRemoteTrack)(n)),E.default.newConferenceMessage(_.TRACK_REMOVED,(0,s.extractRemoteTrackInfo)(n))}),n.on(t.default.events.conference.TRACK_MUTE_CHANGED,function(n){E.default.newConferenceMessage(_.TRACK_MUTE_CHANGED,(0,s.extractRemoteTrackInfo)(n))}),n.on(t.default.events.conference.TRACK_AUDIO_LEVEL_CHANGED,function(n,t){E.default.newConferenceMessage(_.TRACK_AUDIO_LEVEL_CHANGED,{id:n,audioLevel:t})}),n.on(t.default.events.conference.DOMINANT_SPEAKER_CHANGED,function(n){E.default.newConferenceMessage(_.DOMINANT_SPEAKER_CHANGED,{id:n})}),n.on(t.default.events.conference.USER_JOINED,function(n,t){E.default.newConferenceMessage(_.USER_JOINED,(0,s.extractParticipantInfo)(t))}),n.on(t.default.events.conference.USER_LEFT,function(n,t){E.default.newConferenceMessage(_.USER_LEFT,(0,s.extractParticipantInfo)(t))}),n.on(t.default.events.conference.MESSAGE_RECEIVED,function(n,t,o){E.default.newConferenceMessage(_.MESSAGE_RECEIVED,{id:n,text:t,ts:o})}),n.on(t.default.events.conference.DISPLAY_NAME_CHANGED,function(n,t){E.default.newConferenceMessage(_.DISPLAY_NAME_CHANGED,{id:n,displayName:t})}),n.on(t.default.events.conference.SUBJECT_CHANGED,function(n){E.default.newConferenceMessage(_.SUBJECT_CHANGED,{subject:n})}),n.on(t.default.events.conference.LAST_N_ENDPOINTS_CHANGED,function(n,t){E.default.newConferenceMessage(_.LAST_N_ENDPOINTS_CHANGED,{enterArrayIds:n,leavingArrayIds:t})}),n.on(t.default.events.conference.CONFERENCE_UNIQUE_ID_SET,function(n){E.default.newConferenceMessage(_.CONFERENCE_UNIQUE_ID_SET,{meetingId:n})}),n.on(t.default.events.conference.DTMF_SUPPORT_CHANGED,function(n){E.default.newConferenceMessage(_.DTMF_SUPPORT_CHANGED,{support:n})}),n.on(t.default.events.conference.USER_ROLE_CHANGED,function(n,t){E.default.newConferenceMessage(_.USER_ROLE_CHANGED,{id:n,role:t})}),n.on(t.default.events.conference.USER_STATUS_CHANGED,function(n,t){E.default.newConferenceMessage(_.USER_STATUS_CHANGED,{id:n,status:t})}),n.on(t.default.events.conference.CONFERENCE_FAILED,function(n){console.log("conferenceFailed",n),E.default.newConferenceMessage(_.CONFERENCE_FAILED)}),n.on(t.default.events.conference.CONFERENCE_ERROR,function(n){console.log("conferenceFailed",n),E.default.newConferenceMessage(_.CONFERENCE_ERROR)}),n.on(t.default.events.conference.KICKED,function(n,t){E.default.newConferenceMessage(_.KICKED,{participant:(0,s.extractParticipantInfo)(n),reason:t})}),n.on(t.default.events.conference.PARTICIPANT_KICKED,function(n,t,o){E.default.newConferenceMessage(_.PARTICIPANT_KICKED,{actorParticipant:(0,s.extractParticipantInfo)(n),kickParticipant:(0,s.extractParticipantInfo)(t),reason:o})}),n.on(t.default.events.conference.START_MUTED_POLICY_CHANGED,function(n,t){E.default.newConferenceMessage(_.START_MUTED_POLICY_CHANGED,{audio:n,video:t})}),n.on(t.default.events.conference.STARTED_MUTED,function(n,t){E.default.newConferenceMessage(_.STARTED_MUTED,{audio:n,video:t})}),n.on(t.default.events.conference.BEFORE_STATISTICS_DISPOSED,function(){E.default.newConferenceMessage(_.BEFORE_STATISTICS_DISPOSED)}),n.on(t.default.events.conference.ENDPOINT_MESSAGE_RECEIVED,function(n,t){E.default.newConferenceMessage(_.ENDPOINT_MESSAGE_RECEIVED,{participant:(0,s.extractParticipantInfo)(n),message:t})}),n.on(t.default.events.conference.AUTH_STATUS_CHANGED,function(n,t){E.default.newConferenceMessage(_.AUTH_STATUS_CHANGED,{isAuthEnabled:n,authIdentity:t})}),n.on(t.default.events.conference.TALK_WHILE_MUTED,function(){E.default.newConferenceMessage(_.TALK_WHILE_MUTED)}),n.on(t.default.events.conference.NO_AUDIO_INPUT,function(){E.default.newConferenceMessage(_.NO_AUDIO_INPUT)}),n.on(t.default.events.conference.AUDIO_INPUT_STATE_CHANGE,function(){E.default.newConferenceMessage(_.AUDIO_INPUT_STATE_CHANGE)}),n.on(t.default.events.conference.NOISY_MIC,function(){E.default.newConferenceMessage(_.NOISY_MIC)}),n.on(t.default.events.connectionQuality.LOCAL_STATS_UPDATED,function(n){E.default.newConferenceMessage(_.LOCAL_STATS_UPDATED,{})}),n.on(t.default.events.connectionQuality.REMOTE_STATS_UPDATED,function(n,t){E.default.newConferenceMessage(_.REMOTE_STATS_UPDATED,{id:n})}),n.on(t.default.events.conference.LOBBY_USER_JOINED,function(n,t){E.default.newConferenceMessage(_.LOBBY_USER_JOINED,{id:n,name:t})}),n.on(t.default.events.conference.LOBBY_USER_UPDATED,function(n,t){E.default.newConferenceMessage(_.LOBBY_USER_UPDATED,{id:n,participant:(0,s.extractParticipantInfo)(t)})}),n.on(t.default.events.conference.LOBBY_USER_LEFT,function(n){E.default.newConferenceMessage(_.LOBBY_USER_LEFT,{id:n})}),n.on(t.default.events.conference.MEMBERS_ONLY_CHANGED,function(n){E.default.newConferenceMessage(_.MEMBERS_ONLY_CHANGED,{enabled:n})}),n.on(t.default.events.conference.RECORDER_STATE_CHANGED,function(n){E.default.newConferenceMessage(_.RECORDER_STATE_CHANGED,{sessionID:n.getID(),mode:n.getMode(),status:getStatus()})}),n.on(t.default.events.conference.VIDEO_SIP_GW_AVAILABILITY_CHANGED,function(n){E.default.newConferenceMessage(_.RECORDER_STATE_CHANGED,{status:n})}),n.on(t.default.events.conference.VIDEO_SIP_GW_SESSION_STATE_CHANGED,function(n){E.default.newConferenceMessage(_.RECORDER_STATE_CHANGED,{state:n})}),n.on(t.default.events.conference.ANALYTICS_EVENT_RECEIVED,function(n){E.default.newConferenceMessage(_.ANALYTICS_EVENT_RECEIVED,{state:n})}),n.on(t.default.events.conference.SUBTITLES_RECEIVED,function(n){E.default.newConferenceMessage(_.SUBTITLES_RECEIVED,{state:n})}),u.store.dispatch((0,f.addConference)(n))};var t=n(r(d[1])),o=r(d[2]),f=r(d[3]),c=(r(d[4]),r(d[5])),E=n(r(d[6])),s=r(d[7]),u=r(d[8]),_=(function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=C(t);if(o&&o.has(n))return o.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in n)if("default"!==E&&Object.prototype.hasOwnProperty.call(n,E)){var s=c?Object.getOwnPropertyDescriptor(n,E):null;s&&(s.get||s.set)?Object.defineProperty(f,E,s):f[E]=n[E]}f.default=n,o&&o.set(n,f);return f})(r(d[9]));function C(n){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(C=function(n){return n?o:t})(n)}},799,[2,552,800,801,550,797,802,803,546,551]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.updateRemoteTrack=e.updateLocalTrack=e.removeRemoteTrack=e.removeLocalTrack=e.remoteTrackAction=e.localTrackAction=e.addRemoteTrack=e.addLocalTrack=void 0;var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var c=o(n);if(c&&c.has(t))return c.get(t);var u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var f=p?Object.getOwnPropertyDescriptor(t,l):null;f&&(f.get||f.set)?Object.defineProperty(u,l,f):u[l]=t[l]}u.default=t,c&&c.set(t,u);return u})(r(d[0]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,c=new WeakMap;return(o=function(t){return t?c:n})(t)}e.addLocalTrack=function(o){return{type:t.ADD_LOCAL_TRACK,payload:o}};e.removeLocalTrack=function(o){return{type:t.REMOVE_LOCAL_TRACK,payload:o}};e.updateLocalTrack=function(o){return{type:t.UPDATE_LOCAL_TRACK,payload:o}};e.addRemoteTrack=function(o){return{type:t.ADD_REMOTE_TRACK,payload:o}};e.removeRemoteTrack=function(o){return{type:t.REMOVE_REMOTE_TRACK,payload:o}};e.updateRemoteTrack=function(o){return{type:t.UPDATE_REMOTE_TRACK,payload:o}};e.localTrackAction=function(t,o,n,c){return{type:t,method:o,param1:n,param2:c}};e.remoteTrackAction=function(t,o,n,c){return{type:t,method:o,param1:n,param2:c}}},800,[551]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.removeConference=e.conferenceAction=e.addConference=void 0;var n=r(d[0]);e.addConference=function(o){return{type:n.ADD_CONFERENCE,payload:o}};e.removeConference=function(){return{type:n.REMOVE_CONFERENCE}};e.conferenceAction=function(n,o,c,t){return{type:n,param1:c,param2:t,method:o}}},801,[551]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]),o=n.NativeModules.Conference,s=n.NativeModules.Connection,t=n.NativeModules.SariskaMediaTransport,c={newConnectionMessage:function(n){s.newConnectionMessage(n)},newConferenceMessage:function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.newConferenceMessage(n,s)},newSariskaMediaTransportMessage:function(n,o){t.newSariskaMediaTransportMessage(n,o)},newLocalTrackMessage:function(n,o){t.newLocalTrackMessage(n,o)}};e.default=c},802,[7]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.extractParticipantInfo=function(t){return{id:t.getId(),jid:t.getJid(),displayName:t.getDisplayName(),status:t.getStatus(),moderator:t.isModerator(),hidden:t.isHidden(),audioMuted:t.isAudioMuted(),botType:t.getBotType(),videoMuted:t.isVideoMuted()}},e.extractRemoteTrackInfo=function(t){var n;return{type:t.getType(),participantId:t.getParticipantId()||"",id:t.getId(),muted:t.isMuted(),streamURL:null==(n=t.stream)?void 0:n.toURL()}},e.extractTrackInfo=function(t){var n;return{type:t.getType(),id:t.getId(),muted:t.isMuted(),deviceId:t.getDeviceId()||"",participantId:t.getParticipantId()||"",streamURL:null==(n=t.stream)?void 0:n.toURL()}},e.getLocalStatsObject=function(t){return{connectionQuality:t.connectionQuality,jvbRTT:t.jvbRTT}},e.getRemoteStatsObject=function(t){return{connectionQuality:t.connectionQuality,jvbRTT:t.jvbRTT}}},803,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=function(n,C,E){var N,O=function(){u.default.newConnectionMessage(l.CONNECTION_ESTABLISHED)},v=function(n){return t.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("onConnectionFailed",n),u.default.newConnectionMessage(l.CONNECTION_FAILED);case 2:case"end":return t.stop()}},null,null,null,Promise)};(N=new o.default.JitsiConnection(n,C,!1)).addEventListener(o.default.events.connection.CONNECTION_ESTABLISHED,O),N.addEventListener(o.default.events.connection.CONNECTION_FAILED,v),N.addEventListener(o.default.events.connection.CONNECTION_DISCONNECTED,function n(t){if(console.log("onConnectionDisconnected",t),!N)return;f.store.dispatch((0,s.removeConnection)(N)),N.removeEventListener(o.default.events.connection.CONNECTION_ESTABLISHED,O),N.removeEventListener(o.default.events.connection.CONNECTION_FAILED,v),N.removeEventListener(o.default.events.connection.CONNECTION_DISCONNECTED,n),u.default.newConnectionMessage(l.CONNECTION_DISCONNECTED)}),N.addEventListener(o.default.events.connection.PASSWORD_REQUIRED,function(n){if(!N)return;f.store.dispatch((0,s.removeConnection)(N)),u.default.newConnectionMessage(l.PASSWORD_REQUIRED)}),f.store.dispatch((0,s.addConnection)(N));c.default.addEventListener(function(n){o.default.setNetworkInfo({isOnline:n.isConnected})})};var t=n(r(d[1])),o=n(r(d[2])),c=n(r(d[3])),s=r(d[4]),u=n(r(d[5])),f=(r(d[6]),r(d[7])),l=(function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=C(t);if(o&&o.has(n))return o.get(n);var c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if("default"!==u&&Object.prototype.hasOwnProperty.call(n,u)){var f=s?Object.getOwnPropertyDescriptor(n,u):null;f&&(f.get||f.set)?Object.defineProperty(c,u,f):c[u]=n[u]}c.default=n,o&&o.set(n,c);return c})(r(d[8]));function C(n){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(C=function(n){return n?o:t})(n)}},804,[2,283,552,805,813,802,797,546,551]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={configure:!0,fetch:!0,addEventListener:!0,useNetInfo:!0};e.addEventListener=w,e.configure=b,e.default=void 0,e.fetch=j,e.useNetInfo=h;var u=t(r(d[1])),f=t(r(d[2])),o=r(d[3]),c=t(r(d[4])),l=t(r(d[5])),s=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=p(n);if(u&&u.has(t))return u.get(t);var f={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=o?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=t[c]}f.default=t,u&&u.set(t,f);return f})(r(d[6]));function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(p=function(t){return t?u:n})(t)}Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))});var v=c.default,y=null,O=function(){return new l.default(v)};function b(t){v=(0,f.default)({},c.default,t),y&&(y.tearDown(),y=O())}function j(t){return y||(y=O()),y.latest(t)}function w(t){return y||(y=O()),y.add(t),function(){y&&y.remove(t)}}function h(t){t&&b(t);var n=(0,o.useState)({type:s.NetInfoStateType.unknown,isConnected:!1,isInternetReachable:!1,details:null}),f=(0,u.default)(n,2),c=f[0],l=f[1];return(0,o.useEffect)(function(){return w(l)},[]),c}var P={configure:b,fetch:j,addEventListener:w,useNetInfo:h};e.default=P},805,[2,33,32,55,806,807,812]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={reachabilityUrl:'https://clients3.google.com/generate_204',reachabilityTest:function(t){return Promise.resolve(204===t.status)},reachabilityShortTimeout:5e3,reachabilityLongTimeout:6e4,reachabilityRequestTimeout:15e3};e.default=t},806,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),o=t(r(d[6])),f=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=_(n);if(u&&u.has(t))return u.get(t);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var o=c?Object.getOwnPropertyDescriptor(t,l):null;o&&(o.get||o.set)?Object.defineProperty(s,l,o):s[l]=t[l]}s.default=t,u&&u.set(t,s);return s})(r(d[7]));function _(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(_=function(t){return t?u:n})(t)}var h=(0,s.default)(function t(s){var _=this;(0,c.default)(this,t),this._nativeEventSubscription=null,this._subscriptions=new Set,this._latestState=null,this._handleNativeStateUpdate=function(t){_._internetReachability.update(t);var n=_._convertState(t);_._latestState=n,_._subscriptions.forEach(function(t){return t(n)})},this._handleInternetReachabilityUpdate=function(t){if(_._latestState){var n=(0,u.default)({},_._latestState,{isInternetReachable:t});_._latestState=n,_._subscriptions.forEach(function(t){return t(n)})}},this._fetchCurrentState=function(t){var u,s;return n.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n.default.awrap(l.default.getCurrentState(t));case 2:return u=c.sent,_._internetReachability.update(u),s=_._convertState(u),t||(_._latestState=s),c.abrupt("return",s);case 7:case"end":return c.stop()}},null,null,null,Promise)},this._convertState=function(t){return'boolean'==typeof t.isInternetReachable?t:(0,u.default)({},t,{isInternetReachable:_._internetReachability.currentState()})},this.latest=function(t){return t?_._fetchCurrentState(t):_._latestState?Promise.resolve(_._latestState):_._fetchCurrentState()},this.add=function(t){_._subscriptions.add(t),_._latestState?t(_._latestState):_.latest().then(t)},this.remove=function(t){_._subscriptions.delete(t)},this.tearDown=function(){_._internetReachability&&_._internetReachability.tearDown(),_._nativeEventSubscription&&_._nativeEventSubscription.remove(),_._subscriptions.clear()},this._internetReachability=new o.default(s,this._handleInternetReachabilityUpdate),this._nativeEventSubscription=l.default.eventEmitter.addListener(f.DEVICE_CONNECTIVITY_EVENT,this._handleNativeStateUpdate),this._fetchCurrentState()});e.default=h},807,[2,283,32,13,12,808,810,811]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=r(d[2]),u=t(r(d[3]));if(!u.default)throw new Error("@react-native-community/netinfo: NativeModule.RNCNetInfo is null. To fix this issue try these steps:\n\n\u2022 Run `react-native link @react-native-community/netinfo` in the project root.\n\u2022 Rebuild and re-run the app.\n\u2022 If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app. You may also need to re-open Xcode to get the new pods.\n\u2022 Check that the library was linked correctly when you used the link command by running through the manual installation instructions in the README.\n* If you are getting this error while unit testing you need to mock the native module. Follow the guide in the README.\n\nIf none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-community/react-native-netinfo");var l=null,h=(0,n.default)({},u.default,{get eventEmitter(){return l||(l=new o.NativeEventEmitter(u.default)),l}});e.default=h},808,[2,32,7,809]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).NativeModules.RNCNetInfo;e.default=t},809,[7]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),c=t(r(d[2])),l=(0,n.default)(function t(n,l){var u=this;(0,c.default)(this,t),this._isInternetReachable=void 0,this._currentInternetReachabilityCheckHandler=null,this._currentTimeoutHandle=null,this._setIsInternetReachable=function(t){u._isInternetReachable!==t&&(u._isInternetReachable=t,u._listener(u._isInternetReachable))},this._setExpectsConnection=function(t){null!==u._currentInternetReachabilityCheckHandler&&(u._currentInternetReachabilityCheckHandler.cancel(),u._currentInternetReachabilityCheckHandler=null),null!==u._currentTimeoutHandle&&(clearTimeout(u._currentTimeoutHandle),u._currentTimeoutHandle=null),t?(u._isInternetReachable||u._setIsInternetReachable(null),u._currentInternetReachabilityCheckHandler=u._checkInternetReachability()):u._setIsInternetReachable(!1)},this._checkInternetReachability=function(){var t,n=fetch(u._configuration.reachabilityUrl,{method:'HEAD',cache:'no-cache'}),c=new Promise(function(n,c){t=setTimeout(function(){return c('timedout')},u._configuration.reachabilityRequestTimeout)}),l=function(){},o=new Promise(function(t,n){l=function(){return n('canceled')}});return{promise:Promise.race([n,c,o]).then(function(t){return u._configuration.reachabilityTest(t)}).then(function(t){u._setIsInternetReachable(t);var n=u._isInternetReachable?u._configuration.reachabilityLongTimeout:u._configuration.reachabilityShortTimeout;u._currentTimeoutHandle=setTimeout(u._checkInternetReachability,n)}).catch(function(t){'canceled'!==t&&(u._setIsInternetReachable(!1),u._currentTimeoutHandle=setTimeout(u._checkInternetReachability,u._configuration.reachabilityShortTimeout))}).then(function(){clearTimeout(t)},function(n){throw clearTimeout(t),n}),cancel:l}},this.update=function(t){'boolean'==typeof t.isInternetReachable?u._setIsInternetReachable(t.isInternetReachable):u._setExpectsConnection(t.isConnected)},this.currentState=function(){return u._isInternetReachable},this.tearDown=function(){null!==u._currentInternetReachabilityCheckHandler&&(u._currentInternetReachabilityCheckHandler.cancel(),u._currentInternetReachabilityCheckHandler=null),null!==u._currentTimeoutHandle&&(clearTimeout(u._currentTimeoutHandle),u._currentTimeoutHandle=null)},this._configuration=n,this._listener=l});e.default=l},810,[2,13,12]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DEVICE_CONNECTIVITY_EVENT=void 0;e.DEVICE_CONNECTIVITY_EVENT='netInfo.networkStatusDidChange'},811,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.NetInfoStateType=e.NetInfoCellularGeneration=void 0;var n=(function(n){return n.unknown="unknown",n.none="none",n.cellular="cellular",n.wifi="wifi",n.bluetooth="bluetooth",n.ethernet="ethernet",n.wimax="wimax",n.vpn="vpn",n.other="other",n})({});e.NetInfoStateType=n;var t=(function(n){return n["2g"]="2g",n["3g"]="3g",n["4g"]="4g",n})({});e.NetInfoCellularGeneration=t},812,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.removeConnection=e.connectionAction=e.addConnection=void 0;var n=r(d[0]);e.addConnection=function(o){return{type:n.ADD_CONNECTION,payload:o}};e.removeConnection=function(){return{type:n.REMOVE_CONNECTION}};e.connectionAction=function(n,o,t,c){return{type:n,method:o}}},813,[551]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.sariskaMediaTransportAction=e.connectionAction=e.addConnection=void 0;var n=r(d[0]);e.addConnection=function(o){return{type:n.ADD_CONNECTION,payload:o}};e.connectionAction=function(n,o){return{type:n,method:o}};e.sariskaMediaTransportAction=function(n,o,t,c){return{type:n,method:o,param1:t,param2:c}}},814,[551]);
__r(94);
__r(0);